var Ah=Object.defineProperty;var Th=(i,n,a)=>n in i?Ah(i,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[n]=a;var Oh=(i,n)=>()=>(n||i((n={exports:{}}).exports,n),n.exports);var me=(i,n,a)=>Th(i,typeof n!="symbol"?n+"":n,a);var Ih=Oh((exports,module)=>{function _mergeNamespaces(i,n){for(var a=0;a<n.length;a++){const s=n[a];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in i)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(i,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntime$1={exports:{}},reactJsxRuntime_production$1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production$1;function requireReactJsxRuntime_production$1(){if(hasRequiredReactJsxRuntime_production$1)return reactJsxRuntime_production$1;hasRequiredReactJsxRuntime_production$1=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:c}}return reactJsxRuntime_production$1.Fragment=n,reactJsxRuntime_production$1.jsx=a,reactJsxRuntime_production$1.jsxs=a,reactJsxRuntime_production$1}var hasRequiredJsxRuntime$1;function requireJsxRuntime$1(){return hasRequiredJsxRuntime$1||(hasRequiredJsxRuntime$1=1,jsxRuntime$1.exports=requireReactJsxRuntime_production$1()),jsxRuntime$1.exports}var jsxRuntimeExports=requireJsxRuntime$1(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(i){function n(G,te){var ue=G.length;G.push(te);e:for(;0<ue;){var fe=ue-1>>>1,K=G[fe];if(0<l(K,te))G[fe]=te,G[ue]=K,ue=fe;else break e}}function a(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var te=G[0],ue=G.pop();if(ue!==te){G[0]=ue;e:for(var fe=0,K=G.length,de=K>>>1;fe<de;){var we=2*(fe+1)-1,oe=G[we],Ne=we+1,Ie=G[Ne];if(0>l(oe,ue))Ne<K&&0>l(Ie,oe)?(G[fe]=Ie,G[Ne]=ue,fe=Ne):(G[fe]=oe,G[we]=ue,fe=we);else if(Ne<K&&0>l(Ie,ue))G[fe]=Ie,G[Ne]=ue,fe=Ne;else break e}}return te}function l(G,te){var ue=G.sortIndex-te.sortIndex;return ue!==0?ue:G.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var g=[],y=[],b=1,h=null,d=3,v=!1,_=!1,A=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var te=a(y);te!==null;){if(te.callback===null)s(y);else if(te.startTime<=G)s(y),te.sortIndex=te.expirationTime,n(g,te);else break;te=a(y)}}function B(G){if(A=!1,M(G),!_)if(a(g)!==null)_=!0,F||(F=!0,Z());else{var te=a(y);te!==null&&Q(B,te.startTime-G)}}var F=!1,q=-1,H=5,z=-1;function L(){return I?!0:!(i.unstable_now()-z<H)}function ee(){if(I=!1,F){var G=i.unstable_now();z=G;var te=!0;try{e:{_=!1,A&&(A=!1,P(q),q=-1),v=!0;var ue=d;try{t:{for(M(G),h=a(g);h!==null&&!(h.expirationTime>G&&L());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,d=h.priorityLevel;var K=fe(h.expirationTime<=G);if(G=i.unstable_now(),typeof K=="function"){h.callback=K,M(G),te=!0;break t}h===a(g)&&s(g),M(G)}else s(g);h=a(g)}if(h!==null)te=!0;else{var de=a(y);de!==null&&Q(B,de.startTime-G),te=!1}}break e}finally{h=null,d=ue,v=!1}te=void 0}}finally{te?Z():F=!1}}}var Z;if(typeof $=="function")Z=function(){$(ee)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=ee,Z=function(){X.postMessage(null)}}else Z=function(){R(ee,0)};function Q(G,te){q=R(function(){G(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return d},i.unstable_next=function(G){switch(d){case 1:case 2:case 3:var te=3;break;default:te=d}var ue=d;d=te;try{return G()}finally{d=ue}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=d;d=G;try{return te()}finally{d=ue}},i.unstable_scheduleCallback=function(G,te,ue){var fe=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?fe+ue:fe):ue=fe,G){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ue+K,G={id:b++,callback:te,priorityLevel:G,startTime:ue,expirationTime:K,sortIndex:-1},ue>fe?(G.sortIndex=ue,n(y,G),a(g)===null&&G===a(y)&&(A?(P(q),q=-1):A=!0,Q(B,ue-fe))):(G.sortIndex=K,n(g,G),_||v||(_=!0,F||(F=!0,Z()))),G},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(G){var te=d;return function(){var ue=d;d=te;try{return G.apply(this,arguments)}finally{d=ue}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),h=Symbol.iterator;function d(K){return K===null||typeof K!="object"?null:(K=h&&K[h]||K["@@iterator"],typeof K=="function"?K:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function I(K,de,we){this.props=K,this.context=de,this.refs=A,this.updater=we||v}I.prototype.isReactComponent={},I.prototype.setState=function(K,de){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,de,"setState")},I.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function R(){}R.prototype=I.prototype;function P(K,de,we){this.props=K,this.context=de,this.refs=A,this.updater=we||v}var $=P.prototype=new R;$.constructor=P,_($,I.prototype),$.isPureReactComponent=!0;var M=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function q(K,de,we,oe,Ne,Ie){return we=Ie.ref,{$$typeof:i,type:K,key:de,ref:we!==void 0?we:null,props:Ie}}function H(K,de){return q(K.type,de,void 0,void 0,void 0,K.props)}function z(K){return typeof K=="object"&&K!==null&&K.$$typeof===i}function L(K){var de={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(we){return de[we]})}var ee=/\/+/g;function Z(K,de){return typeof K=="object"&&K!==null&&K.key!=null?L(""+K.key):de.toString(36)}function V(){}function X(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(V,V):(K.status="pending",K.then(function(de){K.status==="pending"&&(K.status="fulfilled",K.value=de)},function(de){K.status==="pending"&&(K.status="rejected",K.reason=de)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Q(K,de,we,oe,Ne){var Ie=typeof K;(Ie==="undefined"||Ie==="boolean")&&(K=null);var Le=!1;if(K===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(K.$$typeof){case i:case n:Le=!0;break;case b:return Le=K._init,Q(Le(K._payload),de,we,oe,Ne)}}if(Le)return Ne=Ne(K),Le=oe===""?"."+Z(K,0):oe,M(Ne)?(we="",Le!=null&&(we=Le.replace(ee,"$&/")+"/"),Q(Ne,de,we,"",function(vt){return vt})):Ne!=null&&(z(Ne)&&(Ne=H(Ne,we+(Ne.key==null||K&&K.key===Ne.key?"":(""+Ne.key).replace(ee,"$&/")+"/")+Le)),de.push(Ne)),1;Le=0;var ut=oe===""?".":oe+":";if(M(K))for(var mt=0;mt<K.length;mt++)oe=K[mt],Ie=ut+Z(oe,mt),Le+=Q(oe,de,we,Ie,Ne);else if(mt=d(K),typeof mt=="function")for(K=mt.call(K),mt=0;!(oe=K.next()).done;)oe=oe.value,Ie=ut+Z(oe,mt++),Le+=Q(oe,de,we,Ie,Ne);else if(Ie==="object"){if(typeof K.then=="function")return Q(X(K),de,we,oe,Ne);throw de=String(K),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return Le}function G(K,de,we){if(K==null)return K;var oe=[],Ne=0;return Q(K,oe,"","",function(Ie){return de.call(we,Ie,Ne++)}),oe}function te(K){if(K._status===-1){var de=K._result;de=de(),de.then(function(we){(K._status===0||K._status===-1)&&(K._status=1,K._result=we)},function(we){(K._status===0||K._status===-1)&&(K._status=2,K._result=we)}),K._status===-1&&(K._status=0,K._result=de)}if(K._status===1)return K._result.default;throw K._result}var ue=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function fe(){}return react_production.Children={map:G,forEach:function(K,de,we){G(K,function(){de.apply(this,arguments)},we)},count:function(K){var de=0;return G(K,function(){de++}),de},toArray:function(K){return G(K,function(de){return de})||[]},only:function(K){if(!z(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},react_production.Component=I,react_production.Fragment=a,react_production.Profiler=l,react_production.PureComponent=P,react_production.StrictMode=s,react_production.Suspense=g,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(K){return B.H.useMemoCache(K)}},react_production.cache=function(K){return function(){return K.apply(null,arguments)}},react_production.cloneElement=function(K,de,we){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var oe=_({},K.props),Ne=K.key,Ie=void 0;if(de!=null)for(Le in de.ref!==void 0&&(Ie=void 0),de.key!==void 0&&(Ne=""+de.key),de)!F.call(de,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&de.ref===void 0||(oe[Le]=de[Le]);var Le=arguments.length-2;if(Le===1)oe.children=we;else if(1<Le){for(var ut=Array(Le),mt=0;mt<Le;mt++)ut[mt]=arguments[mt+2];oe.children=ut}return q(K.type,Ne,void 0,void 0,Ie,oe)},react_production.createContext=function(K){return K={$$typeof:f,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:c,_context:K},K},react_production.createElement=function(K,de,we){var oe,Ne={},Ie=null;if(de!=null)for(oe in de.key!==void 0&&(Ie=""+de.key),de)F.call(de,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ne[oe]=de[oe]);var Le=arguments.length-2;if(Le===1)Ne.children=we;else if(1<Le){for(var ut=Array(Le),mt=0;mt<Le;mt++)ut[mt]=arguments[mt+2];Ne.children=ut}if(K&&K.defaultProps)for(oe in Le=K.defaultProps,Le)Ne[oe]===void 0&&(Ne[oe]=Le[oe]);return q(K,Ie,void 0,void 0,null,Ne)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(K){return{$$typeof:p,render:K}},react_production.isValidElement=z,react_production.lazy=function(K){return{$$typeof:b,_payload:{_status:-1,_result:K},_init:te}},react_production.memo=function(K,de){return{$$typeof:y,type:K,compare:de===void 0?null:de}},react_production.startTransition=function(K){var de=B.T,we={};B.T=we;try{var oe=K(),Ne=B.S;Ne!==null&&Ne(we,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(fe,ue)}catch(Ie){ue(Ie)}finally{B.T=de}},react_production.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},react_production.use=function(K){return B.H.use(K)},react_production.useActionState=function(K,de,we){return B.H.useActionState(K,de,we)},react_production.useCallback=function(K,de){return B.H.useCallback(K,de)},react_production.useContext=function(K){return B.H.useContext(K)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(K,de){return B.H.useDeferredValue(K,de)},react_production.useEffect=function(K,de,we){var oe=B.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(K,de)},react_production.useId=function(){return B.H.useId()},react_production.useImperativeHandle=function(K,de,we){return B.H.useImperativeHandle(K,de,we)},react_production.useInsertionEffect=function(K,de){return B.H.useInsertionEffect(K,de)},react_production.useLayoutEffect=function(K,de){return B.H.useLayoutEffect(K,de)},react_production.useMemo=function(K,de){return B.H.useMemo(K,de)},react_production.useOptimistic=function(K,de){return B.H.useOptimistic(K,de)},react_production.useReducer=function(K,de,we){return B.H.useReducer(K,de,we)},react_production.useRef=function(K){return B.H.useRef(K)},react_production.useState=function(K){return B.H.useState(K)},react_production.useSyncExternalStore=function(K,de,we){return B.H.useSyncExternalStore(K,de,we)},react_production.useTransition=function(){return B.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var i=requireReact();function n(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,b){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:h==null?null:""+h,children:g,containerInfo:y,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,reactDom_production.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(g,y,null,b)},reactDom_production.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},reactDom_production.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},reactDom_production.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},reactDom_production.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,h=p(b,y.crossOrigin),d=typeof y.integrity=="string"?y.integrity:void 0,v=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:h,integrity:d,fetchPriority:v}):b==="script"&&s.d.X(g,{crossOrigin:h,integrity:d,fetchPriority:v,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},reactDom_production.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},reactDom_production.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,h=p(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:h,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},reactDom_production.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},reactDom_production.requestFormReset=function(g){s.d.r(g)},reactDom_production.unstable_batchedUpdates=function(g,y){return g(y)},reactDom_production.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},reactDom_production.useFormStatus=function(){return f.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var i=requireScheduler(),n=requireReact(),a=requireReactDom();function s(w){var C="https://react.dev/errors/"+w;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var O=2;O<arguments.length;O++)C+="&args[]="+encodeURIComponent(arguments[O])}return"Minified React error #"+w+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(w){return!(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)}function c(w){var C=w,O=w;if(w.alternate)for(;C.return;)C=C.return;else{w=C;do C=w,(C.flags&4098)!==0&&(O=C.return),w=C.return;while(w)}return C.tag===3?O:null}function f(w){if(w.tag===13){var C=w.memoizedState;if(C===null&&(w=w.alternate,w!==null&&(C=w.memoizedState)),C!==null)return C.dehydrated}return null}function p(w){if(c(w)!==w)throw Error(s(188))}function g(w){var C=w.alternate;if(!C){if(C=c(w),C===null)throw Error(s(188));return C!==w?null:w}for(var O=w,D=C;;){var U=O.return;if(U===null)break;var W=U.alternate;if(W===null){if(D=U.return,D!==null){O=D;continue}break}if(U.child===W.child){for(W=U.child;W;){if(W===O)return p(U),w;if(W===D)return p(U),C;W=W.sibling}throw Error(s(188))}if(O.return!==D.return)O=U,D=W;else{for(var ie=!1,ge=U.child;ge;){if(ge===O){ie=!0,O=U,D=W;break}if(ge===D){ie=!0,D=U,O=W;break}ge=ge.sibling}if(!ie){for(ge=W.child;ge;){if(ge===O){ie=!0,O=W,D=U;break}if(ge===D){ie=!0,D=W,O=U;break}ge=ge.sibling}if(!ie)throw Error(s(189))}}if(O.alternate!==D)throw Error(s(190))}if(O.tag!==3)throw Error(s(188));return O.stateNode.current===O?w:C}function y(w){var C=w.tag;if(C===5||C===26||C===27||C===6)return w;for(w=w.child;w!==null;){if(C=y(w),C!==null)return C;w=w.sibling}return null}var b=Object.assign,h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),$=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function Z(w){return w===null||typeof w!="object"?null:(w=ee&&w[ee]||w["@@iterator"],typeof w=="function"?w:null)}var V=Symbol.for("react.client.reference");function X(w){if(w==null)return null;if(typeof w=="function")return w.$$typeof===V?null:w.displayName||w.name||null;if(typeof w=="string")return w;switch(w){case _:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case F:return"SuspenseList";case z:return"Activity"}if(typeof w=="object")switch(w.$$typeof){case v:return"Portal";case $:return(w.displayName||"Context")+".Provider";case P:return(w._context.displayName||"Context")+".Consumer";case M:var C=w.render;return w=w.displayName,w||(w=C.displayName||C.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case q:return C=w.displayName||null,C!==null?C:X(w.type)||"Memo";case H:C=w._payload,w=w._init;try{return X(w(C))}catch{}}return null}var Q=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},fe=[],K=-1;function de(w){return{current:w}}function we(w){0>K||(w.current=fe[K],fe[K]=null,K--)}function oe(w,C){K++,fe[K]=w.current,w.current=C}var Ne=de(null),Ie=de(null),Le=de(null),ut=de(null);function mt(w,C){switch(oe(Le,C),oe(Ie,w),oe(Ne,null),C.nodeType){case 9:case 11:w=(w=C.documentElement)&&(w=w.namespaceURI)?rd(w):0;break;default:if(w=C.tagName,C=C.namespaceURI)C=rd(C),w=nd(C,w);else switch(w){case"svg":w=1;break;case"math":w=2;break;default:w=0}}we(Ne),oe(Ne,w)}function vt(){we(Ne),we(Ie),we(Le)}function it(w){w.memoizedState!==null&&oe(ut,w);var C=Ne.current,O=nd(C,w.type);C!==O&&(oe(Ie,w),oe(Ne,O))}function pt(w){Ie.current===w&&(we(Ne),we(Ie)),ut.current===w&&(we(ut),ia._currentValue=ue)}var xt=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,_t=i.unstable_cancelCallback,Nt=i.unstable_shouldYield,Vt=i.unstable_requestPaint,Mt=i.unstable_now,$t=i.unstable_getCurrentPriorityLevel,Ht=i.unstable_ImmediatePriority,Bt=i.unstable_UserBlockingPriority,Ut=i.unstable_NormalPriority,St=i.unstable_LowPriority,Lt=i.unstable_IdlePriority,st=i.log,at=i.unstable_setDisableYieldValue,Ue=null,nt=null;function Ct(w){if(typeof st=="function"&&at(w),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Ue,w)}catch{}}var ce=Math.clz32?Math.clz32:gt,He=Math.log,Je=Math.LN2;function gt(w){return w>>>=0,w===0?32:31-(He(w)/Je|0)|0}var Et=256,lt=4194304;function Se(w){var C=w&42;if(C!==0)return C;switch(w&-w){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return w&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return w}}function ze(w,C,O){var D=w.pendingLanes;if(D===0)return 0;var U=0,W=w.suspendedLanes,ie=w.pingedLanes;w=w.warmLanes;var ge=D&134217727;return ge!==0?(D=ge&~W,D!==0?U=Se(D):(ie&=ge,ie!==0?U=Se(ie):O||(O=ge&~w,O!==0&&(U=Se(O))))):(ge=D&~W,ge!==0?U=Se(ge):ie!==0?U=Se(ie):O||(O=D&~w,O!==0&&(U=Se(O)))),U===0?0:C!==0&&C!==U&&(C&W)===0&&(W=U&-U,O=C&-C,W>=O||W===32&&(O&4194048)!==0)?C:U}function le(w,C){return(w.pendingLanes&~(w.suspendedLanes&~w.pingedLanes)&C)===0}function ae(w,C){switch(w){case 1:case 2:case 4:case 8:case 64:return C+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _e(){var w=Et;return Et<<=1,(Et&4194048)===0&&(Et=256),w}function Oe(){var w=lt;return lt<<=1,(lt&62914560)===0&&(lt=4194304),w}function We(w){for(var C=[],O=0;31>O;O++)C.push(w);return C}function je(w,C){w.pendingLanes|=C,C!==268435456&&(w.suspendedLanes=0,w.pingedLanes=0,w.warmLanes=0)}function Ye(w,C,O,D,U,W){var ie=w.pendingLanes;w.pendingLanes=O,w.suspendedLanes=0,w.pingedLanes=0,w.warmLanes=0,w.expiredLanes&=O,w.entangledLanes&=O,w.errorRecoveryDisabledLanes&=O,w.shellSuspendCounter=0;var ge=w.entanglements,Re=w.expirationTimes,Qe=w.hiddenUpdates;for(O=ie&~O;0<O;){var bt=31-ce(O),At=1<<bt;ge[bt]=0,Re[bt]=-1;var rt=Qe[bt];if(rt!==null)for(Qe[bt]=null,bt=0;bt<rt.length;bt++){var ot=rt[bt];ot!==null&&(ot.lane&=-536870913)}O&=~At}D!==0&&Te(w,D,0),W!==0&&U===0&&w.tag!==0&&(w.suspendedLanes|=W&~(ie&~C))}function Te(w,C,O){w.pendingLanes|=C,w.suspendedLanes&=~C;var D=31-ce(C);w.entangledLanes|=C,w.entanglements[D]=w.entanglements[D]|1073741824|O&4194090}function Me(w,C){var O=w.entangledLanes|=C;for(w=w.entanglements;O;){var D=31-ce(O),U=1<<D;U&C|w[D]&C&&(w[D]|=C),O&=~U}}function Kt(w){switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=128;break;case 268435456:w=134217728;break;default:w=0}return w}function Rt(w){return w&=-w,2<w?8<w?(w&134217727)!==0?32:268435456:8:2}function Y(){var w=te.p;return w!==0?w:(w=window.event,w===void 0?32:_d(w.type))}function Ke(w,C){var O=te.p;try{return te.p=w,C()}finally{te.p=O}}var be=Math.random().toString(36).slice(2),$e="__reactFiber$"+be,Fe="__reactProps$"+be,Ot="__reactContainer$"+be,Dt="__reactEvents$"+be,Pt="__reactListeners$"+be,dr="__reactHandles$"+be,Wt="__reactResources$"+be,Jt="__reactMarker$"+be;function ir(w){delete w[$e],delete w[Fe],delete w[Dt],delete w[Pt],delete w[dr]}function pe(w){var C=w[$e];if(C)return C;for(var O=w.parentNode;O;){if(C=O[Ot]||O[$e]){if(O=C.alternate,C.child!==null||O!==null&&O.child!==null)for(w=sd(w);w!==null;){if(O=w[$e])return O;w=sd(w)}return C}w=O,O=w.parentNode}return null}function Ae(w){if(w=w[$e]||w[Ot]){var C=w.tag;if(C===5||C===6||C===13||C===26||C===27||C===3)return w}return null}function De(w){var C=w.tag;if(C===5||C===26||C===27||C===6)return w.stateNode;throw Error(s(33))}function qe(w){var C=w[Wt];return C||(C=w[Wt]={hoistableStyles:new Map,hoistableScripts:new Map}),C}function Ge(w){w[Jt]=!0}var dt=new Set,Tt={};function jt(w,C){se(w,C),se(w+"Capture",C)}function se(w,C){for(Tt[w]=C,w=0;w<C.length;w++)dt.add(C[w])}var xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ye={},Ce={};function Pe(w){return xt.call(Ce,w)?!0:xt.call(ye,w)?!1:xe.test(w)?Ce[w]=!0:(ye[w]=!0,!1)}function ve(w,C,O){if(Pe(C))if(O===null)w.removeAttribute(C);else{switch(typeof O){case"undefined":case"function":case"symbol":w.removeAttribute(C);return;case"boolean":var D=C.toLowerCase().slice(0,5);if(D!=="data-"&&D!=="aria-"){w.removeAttribute(C);return}}w.setAttribute(C,""+O)}}function tt(w,C,O){if(O===null)w.removeAttribute(C);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":w.removeAttribute(C);return}w.setAttribute(C,""+O)}}function ht(w,C,O,D){if(D===null)w.removeAttribute(O);else{switch(typeof D){case"undefined":case"function":case"symbol":case"boolean":w.removeAttribute(O);return}w.setAttributeNS(C,O,""+D)}}var et,yt;function Ft(w){if(et===void 0)try{throw Error()}catch(O){var C=O.stack.trim().match(/\n( *(at )?)/);et=C&&C[1]||"",yt=-1<O.stack.indexOf(`
    at`)?" (<anonymous>)":-1<O.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+w+yt}var Qt=!1;function gr(w,C){if(!w||Qt)return"";Qt=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(C){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(ot){var rt=ot}Reflect.construct(w,[],At)}else{try{At.call()}catch(ot){rt=ot}w.call(At.prototype)}}else{try{throw Error()}catch(ot){rt=ot}(At=w())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(ot){if(ot&&rt&&typeof ot.stack=="string")return[ot.stack,rt.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var U=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");U&&U.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=D.DetermineComponentFrameRoot(),ie=W[0],ge=W[1];if(ie&&ge){var Re=ie.split(`
`),Qe=ge.split(`
`);for(U=D=0;D<Re.length&&!Re[D].includes("DetermineComponentFrameRoot");)D++;for(;U<Qe.length&&!Qe[U].includes("DetermineComponentFrameRoot");)U++;if(D===Re.length||U===Qe.length)for(D=Re.length-1,U=Qe.length-1;1<=D&&0<=U&&Re[D]!==Qe[U];)U--;for(;1<=D&&0<=U;D--,U--)if(Re[D]!==Qe[U]){if(D!==1||U!==1)do if(D--,U--,0>U||Re[D]!==Qe[U]){var bt=`
`+Re[D].replace(" at new "," at ");return w.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",w.displayName)),bt}while(1<=D&&0<=U);break}}}finally{Qt=!1,Error.prepareStackTrace=O}return(O=w?w.displayName||w.name:"")?Ft(O):""}function xr(w){switch(w.tag){case 26:case 27:case 5:return Ft(w.type);case 16:return Ft("Lazy");case 13:return Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return gr(w.type,!1);case 11:return gr(w.type.render,!1);case 1:return gr(w.type,!0);case 31:return Ft("Activity");default:return""}}function Wr(w){try{var C="";do C+=xr(w),w=w.return;while(w);return C}catch(O){return`
Error generating stack: `+O.message+`
`+O.stack}}function Vr(w){switch(typeof w){case"bigint":case"boolean":case"number":case"string":case"undefined":return w;case"object":return w;default:return""}}function fo(w){var C=w.type;return(w=w.nodeName)&&w.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function ua(w){var C=fo(w)?"checked":"value",O=Object.getOwnPropertyDescriptor(w.constructor.prototype,C),D=""+w[C];if(!w.hasOwnProperty(C)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var U=O.get,W=O.set;return Object.defineProperty(w,C,{configurable:!0,get:function(){return U.call(this)},set:function(ie){D=""+ie,W.call(this,ie)}}),Object.defineProperty(w,C,{enumerable:O.enumerable}),{getValue:function(){return D},setValue:function(ie){D=""+ie},stopTracking:function(){w._valueTracker=null,delete w[C]}}}}function Ii(w){w._valueTracker||(w._valueTracker=ua(w))}function ca(w){if(!w)return!1;var C=w._valueTracker;if(!C)return!0;var O=C.getValue(),D="";return w&&(D=fo(w)?w.checked?"true":"false":w.value),w=D,w!==O?(C.setValue(w),!0):!1}function An(w){if(w=w||(typeof document<"u"?document:void 0),typeof w>"u")return null;try{return w.activeElement||w.body}catch{return w.body}}var po=/[\n"\\]/g;function Hr(w){return w.replace(po,function(C){return"\\"+C.charCodeAt(0).toString(16)+" "})}function Ri(w,C,O,D,U,W,ie,ge){w.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?w.type=ie:w.removeAttribute("type"),C!=null?ie==="number"?(C===0&&w.value===""||w.value!=C)&&(w.value=""+Vr(C)):w.value!==""+Vr(C)&&(w.value=""+Vr(C)):ie!=="submit"&&ie!=="reset"||w.removeAttribute("value"),C!=null?ki(w,ie,Vr(C)):O!=null?ki(w,ie,Vr(O)):D!=null&&w.removeAttribute("value"),U==null&&W!=null&&(w.defaultChecked=!!W),U!=null&&(w.checked=U&&typeof U!="function"&&typeof U!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?w.name=""+Vr(ge):w.removeAttribute("name")}function ho(w,C,O,D,U,W,ie,ge){if(W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(w.type=W),C!=null||O!=null){if(!(W!=="submit"&&W!=="reset"||C!=null))return;O=O!=null?""+Vr(O):"",C=C!=null?""+Vr(C):O,ge||C===w.value||(w.value=C),w.defaultValue=C}D=D??U,D=typeof D!="function"&&typeof D!="symbol"&&!!D,w.checked=ge?w.checked:!!D,w.defaultChecked=!!D,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(w.name=ie)}function ki(w,C,O){C==="number"&&An(w.ownerDocument)===w||w.defaultValue===""+O||(w.defaultValue=""+O)}function hn(w,C,O,D){if(w=w.options,C){C={};for(var U=0;U<O.length;U++)C["$"+O[U]]=!0;for(O=0;O<w.length;O++)U=C.hasOwnProperty("$"+w[O].value),w[O].selected!==U&&(w[O].selected=U),U&&D&&(w[O].defaultSelected=!0)}else{for(O=""+Vr(O),C=null,U=0;U<w.length;U++){if(w[U].value===O){w[U].selected=!0,D&&(w[U].defaultSelected=!0);return}C!==null||w[U].disabled||(C=w[U])}C!==null&&(C.selected=!0)}}function go(w,C,O){if(C!=null&&(C=""+Vr(C),C!==w.value&&(w.value=C),O==null)){w.defaultValue!==C&&(w.defaultValue=C);return}w.defaultValue=O!=null?""+Vr(O):""}function mo(w,C,O,D){if(C==null){if(D!=null){if(O!=null)throw Error(s(92));if(Q(D)){if(1<D.length)throw Error(s(93));D=D[0]}O=D}O==null&&(O=""),C=O}O=Vr(C),w.defaultValue=O,D=w.textContent,D===O&&D!==""&&D!==null&&(w.value=D)}function bn(w,C){if(C){var O=w.firstChild;if(O&&O===w.lastChild&&O.nodeType===3){O.nodeValue=C;return}}w.textContent=C}var fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function or(w,C,O){var D=C.indexOf("--")===0;O==null||typeof O=="boolean"||O===""?D?w.setProperty(C,""):C==="float"?w.cssFloat="":w[C]="":D?w.setProperty(C,O):typeof O!="number"||O===0||fa.has(C)?C==="float"?w.cssFloat=O:w[C]=(""+O).trim():w[C]=O+"px"}function yo(w,C,O){if(C!=null&&typeof C!="object")throw Error(s(62));if(w=w.style,O!=null){for(var D in O)!O.hasOwnProperty(D)||C!=null&&C.hasOwnProperty(D)||(D.indexOf("--")===0?w.setProperty(D,""):D==="float"?w.cssFloat="":w[D]="");for(var U in C)D=C[U],C.hasOwnProperty(U)&&O[U]!==D&&or(w,U,D)}else for(var W in C)C.hasOwnProperty(W)&&or(w,W,C[W])}function er(w){if(w.indexOf("-")===-1)return!1;switch(w){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tn(w){return xo.test(""+w)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":w}var Di=null;function Pi(w){return w=w.target||w.srcElement||window,w.correspondingUseElement&&(w=w.correspondingUseElement),w.nodeType===3?w.parentNode:w}var On=null,In=null;function vo(w){var C=Ae(w);if(C&&(w=C.stateNode)){var O=w[Fe]||null;e:switch(w=C.stateNode,C.type){case"input":if(Ri(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name),C=O.name,O.type==="radio"&&C!=null){for(O=w;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll('input[name="'+Hr(""+C)+'"][type="radio"]'),C=0;C<O.length;C++){var D=O[C];if(D!==w&&D.form===w.form){var U=D[Fe]||null;if(!U)throw Error(s(90));Ri(D,U.value,U.defaultValue,U.defaultValue,U.checked,U.defaultChecked,U.type,U.name)}}for(C=0;C<O.length;C++)D=O[C],D.form===w.form&&ca(D)}break e;case"textarea":go(w,O.value,O.defaultValue);break e;case"select":C=O.value,C!=null&&hn(w,!!O.multiple,C,!1)}}}var Mi=!1;function bo(w,C,O){if(Mi)return w(C,O);Mi=!0;try{var D=w(C);return D}finally{if(Mi=!1,(On!==null||In!==null)&&(Ga(),On&&(C=On,w=In,In=On=null,vo(C),w)))for(C=0;C<w.length;C++)vo(w[C])}}function qn(w,C){var O=w.stateNode;if(O===null)return null;var D=O[Fe]||null;if(D===null)return null;O=D[C];e:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(w=w.type,D=!(w==="button"||w==="input"||w==="select"||w==="textarea")),w=!D;break e;default:w=!1}if(w)return null;if(O&&typeof O!="function")throw Error(s(231,C,typeof O));return O}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ni=!1;if(an)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Ni=!1}var gn=null,ne=null,he=null;function Ee(){if(he)return he;var w,C=ne,O=C.length,D,U="value"in gn?gn.value:gn.textContent,W=U.length;for(w=0;w<O&&C[w]===U[w];w++);var ie=O-w;for(D=1;D<=ie&&C[O-D]===U[W-D];D++);return he=U.slice(w,1<D?1-D:void 0)}function ke(w){var C=w.keyCode;return"charCode"in w?(w=w.charCode,w===0&&C===13&&(w=13)):w=C,w===10&&(w=13),32<=w||w===13?w:0}function Xe(){return!0}function ft(){return!1}function It(w){function C(O,D,U,W,ie){this._reactName=O,this._targetInst=U,this.type=D,this.nativeEvent=W,this.target=ie,this.currentTarget=null;for(var ge in w)w.hasOwnProperty(ge)&&(O=w[ge],this[ge]=O?O(W):W[ge]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?Xe:ft,this.isPropagationStopped=ft,this}return b(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=Xe)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=Xe)},persist:function(){},isPersistent:Xe}),C}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(w){return w.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=It(zt),rr=b({},zt,{view:0,detail:0}),Cr=It(rr),Xr,zr,ct,ar=b({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(w){return w.relatedTarget===void 0?w.fromElement===w.srcElement?w.toElement:w.fromElement:w.relatedTarget},movementX:function(w){return"movementX"in w?w.movementX:(w!==ct&&(ct&&w.type==="mousemove"?(Xr=w.screenX-ct.screenX,zr=w.screenY-ct.screenY):zr=Xr=0,ct=w),Xr)},movementY:function(w){return"movementY"in w?w.movementY:zr}}),Er=It(ar),mn=b({},ar,{dataTransfer:0}),Hn=It(mn),Id=b({},rr,{relatedTarget:0}),hs=It(Id),Rd=b({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),kd=It(Rd),Dd=b({},zt,{clipboardData:function(w){return"clipboardData"in w?w.clipboardData:window.clipboardData}}),Pd=It(Dd),Md=b({},zt,{data:0}),su=It(Md),Nd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$d={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fd(w){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(w):(w=$d[w])?!!C[w]:!1}function gs(){return Fd}var Ld=b({},rr,{key:function(w){if(w.key){var C=Nd[w.key]||w.key;if(C!=="Unidentified")return C}return w.type==="keypress"?(w=ke(w),w===13?"Enter":String.fromCharCode(w)):w.type==="keydown"||w.type==="keyup"?Bd[w.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(w){return w.type==="keypress"?ke(w):0},keyCode:function(w){return w.type==="keydown"||w.type==="keyup"?w.keyCode:0},which:function(w){return w.type==="keypress"?ke(w):w.type==="keydown"||w.type==="keyup"?w.keyCode:0}}),jd=It(Ld),Ud=b({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=It(Ud),zd=b({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),qd=It(zd),Vd=b({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hd=It(Vd),Gd=b({},ar,{deltaX:function(w){return"deltaX"in w?w.deltaX:"wheelDeltaX"in w?-w.wheelDeltaX:0},deltaY:function(w){return"deltaY"in w?w.deltaY:"wheelDeltaY"in w?-w.wheelDeltaY:"wheelDelta"in w?-w.wheelDelta:0},deltaZ:0,deltaMode:0}),Wd=It(Gd),Xd=b({},zt,{newState:0,oldState:0}),Yd=It(Xd),Kd=[9,13,27,32],ms=an&&"CompositionEvent"in window,wo=null;an&&"documentMode"in document&&(wo=document.documentMode);var Zd=an&&"TextEvent"in window&&!wo,uu=an&&(!ms||wo&&8<wo&&11>=wo),cu=" ",fu=!1;function du(w,C){switch(w){case"keyup":return Kd.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(w){return w=w.detail,typeof w=="object"&&"data"in w?w.data:null}var Bi=!1;function Jd(w,C){switch(w){case"compositionend":return pu(C);case"keypress":return C.which!==32?null:(fu=!0,cu);case"textInput":return w=C.data,w===cu&&fu?null:w;default:return null}}function Qd(w,C){if(Bi)return w==="compositionend"||!ms&&du(w,C)?(w=Ee(),he=ne=gn=null,Bi=!1,w):null;switch(w){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return uu&&C.locale!=="ko"?null:C.data;default:return null}}var ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(w){var C=w&&w.nodeName&&w.nodeName.toLowerCase();return C==="input"?!!ep[w.type]:C==="textarea"}function gu(w,C,O,D){On?In?In.push(D):In=[D]:On=D,C=Ja(C,"onChange"),0<C.length&&(O=new tr("onChange","change",null,O,D),w.push({event:O,listeners:C}))}var _o=null,Eo=null;function tp(w){Zf(w,0)}function da(w){var C=De(w);if(ca(C))return w}function mu(w,C){if(w==="change")return C}var yu=!1;if(an){var ys;if(an){var xs="oninput"in document;if(!xs){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),xs=typeof xu.oninput=="function"}ys=xs}else ys=!1;yu=ys&&(!document.documentMode||9<document.documentMode)}function vu(){_o&&(_o.detachEvent("onpropertychange",bu),Eo=_o=null)}function bu(w){if(w.propertyName==="value"&&da(Eo)){var C=[];gu(C,Eo,w,Pi(w)),bo(tp,C)}}function rp(w,C,O){w==="focusin"?(vu(),_o=C,Eo=O,_o.attachEvent("onpropertychange",bu)):w==="focusout"&&vu()}function np(w){if(w==="selectionchange"||w==="keyup"||w==="keydown")return da(Eo)}function ip(w,C){if(w==="click")return da(C)}function op(w,C){if(w==="input"||w==="change")return da(C)}function ap(w,C){return w===C&&(w!==0||1/w===1/C)||w!==w&&C!==C}var Jr=typeof Object.is=="function"?Object.is:ap;function So(w,C){if(Jr(w,C))return!0;if(typeof w!="object"||w===null||typeof C!="object"||C===null)return!1;var O=Object.keys(w),D=Object.keys(C);if(O.length!==D.length)return!1;for(D=0;D<O.length;D++){var U=O[D];if(!xt.call(C,U)||!Jr(w[U],C[U]))return!1}return!0}function wu(w){for(;w&&w.firstChild;)w=w.firstChild;return w}function _u(w,C){var O=wu(w);w=0;for(var D;O;){if(O.nodeType===3){if(D=w+O.textContent.length,w<=C&&D>=C)return{node:O,offset:C-w};w=D}e:{for(;O;){if(O.nextSibling){O=O.nextSibling;break e}O=O.parentNode}O=void 0}O=wu(O)}}function Eu(w,C){return w&&C?w===C?!0:w&&w.nodeType===3?!1:C&&C.nodeType===3?Eu(w,C.parentNode):"contains"in w?w.contains(C):w.compareDocumentPosition?!!(w.compareDocumentPosition(C)&16):!1:!1}function Su(w){w=w!=null&&w.ownerDocument!=null&&w.ownerDocument.defaultView!=null?w.ownerDocument.defaultView:window;for(var C=An(w.document);C instanceof w.HTMLIFrameElement;){try{var O=typeof C.contentWindow.location.href=="string"}catch{O=!1}if(O)w=C.contentWindow;else break;C=An(w.document)}return C}function vs(w){var C=w&&w.nodeName&&w.nodeName.toLowerCase();return C&&(C==="input"&&(w.type==="text"||w.type==="search"||w.type==="tel"||w.type==="url"||w.type==="password")||C==="textarea"||w.contentEditable==="true")}var sp=an&&"documentMode"in document&&11>=document.documentMode,$i=null,bs=null,Co=null,ws=!1;function Cu(w,C,O){var D=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;ws||$i==null||$i!==An(D)||(D=$i,"selectionStart"in D&&vs(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),Co&&So(Co,D)||(Co=D,D=Ja(bs,"onSelect"),0<D.length&&(C=new tr("onSelect","select",null,C,O),w.push({event:C,listeners:D}),C.target=$i)))}function pi(w,C){var O={};return O[w.toLowerCase()]=C.toLowerCase(),O["Webkit"+w]="webkit"+C,O["Moz"+w]="moz"+C,O}var Fi={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},_s={},Au={};an&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function hi(w){if(_s[w])return _s[w];if(!Fi[w])return w;var C=Fi[w],O;for(O in C)if(C.hasOwnProperty(O)&&O in Au)return _s[w]=C[O];return w}var Tu=hi("animationend"),Ou=hi("animationiteration"),Iu=hi("animationstart"),lp=hi("transitionrun"),up=hi("transitionstart"),cp=hi("transitioncancel"),Ru=hi("transitionend"),ku=new Map,Es="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Es.push("scrollEnd");function yn(w,C){ku.set(w,C),jt(C,[w])}var Du=new WeakMap;function sn(w,C){if(typeof w=="object"&&w!==null){var O=Du.get(w);return O!==void 0?O:(C={value:w,source:C,stack:Wr(C)},Du.set(w,C),C)}return{value:w,source:C,stack:Wr(C)}}var ln=[],Li=0,Ss=0;function pa(){for(var w=Li,C=Ss=Li=0;C<w;){var O=ln[C];ln[C++]=null;var D=ln[C];ln[C++]=null;var U=ln[C];ln[C++]=null;var W=ln[C];if(ln[C++]=null,D!==null&&U!==null){var ie=D.pending;ie===null?U.next=U:(U.next=ie.next,ie.next=U),D.pending=U}W!==0&&Pu(O,U,W)}}function ha(w,C,O,D){ln[Li++]=w,ln[Li++]=C,ln[Li++]=O,ln[Li++]=D,Ss|=D,w.lanes|=D,w=w.alternate,w!==null&&(w.lanes|=D)}function Cs(w,C,O,D){return ha(w,C,O,D),ga(w)}function ji(w,C){return ha(w,null,null,C),ga(w)}function Pu(w,C,O){w.lanes|=O;var D=w.alternate;D!==null&&(D.lanes|=O);for(var U=!1,W=w.return;W!==null;)W.childLanes|=O,D=W.alternate,D!==null&&(D.childLanes|=O),W.tag===22&&(w=W.stateNode,w===null||w._visibility&1||(U=!0)),w=W,W=W.return;return w.tag===3?(W=w.stateNode,U&&C!==null&&(U=31-ce(O),w=W.hiddenUpdates,D=w[U],D===null?w[U]=[C]:D.push(C),C.lane=O|536870912),W):null}function ga(w){if(50<Ko)throw Ko=0,kl=null,Error(s(185));for(var C=w.return;C!==null;)w=C,C=w.return;return w.tag===3?w.stateNode:null}var Ui={};function fp(w,C,O,D){this.tag=w,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(w,C,O,D){return new fp(w,C,O,D)}function As(w){return w=w.prototype,!(!w||!w.isReactComponent)}function Rn(w,C){var O=w.alternate;return O===null?(O=Qr(w.tag,C,w.key,w.mode),O.elementType=w.elementType,O.type=w.type,O.stateNode=w.stateNode,O.alternate=w,w.alternate=O):(O.pendingProps=C,O.type=w.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=w.flags&65011712,O.childLanes=w.childLanes,O.lanes=w.lanes,O.child=w.child,O.memoizedProps=w.memoizedProps,O.memoizedState=w.memoizedState,O.updateQueue=w.updateQueue,C=w.dependencies,O.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},O.sibling=w.sibling,O.index=w.index,O.ref=w.ref,O.refCleanup=w.refCleanup,O}function Mu(w,C){w.flags&=65011714;var O=w.alternate;return O===null?(w.childLanes=0,w.lanes=C,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=O.childLanes,w.lanes=O.lanes,w.child=O.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=O.memoizedProps,w.memoizedState=O.memoizedState,w.updateQueue=O.updateQueue,w.type=O.type,C=O.dependencies,w.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),w}function ma(w,C,O,D,U,W){var ie=0;if(D=w,typeof w=="function")As(w)&&(ie=1);else if(typeof w=="string")ie=ph(w,O,Ne.current)?26:w==="html"||w==="head"||w==="body"?27:5;else e:switch(w){case z:return w=Qr(31,O,C,U),w.elementType=z,w.lanes=W,w;case _:return gi(O.children,U,W,C);case A:ie=8,U|=24;break;case I:return w=Qr(12,O,C,U|2),w.elementType=I,w.lanes=W,w;case B:return w=Qr(13,O,C,U),w.elementType=B,w.lanes=W,w;case F:return w=Qr(19,O,C,U),w.elementType=F,w.lanes=W,w;default:if(typeof w=="object"&&w!==null)switch(w.$$typeof){case R:case $:ie=10;break e;case P:ie=9;break e;case M:ie=11;break e;case q:ie=14;break e;case H:ie=16,D=null;break e}ie=29,O=Error(s(130,w===null?"null":typeof w,"")),D=null}return C=Qr(ie,O,C,U),C.elementType=w,C.type=D,C.lanes=W,C}function gi(w,C,O,D){return w=Qr(7,w,D,C),w.lanes=O,w}function Ts(w,C,O){return w=Qr(6,w,null,C),w.lanes=O,w}function Os(w,C,O){return C=Qr(4,w.children!==null?w.children:[],w.key,C),C.lanes=O,C.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},C}var zi=[],qi=0,ya=null,xa=0,un=[],cn=0,mi=null,kn=1,Dn="";function yi(w,C){zi[qi++]=xa,zi[qi++]=ya,ya=w,xa=C}function Nu(w,C,O){un[cn++]=kn,un[cn++]=Dn,un[cn++]=mi,mi=w;var D=kn;w=Dn;var U=32-ce(D)-1;D&=~(1<<U),O+=1;var W=32-ce(C)+U;if(30<W){var ie=U-U%5;W=(D&(1<<ie)-1).toString(32),D>>=ie,U-=ie,kn=1<<32-ce(C)+U|O<<U|D,Dn=W+w}else kn=1<<W|O<<U|D,Dn=w}function Is(w){w.return!==null&&(yi(w,1),Nu(w,1,0))}function Rs(w){for(;w===ya;)ya=zi[--qi],zi[qi]=null,xa=zi[--qi],zi[qi]=null;for(;w===mi;)mi=un[--cn],un[cn]=null,Dn=un[--cn],un[cn]=null,kn=un[--cn],un[cn]=null}var Gr=null,Or=null,hr=!1,xi=null,wn=!1,ks=Error(s(519));function vi(w){var C=Error(s(418,""));throw Oo(sn(C,w)),ks}function Bu(w){var C=w.stateNode,O=w.type,D=w.memoizedProps;switch(C[$e]=w,C[Fe]=D,O){case"dialog":cr("cancel",C),cr("close",C);break;case"iframe":case"object":case"embed":cr("load",C);break;case"video":case"audio":for(O=0;O<Jo.length;O++)cr(Jo[O],C);break;case"source":cr("error",C);break;case"img":case"image":case"link":cr("error",C),cr("load",C);break;case"details":cr("toggle",C);break;case"input":cr("invalid",C),ho(C,D.value,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name,!0),Ii(C);break;case"select":cr("invalid",C);break;case"textarea":cr("invalid",C),mo(C,D.value,D.defaultValue,D.children),Ii(C)}O=D.children,typeof O!="string"&&typeof O!="number"&&typeof O!="bigint"||C.textContent===""+O||D.suppressHydrationWarning===!0||td(C.textContent,O)?(D.popover!=null&&(cr("beforetoggle",C),cr("toggle",C)),D.onScroll!=null&&cr("scroll",C),D.onScrollEnd!=null&&cr("scrollend",C),D.onClick!=null&&(C.onclick=Qa),C=!0):C=!1,C||vi(w)}function $u(w){for(Gr=w.return;Gr;)switch(Gr.tag){case 5:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Gr=Gr.return}}function Ao(w){if(w!==Gr)return!1;if(!hr)return $u(w),hr=!0,!1;var C=w.tag,O;if((O=C!==3&&C!==27)&&((O=C===5)&&(O=w.type,O=!(O!=="form"&&O!=="button")||Wl(w.type,w.memoizedProps)),O=!O),O&&Or&&vi(w),$u(w),C===13){if(w=w.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(s(317));e:{for(w=w.nextSibling,C=0;w;){if(w.nodeType===8)if(O=w.data,O==="/$"){if(C===0){Or=vn(w.nextSibling);break e}C--}else O!=="$"&&O!=="$!"&&O!=="$?"||C++;w=w.nextSibling}Or=null}}else C===27?(C=Or,si(w.type)?(w=Zl,Zl=null,Or=w):Or=C):Or=Gr?vn(w.stateNode.nextSibling):null;return!0}function To(){Or=Gr=null,hr=!1}function Fu(){var w=xi;return w!==null&&(Zr===null?Zr=w:Zr.push.apply(Zr,w),xi=null),w}function Oo(w){xi===null?xi=[w]:xi.push(w)}var Ds=de(null),bi=null,Pn=null;function Gn(w,C,O){oe(Ds,C._currentValue),C._currentValue=O}function Mn(w){w._currentValue=Ds.current,we(Ds)}function Ps(w,C,O){for(;w!==null;){var D=w.alternate;if((w.childLanes&C)!==C?(w.childLanes|=C,D!==null&&(D.childLanes|=C)):D!==null&&(D.childLanes&C)!==C&&(D.childLanes|=C),w===O)break;w=w.return}}function Ms(w,C,O,D){var U=w.child;for(U!==null&&(U.return=w);U!==null;){var W=U.dependencies;if(W!==null){var ie=U.child;W=W.firstContext;e:for(;W!==null;){var ge=W;W=U;for(var Re=0;Re<C.length;Re++)if(ge.context===C[Re]){W.lanes|=O,ge=W.alternate,ge!==null&&(ge.lanes|=O),Ps(W.return,O,w),D||(ie=null);break e}W=ge.next}}else if(U.tag===18){if(ie=U.return,ie===null)throw Error(s(341));ie.lanes|=O,W=ie.alternate,W!==null&&(W.lanes|=O),Ps(ie,O,w),ie=null}else ie=U.child;if(ie!==null)ie.return=U;else for(ie=U;ie!==null;){if(ie===w){ie=null;break}if(U=ie.sibling,U!==null){U.return=ie.return,ie=U;break}ie=ie.return}U=ie}}function Io(w,C,O,D){w=null;for(var U=C,W=!1;U!==null;){if(!W){if((U.flags&524288)!==0)W=!0;else if((U.flags&262144)!==0)break}if(U.tag===10){var ie=U.alternate;if(ie===null)throw Error(s(387));if(ie=ie.memoizedProps,ie!==null){var ge=U.type;Jr(U.pendingProps.value,ie.value)||(w!==null?w.push(ge):w=[ge])}}else if(U===ut.current){if(ie=U.alternate,ie===null)throw Error(s(387));ie.memoizedState.memoizedState!==U.memoizedState.memoizedState&&(w!==null?w.push(ia):w=[ia])}U=U.return}w!==null&&Ms(C,w,O,D),C.flags|=262144}function va(w){for(w=w.firstContext;w!==null;){if(!Jr(w.context._currentValue,w.memoizedValue))return!0;w=w.next}return!1}function wi(w){bi=w,Pn=null,w=w.dependencies,w!==null&&(w.firstContext=null)}function qr(w){return Lu(bi,w)}function ba(w,C){return bi===null&&wi(w),Lu(w,C)}function Lu(w,C){var O=C._currentValue;if(C={context:C,memoizedValue:O,next:null},Pn===null){if(w===null)throw Error(s(308));Pn=C,w.dependencies={lanes:0,firstContext:C},w.flags|=524288}else Pn=Pn.next=C;return O}var dp=typeof AbortController<"u"?AbortController:function(){var w=[],C=this.signal={aborted:!1,addEventListener:function(O,D){w.push(D)}};this.abort=function(){C.aborted=!0,w.forEach(function(O){return O()})}},pp=i.unstable_scheduleCallback,hp=i.unstable_NormalPriority,Mr={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ns(){return{controller:new dp,data:new Map,refCount:0}}function Ro(w){w.refCount--,w.refCount===0&&pp(hp,function(){w.controller.abort()})}var ko=null,Bs=0,Vi=0,Hi=null;function gp(w,C){if(ko===null){var O=ko=[];Bs=0,Vi=Fl(),Hi={status:"pending",value:void 0,then:function(D){O.push(D)}}}return Bs++,C.then(ju,ju),C}function ju(){if(--Bs===0&&ko!==null){Hi!==null&&(Hi.status="fulfilled");var w=ko;ko=null,Vi=0,Hi=null;for(var C=0;C<w.length;C++)(0,w[C])()}}function mp(w,C){var O=[],D={status:"pending",value:null,reason:null,then:function(U){O.push(U)}};return w.then(function(){D.status="fulfilled",D.value=C;for(var U=0;U<O.length;U++)(0,O[U])(C)},function(U){for(D.status="rejected",D.reason=U,U=0;U<O.length;U++)(0,O[U])(void 0)}),D}var Uu=G.S;G.S=function(w,C){typeof C=="object"&&C!==null&&typeof C.then=="function"&&gp(w,C),Uu!==null&&Uu(w,C)};var _i=de(null);function $s(){var w=_i.current;return w!==null?w:Sr.pooledCache}function wa(w,C){C===null?oe(_i,_i.current):oe(_i,C.pool)}function zu(){var w=$s();return w===null?null:{parent:Mr._currentValue,pool:w}}var Do=Error(s(460)),qu=Error(s(474)),Ea=Error(s(542)),Fs={then:function(){}};function Vu(w){return w=w.status,w==="fulfilled"||w==="rejected"}function Sa(){}function Hu(w,C,O){switch(O=w[O],O===void 0?w.push(C):O!==C&&(C.then(Sa,Sa),C=O),C.status){case"fulfilled":return C.value;case"rejected":throw w=C.reason,Wu(w),w;default:if(typeof C.status=="string")C.then(Sa,Sa);else{if(w=Sr,w!==null&&100<w.shellSuspendCounter)throw Error(s(482));w=C,w.status="pending",w.then(function(D){if(C.status==="pending"){var U=C;U.status="fulfilled",U.value=D}},function(D){if(C.status==="pending"){var U=C;U.status="rejected",U.reason=D}})}switch(C.status){case"fulfilled":return C.value;case"rejected":throw w=C.reason,Wu(w),w}throw Po=C,Do}}var Po=null;function Gu(){if(Po===null)throw Error(s(459));var w=Po;return Po=null,w}function Wu(w){if(w===Do||w===Ea)throw Error(s(483))}var Wn=!1;function Ls(w){w.updateQueue={baseState:w.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function js(w,C){w=w.updateQueue,C.updateQueue===w&&(C.updateQueue={baseState:w.baseState,firstBaseUpdate:w.firstBaseUpdate,lastBaseUpdate:w.lastBaseUpdate,shared:w.shared,callbacks:null})}function Xn(w){return{lane:w,tag:0,payload:null,callback:null,next:null}}function Yn(w,C,O){var D=w.updateQueue;if(D===null)return null;if(D=D.shared,(mr&2)!==0){var U=D.pending;return U===null?C.next=C:(C.next=U.next,U.next=C),D.pending=C,C=ga(w),Pu(w,null,O),C}return ha(w,D,C,O),ga(w)}function Mo(w,C,O){if(C=C.updateQueue,C!==null&&(C=C.shared,(O&4194048)!==0)){var D=C.lanes;D&=w.pendingLanes,O|=D,C.lanes=O,Me(w,O)}}function Us(w,C){var O=w.updateQueue,D=w.alternate;if(D!==null&&(D=D.updateQueue,O===D)){var U=null,W=null;if(O=O.firstBaseUpdate,O!==null){do{var ie={lane:O.lane,tag:O.tag,payload:O.payload,callback:null,next:null};W===null?U=W=ie:W=W.next=ie,O=O.next}while(O!==null);W===null?U=W=C:W=W.next=C}else U=W=C;O={baseState:D.baseState,firstBaseUpdate:U,lastBaseUpdate:W,shared:D.shared,callbacks:D.callbacks},w.updateQueue=O;return}w=O.lastBaseUpdate,w===null?O.firstBaseUpdate=C:w.next=C,O.lastBaseUpdate=C}var zs=!1;function No(){if(zs){var w=Hi;if(w!==null)throw w}}function Bo(w,C,O,D){zs=!1;var U=w.updateQueue;Wn=!1;var W=U.firstBaseUpdate,ie=U.lastBaseUpdate,ge=U.shared.pending;if(ge!==null){U.shared.pending=null;var Re=ge,Qe=Re.next;Re.next=null,ie===null?W=Qe:ie.next=Qe,ie=Re;var bt=w.alternate;bt!==null&&(bt=bt.updateQueue,ge=bt.lastBaseUpdate,ge!==ie&&(ge===null?bt.firstBaseUpdate=Qe:ge.next=Qe,bt.lastBaseUpdate=Re))}if(W!==null){var At=U.baseState;ie=0,bt=Qe=Re=null,ge=W;do{var rt=ge.lane&-536870913,ot=rt!==ge.lane;if(ot?(fr&rt)===rt:(D&rt)===rt){rt!==0&&rt===Vi&&(zs=!0),bt!==null&&(bt=bt.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var Zt=w,Xt=ge;rt=C;var wr=O;switch(Xt.tag){case 1:if(Zt=Xt.payload,typeof Zt=="function"){At=Zt.call(wr,At,rt);break e}At=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=Xt.payload,rt=typeof Zt=="function"?Zt.call(wr,At,rt):Zt,rt==null)break e;At=b({},At,rt);break e;case 2:Wn=!0}}rt=ge.callback,rt!==null&&(w.flags|=64,ot&&(w.flags|=8192),ot=U.callbacks,ot===null?U.callbacks=[rt]:ot.push(rt))}else ot={lane:rt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},bt===null?(Qe=bt=ot,Re=At):bt=bt.next=ot,ie|=rt;if(ge=ge.next,ge===null){if(ge=U.shared.pending,ge===null)break;ot=ge,ge=ot.next,ot.next=null,U.lastBaseUpdate=ot,U.shared.pending=null}}while(!0);bt===null&&(Re=At),U.baseState=Re,U.firstBaseUpdate=Qe,U.lastBaseUpdate=bt,W===null&&(U.shared.lanes=0),ni|=ie,w.lanes=ie,w.memoizedState=At}}function Xu(w,C){if(typeof w!="function")throw Error(s(191,w));w.call(C)}function Yu(w,C){var O=w.callbacks;if(O!==null)for(w.callbacks=null,w=0;w<O.length;w++)Xu(O[w],C)}var Gi=de(null),Ca=de(0);function Ku(w,C){w=Un,oe(Ca,w),oe(Gi,C),Un=w|C.baseLanes}function qs(){oe(Ca,Un),oe(Gi,Gi.current)}function Vs(){Un=Ca.current,we(Gi),we(Ca)}var Kn=0,sr=null,vr=null,Dr=null,Aa=!1,Wi=!1,Ei=!1,Ta=0,$o=0,Xi=null,yp=0;function Rr(){throw Error(s(321))}function Hs(w,C){if(C===null)return!1;for(var O=0;O<C.length&&O<w.length;O++)if(!Jr(w[O],C[O]))return!1;return!0}function Gs(w,C,O,D,U,W){return Kn=W,sr=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,G.H=w===null||w.memoizedState===null?Mc:Nc,Ei=!1,W=O(D,U),Ei=!1,Wi&&(W=Ju(C,O,D,U)),Zu(w),W}function Zu(w){G.H=Pa;var C=vr!==null&&vr.next!==null;if(Kn=0,Dr=vr=sr=null,Aa=!1,$o=0,Xi=null,C)throw Error(s(300));w===null||Br||(w=w.dependencies,w!==null&&va(w)&&(Br=!0))}function Ju(w,C,O,D){sr=w;var U=0;do{if(Wi&&(Xi=null),$o=0,Wi=!1,25<=U)throw Error(s(301));if(U+=1,Dr=vr=null,w.updateQueue!=null){var W=w.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}G.H=Sp,W=C(O,D)}while(Wi);return W}function xp(){var w=G.H,C=w.useState()[0];return C=typeof C.then=="function"?Fo(C):C,w=w.useState()[0],(vr!==null?vr.memoizedState:null)!==w&&(sr.flags|=1024),C}function Ws(){var w=Ta!==0;return Ta=0,w}function Xs(w,C,O){C.updateQueue=w.updateQueue,C.flags&=-2053,w.lanes&=~O}function Ys(w){if(Aa){for(w=w.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}Aa=!1}Kn=0,Dr=vr=sr=null,Wi=!1,$o=Ta=0,Xi=null}function Yr(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?sr.memoizedState=Dr=w:Dr=Dr.next=w,Dr}function Pr(){if(vr===null){var w=sr.alternate;w=w!==null?w.memoizedState:null}else w=vr.next;var C=Dr===null?sr.memoizedState:Dr.next;if(C!==null)Dr=C,vr=w;else{if(w===null)throw sr.alternate===null?Error(s(467)):Error(s(310));vr=w,w={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Dr===null?sr.memoizedState=Dr=w:Dr=Dr.next=w}return Dr}function Ks(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(w){var C=$o;return $o+=1,Xi===null&&(Xi=[]),w=Hu(Xi,w,C),C=sr,(Dr===null?C.memoizedState:Dr.next)===null&&(C=C.alternate,G.H=C===null||C.memoizedState===null?Mc:Nc),w}function Oa(w){if(w!==null&&typeof w=="object"){if(typeof w.then=="function")return Fo(w);if(w.$$typeof===$)return qr(w)}throw Error(s(438,String(w)))}function Zs(w){var C=null,O=sr.updateQueue;if(O!==null&&(C=O.memoCache),C==null){var D=sr.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(C={data:D.data.map(function(U){return U.slice()}),index:0})))}if(C==null&&(C={data:[],index:0}),O===null&&(O=Ks(),sr.updateQueue=O),O.memoCache=C,O=C.data[C.index],O===void 0)for(O=C.data[C.index]=Array(w),D=0;D<w;D++)O[D]=L;return C.index++,O}function Nn(w,C){return typeof C=="function"?C(w):C}function Ia(w){var C=Pr();return Js(C,vr,w)}function Js(w,C,O){var D=w.queue;if(D===null)throw Error(s(311));D.lastRenderedReducer=O;var U=w.baseQueue,W=D.pending;if(W!==null){if(U!==null){var ie=U.next;U.next=W.next,W.next=ie}C.baseQueue=U=W,D.pending=null}if(W=w.baseState,U===null)w.memoizedState=W;else{C=U.next;var ge=ie=null,Re=null,Qe=C,bt=!1;do{var At=Qe.lane&-536870913;if(At!==Qe.lane?(fr&At)===At:(Kn&At)===At){var rt=Qe.revertLane;if(rt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),At===Vi&&(bt=!0);else if((Kn&rt)===rt){Qe=Qe.next,rt===Vi&&(bt=!0);continue}else At={lane:0,revertLane:Qe.revertLane,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Re===null?(ge=Re=At,ie=W):Re=Re.next=At,sr.lanes|=rt,ni|=rt;At=Qe.action,Ei&&O(W,At),W=Qe.hasEagerState?Qe.eagerState:O(W,At)}else rt={lane:At,revertLane:Qe.revertLane,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Re===null?(ge=Re=rt,ie=W):Re=Re.next=rt,sr.lanes|=At,ni|=At;Qe=Qe.next}while(Qe!==null&&Qe!==C);if(Re===null?ie=W:Re.next=ge,!Jr(W,w.memoizedState)&&(Br=!0,bt&&(O=Hi,O!==null)))throw O;w.memoizedState=W,w.baseState=ie,w.baseQueue=Re,D.lastRenderedState=W}return U===null&&(D.lanes=0),[w.memoizedState,D.dispatch]}function Qs(w){var C=Pr(),O=C.queue;if(O===null)throw Error(s(311));O.lastRenderedReducer=w;var D=O.dispatch,U=O.pending,W=C.memoizedState;if(U!==null){O.pending=null;var ie=U=U.next;do W=w(W,ie.action),ie=ie.next;while(ie!==U);Jr(W,C.memoizedState)||(Br=!0),C.memoizedState=W,C.baseQueue===null&&(C.baseState=W),O.lastRenderedState=W}return[W,D]}function Qu(w,C,O){var D=sr,U=Pr(),W=hr;if(W){if(O===void 0)throw Error(s(407));O=O()}else O=C();var ie=!Jr((vr||U).memoizedState,O);ie&&(U.memoizedState=O,Br=!0),U=U.queue;var ge=rc.bind(null,D,U,w);if(Lo(2048,8,ge,[w]),U.getSnapshot!==C||ie||Dr!==null&&Dr.memoizedState.tag&1){if(D.flags|=2048,Yi(9,Ra(),tc.bind(null,D,U,O,C),null),Sr===null)throw Error(s(349));W||(Kn&124)!==0||ec(D,C,O)}return O}function ec(w,C,O){w.flags|=16384,w={getSnapshot:C,value:O},C=sr.updateQueue,C===null?(C=Ks(),sr.updateQueue=C,C.stores=[w]):(O=C.stores,O===null?C.stores=[w]:O.push(w))}function tc(w,C,O,D){C.value=O,C.getSnapshot=D,nc(C)&&ic(w)}function rc(w,C,O){return O(function(){nc(C)&&ic(w)})}function nc(w){var C=w.getSnapshot;w=w.value;try{var O=C();return!Jr(w,O)}catch{return!0}}function ic(w){var C=ji(w,2);C!==null&&on(C,w,2)}function el(w){var C=Yr();if(typeof w=="function"){var O=w;if(w=O(),Ei){Ct(!0);try{O()}finally{Ct(!1)}}}return C.memoizedState=C.baseState=w,C.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:w},C}function oc(w,C,O,D){return w.baseState=O,Js(w,vr,typeof D=="function"?D:Nn)}function vp(w,C,O,D,U){if(Da(w))throw Error(s(485));if(w=C.action,w!==null){var W={payload:U,action:w,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){W.listeners.push(ie)}};G.T!==null?O(!0):W.isTransition=!1,D(W),O=C.pending,O===null?(W.next=C.pending=W,ac(C,W)):(W.next=O.next,C.pending=O.next=W)}}function ac(w,C){var O=C.action,D=C.payload,U=w.state;if(C.isTransition){var W=G.T,ie={};G.T=ie;try{var ge=O(U,D),Re=G.S;Re!==null&&Re(ie,ge),sc(w,C,ge)}catch(Qe){tl(w,C,Qe)}finally{G.T=W}}else try{W=O(U,D),sc(w,C,W)}catch(Qe){tl(w,C,Qe)}}function sc(w,C,O){O!==null&&typeof O=="object"&&typeof O.then=="function"?O.then(function(D){lc(w,C,D)},function(D){return tl(w,C,D)}):lc(w,C,O)}function lc(w,C,O){C.status="fulfilled",C.value=O,uc(C),w.state=O,C=w.pending,C!==null&&(O=C.next,O===C?w.pending=null:(O=O.next,C.next=O,ac(w,O)))}function tl(w,C,O){var D=w.pending;if(w.pending=null,D!==null){D=D.next;do C.status="rejected",C.reason=O,uc(C),C=C.next;while(C!==D)}w.action=null}function uc(w){w=w.listeners;for(var C=0;C<w.length;C++)(0,w[C])()}function fc(w,C){return C}function dc(w,C){if(hr){var O=Sr.formState;if(O!==null){e:{var D=sr;if(hr){if(Or){t:{for(var U=Or,W=wn;U.nodeType!==8;){if(!W){U=null;break t}if(U=vn(U.nextSibling),U===null){U=null;break t}}W=U.data,U=W==="F!"||W==="F"?U:null}if(U){Or=vn(U.nextSibling),D=U.data==="F!";break e}}vi(D)}D=!1}D&&(C=O[0])}}return O=Yr(),O.memoizedState=O.baseState=C,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:C},O.queue=D,O=kc.bind(null,sr,D),D.dispatch=O,D=el(!1),W=al.bind(null,sr,!1,D.queue),D=Yr(),U={state:C,dispatch:null,action:w,pending:null},D.queue=U,O=vp.bind(null,sr,U,W,O),U.dispatch=O,D.memoizedState=w,[C,O,!1]}function pc(w){var C=Pr();return hc(C,vr,w)}function hc(w,C,O){if(C=Js(w,C,fc)[0],w=Ia(Nn)[0],typeof C=="object"&&C!==null&&typeof C.then=="function")try{var D=Fo(C)}catch(ie){throw ie===Do?Ea:ie}else D=C;C=Pr();var U=C.queue,W=U.dispatch;return O!==C.memoizedState&&(sr.flags|=2048,Yi(9,Ra(),bp.bind(null,U,O),null)),[D,W,w]}function bp(w,C){w.action=C}function gc(w){var C=Pr(),O=vr;if(O!==null)return hc(C,O,w);Pr(),C=C.memoizedState,O=Pr();var D=O.queue.dispatch;return O.memoizedState=w,[C,D,!1]}function Yi(w,C,O,D){return w={tag:w,create:O,deps:D,inst:C,next:null},C=sr.updateQueue,C===null&&(C=Ks(),sr.updateQueue=C),O=C.lastEffect,O===null?C.lastEffect=w.next=w:(D=O.next,O.next=w,w.next=D,C.lastEffect=w),w}function Ra(){return{destroy:void 0,resource:void 0}}function mc(){return Pr().memoizedState}function ka(w,C,O,D){var U=Yr();D=D===void 0?null:D,sr.flags|=w,U.memoizedState=Yi(1|C,Ra(),O,D)}function Lo(w,C,O,D){var U=Pr();D=D===void 0?null:D;var W=U.memoizedState.inst;vr!==null&&D!==null&&Hs(D,vr.memoizedState.deps)?U.memoizedState=Yi(C,W,O,D):(sr.flags|=w,U.memoizedState=Yi(1|C,W,O,D))}function yc(w,C){ka(8390656,8,w,C)}function xc(w,C){Lo(2048,8,w,C)}function vc(w,C){return Lo(4,2,w,C)}function bc(w,C){return Lo(4,4,w,C)}function wc(w,C){if(typeof C=="function"){w=w();var O=C(w);return function(){typeof O=="function"?O():C(null)}}if(C!=null)return w=w(),C.current=w,function(){C.current=null}}function _c(w,C,O){O=O!=null?O.concat([w]):null,Lo(4,4,wc.bind(null,C,w),O)}function rl(){}function Ec(w,C){var O=Pr();C=C===void 0?null:C;var D=O.memoizedState;return C!==null&&Hs(C,D[1])?D[0]:(O.memoizedState=[w,C],w)}function Sc(w,C){var O=Pr();C=C===void 0?null:C;var D=O.memoizedState;if(C!==null&&Hs(C,D[1]))return D[0];if(D=w(),Ei){Ct(!0);try{w()}finally{Ct(!1)}}return O.memoizedState=[D,C],D}function nl(w,C,O){return O===void 0||(Kn&1073741824)!==0?w.memoizedState=C:(w.memoizedState=O,w=Of(),sr.lanes|=w,ni|=w,O)}function Cc(w,C,O,D){return Jr(O,C)?O:Gi.current!==null?(w=nl(w,O,D),Jr(w,C)||(Br=!0),w):(Kn&42)===0?(Br=!0,w.memoizedState=O):(w=Of(),sr.lanes|=w,ni|=w,C)}function Ac(w,C,O,D,U){var W=te.p;te.p=W!==0&&8>W?W:8;var ie=G.T,ge={};G.T=ge,al(w,!1,C,O);try{var Re=U(),Qe=G.S;if(Qe!==null&&Qe(ge,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var bt=mp(Re,D);jo(w,C,bt,nn(w))}else jo(w,C,D,nn(w))}catch(At){jo(w,C,{then:function(){},status:"rejected",reason:At},nn())}finally{te.p=W,G.T=ie}}function wp(){}function il(w,C,O,D){if(w.tag!==5)throw Error(s(476));var U=Tc(w).queue;Ac(w,U,C,ue,O===null?wp:function(){return Oc(w),O(D)})}function Tc(w){var C=w.memoizedState;if(C!==null)return C;C={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:ue},next:null};var O={};return C.next={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:O},next:null},w.memoizedState=C,w=w.alternate,w!==null&&(w.memoizedState=C),C}function Oc(w){var C=Tc(w).next.queue;jo(w,C,{},nn())}function ol(){return qr(ia)}function Ic(){return Pr().memoizedState}function Rc(){return Pr().memoizedState}function _p(w){for(var C=w.return;C!==null;){switch(C.tag){case 24:case 3:var O=nn();w=Xn(O);var D=Yn(C,w,O);D!==null&&(on(D,C,O),Mo(D,C,O)),C={cache:Ns()},w.payload=C;return}C=C.return}}function Ep(w,C,O){var D=nn();O={lane:D,revertLane:0,action:O,hasEagerState:!1,eagerState:null,next:null},Da(w)?Dc(C,O):(O=Cs(w,C,O,D),O!==null&&(on(O,w,D),Pc(O,C,D)))}function kc(w,C,O){var D=nn();jo(w,C,O,D)}function jo(w,C,O,D){var U={lane:D,revertLane:0,action:O,hasEagerState:!1,eagerState:null,next:null};if(Da(w))Dc(C,U);else{var W=w.alternate;if(w.lanes===0&&(W===null||W.lanes===0)&&(W=C.lastRenderedReducer,W!==null))try{var ie=C.lastRenderedState,ge=W(ie,O);if(U.hasEagerState=!0,U.eagerState=ge,Jr(ge,ie))return ha(w,C,U,0),Sr===null&&pa(),!1}catch{}finally{}if(O=Cs(w,C,U,D),O!==null)return on(O,w,D),Pc(O,C,D),!0}return!1}function al(w,C,O,D){if(D={lane:2,revertLane:Fl(),action:D,hasEagerState:!1,eagerState:null,next:null},Da(w)){if(C)throw Error(s(479))}else C=Cs(w,O,D,2),C!==null&&on(C,w,2)}function Da(w){var C=w.alternate;return w===sr||C!==null&&C===sr}function Dc(w,C){Wi=Aa=!0;var O=w.pending;O===null?C.next=C:(C.next=O.next,O.next=C),w.pending=C}function Pc(w,C,O){if((O&4194048)!==0){var D=C.lanes;D&=w.pendingLanes,O|=D,C.lanes=O,Me(w,O)}}var Pa={readContext:qr,use:Oa,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useLayoutEffect:Rr,useInsertionEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useSyncExternalStore:Rr,useId:Rr,useHostTransitionStatus:Rr,useFormState:Rr,useActionState:Rr,useOptimistic:Rr,useMemoCache:Rr,useCacheRefresh:Rr},Mc={readContext:qr,use:Oa,useCallback:function(w,C){return Yr().memoizedState=[w,C===void 0?null:C],w},useContext:qr,useEffect:yc,useImperativeHandle:function(w,C,O){O=O!=null?O.concat([w]):null,ka(4194308,4,wc.bind(null,C,w),O)},useLayoutEffect:function(w,C){return ka(4194308,4,w,C)},useInsertionEffect:function(w,C){ka(4,2,w,C)},useMemo:function(w,C){var O=Yr();C=C===void 0?null:C;var D=w();if(Ei){Ct(!0);try{w()}finally{Ct(!1)}}return O.memoizedState=[D,C],D},useReducer:function(w,C,O){var D=Yr();if(O!==void 0){var U=O(C);if(Ei){Ct(!0);try{O(C)}finally{Ct(!1)}}}else U=C;return D.memoizedState=D.baseState=U,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w,lastRenderedState:U},D.queue=w,w=w.dispatch=Ep.bind(null,sr,w),[D.memoizedState,w]},useRef:function(w){var C=Yr();return w={current:w},C.memoizedState=w},useState:function(w){w=el(w);var C=w.queue,O=kc.bind(null,sr,C);return C.dispatch=O,[w.memoizedState,O]},useDebugValue:rl,useDeferredValue:function(w,C){var O=Yr();return nl(O,w,C)},useTransition:function(){var w=el(!1);return w=Ac.bind(null,sr,w.queue,!0,!1),Yr().memoizedState=w,[!1,w]},useSyncExternalStore:function(w,C,O){var D=sr,U=Yr();if(hr){if(O===void 0)throw Error(s(407));O=O()}else{if(O=C(),Sr===null)throw Error(s(349));(fr&124)!==0||ec(D,C,O)}U.memoizedState=O;var W={value:O,getSnapshot:C};return U.queue=W,yc(rc.bind(null,D,W,w),[w]),D.flags|=2048,Yi(9,Ra(),tc.bind(null,D,W,O,C),null),O},useId:function(){var w=Yr(),C=Sr.identifierPrefix;if(hr){var O=Dn,D=kn;O=(D&~(1<<32-ce(D)-1)).toString(32)+O,C="«"+C+"R"+O,O=Ta++,0<O&&(C+="H"+O.toString(32)),C+="»"}else O=yp++,C="«"+C+"r"+O.toString(32)+"»";return w.memoizedState=C},useHostTransitionStatus:ol,useFormState:dc,useActionState:dc,useOptimistic:function(w){var C=Yr();C.memoizedState=C.baseState=w;var O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return C.queue=O,C=al.bind(null,sr,!0,O),O.dispatch=C,[w,C]},useMemoCache:Zs,useCacheRefresh:function(){return Yr().memoizedState=_p.bind(null,sr)}},Nc={readContext:qr,use:Oa,useCallback:Ec,useContext:qr,useEffect:xc,useImperativeHandle:_c,useInsertionEffect:vc,useLayoutEffect:bc,useMemo:Sc,useReducer:Ia,useRef:mc,useState:function(){return Ia(Nn)},useDebugValue:rl,useDeferredValue:function(w,C){var O=Pr();return Cc(O,vr.memoizedState,w,C)},useTransition:function(){var w=Ia(Nn)[0],C=Pr().memoizedState;return[typeof w=="boolean"?w:Fo(w),C]},useSyncExternalStore:Qu,useId:Ic,useHostTransitionStatus:ol,useFormState:pc,useActionState:pc,useOptimistic:function(w,C){var O=Pr();return oc(O,vr,w,C)},useMemoCache:Zs,useCacheRefresh:Rc},Sp={readContext:qr,use:Oa,useCallback:Ec,useContext:qr,useEffect:xc,useImperativeHandle:_c,useInsertionEffect:vc,useLayoutEffect:bc,useMemo:Sc,useReducer:Qs,useRef:mc,useState:function(){return Qs(Nn)},useDebugValue:rl,useDeferredValue:function(w,C){var O=Pr();return vr===null?nl(O,w,C):Cc(O,vr.memoizedState,w,C)},useTransition:function(){var w=Qs(Nn)[0],C=Pr().memoizedState;return[typeof w=="boolean"?w:Fo(w),C]},useSyncExternalStore:Qu,useId:Ic,useHostTransitionStatus:ol,useFormState:gc,useActionState:gc,useOptimistic:function(w,C){var O=Pr();return vr!==null?oc(O,vr,w,C):(O.baseState=w,[w,O.queue.dispatch])},useMemoCache:Zs,useCacheRefresh:Rc},Ki=null,Uo=0;function Ma(w){var C=Uo;return Uo+=1,Ki===null&&(Ki=[]),Hu(Ki,w,C)}function zo(w,C){C=C.props.ref,w.ref=C!==void 0?C:null}function Na(w,C){throw C.$$typeof===h?Error(s(525)):(w=Object.prototype.toString.call(C),Error(s(31,w==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":w)))}function Bc(w){var C=w._init;return C(w._payload)}function $c(w){function C(Ve,Be){if(w){var Ze=Ve.deletions;Ze===null?(Ve.deletions=[Be],Ve.flags|=16):Ze.push(Be)}}function O(Ve,Be){if(!w)return null;for(;Be!==null;)C(Ve,Be),Be=Be.sibling;return null}function D(Ve){for(var Be=new Map;Ve!==null;)Ve.key!==null?Be.set(Ve.key,Ve):Be.set(Ve.index,Ve),Ve=Ve.sibling;return Be}function U(Ve,Be){return Ve=Rn(Ve,Be),Ve.index=0,Ve.sibling=null,Ve}function W(Ve,Be,Ze){return Ve.index=Ze,w?(Ze=Ve.alternate,Ze!==null?(Ze=Ze.index,Ze<Be?(Ve.flags|=67108866,Be):Ze):(Ve.flags|=67108866,Be)):(Ve.flags|=1048576,Be)}function ie(Ve){return w&&Ve.alternate===null&&(Ve.flags|=67108866),Ve}function ge(Ve,Be,Ze,wt){return Be===null||Be.tag!==6?(Be=Ts(Ze,Ve.mode,wt),Be.return=Ve,Be):(Be=U(Be,Ze),Be.return=Ve,Be)}function Re(Ve,Be,Ze,wt){var qt=Ze.type;return qt===_?bt(Ve,Be,Ze.props.children,wt,Ze.key):Be!==null&&(Be.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===H&&Bc(qt)===Be.type)?(Be=U(Be,Ze.props),zo(Be,Ze),Be.return=Ve,Be):(Be=ma(Ze.type,Ze.key,Ze.props,null,Ve.mode,wt),zo(Be,Ze),Be.return=Ve,Be)}function Qe(Ve,Be,Ze,wt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Ze.containerInfo||Be.stateNode.implementation!==Ze.implementation?(Be=Os(Ze,Ve.mode,wt),Be.return=Ve,Be):(Be=U(Be,Ze.children||[]),Be.return=Ve,Be)}function bt(Ve,Be,Ze,wt,qt){return Be===null||Be.tag!==7?(Be=gi(Ze,Ve.mode,wt,qt),Be.return=Ve,Be):(Be=U(Be,Ze),Be.return=Ve,Be)}function At(Ve,Be,Ze){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Be=Ts(""+Be,Ve.mode,Ze),Be.return=Ve,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case d:return Ze=ma(Be.type,Be.key,Be.props,null,Ve.mode,Ze),zo(Ze,Be),Ze.return=Ve,Ze;case v:return Be=Os(Be,Ve.mode,Ze),Be.return=Ve,Be;case H:var wt=Be._init;return Be=wt(Be._payload),At(Ve,Be,Ze)}if(Q(Be)||Z(Be))return Be=gi(Be,Ve.mode,Ze,null),Be.return=Ve,Be;if(typeof Be.then=="function")return At(Ve,Ma(Be),Ze);if(Be.$$typeof===$)return At(Ve,ba(Ve,Be),Ze);Na(Ve,Be)}return null}function rt(Ve,Be,Ze,wt){var qt=Be!==null?Be.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return qt!==null?null:ge(Ve,Be,""+Ze,wt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case d:return Ze.key===qt?Re(Ve,Be,Ze,wt):null;case v:return Ze.key===qt?Qe(Ve,Be,Ze,wt):null;case H:return qt=Ze._init,Ze=qt(Ze._payload),rt(Ve,Be,Ze,wt)}if(Q(Ze)||Z(Ze))return qt!==null?null:bt(Ve,Be,Ze,wt,null);if(typeof Ze.then=="function")return rt(Ve,Be,Ma(Ze),wt);if(Ze.$$typeof===$)return rt(Ve,Be,ba(Ve,Ze),wt);Na(Ve,Ze)}return null}function ot(Ve,Be,Ze,wt,qt){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return Ve=Ve.get(Ze)||null,ge(Be,Ve,""+wt,qt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case d:return Ve=Ve.get(wt.key===null?Ze:wt.key)||null,Re(Be,Ve,wt,qt);case v:return Ve=Ve.get(wt.key===null?Ze:wt.key)||null,Qe(Be,Ve,wt,qt);case H:var lr=wt._init;return wt=lr(wt._payload),ot(Ve,Be,Ze,wt,qt)}if(Q(wt)||Z(wt))return Ve=Ve.get(Ze)||null,bt(Be,Ve,wt,qt,null);if(typeof wt.then=="function")return ot(Ve,Be,Ze,Ma(wt),qt);if(wt.$$typeof===$)return ot(Ve,Be,Ze,ba(Be,wt),qt);Na(Be,wt)}return null}function Zt(Ve,Be,Ze,wt){for(var qt=null,lr=null,Gt=Be,Yt=Be=0,Fr=null;Gt!==null&&Yt<Ze.length;Yt++){Gt.index>Yt?(Fr=Gt,Gt=null):Fr=Gt.sibling;var pr=rt(Ve,Gt,Ze[Yt],wt);if(pr===null){Gt===null&&(Gt=Fr);break}w&&Gt&&pr.alternate===null&&C(Ve,Gt),Be=W(pr,Be,Yt),lr===null?qt=pr:lr.sibling=pr,lr=pr,Gt=Fr}if(Yt===Ze.length)return O(Ve,Gt),hr&&yi(Ve,Yt),qt;if(Gt===null){for(;Yt<Ze.length;Yt++)Gt=At(Ve,Ze[Yt],wt),Gt!==null&&(Be=W(Gt,Be,Yt),lr===null?qt=Gt:lr.sibling=Gt,lr=Gt);return hr&&yi(Ve,Yt),qt}for(Gt=D(Gt);Yt<Ze.length;Yt++)Fr=ot(Gt,Ve,Yt,Ze[Yt],wt),Fr!==null&&(w&&Fr.alternate!==null&&Gt.delete(Fr.key===null?Yt:Fr.key),Be=W(Fr,Be,Yt),lr===null?qt=Fr:lr.sibling=Fr,lr=Fr);return w&&Gt.forEach(function(di){return C(Ve,di)}),hr&&yi(Ve,Yt),qt}function Xt(Ve,Be,Ze,wt){if(Ze==null)throw Error(s(151));for(var qt=null,lr=null,Gt=Be,Yt=Be=0,Fr=null,pr=Ze.next();Gt!==null&&!pr.done;Yt++,pr=Ze.next()){Gt.index>Yt?(Fr=Gt,Gt=null):Fr=Gt.sibling;var di=rt(Ve,Gt,pr.value,wt);if(di===null){Gt===null&&(Gt=Fr);break}w&&Gt&&di.alternate===null&&C(Ve,Gt),Be=W(di,Be,Yt),lr===null?qt=di:lr.sibling=di,lr=di,Gt=Fr}if(pr.done)return O(Ve,Gt),hr&&yi(Ve,Yt),qt;if(Gt===null){for(;!pr.done;Yt++,pr=Ze.next())pr=At(Ve,pr.value,wt),pr!==null&&(Be=W(pr,Be,Yt),lr===null?qt=pr:lr.sibling=pr,lr=pr);return hr&&yi(Ve,Yt),qt}for(Gt=D(Gt);!pr.done;Yt++,pr=Ze.next())pr=ot(Gt,Ve,Yt,pr.value,wt),pr!==null&&(w&&pr.alternate!==null&&Gt.delete(pr.key===null?Yt:pr.key),Be=W(pr,Be,Yt),lr===null?qt=pr:lr.sibling=pr,lr=pr);return w&&Gt.forEach(function(Ch){return C(Ve,Ch)}),hr&&yi(Ve,Yt),qt}function wr(Ve,Be,Ze,wt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===_&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case d:e:{for(var qt=Ze.key;Be!==null;){if(Be.key===qt){if(qt=Ze.type,qt===_){if(Be.tag===7){O(Ve,Be.sibling),wt=U(Be,Ze.props.children),wt.return=Ve,Ve=wt;break e}}else if(Be.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===H&&Bc(qt)===Be.type){O(Ve,Be.sibling),wt=U(Be,Ze.props),zo(wt,Ze),wt.return=Ve,Ve=wt;break e}O(Ve,Be);break}else C(Ve,Be);Be=Be.sibling}Ze.type===_?(wt=gi(Ze.props.children,Ve.mode,wt,Ze.key),wt.return=Ve,Ve=wt):(wt=ma(Ze.type,Ze.key,Ze.props,null,Ve.mode,wt),zo(wt,Ze),wt.return=Ve,Ve=wt)}return ie(Ve);case v:e:{for(qt=Ze.key;Be!==null;){if(Be.key===qt)if(Be.tag===4&&Be.stateNode.containerInfo===Ze.containerInfo&&Be.stateNode.implementation===Ze.implementation){O(Ve,Be.sibling),wt=U(Be,Ze.children||[]),wt.return=Ve,Ve=wt;break e}else{O(Ve,Be);break}else C(Ve,Be);Be=Be.sibling}wt=Os(Ze,Ve.mode,wt),wt.return=Ve,Ve=wt}return ie(Ve);case H:return qt=Ze._init,Ze=qt(Ze._payload),wr(Ve,Be,Ze,wt)}if(Q(Ze))return Zt(Ve,Be,Ze,wt);if(Z(Ze)){if(qt=Z(Ze),typeof qt!="function")throw Error(s(150));return Ze=qt.call(Ze),Xt(Ve,Be,Ze,wt)}if(typeof Ze.then=="function")return wr(Ve,Be,Ma(Ze),wt);if(Ze.$$typeof===$)return wr(Ve,Be,ba(Ve,Ze),wt);Na(Ve,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,Be!==null&&Be.tag===6?(O(Ve,Be.sibling),wt=U(Be,Ze),wt.return=Ve,Ve=wt):(O(Ve,Be),wt=Ts(Ze,Ve.mode,wt),wt.return=Ve,Ve=wt),ie(Ve)):O(Ve,Be)}return function(Ve,Be,Ze,wt){try{Uo=0;var qt=wr(Ve,Be,Ze,wt);return Ki=null,qt}catch(Gt){if(Gt===Do||Gt===Ea)throw Gt;var lr=Qr(29,Gt,null,Ve.mode);return lr.lanes=wt,lr.return=Ve,lr}finally{}}}var Zi=$c(!0),Fc=$c(!1),fn=de(null),_n=null;function Zn(w){var C=w.alternate;oe(Nr,Nr.current&1),oe(fn,w),_n===null&&(C===null||Gi.current!==null||C.memoizedState!==null)&&(_n=w)}function Lc(w){if(w.tag===22){if(oe(Nr,Nr.current),oe(fn,w),_n===null){var C=w.alternate;C!==null&&C.memoizedState!==null&&(_n=w)}}else Jn()}function Jn(){oe(Nr,Nr.current),oe(fn,fn.current)}function Bn(w){we(fn),_n===w&&(_n=null),we(Nr)}var Nr=de(0);function Ba(w){for(var C=w;C!==null;){if(C.tag===13){var O=C.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||Kl(O)))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if((C.flags&128)!==0)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===w)break;for(;C.sibling===null;){if(C.return===null||C.return===w)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}function sl(w,C,O,D){C=w.memoizedState,O=O(D,C),O=O==null?C:b({},C,O),w.memoizedState=O,w.lanes===0&&(w.updateQueue.baseState=O)}var ll={enqueueSetState:function(w,C,O){w=w._reactInternals;var D=nn(),U=Xn(D);U.payload=C,O!=null&&(U.callback=O),C=Yn(w,U,D),C!==null&&(on(C,w,D),Mo(C,w,D))},enqueueReplaceState:function(w,C,O){w=w._reactInternals;var D=nn(),U=Xn(D);U.tag=1,U.payload=C,O!=null&&(U.callback=O),C=Yn(w,U,D),C!==null&&(on(C,w,D),Mo(C,w,D))},enqueueForceUpdate:function(w,C){w=w._reactInternals;var O=nn(),D=Xn(O);D.tag=2,C!=null&&(D.callback=C),C=Yn(w,D,O),C!==null&&(on(C,w,O),Mo(C,w,O))}};function jc(w,C,O,D,U,W,ie){return w=w.stateNode,typeof w.shouldComponentUpdate=="function"?w.shouldComponentUpdate(D,W,ie):C.prototype&&C.prototype.isPureReactComponent?!So(O,D)||!So(U,W):!0}function Uc(w,C,O,D){w=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(O,D),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(O,D),C.state!==w&&ll.enqueueReplaceState(C,C.state,null)}function Si(w,C){var O=C;if("ref"in C){O={};for(var D in C)D!=="ref"&&(O[D]=C[D])}if(w=w.defaultProps){O===C&&(O=b({},O));for(var U in w)O[U]===void 0&&(O[U]=w[U])}return O}var $a=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function zc(w){$a(w)}function qc(w){console.error(w)}function Vc(w){$a(w)}function Fa(w,C){try{var O=w.onUncaughtError;O(C.value,{componentStack:C.stack})}catch(D){setTimeout(function(){throw D})}}function Hc(w,C,O){try{var D=w.onCaughtError;D(O.value,{componentStack:O.stack,errorBoundary:C.tag===1?C.stateNode:null})}catch(U){setTimeout(function(){throw U})}}function ul(w,C,O){return O=Xn(O),O.tag=3,O.payload={element:null},O.callback=function(){Fa(w,C)},O}function Gc(w){return w=Xn(w),w.tag=3,w}function Wc(w,C,O,D){var U=O.type.getDerivedStateFromError;if(typeof U=="function"){var W=D.value;w.payload=function(){return U(W)},w.callback=function(){Hc(C,O,D)}}var ie=O.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(w.callback=function(){Hc(C,O,D),typeof U!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var ge=D.stack;this.componentDidCatch(D.value,{componentStack:ge!==null?ge:""})})}function Cp(w,C,O,D,U){if(O.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(C=O.alternate,C!==null&&Io(C,O,U,!0),O=fn.current,O!==null){switch(O.tag){case 13:return _n===null?Pl():O.alternate===null&&Ir===0&&(Ir=3),O.flags&=-257,O.flags|=65536,O.lanes=U,D===Fs?O.flags|=16384:(C=O.updateQueue,C===null?O.updateQueue=new Set([D]):C.add(D),Nl(w,D,U)),!1;case 22:return O.flags|=65536,D===Fs?O.flags|=16384:(C=O.updateQueue,C===null?(C={transitions:null,markerInstances:null,retryQueue:new Set([D])},O.updateQueue=C):(O=C.retryQueue,O===null?C.retryQueue=new Set([D]):O.add(D)),Nl(w,D,U)),!1}throw Error(s(435,O.tag))}return Nl(w,D,U),Pl(),!1}if(hr)return C=fn.current,C!==null?((C.flags&65536)===0&&(C.flags|=256),C.flags|=65536,C.lanes=U,D!==ks&&(w=Error(s(422),{cause:D}),Oo(sn(w,O)))):(D!==ks&&(C=Error(s(423),{cause:D}),Oo(sn(C,O))),w=w.current.alternate,w.flags|=65536,U&=-U,w.lanes|=U,D=sn(D,O),U=ul(w.stateNode,D,U),Us(w,U),Ir!==4&&(Ir=2)),!1;var W=Error(s(520),{cause:D});if(W=sn(W,O),Yo===null?Yo=[W]:Yo.push(W),Ir!==4&&(Ir=2),C===null)return!0;D=sn(D,O),O=C;do{switch(O.tag){case 3:return O.flags|=65536,w=U&-U,O.lanes|=w,w=ul(O.stateNode,D,w),Us(O,w),!1;case 1:if(C=O.type,W=O.stateNode,(O.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(ii===null||!ii.has(W))))return O.flags|=65536,U&=-U,O.lanes|=U,U=Gc(U),Wc(U,w,O,D),Us(O,U),!1}O=O.return}while(O!==null);return!1}var Xc=Error(s(461)),Br=!1;function Lr(w,C,O,D){C.child=w===null?Fc(C,null,O,D):Zi(C,w.child,O,D)}function Yc(w,C,O,D,U){O=O.render;var W=C.ref;if("ref"in D){var ie={};for(var ge in D)ge!=="ref"&&(ie[ge]=D[ge])}else ie=D;return wi(C),D=Gs(w,C,O,ie,W,U),ge=Ws(),w!==null&&!Br?(Xs(w,C,U),$n(w,C,U)):(hr&&ge&&Is(C),C.flags|=1,Lr(w,C,D,U),C.child)}function Kc(w,C,O,D,U){if(w===null){var W=O.type;return typeof W=="function"&&!As(W)&&W.defaultProps===void 0&&O.compare===null?(C.tag=15,C.type=W,Zc(w,C,W,D,U)):(w=ma(O.type,null,D,C,C.mode,U),w.ref=C.ref,w.return=C,C.child=w)}if(W=w.child,!yl(w,U)){var ie=W.memoizedProps;if(O=O.compare,O=O!==null?O:So,O(ie,D)&&w.ref===C.ref)return $n(w,C,U)}return C.flags|=1,w=Rn(W,D),w.ref=C.ref,w.return=C,C.child=w}function Zc(w,C,O,D,U){if(w!==null){var W=w.memoizedProps;if(So(W,D)&&w.ref===C.ref)if(Br=!1,C.pendingProps=D=W,yl(w,U))(w.flags&131072)!==0&&(Br=!0);else return C.lanes=w.lanes,$n(w,C,U)}return cl(w,C,O,D,U)}function Jc(w,C,O){var D=C.pendingProps,U=D.children,W=w!==null?w.memoizedState:null;if(D.mode==="hidden"){if((C.flags&128)!==0){if(D=W!==null?W.baseLanes|O:O,w!==null){for(U=C.child=w.child,W=0;U!==null;)W=W|U.lanes|U.childLanes,U=U.sibling;C.childLanes=W&~D}else C.childLanes=0,C.child=null;return Qc(w,C,D,O)}if((O&536870912)!==0)C.memoizedState={baseLanes:0,cachePool:null},w!==null&&wa(C,W!==null?W.cachePool:null),W!==null?Ku(C,W):qs(),Lc(C);else return C.lanes=C.childLanes=536870912,Qc(w,C,W!==null?W.baseLanes|O:O,O)}else W!==null?(wa(C,W.cachePool),Ku(C,W),Jn(),C.memoizedState=null):(w!==null&&wa(C,null),qs(),Jn());return Lr(w,C,U,O),C.child}function Qc(w,C,O,D){var U=$s();return U=U===null?null:{parent:Mr._currentValue,pool:U},C.memoizedState={baseLanes:O,cachePool:U},w!==null&&wa(C,null),qs(),Lc(C),w!==null&&Io(w,C,D,!0),null}function La(w,C){var O=C.ref;if(O===null)w!==null&&w.ref!==null&&(C.flags|=4194816);else{if(typeof O!="function"&&typeof O!="object")throw Error(s(284));(w===null||w.ref!==O)&&(C.flags|=4194816)}}function cl(w,C,O,D,U){return wi(C),O=Gs(w,C,O,D,void 0,U),D=Ws(),w!==null&&!Br?(Xs(w,C,U),$n(w,C,U)):(hr&&D&&Is(C),C.flags|=1,Lr(w,C,O,U),C.child)}function ef(w,C,O,D,U,W){return wi(C),C.updateQueue=null,O=Ju(C,D,O,U),Zu(w),D=Ws(),w!==null&&!Br?(Xs(w,C,W),$n(w,C,W)):(hr&&D&&Is(C),C.flags|=1,Lr(w,C,O,W),C.child)}function tf(w,C,O,D,U){if(wi(C),C.stateNode===null){var W=Ui,ie=O.contextType;typeof ie=="object"&&ie!==null&&(W=qr(ie)),W=new O(D,W),C.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=ll,C.stateNode=W,W._reactInternals=C,W=C.stateNode,W.props=D,W.state=C.memoizedState,W.refs={},Ls(C),ie=O.contextType,W.context=typeof ie=="object"&&ie!==null?qr(ie):Ui,W.state=C.memoizedState,ie=O.getDerivedStateFromProps,typeof ie=="function"&&(sl(C,O,ie,D),W.state=C.memoizedState),typeof O.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(ie=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),ie!==W.state&&ll.enqueueReplaceState(W,W.state,null),Bo(C,D,W,U),No(),W.state=C.memoizedState),typeof W.componentDidMount=="function"&&(C.flags|=4194308),D=!0}else if(w===null){W=C.stateNode;var ge=C.memoizedProps,Re=Si(O,ge);W.props=Re;var Qe=W.context,bt=O.contextType;ie=Ui,typeof bt=="object"&&bt!==null&&(ie=qr(bt));var At=O.getDerivedStateFromProps;bt=typeof At=="function"||typeof W.getSnapshotBeforeUpdate=="function",ge=C.pendingProps!==ge,bt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ge||Qe!==ie)&&Uc(C,W,D,ie),Wn=!1;var rt=C.memoizedState;W.state=rt,Bo(C,D,W,U),No(),Qe=C.memoizedState,ge||rt!==Qe||Wn?(typeof At=="function"&&(sl(C,O,At,D),Qe=C.memoizedState),(Re=Wn||jc(C,O,Re,D,rt,Qe,ie))?(bt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(C.flags|=4194308)):(typeof W.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=D,C.memoizedState=Qe),W.props=D,W.state=Qe,W.context=ie,D=Re):(typeof W.componentDidMount=="function"&&(C.flags|=4194308),D=!1)}else{W=C.stateNode,js(w,C),ie=C.memoizedProps,bt=Si(O,ie),W.props=bt,At=C.pendingProps,rt=W.context,Qe=O.contextType,Re=Ui,typeof Qe=="object"&&Qe!==null&&(Re=qr(Qe)),ge=O.getDerivedStateFromProps,(Qe=typeof ge=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ie!==At||rt!==Re)&&Uc(C,W,D,Re),Wn=!1,rt=C.memoizedState,W.state=rt,Bo(C,D,W,U),No();var ot=C.memoizedState;ie!==At||rt!==ot||Wn||w!==null&&w.dependencies!==null&&va(w.dependencies)?(typeof ge=="function"&&(sl(C,O,ge,D),ot=C.memoizedState),(bt=Wn||jc(C,O,bt,D,rt,ot,Re)||w!==null&&w.dependencies!==null&&va(w.dependencies))?(Qe||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(D,ot,Re),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(D,ot,Re)),typeof W.componentDidUpdate=="function"&&(C.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof W.componentDidUpdate!="function"||ie===w.memoizedProps&&rt===w.memoizedState||(C.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ie===w.memoizedProps&&rt===w.memoizedState||(C.flags|=1024),C.memoizedProps=D,C.memoizedState=ot),W.props=D,W.state=ot,W.context=Re,D=bt):(typeof W.componentDidUpdate!="function"||ie===w.memoizedProps&&rt===w.memoizedState||(C.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ie===w.memoizedProps&&rt===w.memoizedState||(C.flags|=1024),D=!1)}return W=D,La(w,C),D=(C.flags&128)!==0,W||D?(W=C.stateNode,O=D&&typeof O.getDerivedStateFromError!="function"?null:W.render(),C.flags|=1,w!==null&&D?(C.child=Zi(C,w.child,null,U),C.child=Zi(C,null,O,U)):Lr(w,C,O,U),C.memoizedState=W.state,w=C.child):w=$n(w,C,U),w}function rf(w,C,O,D){return To(),C.flags|=256,Lr(w,C,O,D),C.child}var fl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dl(w){return{baseLanes:w,cachePool:zu()}}function pl(w,C,O){return w=w!==null?w.childLanes&~O:0,C&&(w|=dn),w}function nf(w,C,O){var D=C.pendingProps,U=!1,W=(C.flags&128)!==0,ie;if((ie=W)||(ie=w!==null&&w.memoizedState===null?!1:(Nr.current&2)!==0),ie&&(U=!0,C.flags&=-129),ie=(C.flags&32)!==0,C.flags&=-33,w===null){if(hr){if(U?Zn(C):Jn(),hr){var ge=Or,Re;if(Re=ge){e:{for(Re=ge,ge=wn;Re.nodeType!==8;){if(!ge){ge=null;break e}if(Re=vn(Re.nextSibling),Re===null){ge=null;break e}}ge=Re}ge!==null?(C.memoizedState={dehydrated:ge,treeContext:mi!==null?{id:kn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},Re=Qr(18,null,null,0),Re.stateNode=ge,Re.return=C,C.child=Re,Gr=C,Or=null,Re=!0):Re=!1}Re||vi(C)}if(ge=C.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return Kl(ge)?C.lanes=32:C.lanes=536870912,null;Bn(C)}return ge=D.children,D=D.fallback,U?(Jn(),U=C.mode,ge=ja({mode:"hidden",children:ge},U),D=gi(D,U,O,null),ge.return=C,D.return=C,ge.sibling=D,C.child=ge,U=C.child,U.memoizedState=dl(O),U.childLanes=pl(w,ie,O),C.memoizedState=fl,D):(Zn(C),hl(C,ge))}if(Re=w.memoizedState,Re!==null&&(ge=Re.dehydrated,ge!==null)){if(W)C.flags&256?(Zn(C),C.flags&=-257,C=gl(w,C,O)):C.memoizedState!==null?(Jn(),C.child=w.child,C.flags|=128,C=null):(Jn(),U=D.fallback,ge=C.mode,D=ja({mode:"visible",children:D.children},ge),U=gi(U,ge,O,null),U.flags|=2,D.return=C,U.return=C,D.sibling=U,C.child=D,Zi(C,w.child,null,O),D=C.child,D.memoizedState=dl(O),D.childLanes=pl(w,ie,O),C.memoizedState=fl,C=U);else if(Zn(C),Kl(ge)){if(ie=ge.nextSibling&&ge.nextSibling.dataset,ie)var Qe=ie.dgst;ie=Qe,D=Error(s(419)),D.stack="",D.digest=ie,Oo({value:D,source:null,stack:null}),C=gl(w,C,O)}else if(Br||Io(w,C,O,!1),ie=(O&w.childLanes)!==0,Br||ie){if(ie=Sr,ie!==null&&(D=O&-O,D=(D&42)!==0?1:Kt(D),D=(D&(ie.suspendedLanes|O))!==0?0:D,D!==0&&D!==Re.retryLane))throw Re.retryLane=D,ji(w,D),on(ie,w,D),Xc;ge.data==="$?"||Pl(),C=gl(w,C,O)}else ge.data==="$?"?(C.flags|=192,C.child=w.child,C=null):(w=Re.treeContext,Or=vn(ge.nextSibling),Gr=C,hr=!0,xi=null,wn=!1,w!==null&&(un[cn++]=kn,un[cn++]=Dn,un[cn++]=mi,kn=w.id,Dn=w.overflow,mi=C),C=hl(C,D.children),C.flags|=4096);return C}return U?(Jn(),U=D.fallback,ge=C.mode,Re=w.child,Qe=Re.sibling,D=Rn(Re,{mode:"hidden",children:D.children}),D.subtreeFlags=Re.subtreeFlags&65011712,Qe!==null?U=Rn(Qe,U):(U=gi(U,ge,O,null),U.flags|=2),U.return=C,D.return=C,D.sibling=U,C.child=D,D=U,U=C.child,ge=w.child.memoizedState,ge===null?ge=dl(O):(Re=ge.cachePool,Re!==null?(Qe=Mr._currentValue,Re=Re.parent!==Qe?{parent:Qe,pool:Qe}:Re):Re=zu(),ge={baseLanes:ge.baseLanes|O,cachePool:Re}),U.memoizedState=ge,U.childLanes=pl(w,ie,O),C.memoizedState=fl,D):(Zn(C),O=w.child,w=O.sibling,O=Rn(O,{mode:"visible",children:D.children}),O.return=C,O.sibling=null,w!==null&&(ie=C.deletions,ie===null?(C.deletions=[w],C.flags|=16):ie.push(w)),C.child=O,C.memoizedState=null,O)}function hl(w,C){return C=ja({mode:"visible",children:C},w.mode),C.return=w,w.child=C}function ja(w,C){return w=Qr(22,w,null,C),w.lanes=0,w.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},w}function gl(w,C,O){return Zi(C,w.child,null,O),w=hl(C,C.pendingProps.children),w.flags|=2,C.memoizedState=null,w}function of(w,C,O){w.lanes|=C;var D=w.alternate;D!==null&&(D.lanes|=C),Ps(w.return,C,O)}function ml(w,C,O,D,U){var W=w.memoizedState;W===null?w.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:D,tail:O,tailMode:U}:(W.isBackwards=C,W.rendering=null,W.renderingStartTime=0,W.last=D,W.tail=O,W.tailMode=U)}function af(w,C,O){var D=C.pendingProps,U=D.revealOrder,W=D.tail;if(Lr(w,C,D.children,O),D=Nr.current,(D&2)!==0)D=D&1|2,C.flags|=128;else{if(w!==null&&(w.flags&128)!==0)e:for(w=C.child;w!==null;){if(w.tag===13)w.memoizedState!==null&&of(w,O,C);else if(w.tag===19)of(w,O,C);else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===C)break e;for(;w.sibling===null;){if(w.return===null||w.return===C)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}D&=1}switch(oe(Nr,D),U){case"forwards":for(O=C.child,U=null;O!==null;)w=O.alternate,w!==null&&Ba(w)===null&&(U=O),O=O.sibling;O=U,O===null?(U=C.child,C.child=null):(U=O.sibling,O.sibling=null),ml(C,!1,U,O,W);break;case"backwards":for(O=null,U=C.child,C.child=null;U!==null;){if(w=U.alternate,w!==null&&Ba(w)===null){C.child=U;break}w=U.sibling,U.sibling=O,O=U,U=w}ml(C,!0,O,null,W);break;case"together":ml(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function $n(w,C,O){if(w!==null&&(C.dependencies=w.dependencies),ni|=C.lanes,(O&C.childLanes)===0)if(w!==null){if(Io(w,C,O,!1),(O&C.childLanes)===0)return null}else return null;if(w!==null&&C.child!==w.child)throw Error(s(153));if(C.child!==null){for(w=C.child,O=Rn(w,w.pendingProps),C.child=O,O.return=C;w.sibling!==null;)w=w.sibling,O=O.sibling=Rn(w,w.pendingProps),O.return=C;O.sibling=null}return C.child}function yl(w,C){return(w.lanes&C)!==0?!0:(w=w.dependencies,!!(w!==null&&va(w)))}function Ap(w,C,O){switch(C.tag){case 3:mt(C,C.stateNode.containerInfo),Gn(C,Mr,w.memoizedState.cache),To();break;case 27:case 5:it(C);break;case 4:mt(C,C.stateNode.containerInfo);break;case 10:Gn(C,C.type,C.memoizedProps.value);break;case 13:var D=C.memoizedState;if(D!==null)return D.dehydrated!==null?(Zn(C),C.flags|=128,null):(O&C.child.childLanes)!==0?nf(w,C,O):(Zn(C),w=$n(w,C,O),w!==null?w.sibling:null);Zn(C);break;case 19:var U=(w.flags&128)!==0;if(D=(O&C.childLanes)!==0,D||(Io(w,C,O,!1),D=(O&C.childLanes)!==0),U){if(D)return af(w,C,O);C.flags|=128}if(U=C.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),oe(Nr,Nr.current),D)break;return null;case 22:case 23:return C.lanes=0,Jc(w,C,O);case 24:Gn(C,Mr,w.memoizedState.cache)}return $n(w,C,O)}function sf(w,C,O){if(w!==null)if(w.memoizedProps!==C.pendingProps)Br=!0;else{if(!yl(w,O)&&(C.flags&128)===0)return Br=!1,Ap(w,C,O);Br=(w.flags&131072)!==0}else Br=!1,hr&&(C.flags&1048576)!==0&&Nu(C,xa,C.index);switch(C.lanes=0,C.tag){case 16:e:{w=C.pendingProps;var D=C.elementType,U=D._init;if(D=U(D._payload),C.type=D,typeof D=="function")As(D)?(w=Si(D,w),C.tag=1,C=tf(null,C,D,w,O)):(C.tag=0,C=cl(null,C,D,w,O));else{if(D!=null){if(U=D.$$typeof,U===M){C.tag=11,C=Yc(null,C,D,w,O);break e}else if(U===q){C.tag=14,C=Kc(null,C,D,w,O);break e}}throw C=X(D)||D,Error(s(306,C,""))}}return C;case 0:return cl(w,C,C.type,C.pendingProps,O);case 1:return D=C.type,U=Si(D,C.pendingProps),tf(w,C,D,U,O);case 3:e:{if(mt(C,C.stateNode.containerInfo),w===null)throw Error(s(387));D=C.pendingProps;var W=C.memoizedState;U=W.element,js(w,C),Bo(C,D,null,O);var ie=C.memoizedState;if(D=ie.cache,Gn(C,Mr,D),D!==W.cache&&Ms(C,[Mr],O,!0),No(),D=ie.element,W.isDehydrated)if(W={element:D,isDehydrated:!1,cache:ie.cache},C.updateQueue.baseState=W,C.memoizedState=W,C.flags&256){C=rf(w,C,D,O);break e}else if(D!==U){U=sn(Error(s(424)),C),Oo(U),C=rf(w,C,D,O);break e}else{switch(w=C.stateNode.containerInfo,w.nodeType){case 9:w=w.body;break;default:w=w.nodeName==="HTML"?w.ownerDocument.body:w}for(Or=vn(w.firstChild),Gr=C,hr=!0,xi=null,wn=!0,O=Fc(C,null,D,O),C.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling}else{if(To(),D===U){C=$n(w,C,O);break e}Lr(w,C,D,O)}C=C.child}return C;case 26:return La(w,C),w===null?(O=fd(C.type,null,C.pendingProps,null))?C.memoizedState=O:hr||(O=C.type,w=C.pendingProps,D=ts(Le.current).createElement(O),D[$e]=C,D[Fe]=w,Ur(D,O,w),Ge(D),C.stateNode=D):C.memoizedState=fd(C.type,w.memoizedProps,C.pendingProps,w.memoizedState),null;case 27:return it(C),w===null&&hr&&(D=C.stateNode=ld(C.type,C.pendingProps,Le.current),Gr=C,wn=!0,U=Or,si(C.type)?(Zl=U,Or=vn(D.firstChild)):Or=U),Lr(w,C,C.pendingProps.children,O),La(w,C),w===null&&(C.flags|=4194304),C.child;case 5:return w===null&&hr&&((U=D=Or)&&(D=eh(D,C.type,C.pendingProps,wn),D!==null?(C.stateNode=D,Gr=C,Or=vn(D.firstChild),wn=!1,U=!0):U=!1),U||vi(C)),it(C),U=C.type,W=C.pendingProps,ie=w!==null?w.memoizedProps:null,D=W.children,Wl(U,W)?D=null:ie!==null&&Wl(U,ie)&&(C.flags|=32),C.memoizedState!==null&&(U=Gs(w,C,xp,null,null,O),ia._currentValue=U),La(w,C),Lr(w,C,D,O),C.child;case 6:return w===null&&hr&&((w=O=Or)&&(O=th(O,C.pendingProps,wn),O!==null?(C.stateNode=O,Gr=C,Or=null,w=!0):w=!1),w||vi(C)),null;case 13:return nf(w,C,O);case 4:return mt(C,C.stateNode.containerInfo),D=C.pendingProps,w===null?C.child=Zi(C,null,D,O):Lr(w,C,D,O),C.child;case 11:return Yc(w,C,C.type,C.pendingProps,O);case 7:return Lr(w,C,C.pendingProps,O),C.child;case 8:return Lr(w,C,C.pendingProps.children,O),C.child;case 12:return Lr(w,C,C.pendingProps.children,O),C.child;case 10:return D=C.pendingProps,Gn(C,C.type,D.value),Lr(w,C,D.children,O),C.child;case 9:return U=C.type._context,D=C.pendingProps.children,wi(C),U=qr(U),D=D(U),C.flags|=1,Lr(w,C,D,O),C.child;case 14:return Kc(w,C,C.type,C.pendingProps,O);case 15:return Zc(w,C,C.type,C.pendingProps,O);case 19:return af(w,C,O);case 31:return D=C.pendingProps,O=C.mode,D={mode:D.mode,children:D.children},w===null?(O=ja(D,O),O.ref=C.ref,C.child=O,O.return=C,C=O):(O=Rn(w.child,D),O.ref=C.ref,C.child=O,O.return=C,C=O),C;case 22:return Jc(w,C,O);case 24:return wi(C),D=qr(Mr),w===null?(U=$s(),U===null&&(U=Sr,W=Ns(),U.pooledCache=W,W.refCount++,W!==null&&(U.pooledCacheLanes|=O),U=W),C.memoizedState={parent:D,cache:U},Ls(C),Gn(C,Mr,U)):((w.lanes&O)!==0&&(js(w,C),Bo(C,null,null,O),No()),U=w.memoizedState,W=C.memoizedState,U.parent!==D?(U={parent:D,cache:D},C.memoizedState=U,C.lanes===0&&(C.memoizedState=C.updateQueue.baseState=U),Gn(C,Mr,D)):(D=W.cache,Gn(C,Mr,D),D!==U.cache&&Ms(C,[Mr],O,!0))),Lr(w,C,C.pendingProps.children,O),C.child;case 29:throw C.pendingProps}throw Error(s(156,C.tag))}function Fn(w){w.flags|=4}function lf(w,C){if(C.type!=="stylesheet"||(C.state.loading&4)!==0)w.flags&=-16777217;else if(w.flags|=16777216,!md(C)){if(C=fn.current,C!==null&&((fr&4194048)===fr?_n!==null:(fr&62914560)!==fr&&(fr&536870912)===0||C!==_n))throw Po=Fs,qu;w.flags|=8192}}function Ua(w,C){C!==null&&(w.flags|=4),w.flags&16384&&(C=w.tag!==22?Oe():536870912,w.lanes|=C,to|=C)}function qo(w,C){if(!hr)switch(w.tailMode){case"hidden":C=w.tail;for(var O=null;C!==null;)C.alternate!==null&&(O=C),C=C.sibling;O===null?w.tail=null:O.sibling=null;break;case"collapsed":O=w.tail;for(var D=null;O!==null;)O.alternate!==null&&(D=O),O=O.sibling;D===null?C||w.tail===null?w.tail=null:w.tail.sibling=null:D.sibling=null}}function Tr(w){var C=w.alternate!==null&&w.alternate.child===w.child,O=0,D=0;if(C)for(var U=w.child;U!==null;)O|=U.lanes|U.childLanes,D|=U.subtreeFlags&65011712,D|=U.flags&65011712,U.return=w,U=U.sibling;else for(U=w.child;U!==null;)O|=U.lanes|U.childLanes,D|=U.subtreeFlags,D|=U.flags,U.return=w,U=U.sibling;return w.subtreeFlags|=D,w.childLanes=O,C}function Tp(w,C,O){var D=C.pendingProps;switch(Rs(C),C.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(C),null;case 1:return Tr(C),null;case 3:return O=C.stateNode,D=null,w!==null&&(D=w.memoizedState.cache),C.memoizedState.cache!==D&&(C.flags|=2048),Mn(Mr),vt(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(w===null||w.child===null)&&(Ao(C)?Fn(C):w===null||w.memoizedState.isDehydrated&&(C.flags&256)===0||(C.flags|=1024,Fu())),Tr(C),null;case 26:return O=C.memoizedState,w===null?(Fn(C),O!==null?(Tr(C),lf(C,O)):(Tr(C),C.flags&=-16777217)):O?O!==w.memoizedState?(Fn(C),Tr(C),lf(C,O)):(Tr(C),C.flags&=-16777217):(w.memoizedProps!==D&&Fn(C),Tr(C),C.flags&=-16777217),null;case 27:pt(C),O=Le.current;var U=C.type;if(w!==null&&C.stateNode!=null)w.memoizedProps!==D&&Fn(C);else{if(!D){if(C.stateNode===null)throw Error(s(166));return Tr(C),null}w=Ne.current,Ao(C)?Bu(C):(w=ld(U,D,O),C.stateNode=w,Fn(C))}return Tr(C),null;case 5:if(pt(C),O=C.type,w!==null&&C.stateNode!=null)w.memoizedProps!==D&&Fn(C);else{if(!D){if(C.stateNode===null)throw Error(s(166));return Tr(C),null}if(w=Ne.current,Ao(C))Bu(C);else{switch(U=ts(Le.current),w){case 1:w=U.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:w=U.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":w=U.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":w=U.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":w=U.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof D.is=="string"?U.createElement("select",{is:D.is}):U.createElement("select"),D.multiple?w.multiple=!0:D.size&&(w.size=D.size);break;default:w=typeof D.is=="string"?U.createElement(O,{is:D.is}):U.createElement(O)}}w[$e]=C,w[Fe]=D;e:for(U=C.child;U!==null;){if(U.tag===5||U.tag===6)w.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===C)break e;for(;U.sibling===null;){if(U.return===null||U.return===C)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}C.stateNode=w;e:switch(Ur(w,O,D),O){case"button":case"input":case"select":case"textarea":w=!!D.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&Fn(C)}}return Tr(C),C.flags&=-16777217,null;case 6:if(w&&C.stateNode!=null)w.memoizedProps!==D&&Fn(C);else{if(typeof D!="string"&&C.stateNode===null)throw Error(s(166));if(w=Le.current,Ao(C)){if(w=C.stateNode,O=C.memoizedProps,D=null,U=Gr,U!==null)switch(U.tag){case 27:case 5:D=U.memoizedProps}w[$e]=C,w=!!(w.nodeValue===O||D!==null&&D.suppressHydrationWarning===!0||td(w.nodeValue,O)),w||vi(C)}else w=ts(w).createTextNode(D),w[$e]=C,C.stateNode=w}return Tr(C),null;case 13:if(D=C.memoizedState,w===null||w.memoizedState!==null&&w.memoizedState.dehydrated!==null){if(U=Ao(C),D!==null&&D.dehydrated!==null){if(w===null){if(!U)throw Error(s(318));if(U=C.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(s(317));U[$e]=C}else To(),(C.flags&128)===0&&(C.memoizedState=null),C.flags|=4;Tr(C),U=!1}else U=Fu(),w!==null&&w.memoizedState!==null&&(w.memoizedState.hydrationErrors=U),U=!0;if(!U)return C.flags&256?(Bn(C),C):(Bn(C),null)}if(Bn(C),(C.flags&128)!==0)return C.lanes=O,C;if(O=D!==null,w=w!==null&&w.memoizedState!==null,O){D=C.child,U=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(U=D.alternate.memoizedState.cachePool.pool);var W=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(W=D.memoizedState.cachePool.pool),W!==U&&(D.flags|=2048)}return O!==w&&O&&(C.child.flags|=8192),Ua(C,C.updateQueue),Tr(C),null;case 4:return vt(),w===null&&zl(C.stateNode.containerInfo),Tr(C),null;case 10:return Mn(C.type),Tr(C),null;case 19:if(we(Nr),U=C.memoizedState,U===null)return Tr(C),null;if(D=(C.flags&128)!==0,W=U.rendering,W===null)if(D)qo(U,!1);else{if(Ir!==0||w!==null&&(w.flags&128)!==0)for(w=C.child;w!==null;){if(W=Ba(w),W!==null){for(C.flags|=128,qo(U,!1),w=W.updateQueue,C.updateQueue=w,Ua(C,w),C.subtreeFlags=0,w=O,O=C.child;O!==null;)Mu(O,w),O=O.sibling;return oe(Nr,Nr.current&1|2),C.child}w=w.sibling}U.tail!==null&&Mt()>Va&&(C.flags|=128,D=!0,qo(U,!1),C.lanes=4194304)}else{if(!D)if(w=Ba(W),w!==null){if(C.flags|=128,D=!0,w=w.updateQueue,C.updateQueue=w,Ua(C,w),qo(U,!0),U.tail===null&&U.tailMode==="hidden"&&!W.alternate&&!hr)return Tr(C),null}else 2*Mt()-U.renderingStartTime>Va&&O!==536870912&&(C.flags|=128,D=!0,qo(U,!1),C.lanes=4194304);U.isBackwards?(W.sibling=C.child,C.child=W):(w=U.last,w!==null?w.sibling=W:C.child=W,U.last=W)}return U.tail!==null?(C=U.tail,U.rendering=C,U.tail=C.sibling,U.renderingStartTime=Mt(),C.sibling=null,w=Nr.current,oe(Nr,D?w&1|2:w&1),C):(Tr(C),null);case 22:case 23:return Bn(C),Vs(),D=C.memoizedState!==null,w!==null?w.memoizedState!==null!==D&&(C.flags|=8192):D&&(C.flags|=8192),D?(O&536870912)!==0&&(C.flags&128)===0&&(Tr(C),C.subtreeFlags&6&&(C.flags|=8192)):Tr(C),O=C.updateQueue,O!==null&&Ua(C,O.retryQueue),O=null,w!==null&&w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(O=w.memoizedState.cachePool.pool),D=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(D=C.memoizedState.cachePool.pool),D!==O&&(C.flags|=2048),w!==null&&we(_i),null;case 24:return O=null,w!==null&&(O=w.memoizedState.cache),C.memoizedState.cache!==O&&(C.flags|=2048),Mn(Mr),Tr(C),null;case 25:return null;case 30:return null}throw Error(s(156,C.tag))}function Op(w,C){switch(Rs(C),C.tag){case 1:return w=C.flags,w&65536?(C.flags=w&-65537|128,C):null;case 3:return Mn(Mr),vt(),w=C.flags,(w&65536)!==0&&(w&128)===0?(C.flags=w&-65537|128,C):null;case 26:case 27:case 5:return pt(C),null;case 13:if(Bn(C),w=C.memoizedState,w!==null&&w.dehydrated!==null){if(C.alternate===null)throw Error(s(340));To()}return w=C.flags,w&65536?(C.flags=w&-65537|128,C):null;case 19:return we(Nr),null;case 4:return vt(),null;case 10:return Mn(C.type),null;case 22:case 23:return Bn(C),Vs(),w!==null&&we(_i),w=C.flags,w&65536?(C.flags=w&-65537|128,C):null;case 24:return Mn(Mr),null;case 25:return null;default:return null}}function uf(w,C){switch(Rs(C),C.tag){case 3:Mn(Mr),vt();break;case 26:case 27:case 5:pt(C);break;case 4:vt();break;case 13:Bn(C);break;case 19:we(Nr);break;case 10:Mn(C.type);break;case 22:case 23:Bn(C),Vs(),w!==null&&we(_i);break;case 24:Mn(Mr)}}function Vo(w,C){try{var O=C.updateQueue,D=O!==null?O.lastEffect:null;if(D!==null){var U=D.next;O=U;do{if((O.tag&w)===w){D=void 0;var W=O.create,ie=O.inst;D=W(),ie.destroy=D}O=O.next}while(O!==U)}}catch(ge){_r(C,C.return,ge)}}function Qn(w,C,O){try{var D=C.updateQueue,U=D!==null?D.lastEffect:null;if(U!==null){var W=U.next;D=W;do{if((D.tag&w)===w){var ie=D.inst,ge=ie.destroy;if(ge!==void 0){ie.destroy=void 0,U=C;var Re=O,Qe=ge;try{Qe()}catch(bt){_r(U,Re,bt)}}}D=D.next}while(D!==W)}}catch(bt){_r(C,C.return,bt)}}function cf(w){var C=w.updateQueue;if(C!==null){var O=w.stateNode;try{Yu(C,O)}catch(D){_r(w,w.return,D)}}}function ff(w,C,O){O.props=Si(w.type,w.memoizedProps),O.state=w.memoizedState;try{O.componentWillUnmount()}catch(D){_r(w,C,D)}}function Ho(w,C){try{var O=w.ref;if(O!==null){switch(w.tag){case 26:case 27:case 5:var D=w.stateNode;break;case 30:D=w.stateNode;break;default:D=w.stateNode}typeof O=="function"?w.refCleanup=O(D):O.current=D}}catch(U){_r(w,C,U)}}function En(w,C){var O=w.ref,D=w.refCleanup;if(O!==null)if(typeof D=="function")try{D()}catch(U){_r(w,C,U)}finally{w.refCleanup=null,w=w.alternate,w!=null&&(w.refCleanup=null)}else if(typeof O=="function")try{O(null)}catch(U){_r(w,C,U)}else O.current=null}function df(w){var C=w.type,O=w.memoizedProps,D=w.stateNode;try{e:switch(C){case"button":case"input":case"select":case"textarea":O.autoFocus&&D.focus();break e;case"img":O.src?D.src=O.src:O.srcSet&&(D.srcset=O.srcSet)}}catch(U){_r(w,w.return,U)}}function xl(w,C,O){try{var D=w.stateNode;Yp(D,w.type,O,C),D[Fe]=C}catch(U){_r(w,w.return,U)}}function pf(w){return w.tag===5||w.tag===3||w.tag===26||w.tag===27&&si(w.type)||w.tag===4}function vl(w){e:for(;;){for(;w.sibling===null;){if(w.return===null||pf(w.return))return null;w=w.return}for(w.sibling.return=w.return,w=w.sibling;w.tag!==5&&w.tag!==6&&w.tag!==18;){if(w.tag===27&&si(w.type)||w.flags&2||w.child===null||w.tag===4)continue e;w.child.return=w,w=w.child}if(!(w.flags&2))return w.stateNode}}function bl(w,C,O){var D=w.tag;if(D===5||D===6)w=w.stateNode,C?(O.nodeType===9?O.body:O.nodeName==="HTML"?O.ownerDocument.body:O).insertBefore(w,C):(C=O.nodeType===9?O.body:O.nodeName==="HTML"?O.ownerDocument.body:O,C.appendChild(w),O=O._reactRootContainer,O!=null||C.onclick!==null||(C.onclick=Qa));else if(D!==4&&(D===27&&si(w.type)&&(O=w.stateNode,C=null),w=w.child,w!==null))for(bl(w,C,O),w=w.sibling;w!==null;)bl(w,C,O),w=w.sibling}function za(w,C,O){var D=w.tag;if(D===5||D===6)w=w.stateNode,C?O.insertBefore(w,C):O.appendChild(w);else if(D!==4&&(D===27&&si(w.type)&&(O=w.stateNode),w=w.child,w!==null))for(za(w,C,O),w=w.sibling;w!==null;)za(w,C,O),w=w.sibling}function hf(w){var C=w.stateNode,O=w.memoizedProps;try{for(var D=w.type,U=C.attributes;U.length;)C.removeAttributeNode(U[0]);Ur(C,D,O),C[$e]=w,C[Fe]=O}catch(W){_r(w,w.return,W)}}var Ln=!1,kr=!1,wl=!1,gf=typeof WeakSet=="function"?WeakSet:Set,$r=null;function Ip(w,C){if(w=w.containerInfo,Hl=ss,w=Su(w),vs(w)){if("selectionStart"in w)var O={start:w.selectionStart,end:w.selectionEnd};else e:{O=(O=w.ownerDocument)&&O.defaultView||window;var D=O.getSelection&&O.getSelection();if(D&&D.rangeCount!==0){O=D.anchorNode;var U=D.anchorOffset,W=D.focusNode;D=D.focusOffset;try{O.nodeType,W.nodeType}catch{O=null;break e}var ie=0,ge=-1,Re=-1,Qe=0,bt=0,At=w,rt=null;t:for(;;){for(var ot;At!==O||U!==0&&At.nodeType!==3||(ge=ie+U),At!==W||D!==0&&At.nodeType!==3||(Re=ie+D),At.nodeType===3&&(ie+=At.nodeValue.length),(ot=At.firstChild)!==null;)rt=At,At=ot;for(;;){if(At===w)break t;if(rt===O&&++Qe===U&&(ge=ie),rt===W&&++bt===D&&(Re=ie),(ot=At.nextSibling)!==null)break;At=rt,rt=At.parentNode}At=ot}O=ge===-1||Re===-1?null:{start:ge,end:Re}}else O=null}O=O||{start:0,end:0}}else O=null;for(Gl={focusedElem:w,selectionRange:O},ss=!1,$r=C;$r!==null;)if(C=$r,w=C.child,(C.subtreeFlags&1024)!==0&&w!==null)w.return=C,$r=w;else for(;$r!==null;){switch(C=$r,W=C.alternate,w=C.flags,C.tag){case 0:break;case 11:case 15:break;case 1:if((w&1024)!==0&&W!==null){w=void 0,O=C,U=W.memoizedProps,W=W.memoizedState,D=O.stateNode;try{var Zt=Si(O.type,U,O.elementType===O.type);w=D.getSnapshotBeforeUpdate(Zt,W),D.__reactInternalSnapshotBeforeUpdate=w}catch(Xt){_r(O,O.return,Xt)}}break;case 3:if((w&1024)!==0){if(w=C.stateNode.containerInfo,O=w.nodeType,O===9)Yl(w);else if(O===1)switch(w.nodeName){case"HEAD":case"HTML":case"BODY":Yl(w);break;default:w.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((w&1024)!==0)throw Error(s(163))}if(w=C.sibling,w!==null){w.return=C.return,$r=w;break}$r=C.return}}function mf(w,C,O){var D=O.flags;switch(O.tag){case 0:case 11:case 15:ei(w,O),D&4&&Vo(5,O);break;case 1:if(ei(w,O),D&4)if(w=O.stateNode,C===null)try{w.componentDidMount()}catch(ie){_r(O,O.return,ie)}else{var U=Si(O.type,C.memoizedProps);C=C.memoizedState;try{w.componentDidUpdate(U,C,w.__reactInternalSnapshotBeforeUpdate)}catch(ie){_r(O,O.return,ie)}}D&64&&cf(O),D&512&&Ho(O,O.return);break;case 3:if(ei(w,O),D&64&&(w=O.updateQueue,w!==null)){if(C=null,O.child!==null)switch(O.child.tag){case 27:case 5:C=O.child.stateNode;break;case 1:C=O.child.stateNode}try{Yu(w,C)}catch(ie){_r(O,O.return,ie)}}break;case 27:C===null&&D&4&&hf(O);case 26:case 5:ei(w,O),C===null&&D&4&&df(O),D&512&&Ho(O,O.return);break;case 12:ei(w,O);break;case 13:ei(w,O),D&4&&vf(w,O),D&64&&(w=O.memoizedState,w!==null&&(w=w.dehydrated,w!==null&&(O=Fp.bind(null,O),rh(w,O))));break;case 22:if(D=O.memoizedState!==null||Ln,!D){C=C!==null&&C.memoizedState!==null||kr,U=Ln;var W=kr;Ln=D,(kr=C)&&!W?ti(w,O,(O.subtreeFlags&8772)!==0):ei(w,O),Ln=U,kr=W}break;case 30:break;default:ei(w,O)}}function yf(w){var C=w.alternate;C!==null&&(w.alternate=null,yf(C)),w.child=null,w.deletions=null,w.sibling=null,w.tag===5&&(C=w.stateNode,C!==null&&ir(C)),w.stateNode=null,w.return=null,w.dependencies=null,w.memoizedProps=null,w.memoizedState=null,w.pendingProps=null,w.stateNode=null,w.updateQueue=null}var Ar=null,Kr=!1;function jn(w,C,O){for(O=O.child;O!==null;)xf(w,C,O),O=O.sibling}function xf(w,C,O){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ue,O)}catch{}switch(O.tag){case 26:kr||En(O,C),jn(w,C,O),O.memoizedState?O.memoizedState.count--:O.stateNode&&(O=O.stateNode,O.parentNode.removeChild(O));break;case 27:kr||En(O,C);var D=Ar,U=Kr;si(O.type)&&(Ar=O.stateNode,Kr=!1),jn(w,C,O),ea(O.stateNode),Ar=D,Kr=U;break;case 5:kr||En(O,C);case 6:if(D=Ar,U=Kr,Ar=null,jn(w,C,O),Ar=D,Kr=U,Ar!==null)if(Kr)try{(Ar.nodeType===9?Ar.body:Ar.nodeName==="HTML"?Ar.ownerDocument.body:Ar).removeChild(O.stateNode)}catch(W){_r(O,C,W)}else try{Ar.removeChild(O.stateNode)}catch(W){_r(O,C,W)}break;case 18:Ar!==null&&(Kr?(w=Ar,ad(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,O.stateNode),la(w)):ad(Ar,O.stateNode));break;case 4:D=Ar,U=Kr,Ar=O.stateNode.containerInfo,Kr=!0,jn(w,C,O),Ar=D,Kr=U;break;case 0:case 11:case 14:case 15:kr||Qn(2,O,C),kr||Qn(4,O,C),jn(w,C,O);break;case 1:kr||(En(O,C),D=O.stateNode,typeof D.componentWillUnmount=="function"&&ff(O,C,D)),jn(w,C,O);break;case 21:jn(w,C,O);break;case 22:kr=(D=kr)||O.memoizedState!==null,jn(w,C,O),kr=D;break;default:jn(w,C,O)}}function vf(w,C){if(C.memoizedState===null&&(w=C.alternate,w!==null&&(w=w.memoizedState,w!==null&&(w=w.dehydrated,w!==null))))try{la(w)}catch(O){_r(C,C.return,O)}}function Rp(w){switch(w.tag){case 13:case 19:var C=w.stateNode;return C===null&&(C=w.stateNode=new gf),C;case 22:return w=w.stateNode,C=w._retryCache,C===null&&(C=w._retryCache=new gf),C;default:throw Error(s(435,w.tag))}}function _l(w,C){var O=Rp(w);C.forEach(function(D){var U=Lp.bind(null,w,D);O.has(D)||(O.add(D),D.then(U,U))})}function en(w,C){var O=C.deletions;if(O!==null)for(var D=0;D<O.length;D++){var U=O[D],W=w,ie=C,ge=ie;e:for(;ge!==null;){switch(ge.tag){case 27:if(si(ge.type)){Ar=ge.stateNode,Kr=!1;break e}break;case 5:Ar=ge.stateNode,Kr=!1;break e;case 3:case 4:Ar=ge.stateNode.containerInfo,Kr=!0;break e}ge=ge.return}if(Ar===null)throw Error(s(160));xf(W,ie,U),Ar=null,Kr=!1,W=U.alternate,W!==null&&(W.return=null),U.return=null}if(C.subtreeFlags&13878)for(C=C.child;C!==null;)bf(C,w),C=C.sibling}var xn=null;function bf(w,C){var O=w.alternate,D=w.flags;switch(w.tag){case 0:case 11:case 14:case 15:en(C,w),tn(w),D&4&&(Qn(3,w,w.return),Vo(3,w),Qn(5,w,w.return));break;case 1:en(C,w),tn(w),D&512&&(kr||O===null||En(O,O.return)),D&64&&Ln&&(w=w.updateQueue,w!==null&&(D=w.callbacks,D!==null&&(O=w.shared.hiddenCallbacks,w.shared.hiddenCallbacks=O===null?D:O.concat(D))));break;case 26:var U=xn;if(en(C,w),tn(w),D&512&&(kr||O===null||En(O,O.return)),D&4){var W=O!==null?O.memoizedState:null;if(D=w.memoizedState,O===null)if(D===null)if(w.stateNode===null){e:{D=w.type,O=w.memoizedProps,U=U.ownerDocument||U;t:switch(D){case"title":W=U.getElementsByTagName("title")[0],(!W||W[Jt]||W[$e]||W.namespaceURI==="http://www.w3.org/2000/svg"||W.hasAttribute("itemprop"))&&(W=U.createElement(D),U.head.insertBefore(W,U.querySelector("head > title"))),Ur(W,D,O),W[$e]=w,Ge(W),D=W;break e;case"link":var ie=hd("link","href",U).get(D+(O.href||""));if(ie){for(var ge=0;ge<ie.length;ge++)if(W=ie[ge],W.getAttribute("href")===(O.href==null||O.href===""?null:O.href)&&W.getAttribute("rel")===(O.rel==null?null:O.rel)&&W.getAttribute("title")===(O.title==null?null:O.title)&&W.getAttribute("crossorigin")===(O.crossOrigin==null?null:O.crossOrigin)){ie.splice(ge,1);break t}}W=U.createElement(D),Ur(W,D,O),U.head.appendChild(W);break;case"meta":if(ie=hd("meta","content",U).get(D+(O.content||""))){for(ge=0;ge<ie.length;ge++)if(W=ie[ge],W.getAttribute("content")===(O.content==null?null:""+O.content)&&W.getAttribute("name")===(O.name==null?null:O.name)&&W.getAttribute("property")===(O.property==null?null:O.property)&&W.getAttribute("http-equiv")===(O.httpEquiv==null?null:O.httpEquiv)&&W.getAttribute("charset")===(O.charSet==null?null:O.charSet)){ie.splice(ge,1);break t}}W=U.createElement(D),Ur(W,D,O),U.head.appendChild(W);break;default:throw Error(s(468,D))}W[$e]=w,Ge(W),D=W}w.stateNode=D}else gd(U,w.type,w.stateNode);else w.stateNode=pd(U,D,w.memoizedProps);else W!==D?(W===null?O.stateNode!==null&&(O=O.stateNode,O.parentNode.removeChild(O)):W.count--,D===null?gd(U,w.type,w.stateNode):pd(U,D,w.memoizedProps)):D===null&&w.stateNode!==null&&xl(w,w.memoizedProps,O.memoizedProps)}break;case 27:en(C,w),tn(w),D&512&&(kr||O===null||En(O,O.return)),O!==null&&D&4&&xl(w,w.memoizedProps,O.memoizedProps);break;case 5:if(en(C,w),tn(w),D&512&&(kr||O===null||En(O,O.return)),w.flags&32){U=w.stateNode;try{bn(U,"")}catch(ot){_r(w,w.return,ot)}}D&4&&w.stateNode!=null&&(U=w.memoizedProps,xl(w,U,O!==null?O.memoizedProps:U)),D&1024&&(wl=!0);break;case 6:if(en(C,w),tn(w),D&4){if(w.stateNode===null)throw Error(s(162));D=w.memoizedProps,O=w.stateNode;try{O.nodeValue=D}catch(ot){_r(w,w.return,ot)}}break;case 3:if(is=null,U=xn,xn=rs(C.containerInfo),en(C,w),xn=U,tn(w),D&4&&O!==null&&O.memoizedState.isDehydrated)try{la(C.containerInfo)}catch(ot){_r(w,w.return,ot)}wl&&(wl=!1,wf(w));break;case 4:D=xn,xn=rs(w.stateNode.containerInfo),en(C,w),tn(w),xn=D;break;case 12:en(C,w),tn(w);break;case 13:en(C,w),tn(w),w.child.flags&8192&&w.memoizedState!==null!=(O!==null&&O.memoizedState!==null)&&(Ol=Mt()),D&4&&(D=w.updateQueue,D!==null&&(w.updateQueue=null,_l(w,D)));break;case 22:U=w.memoizedState!==null;var Re=O!==null&&O.memoizedState!==null,Qe=Ln,bt=kr;if(Ln=Qe||U,kr=bt||Re,en(C,w),kr=bt,Ln=Qe,tn(w),D&8192)e:for(C=w.stateNode,C._visibility=U?C._visibility&-2:C._visibility|1,U&&(O===null||Re||Ln||kr||Ci(w)),O=null,C=w;;){if(C.tag===5||C.tag===26){if(O===null){Re=O=C;try{if(W=Re.stateNode,U)ie=W.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none";else{ge=Re.stateNode;var At=Re.memoizedProps.style,rt=At!=null&&At.hasOwnProperty("display")?At.display:null;ge.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(ot){_r(Re,Re.return,ot)}}}else if(C.tag===6){if(O===null){Re=C;try{Re.stateNode.nodeValue=U?"":Re.memoizedProps}catch(ot){_r(Re,Re.return,ot)}}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===w)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===w)break e;for(;C.sibling===null;){if(C.return===null||C.return===w)break e;O===C&&(O=null),C=C.return}O===C&&(O=null),C.sibling.return=C.return,C=C.sibling}D&4&&(D=w.updateQueue,D!==null&&(O=D.retryQueue,O!==null&&(D.retryQueue=null,_l(w,O))));break;case 19:en(C,w),tn(w),D&4&&(D=w.updateQueue,D!==null&&(w.updateQueue=null,_l(w,D)));break;case 30:break;case 21:break;default:en(C,w),tn(w)}}function tn(w){var C=w.flags;if(C&2){try{for(var O,D=w.return;D!==null;){if(pf(D)){O=D;break}D=D.return}if(O==null)throw Error(s(160));switch(O.tag){case 27:var U=O.stateNode,W=vl(w);za(w,W,U);break;case 5:var ie=O.stateNode;O.flags&32&&(bn(ie,""),O.flags&=-33);var ge=vl(w);za(w,ge,ie);break;case 3:case 4:var Re=O.stateNode.containerInfo,Qe=vl(w);bl(w,Qe,Re);break;default:throw Error(s(161))}}catch(bt){_r(w,w.return,bt)}w.flags&=-3}C&4096&&(w.flags&=-4097)}function wf(w){if(w.subtreeFlags&1024)for(w=w.child;w!==null;){var C=w;wf(C),C.tag===5&&C.flags&1024&&C.stateNode.reset(),w=w.sibling}}function ei(w,C){if(C.subtreeFlags&8772)for(C=C.child;C!==null;)mf(w,C.alternate,C),C=C.sibling}function Ci(w){for(w=w.child;w!==null;){var C=w;switch(C.tag){case 0:case 11:case 14:case 15:Qn(4,C,C.return),Ci(C);break;case 1:En(C,C.return);var O=C.stateNode;typeof O.componentWillUnmount=="function"&&ff(C,C.return,O),Ci(C);break;case 27:ea(C.stateNode);case 26:case 5:En(C,C.return),Ci(C);break;case 22:C.memoizedState===null&&Ci(C);break;case 30:Ci(C);break;default:Ci(C)}w=w.sibling}}function ti(w,C,O){for(O=O&&(C.subtreeFlags&8772)!==0,C=C.child;C!==null;){var D=C.alternate,U=w,W=C,ie=W.flags;switch(W.tag){case 0:case 11:case 15:ti(U,W,O),Vo(4,W);break;case 1:if(ti(U,W,O),D=W,U=D.stateNode,typeof U.componentDidMount=="function")try{U.componentDidMount()}catch(Qe){_r(D,D.return,Qe)}if(D=W,U=D.updateQueue,U!==null){var ge=D.stateNode;try{var Re=U.shared.hiddenCallbacks;if(Re!==null)for(U.shared.hiddenCallbacks=null,U=0;U<Re.length;U++)Xu(Re[U],ge)}catch(Qe){_r(D,D.return,Qe)}}O&&ie&64&&cf(W),Ho(W,W.return);break;case 27:hf(W);case 26:case 5:ti(U,W,O),O&&D===null&&ie&4&&df(W),Ho(W,W.return);break;case 12:ti(U,W,O);break;case 13:ti(U,W,O),O&&ie&4&&vf(U,W);break;case 22:W.memoizedState===null&&ti(U,W,O),Ho(W,W.return);break;case 30:break;default:ti(U,W,O)}C=C.sibling}}function El(w,C){var O=null;w!==null&&w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(O=w.memoizedState.cachePool.pool),w=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(w=C.memoizedState.cachePool.pool),w!==O&&(w!=null&&w.refCount++,O!=null&&Ro(O))}function Sl(w,C){w=null,C.alternate!==null&&(w=C.alternate.memoizedState.cache),C=C.memoizedState.cache,C!==w&&(C.refCount++,w!=null&&Ro(w))}function Sn(w,C,O,D){if(C.subtreeFlags&10256)for(C=C.child;C!==null;)_f(w,C,O,D),C=C.sibling}function _f(w,C,O,D){var U=C.flags;switch(C.tag){case 0:case 11:case 15:Sn(w,C,O,D),U&2048&&Vo(9,C);break;case 1:Sn(w,C,O,D);break;case 3:Sn(w,C,O,D),U&2048&&(w=null,C.alternate!==null&&(w=C.alternate.memoizedState.cache),C=C.memoizedState.cache,C!==w&&(C.refCount++,w!=null&&Ro(w)));break;case 12:if(U&2048){Sn(w,C,O,D),w=C.stateNode;try{var W=C.memoizedProps,ie=W.id,ge=W.onPostCommit;typeof ge=="function"&&ge(ie,C.alternate===null?"mount":"update",w.passiveEffectDuration,-0)}catch(Re){_r(C,C.return,Re)}}else Sn(w,C,O,D);break;case 13:Sn(w,C,O,D);break;case 23:break;case 22:W=C.stateNode,ie=C.alternate,C.memoizedState!==null?W._visibility&2?Sn(w,C,O,D):Go(w,C):W._visibility&2?Sn(w,C,O,D):(W._visibility|=2,Ji(w,C,O,D,(C.subtreeFlags&10256)!==0)),U&2048&&El(ie,C);break;case 24:Sn(w,C,O,D),U&2048&&Sl(C.alternate,C);break;default:Sn(w,C,O,D)}}function Ji(w,C,O,D,U){for(U=U&&(C.subtreeFlags&10256)!==0,C=C.child;C!==null;){var W=w,ie=C,ge=O,Re=D,Qe=ie.flags;switch(ie.tag){case 0:case 11:case 15:Ji(W,ie,ge,Re,U),Vo(8,ie);break;case 23:break;case 22:var bt=ie.stateNode;ie.memoizedState!==null?bt._visibility&2?Ji(W,ie,ge,Re,U):Go(W,ie):(bt._visibility|=2,Ji(W,ie,ge,Re,U)),U&&Qe&2048&&El(ie.alternate,ie);break;case 24:Ji(W,ie,ge,Re,U),U&&Qe&2048&&Sl(ie.alternate,ie);break;default:Ji(W,ie,ge,Re,U)}C=C.sibling}}function Go(w,C){if(C.subtreeFlags&10256)for(C=C.child;C!==null;){var O=w,D=C,U=D.flags;switch(D.tag){case 22:Go(O,D),U&2048&&El(D.alternate,D);break;case 24:Go(O,D),U&2048&&Sl(D.alternate,D);break;default:Go(O,D)}C=C.sibling}}var Wo=8192;function Qi(w){if(w.subtreeFlags&Wo)for(w=w.child;w!==null;)Ef(w),w=w.sibling}function Ef(w){switch(w.tag){case 26:Qi(w),w.flags&Wo&&w.memoizedState!==null&&gh(xn,w.memoizedState,w.memoizedProps);break;case 5:Qi(w);break;case 3:case 4:var C=xn;xn=rs(w.stateNode.containerInfo),Qi(w),xn=C;break;case 22:w.memoizedState===null&&(C=w.alternate,C!==null&&C.memoizedState!==null?(C=Wo,Wo=16777216,Qi(w),Wo=C):Qi(w));break;default:Qi(w)}}function Sf(w){var C=w.alternate;if(C!==null&&(w=C.child,w!==null)){C.child=null;do C=w.sibling,w.sibling=null,w=C;while(w!==null)}}function Xo(w){var C=w.deletions;if((w.flags&16)!==0){if(C!==null)for(var O=0;O<C.length;O++){var D=C[O];$r=D,Af(D,w)}Sf(w)}if(w.subtreeFlags&10256)for(w=w.child;w!==null;)Cf(w),w=w.sibling}function Cf(w){switch(w.tag){case 0:case 11:case 15:Xo(w),w.flags&2048&&Qn(9,w,w.return);break;case 3:Xo(w);break;case 12:Xo(w);break;case 22:var C=w.stateNode;w.memoizedState!==null&&C._visibility&2&&(w.return===null||w.return.tag!==13)?(C._visibility&=-3,qa(w)):Xo(w);break;default:Xo(w)}}function qa(w){var C=w.deletions;if((w.flags&16)!==0){if(C!==null)for(var O=0;O<C.length;O++){var D=C[O];$r=D,Af(D,w)}Sf(w)}for(w=w.child;w!==null;){switch(C=w,C.tag){case 0:case 11:case 15:Qn(8,C,C.return),qa(C);break;case 22:O=C.stateNode,O._visibility&2&&(O._visibility&=-3,qa(C));break;default:qa(C)}w=w.sibling}}function Af(w,C){for(;$r!==null;){var O=$r;switch(O.tag){case 0:case 11:case 15:Qn(8,O,C);break;case 23:case 22:if(O.memoizedState!==null&&O.memoizedState.cachePool!==null){var D=O.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:Ro(O.memoizedState.cache)}if(D=O.child,D!==null)D.return=O,$r=D;else e:for(O=w;$r!==null;){D=$r;var U=D.sibling,W=D.return;if(yf(D),D===O){$r=null;break e}if(U!==null){U.return=W,$r=U;break e}$r=W}}}var kp={getCacheForType:function(w){var C=qr(Mr),O=C.data.get(w);return O===void 0&&(O=w(),C.data.set(w,O)),O}},Dp=typeof WeakMap=="function"?WeakMap:Map,mr=0,Sr=null,ur=null,fr=0,yr=0,rn=null,ri=!1,eo=!1,Cl=!1,Un=0,Ir=0,ni=0,Ai=0,Al=0,dn=0,to=0,Yo=null,Zr=null,Tl=!1,Ol=0,Va=1/0,Ha=null,ii=null,jr=0,oi=null,ro=null,no=0,Il=0,Rl=null,Tf=null,Ko=0,kl=null;function nn(){if((mr&2)!==0&&fr!==0)return fr&-fr;if(G.T!==null){var w=Vi;return w!==0?w:Fl()}return Y()}function Of(){dn===0&&(dn=(fr&536870912)===0||hr?_e():536870912);var w=fn.current;return w!==null&&(w.flags|=32),dn}function on(w,C,O){(w===Sr&&(yr===2||yr===9)||w.cancelPendingCommit!==null)&&(io(w,0),ai(w,fr,dn,!1)),je(w,O),((mr&2)===0||w!==Sr)&&(w===Sr&&((mr&2)===0&&(Ai|=O),Ir===4&&ai(w,fr,dn,!1)),Cn(w))}function If(w,C,O){if((mr&6)!==0)throw Error(s(327));var D=!O&&(C&124)===0&&(C&w.expiredLanes)===0||le(w,C),U=D?Np(w,C):Ml(w,C,!0),W=D;do{if(U===0){eo&&!D&&ai(w,C,0,!1);break}else{if(O=w.current.alternate,W&&!Pp(O)){U=Ml(w,C,!1),W=!1;continue}if(U===2){if(W=C,w.errorRecoveryDisabledLanes&W)var ie=0;else ie=w.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){C=ie;e:{var ge=w;U=Yo;var Re=ge.current.memoizedState.isDehydrated;if(Re&&(io(ge,ie).flags|=256),ie=Ml(ge,ie,!1),ie!==2){if(Cl&&!Re){ge.errorRecoveryDisabledLanes|=W,Ai|=W,U=4;break e}W=Zr,Zr=U,W!==null&&(Zr===null?Zr=W:Zr.push.apply(Zr,W))}U=ie}if(W=!1,U!==2)continue}}if(U===1){io(w,0),ai(w,C,0,!0);break}e:{switch(D=w,W=U,W){case 0:case 1:throw Error(s(345));case 4:if((C&4194048)!==C)break;case 6:ai(D,C,dn,!ri);break e;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((C&62914560)===C&&(U=Ol+300-Mt(),10<U)){if(ai(D,C,dn,!ri),ze(D,0,!0)!==0)break e;D.timeoutHandle=id(Rf.bind(null,D,O,Zr,Ha,Tl,C,dn,Ai,to,ri,W,2,-0,0),U);break e}Rf(D,O,Zr,Ha,Tl,C,dn,Ai,to,ri,W,0,-0,0)}}break}while(!0);Cn(w)}function Rf(w,C,O,D,U,W,ie,ge,Re,Qe,bt,At,rt,ot){if(w.timeoutHandle=-1,At=C.subtreeFlags,(At&8192||(At&16785408)===16785408)&&(na={stylesheets:null,count:0,unsuspend:hh},Ef(C),At=mh(),At!==null)){w.cancelPendingCommit=At($f.bind(null,w,C,W,O,D,U,ie,ge,Re,bt,1,rt,ot)),ai(w,W,ie,!Qe);return}$f(w,C,W,O,D,U,ie,ge,Re)}function Pp(w){for(var C=w;;){var O=C.tag;if((O===0||O===11||O===15)&&C.flags&16384&&(O=C.updateQueue,O!==null&&(O=O.stores,O!==null)))for(var D=0;D<O.length;D++){var U=O[D],W=U.getSnapshot;U=U.value;try{if(!Jr(W(),U))return!1}catch{return!1}}if(O=C.child,C.subtreeFlags&16384&&O!==null)O.return=C,C=O;else{if(C===w)break;for(;C.sibling===null;){if(C.return===null||C.return===w)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function ai(w,C,O,D){C&=~Al,C&=~Ai,w.suspendedLanes|=C,w.pingedLanes&=~C,D&&(w.warmLanes|=C),D=w.expirationTimes;for(var U=C;0<U;){var W=31-ce(U),ie=1<<W;D[W]=-1,U&=~ie}O!==0&&Te(w,O,C)}function Ga(){return(mr&6)===0?(Zo(0),!1):!0}function Dl(){if(ur!==null){if(yr===0)var w=ur.return;else w=ur,Pn=bi=null,Ys(w),Ki=null,Uo=0,w=ur;for(;w!==null;)uf(w.alternate,w),w=w.return;ur=null}}function io(w,C){var O=w.timeoutHandle;O!==-1&&(w.timeoutHandle=-1,Zp(O)),O=w.cancelPendingCommit,O!==null&&(w.cancelPendingCommit=null,O()),Dl(),Sr=w,ur=O=Rn(w.current,null),fr=C,yr=0,rn=null,ri=!1,eo=le(w,C),Cl=!1,to=dn=Al=Ai=ni=Ir=0,Zr=Yo=null,Tl=!1,(C&8)!==0&&(C|=C&32);var D=w.entangledLanes;if(D!==0)for(w=w.entanglements,D&=C;0<D;){var U=31-ce(D),W=1<<U;C|=w[U],D&=~W}return Un=C,pa(),O}function kf(w,C){sr=null,G.H=Pa,C===Do||C===Ea?(C=Gu(),yr=3):C===qu?(C=Gu(),yr=4):yr=C===Xc?8:C!==null&&typeof C=="object"&&typeof C.then=="function"?6:1,rn=C,ur===null&&(Ir=1,Fa(w,sn(C,w.current)))}function Df(){var w=G.H;return G.H=Pa,w===null?Pa:w}function Pf(){var w=G.A;return G.A=kp,w}function Pl(){Ir=4,ri||(fr&4194048)!==fr&&fn.current!==null||(eo=!0),(ni&134217727)===0&&(Ai&134217727)===0||Sr===null||ai(Sr,fr,dn,!1)}function Ml(w,C,O){var D=mr;mr|=2;var U=Df(),W=Pf();(Sr!==w||fr!==C)&&(Ha=null,io(w,C)),C=!1;var ie=Ir;e:do try{if(yr!==0&&ur!==null){var ge=ur,Re=rn;switch(yr){case 8:Dl(),ie=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(C=!0);var Qe=yr;if(yr=0,rn=null,oo(w,ge,Re,Qe),O&&eo){ie=0;break e}break;default:Qe=yr,yr=0,rn=null,oo(w,ge,Re,Qe)}}Mp(),ie=Ir;break}catch(bt){kf(w,bt)}while(!0);return C&&w.shellSuspendCounter++,Pn=bi=null,mr=D,G.H=U,G.A=W,ur===null&&(Sr=null,fr=0,pa()),ie}function Mp(){for(;ur!==null;)Mf(ur)}function Np(w,C){var O=mr;mr|=2;var D=Df(),U=Pf();Sr!==w||fr!==C?(Ha=null,Va=Mt()+500,io(w,C)):eo=le(w,C);e:do try{if(yr!==0&&ur!==null){C=ur;var W=rn;t:switch(yr){case 1:yr=0,rn=null,oo(w,C,W,1);break;case 2:case 9:if(Vu(W)){yr=0,rn=null,Nf(C);break}C=function(){yr!==2&&yr!==9||Sr!==w||(yr=7),Cn(w)},W.then(C,C);break e;case 3:yr=7;break e;case 4:yr=5;break e;case 7:Vu(W)?(yr=0,rn=null,Nf(C)):(yr=0,rn=null,oo(w,C,W,7));break;case 5:var ie=null;switch(ur.tag){case 26:ie=ur.memoizedState;case 5:case 27:var ge=ur;if(!ie||md(ie)){yr=0,rn=null;var Re=ge.sibling;if(Re!==null)ur=Re;else{var Qe=ge.return;Qe!==null?(ur=Qe,Wa(Qe)):ur=null}break t}}yr=0,rn=null,oo(w,C,W,5);break;case 6:yr=0,rn=null,oo(w,C,W,6);break;case 8:Dl(),Ir=6;break e;default:throw Error(s(462))}}Bp();break}catch(bt){kf(w,bt)}while(!0);return Pn=bi=null,G.H=D,G.A=U,mr=O,ur!==null?0:(Sr=null,fr=0,pa(),Ir)}function Bp(){for(;ur!==null&&!Nt();)Mf(ur)}function Mf(w){var C=sf(w.alternate,w,Un);w.memoizedProps=w.pendingProps,C===null?Wa(w):ur=C}function Nf(w){var C=w,O=C.alternate;switch(C.tag){case 15:case 0:C=ef(O,C,C.pendingProps,C.type,void 0,fr);break;case 11:C=ef(O,C,C.pendingProps,C.type.render,C.ref,fr);break;case 5:Ys(C);default:uf(O,C),C=ur=Mu(C,Un),C=sf(O,C,Un)}w.memoizedProps=w.pendingProps,C===null?Wa(w):ur=C}function oo(w,C,O,D){Pn=bi=null,Ys(C),Ki=null,Uo=0;var U=C.return;try{if(Cp(w,U,C,O,fr)){Ir=1,Fa(w,sn(O,w.current)),ur=null;return}}catch(W){if(U!==null)throw ur=U,W;Ir=1,Fa(w,sn(O,w.current)),ur=null;return}C.flags&32768?(hr||D===1?w=!0:eo||(fr&536870912)!==0?w=!1:(ri=w=!0,(D===2||D===9||D===3||D===6)&&(D=fn.current,D!==null&&D.tag===13&&(D.flags|=16384))),Bf(C,w)):Wa(C)}function Wa(w){var C=w;do{if((C.flags&32768)!==0){Bf(C,ri);return}w=C.return;var O=Tp(C.alternate,C,Un);if(O!==null){ur=O;return}if(C=C.sibling,C!==null){ur=C;return}ur=C=w}while(C!==null);Ir===0&&(Ir=5)}function Bf(w,C){do{var O=Op(w.alternate,w);if(O!==null){O.flags&=32767,ur=O;return}if(O=w.return,O!==null&&(O.flags|=32768,O.subtreeFlags=0,O.deletions=null),!C&&(w=w.sibling,w!==null)){ur=w;return}ur=w=O}while(w!==null);Ir=6,ur=null}function $f(w,C,O,D,U,W,ie,ge,Re){w.cancelPendingCommit=null;do Xa();while(jr!==0);if((mr&6)!==0)throw Error(s(327));if(C!==null){if(C===w.current)throw Error(s(177));if(W=C.lanes|C.childLanes,W|=Ss,Ye(w,O,W,ie,ge,Re),w===Sr&&(ur=Sr=null,fr=0),ro=C,oi=w,no=O,Il=W,Rl=U,Tf=D,(C.subtreeFlags&10256)!==0||(C.flags&10256)!==0?(w.callbackNode=null,w.callbackPriority=0,jp(Ut,function(){return zf(),null})):(w.callbackNode=null,w.callbackPriority=0),D=(C.flags&13878)!==0,(C.subtreeFlags&13878)!==0||D){D=G.T,G.T=null,U=te.p,te.p=2,ie=mr,mr|=4;try{Ip(w,C,O)}finally{mr=ie,te.p=U,G.T=D}}jr=1,Ff(),Lf(),jf()}}function Ff(){if(jr===1){jr=0;var w=oi,C=ro,O=(C.flags&13878)!==0;if((C.subtreeFlags&13878)!==0||O){O=G.T,G.T=null;var D=te.p;te.p=2;var U=mr;mr|=4;try{bf(C,w);var W=Gl,ie=Su(w.containerInfo),ge=W.focusedElem,Re=W.selectionRange;if(ie!==ge&&ge&&ge.ownerDocument&&Eu(ge.ownerDocument.documentElement,ge)){if(Re!==null&&vs(ge)){var Qe=Re.start,bt=Re.end;if(bt===void 0&&(bt=Qe),"selectionStart"in ge)ge.selectionStart=Qe,ge.selectionEnd=Math.min(bt,ge.value.length);else{var At=ge.ownerDocument||document,rt=At&&At.defaultView||window;if(rt.getSelection){var ot=rt.getSelection(),Zt=ge.textContent.length,Xt=Math.min(Re.start,Zt),wr=Re.end===void 0?Xt:Math.min(Re.end,Zt);!ot.extend&&Xt>wr&&(ie=wr,wr=Xt,Xt=ie);var Ve=_u(ge,Xt),Be=_u(ge,wr);if(Ve&&Be&&(ot.rangeCount!==1||ot.anchorNode!==Ve.node||ot.anchorOffset!==Ve.offset||ot.focusNode!==Be.node||ot.focusOffset!==Be.offset)){var Ze=At.createRange();Ze.setStart(Ve.node,Ve.offset),ot.removeAllRanges(),Xt>wr?(ot.addRange(Ze),ot.extend(Be.node,Be.offset)):(Ze.setEnd(Be.node,Be.offset),ot.addRange(Ze))}}}}for(At=[],ot=ge;ot=ot.parentNode;)ot.nodeType===1&&At.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<At.length;ge++){var wt=At[ge];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}ss=!!Hl,Gl=Hl=null}finally{mr=U,te.p=D,G.T=O}}w.current=C,jr=2}}function Lf(){if(jr===2){jr=0;var w=oi,C=ro,O=(C.flags&8772)!==0;if((C.subtreeFlags&8772)!==0||O){O=G.T,G.T=null;var D=te.p;te.p=2;var U=mr;mr|=4;try{mf(w,C.alternate,C)}finally{mr=U,te.p=D,G.T=O}}jr=3}}function jf(){if(jr===4||jr===3){jr=0,Vt();var w=oi,C=ro,O=no,D=Tf;(C.subtreeFlags&10256)!==0||(C.flags&10256)!==0?jr=5:(jr=0,ro=oi=null,Uf(w,w.pendingLanes));var U=w.pendingLanes;if(U===0&&(ii=null),Rt(O),C=C.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Ue,C,void 0,(C.current.flags&128)===128)}catch{}if(D!==null){C=G.T,U=te.p,te.p=2,G.T=null;try{for(var W=w.onRecoverableError,ie=0;ie<D.length;ie++){var ge=D[ie];W(ge.value,{componentStack:ge.stack})}}finally{G.T=C,te.p=U}}(no&3)!==0&&Xa(),Cn(w),U=w.pendingLanes,(O&4194090)!==0&&(U&42)!==0?w===kl?Ko++:(Ko=0,kl=w):Ko=0,Zo(0)}}function Uf(w,C){(w.pooledCacheLanes&=C)===0&&(C=w.pooledCache,C!=null&&(w.pooledCache=null,Ro(C)))}function Xa(w){return Ff(),Lf(),jf(),zf()}function zf(){if(jr!==5)return!1;var w=oi,C=Il;Il=0;var O=Rt(no),D=G.T,U=te.p;try{te.p=32>O?32:O,G.T=null,O=Rl,Rl=null;var W=oi,ie=no;if(jr=0,ro=oi=null,no=0,(mr&6)!==0)throw Error(s(331));var ge=mr;if(mr|=4,Cf(W.current),_f(W,W.current,ie,O),mr=ge,Zo(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ue,W)}catch{}return!0}finally{te.p=U,G.T=D,Uf(w,C)}}function qf(w,C,O){C=sn(O,C),C=ul(w.stateNode,C,2),w=Yn(w,C,2),w!==null&&(je(w,2),Cn(w))}function _r(w,C,O){if(w.tag===3)qf(w,w,O);else for(;C!==null;){if(C.tag===3){qf(C,w,O);break}else if(C.tag===1){var D=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(ii===null||!ii.has(D))){w=sn(O,w),O=Gc(2),D=Yn(C,O,2),D!==null&&(Wc(O,D,C,w),je(D,2),Cn(D));break}}C=C.return}}function Nl(w,C,O){var D=w.pingCache;if(D===null){D=w.pingCache=new Dp;var U=new Set;D.set(C,U)}else U=D.get(C),U===void 0&&(U=new Set,D.set(C,U));U.has(O)||(Cl=!0,U.add(O),w=$p.bind(null,w,C,O),C.then(w,w))}function $p(w,C,O){var D=w.pingCache;D!==null&&D.delete(C),w.pingedLanes|=w.suspendedLanes&O,w.warmLanes&=~O,Sr===w&&(fr&O)===O&&(Ir===4||Ir===3&&(fr&62914560)===fr&&300>Mt()-Ol?(mr&2)===0&&io(w,0):Al|=O,to===fr&&(to=0)),Cn(w)}function Vf(w,C){C===0&&(C=Oe()),w=ji(w,C),w!==null&&(je(w,C),Cn(w))}function Fp(w){var C=w.memoizedState,O=0;C!==null&&(O=C.retryLane),Vf(w,O)}function Lp(w,C){var O=0;switch(w.tag){case 13:var D=w.stateNode,U=w.memoizedState;U!==null&&(O=U.retryLane);break;case 19:D=w.stateNode;break;case 22:D=w.stateNode._retryCache;break;default:throw Error(s(314))}D!==null&&D.delete(C),Vf(w,O)}function jp(w,C){return kt(w,C)}var Ya=null,ao=null,Bl=!1,Ka=!1,$l=!1,Ti=0;function Cn(w){w!==ao&&w.next===null&&(ao===null?Ya=ao=w:ao=ao.next=w),Ka=!0,Bl||(Bl=!0,zp())}function Zo(w,C){if(!$l&&Ka){$l=!0;do for(var O=!1,D=Ya;D!==null;){if(w!==0){var U=D.pendingLanes;if(U===0)var W=0;else{var ie=D.suspendedLanes,ge=D.pingedLanes;W=(1<<31-ce(42|w)+1)-1,W&=U&~(ie&~ge),W=W&201326741?W&201326741|1:W?W|2:0}W!==0&&(O=!0,Xf(D,W))}else W=fr,W=ze(D,D===Sr?W:0,D.cancelPendingCommit!==null||D.timeoutHandle!==-1),(W&3)===0||le(D,W)||(O=!0,Xf(D,W));D=D.next}while(O);$l=!1}}function Up(){Hf()}function Hf(){Ka=Bl=!1;var w=0;Ti!==0&&(Kp()&&(w=Ti),Ti=0);for(var C=Mt(),O=null,D=Ya;D!==null;){var U=D.next,W=Gf(D,C);W===0?(D.next=null,O===null?Ya=U:O.next=U,U===null&&(ao=O)):(O=D,(w!==0||(W&3)!==0)&&(Ka=!0)),D=U}Zo(w)}function Gf(w,C){for(var O=w.suspendedLanes,D=w.pingedLanes,U=w.expirationTimes,W=w.pendingLanes&-62914561;0<W;){var ie=31-ce(W),ge=1<<ie,Re=U[ie];Re===-1?((ge&O)===0||(ge&D)!==0)&&(U[ie]=ae(ge,C)):Re<=C&&(w.expiredLanes|=ge),W&=~ge}if(C=Sr,O=fr,O=ze(w,w===C?O:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),D=w.callbackNode,O===0||w===C&&(yr===2||yr===9)||w.cancelPendingCommit!==null)return D!==null&&D!==null&&_t(D),w.callbackNode=null,w.callbackPriority=0;if((O&3)===0||le(w,O)){if(C=O&-O,C===w.callbackPriority)return C;switch(D!==null&&_t(D),Rt(O)){case 2:case 8:O=Bt;break;case 32:O=Ut;break;case 268435456:O=Lt;break;default:O=Ut}return D=Wf.bind(null,w),O=kt(O,D),w.callbackPriority=C,w.callbackNode=O,C}return D!==null&&D!==null&&_t(D),w.callbackPriority=2,w.callbackNode=null,2}function Wf(w,C){if(jr!==0&&jr!==5)return w.callbackNode=null,w.callbackPriority=0,null;var O=w.callbackNode;if(Xa()&&w.callbackNode!==O)return null;var D=fr;return D=ze(w,w===Sr?D:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),D===0?null:(If(w,D,C),Gf(w,Mt()),w.callbackNode!=null&&w.callbackNode===O?Wf.bind(null,w):null)}function Xf(w,C){if(Xa())return null;If(w,C,!0)}function zp(){Jp(function(){(mr&6)!==0?kt(Ht,Up):Hf()})}function Fl(){return Ti===0&&(Ti=_e()),Ti}function Yf(w){return w==null||typeof w=="symbol"||typeof w=="boolean"?null:typeof w=="function"?w:Tn(""+w)}function Kf(w,C){var O=C.ownerDocument.createElement("input");return O.name=C.name,O.value=C.value,w.id&&O.setAttribute("form",w.id),C.parentNode.insertBefore(O,C),w=new FormData(w),O.parentNode.removeChild(O),w}function qp(w,C,O,D,U){if(C==="submit"&&O&&O.stateNode===U){var W=Yf((U[Fe]||null).action),ie=D.submitter;ie&&(C=(C=ie[Fe]||null)?Yf(C.formAction):ie.getAttribute("formAction"),C!==null&&(W=C,ie=null));var ge=new tr("action","action",null,D,U);w.push({event:ge,listeners:[{instance:null,listener:function(){if(D.defaultPrevented){if(Ti!==0){var Re=ie?Kf(U,ie):new FormData(U);il(O,{pending:!0,data:Re,method:U.method,action:W},null,Re)}}else typeof W=="function"&&(ge.preventDefault(),Re=ie?Kf(U,ie):new FormData(U),il(O,{pending:!0,data:Re,method:U.method,action:W},W,Re))},currentTarget:U}]})}}for(var Ll=0;Ll<Es.length;Ll++){var jl=Es[Ll],Vp=jl.toLowerCase(),Hp=jl[0].toUpperCase()+jl.slice(1);yn(Vp,"on"+Hp)}yn(Tu,"onAnimationEnd"),yn(Ou,"onAnimationIteration"),yn(Iu,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(lp,"onTransitionRun"),yn(up,"onTransitionStart"),yn(cp,"onTransitionCancel"),yn(Ru,"onTransitionEnd"),se("onMouseEnter",["mouseout","mouseover"]),se("onMouseLeave",["mouseout","mouseover"]),se("onPointerEnter",["pointerout","pointerover"]),se("onPointerLeave",["pointerout","pointerover"]),jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Zf(w,C){C=(C&4)!==0;for(var O=0;O<w.length;O++){var D=w[O],U=D.event;D=D.listeners;e:{var W=void 0;if(C)for(var ie=D.length-1;0<=ie;ie--){var ge=D[ie],Re=ge.instance,Qe=ge.currentTarget;if(ge=ge.listener,Re!==W&&U.isPropagationStopped())break e;W=ge,U.currentTarget=Qe;try{W(U)}catch(bt){$a(bt)}U.currentTarget=null,W=Re}else for(ie=0;ie<D.length;ie++){if(ge=D[ie],Re=ge.instance,Qe=ge.currentTarget,ge=ge.listener,Re!==W&&U.isPropagationStopped())break e;W=ge,U.currentTarget=Qe;try{W(U)}catch(bt){$a(bt)}U.currentTarget=null,W=Re}}}}function cr(w,C){var O=C[Dt];O===void 0&&(O=C[Dt]=new Set);var D=w+"__bubble";O.has(D)||(Jf(C,w,2,!1),O.add(D))}function Ul(w,C,O){var D=0;C&&(D|=4),Jf(O,w,D,C)}var Za="_reactListening"+Math.random().toString(36).slice(2);function zl(w){if(!w[Za]){w[Za]=!0,dt.forEach(function(O){O!=="selectionchange"&&(Gp.has(O)||Ul(O,!1,w),Ul(O,!0,w))});var C=w.nodeType===9?w:w.ownerDocument;C===null||C[Za]||(C[Za]=!0,Ul("selectionchange",!1,C))}}function Jf(w,C,O,D){switch(_d(C)){case 2:var U=vh;break;case 8:U=bh;break;default:U=ru}O=U.bind(null,C,O,w),U=void 0,!Ni||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(U=!0),D?U!==void 0?w.addEventListener(C,O,{capture:!0,passive:U}):w.addEventListener(C,O,!0):U!==void 0?w.addEventListener(C,O,{passive:U}):w.addEventListener(C,O,!1)}function ql(w,C,O,D,U){var W=D;if((C&1)===0&&(C&2)===0&&D!==null)e:for(;;){if(D===null)return;var ie=D.tag;if(ie===3||ie===4){var ge=D.stateNode.containerInfo;if(ge===U)break;if(ie===4)for(ie=D.return;ie!==null;){var Re=ie.tag;if((Re===3||Re===4)&&ie.stateNode.containerInfo===U)return;ie=ie.return}for(;ge!==null;){if(ie=pe(ge),ie===null)return;if(Re=ie.tag,Re===5||Re===6||Re===26||Re===27){D=W=ie;continue e}ge=ge.parentNode}}D=D.return}bo(function(){var Qe=W,bt=Pi(O),At=[];e:{var rt=ku.get(w);if(rt!==void 0){var ot=tr,Zt=w;switch(w){case"keypress":if(ke(O)===0)break e;case"keydown":case"keyup":ot=jd;break;case"focusin":Zt="focus",ot=hs;break;case"focusout":Zt="blur",ot=hs;break;case"beforeblur":case"afterblur":ot=hs;break;case"click":if(O.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=qd;break;case Tu:case Ou:case Iu:ot=kd;break;case Ru:ot=Hd;break;case"scroll":case"scrollend":ot=Cr;break;case"wheel":ot=Wd;break;case"copy":case"cut":case"paste":ot=Pd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=lu;break;case"toggle":case"beforetoggle":ot=Yd}var Xt=(C&4)!==0,wr=!Xt&&(w==="scroll"||w==="scrollend"),Ve=Xt?rt!==null?rt+"Capture":null:rt;Xt=[];for(var Be=Qe,Ze;Be!==null;){var wt=Be;if(Ze=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||Ze===null||Ve===null||(wt=qn(Be,Ve),wt!=null&&Xt.push(Qo(Be,wt,Ze))),wr)break;Be=Be.return}0<Xt.length&&(rt=new ot(rt,Zt,null,O,bt),At.push({event:rt,listeners:Xt}))}}if((C&7)===0){e:{if(rt=w==="mouseover"||w==="pointerover",ot=w==="mouseout"||w==="pointerout",rt&&O!==Di&&(Zt=O.relatedTarget||O.fromElement)&&(pe(Zt)||Zt[Ot]))break e;if((ot||rt)&&(rt=bt.window===bt?bt:(rt=bt.ownerDocument)?rt.defaultView||rt.parentWindow:window,ot?(Zt=O.relatedTarget||O.toElement,ot=Qe,Zt=Zt?pe(Zt):null,Zt!==null&&(wr=c(Zt),Xt=Zt.tag,Zt!==wr||Xt!==5&&Xt!==27&&Xt!==6)&&(Zt=null)):(ot=null,Zt=Qe),ot!==Zt)){if(Xt=Er,wt="onMouseLeave",Ve="onMouseEnter",Be="mouse",(w==="pointerout"||w==="pointerover")&&(Xt=lu,wt="onPointerLeave",Ve="onPointerEnter",Be="pointer"),wr=ot==null?rt:De(ot),Ze=Zt==null?rt:De(Zt),rt=new Xt(wt,Be+"leave",ot,O,bt),rt.target=wr,rt.relatedTarget=Ze,wt=null,pe(bt)===Qe&&(Xt=new Xt(Ve,Be+"enter",Zt,O,bt),Xt.target=Ze,Xt.relatedTarget=wr,wt=Xt),wr=wt,ot&&Zt)t:{for(Xt=ot,Ve=Zt,Be=0,Ze=Xt;Ze;Ze=so(Ze))Be++;for(Ze=0,wt=Ve;wt;wt=so(wt))Ze++;for(;0<Be-Ze;)Xt=so(Xt),Be--;for(;0<Ze-Be;)Ve=so(Ve),Ze--;for(;Be--;){if(Xt===Ve||Ve!==null&&Xt===Ve.alternate)break t;Xt=so(Xt),Ve=so(Ve)}Xt=null}else Xt=null;ot!==null&&Qf(At,rt,ot,Xt,!1),Zt!==null&&wr!==null&&Qf(At,wr,Zt,Xt,!0)}}e:{if(rt=Qe?De(Qe):window,ot=rt.nodeName&&rt.nodeName.toLowerCase(),ot==="select"||ot==="input"&&rt.type==="file")var qt=mu;else if(hu(rt))if(yu)qt=op;else{qt=np;var lr=rp}else ot=rt.nodeName,!ot||ot.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?Qe&&er(Qe.elementType)&&(qt=mu):qt=ip;if(qt&&(qt=qt(w,Qe))){gu(At,qt,O,bt);break e}lr&&lr(w,rt,Qe),w==="focusout"&&Qe&&rt.type==="number"&&Qe.memoizedProps.value!=null&&ki(rt,"number",rt.value)}switch(lr=Qe?De(Qe):window,w){case"focusin":(hu(lr)||lr.contentEditable==="true")&&($i=lr,bs=Qe,Co=null);break;case"focusout":Co=bs=$i=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,Cu(At,O,bt);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":Cu(At,O,bt)}var Gt;if(ms)e:{switch(w){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else Bi?du(w,O)&&(Yt="onCompositionEnd"):w==="keydown"&&O.keyCode===229&&(Yt="onCompositionStart");Yt&&(uu&&O.locale!=="ko"&&(Bi||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Bi&&(Gt=Ee()):(gn=bt,ne="value"in gn?gn.value:gn.textContent,Bi=!0)),lr=Ja(Qe,Yt),0<lr.length&&(Yt=new su(Yt,w,null,O,bt),At.push({event:Yt,listeners:lr}),Gt?Yt.data=Gt:(Gt=pu(O),Gt!==null&&(Yt.data=Gt)))),(Gt=Zd?Jd(w,O):Qd(w,O))&&(Yt=Ja(Qe,"onBeforeInput"),0<Yt.length&&(lr=new su("onBeforeInput","beforeinput",null,O,bt),At.push({event:lr,listeners:Yt}),lr.data=Gt)),qp(At,w,Qe,O,bt)}Zf(At,C)})}function Qo(w,C,O){return{instance:w,listener:C,currentTarget:O}}function Ja(w,C){for(var O=C+"Capture",D=[];w!==null;){var U=w,W=U.stateNode;if(U=U.tag,U!==5&&U!==26&&U!==27||W===null||(U=qn(w,O),U!=null&&D.unshift(Qo(w,U,W)),U=qn(w,C),U!=null&&D.push(Qo(w,U,W))),w.tag===3)return D;w=w.return}return[]}function so(w){if(w===null)return null;do w=w.return;while(w&&w.tag!==5&&w.tag!==27);return w||null}function Qf(w,C,O,D,U){for(var W=C._reactName,ie=[];O!==null&&O!==D;){var ge=O,Re=ge.alternate,Qe=ge.stateNode;if(ge=ge.tag,Re!==null&&Re===D)break;ge!==5&&ge!==26&&ge!==27||Qe===null||(Re=Qe,U?(Qe=qn(O,W),Qe!=null&&ie.unshift(Qo(O,Qe,Re))):U||(Qe=qn(O,W),Qe!=null&&ie.push(Qo(O,Qe,Re)))),O=O.return}ie.length!==0&&w.push({event:C,listeners:ie})}var Wp=/\r\n?/g,Xp=/\u0000|\uFFFD/g;function ed(w){return(typeof w=="string"?w:""+w).replace(Wp,`
`).replace(Xp,"")}function td(w,C){return C=ed(C),ed(w)===C}function Qa(){}function br(w,C,O,D,U,W){switch(O){case"children":typeof D=="string"?C==="body"||C==="textarea"&&D===""||bn(w,D):(typeof D=="number"||typeof D=="bigint")&&C!=="body"&&bn(w,""+D);break;case"className":tt(w,"class",D);break;case"tabIndex":tt(w,"tabindex",D);break;case"dir":case"role":case"viewBox":case"width":case"height":tt(w,O,D);break;case"style":yo(w,D,W);break;case"data":if(C!=="object"){tt(w,"data",D);break}case"src":case"href":if(D===""&&(C!=="a"||O!=="href")){w.removeAttribute(O);break}if(D==null||typeof D=="function"||typeof D=="symbol"||typeof D=="boolean"){w.removeAttribute(O);break}D=Tn(""+D),w.setAttribute(O,D);break;case"action":case"formAction":if(typeof D=="function"){w.setAttribute(O,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof W=="function"&&(O==="formAction"?(C!=="input"&&br(w,C,"name",U.name,U,null),br(w,C,"formEncType",U.formEncType,U,null),br(w,C,"formMethod",U.formMethod,U,null),br(w,C,"formTarget",U.formTarget,U,null)):(br(w,C,"encType",U.encType,U,null),br(w,C,"method",U.method,U,null),br(w,C,"target",U.target,U,null)));if(D==null||typeof D=="symbol"||typeof D=="boolean"){w.removeAttribute(O);break}D=Tn(""+D),w.setAttribute(O,D);break;case"onClick":D!=null&&(w.onclick=Qa);break;case"onScroll":D!=null&&cr("scroll",w);break;case"onScrollEnd":D!=null&&cr("scrollend",w);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(s(61));if(O=D.__html,O!=null){if(U.children!=null)throw Error(s(60));w.innerHTML=O}}break;case"multiple":w.multiple=D&&typeof D!="function"&&typeof D!="symbol";break;case"muted":w.muted=D&&typeof D!="function"&&typeof D!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(D==null||typeof D=="function"||typeof D=="boolean"||typeof D=="symbol"){w.removeAttribute("xlink:href");break}O=Tn(""+D),w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",O);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":D!=null&&typeof D!="function"&&typeof D!="symbol"?w.setAttribute(O,""+D):w.removeAttribute(O);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":D&&typeof D!="function"&&typeof D!="symbol"?w.setAttribute(O,""):w.removeAttribute(O);break;case"capture":case"download":D===!0?w.setAttribute(O,""):D!==!1&&D!=null&&typeof D!="function"&&typeof D!="symbol"?w.setAttribute(O,D):w.removeAttribute(O);break;case"cols":case"rows":case"size":case"span":D!=null&&typeof D!="function"&&typeof D!="symbol"&&!isNaN(D)&&1<=D?w.setAttribute(O,D):w.removeAttribute(O);break;case"rowSpan":case"start":D==null||typeof D=="function"||typeof D=="symbol"||isNaN(D)?w.removeAttribute(O):w.setAttribute(O,D);break;case"popover":cr("beforetoggle",w),cr("toggle",w),ve(w,"popover",D);break;case"xlinkActuate":ht(w,"http://www.w3.org/1999/xlink","xlink:actuate",D);break;case"xlinkArcrole":ht(w,"http://www.w3.org/1999/xlink","xlink:arcrole",D);break;case"xlinkRole":ht(w,"http://www.w3.org/1999/xlink","xlink:role",D);break;case"xlinkShow":ht(w,"http://www.w3.org/1999/xlink","xlink:show",D);break;case"xlinkTitle":ht(w,"http://www.w3.org/1999/xlink","xlink:title",D);break;case"xlinkType":ht(w,"http://www.w3.org/1999/xlink","xlink:type",D);break;case"xmlBase":ht(w,"http://www.w3.org/XML/1998/namespace","xml:base",D);break;case"xmlLang":ht(w,"http://www.w3.org/XML/1998/namespace","xml:lang",D);break;case"xmlSpace":ht(w,"http://www.w3.org/XML/1998/namespace","xml:space",D);break;case"is":ve(w,"is",D);break;case"innerText":case"textContent":break;default:(!(2<O.length)||O[0]!=="o"&&O[0]!=="O"||O[1]!=="n"&&O[1]!=="N")&&(O=nr.get(O)||O,ve(w,O,D))}}function Vl(w,C,O,D,U,W){switch(O){case"style":yo(w,D,W);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(s(61));if(O=D.__html,O!=null){if(U.children!=null)throw Error(s(60));w.innerHTML=O}}break;case"children":typeof D=="string"?bn(w,D):(typeof D=="number"||typeof D=="bigint")&&bn(w,""+D);break;case"onScroll":D!=null&&cr("scroll",w);break;case"onScrollEnd":D!=null&&cr("scrollend",w);break;case"onClick":D!=null&&(w.onclick=Qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tt.hasOwnProperty(O))e:{if(O[0]==="o"&&O[1]==="n"&&(U=O.endsWith("Capture"),C=O.slice(2,U?O.length-7:void 0),W=w[Fe]||null,W=W!=null?W[O]:null,typeof W=="function"&&w.removeEventListener(C,W,U),typeof D=="function")){typeof W!="function"&&W!==null&&(O in w?w[O]=null:w.hasAttribute(O)&&w.removeAttribute(O)),w.addEventListener(C,D,U);break e}O in w?w[O]=D:D===!0?w.setAttribute(O,""):ve(w,O,D)}}}function Ur(w,C,O){switch(C){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":cr("error",w),cr("load",w);var D=!1,U=!1,W;for(W in O)if(O.hasOwnProperty(W)){var ie=O[W];if(ie!=null)switch(W){case"src":D=!0;break;case"srcSet":U=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,C));default:br(w,C,W,ie,O,null)}}U&&br(w,C,"srcSet",O.srcSet,O,null),D&&br(w,C,"src",O.src,O,null);return;case"input":cr("invalid",w);var ge=W=ie=U=null,Re=null,Qe=null;for(D in O)if(O.hasOwnProperty(D)){var bt=O[D];if(bt!=null)switch(D){case"name":U=bt;break;case"type":ie=bt;break;case"checked":Re=bt;break;case"defaultChecked":Qe=bt;break;case"value":W=bt;break;case"defaultValue":ge=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(s(137,C));break;default:br(w,C,D,bt,O,null)}}ho(w,W,ge,Re,Qe,ie,U,!1),Ii(w);return;case"select":cr("invalid",w),D=ie=W=null;for(U in O)if(O.hasOwnProperty(U)&&(ge=O[U],ge!=null))switch(U){case"value":W=ge;break;case"defaultValue":ie=ge;break;case"multiple":D=ge;default:br(w,C,U,ge,O,null)}C=W,O=ie,w.multiple=!!D,C!=null?hn(w,!!D,C,!1):O!=null&&hn(w,!!D,O,!0);return;case"textarea":cr("invalid",w),W=U=D=null;for(ie in O)if(O.hasOwnProperty(ie)&&(ge=O[ie],ge!=null))switch(ie){case"value":D=ge;break;case"defaultValue":U=ge;break;case"children":W=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(91));break;default:br(w,C,ie,ge,O,null)}mo(w,D,U,W),Ii(w);return;case"option":for(Re in O)if(O.hasOwnProperty(Re)&&(D=O[Re],D!=null))switch(Re){case"selected":w.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:br(w,C,Re,D,O,null)}return;case"dialog":cr("beforetoggle",w),cr("toggle",w),cr("cancel",w),cr("close",w);break;case"iframe":case"object":cr("load",w);break;case"video":case"audio":for(D=0;D<Jo.length;D++)cr(Jo[D],w);break;case"image":cr("error",w),cr("load",w);break;case"details":cr("toggle",w);break;case"embed":case"source":case"link":cr("error",w),cr("load",w);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Qe in O)if(O.hasOwnProperty(Qe)&&(D=O[Qe],D!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,C));default:br(w,C,Qe,D,O,null)}return;default:if(er(C)){for(bt in O)O.hasOwnProperty(bt)&&(D=O[bt],D!==void 0&&Vl(w,C,bt,D,O,void 0));return}}for(ge in O)O.hasOwnProperty(ge)&&(D=O[ge],D!=null&&br(w,C,ge,D,O,null))}function Yp(w,C,O,D){switch(C){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var U=null,W=null,ie=null,ge=null,Re=null,Qe=null,bt=null;for(ot in O){var At=O[ot];if(O.hasOwnProperty(ot)&&At!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":Re=At;default:D.hasOwnProperty(ot)||br(w,C,ot,null,D,At)}}for(var rt in D){var ot=D[rt];if(At=O[rt],D.hasOwnProperty(rt)&&(ot!=null||At!=null))switch(rt){case"type":W=ot;break;case"name":U=ot;break;case"checked":Qe=ot;break;case"defaultChecked":bt=ot;break;case"value":ie=ot;break;case"defaultValue":ge=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(s(137,C));break;default:ot!==At&&br(w,C,rt,ot,D,At)}}Ri(w,ie,ge,Re,Qe,bt,W,U);return;case"select":ot=ie=ge=rt=null;for(W in O)if(Re=O[W],O.hasOwnProperty(W)&&Re!=null)switch(W){case"value":break;case"multiple":ot=Re;default:D.hasOwnProperty(W)||br(w,C,W,null,D,Re)}for(U in D)if(W=D[U],Re=O[U],D.hasOwnProperty(U)&&(W!=null||Re!=null))switch(U){case"value":rt=W;break;case"defaultValue":ge=W;break;case"multiple":ie=W;default:W!==Re&&br(w,C,U,W,D,Re)}C=ge,O=ie,D=ot,rt!=null?hn(w,!!O,rt,!1):!!D!=!!O&&(C!=null?hn(w,!!O,C,!0):hn(w,!!O,O?[]:"",!1));return;case"textarea":ot=rt=null;for(ge in O)if(U=O[ge],O.hasOwnProperty(ge)&&U!=null&&!D.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:br(w,C,ge,null,D,U)}for(ie in D)if(U=D[ie],W=O[ie],D.hasOwnProperty(ie)&&(U!=null||W!=null))switch(ie){case"value":rt=U;break;case"defaultValue":ot=U;break;case"children":break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(91));break;default:U!==W&&br(w,C,ie,U,D,W)}go(w,rt,ot);return;case"option":for(var Zt in O)if(rt=O[Zt],O.hasOwnProperty(Zt)&&rt!=null&&!D.hasOwnProperty(Zt))switch(Zt){case"selected":w.selected=!1;break;default:br(w,C,Zt,null,D,rt)}for(Re in D)if(rt=D[Re],ot=O[Re],D.hasOwnProperty(Re)&&rt!==ot&&(rt!=null||ot!=null))switch(Re){case"selected":w.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:br(w,C,Re,rt,D,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in O)rt=O[Xt],O.hasOwnProperty(Xt)&&rt!=null&&!D.hasOwnProperty(Xt)&&br(w,C,Xt,null,D,rt);for(Qe in D)if(rt=D[Qe],ot=O[Qe],D.hasOwnProperty(Qe)&&rt!==ot&&(rt!=null||ot!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(s(137,C));break;default:br(w,C,Qe,rt,D,ot)}return;default:if(er(C)){for(var wr in O)rt=O[wr],O.hasOwnProperty(wr)&&rt!==void 0&&!D.hasOwnProperty(wr)&&Vl(w,C,wr,void 0,D,rt);for(bt in D)rt=D[bt],ot=O[bt],!D.hasOwnProperty(bt)||rt===ot||rt===void 0&&ot===void 0||Vl(w,C,bt,rt,D,ot);return}}for(var Ve in O)rt=O[Ve],O.hasOwnProperty(Ve)&&rt!=null&&!D.hasOwnProperty(Ve)&&br(w,C,Ve,null,D,rt);for(At in D)rt=D[At],ot=O[At],!D.hasOwnProperty(At)||rt===ot||rt==null&&ot==null||br(w,C,At,rt,D,ot)}var Hl=null,Gl=null;function ts(w){return w.nodeType===9?w:w.ownerDocument}function rd(w){switch(w){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nd(w,C){if(w===0)switch(C){case"svg":return 1;case"math":return 2;default:return 0}return w===1&&C==="foreignObject"?0:w}function Wl(w,C){return w==="textarea"||w==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.children=="bigint"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var Xl=null;function Kp(){var w=window.event;return w&&w.type==="popstate"?w===Xl?!1:(Xl=w,!0):(Xl=null,!1)}var id=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,Jp=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(w){return od.resolve(null).then(w).catch(Qp)}:id;function Qp(w){setTimeout(function(){throw w})}function si(w){return w==="head"}function ad(w,C){var O=C,D=0,U=0;do{var W=O.nextSibling;if(w.removeChild(O),W&&W.nodeType===8)if(O=W.data,O==="/$"){if(0<D&&8>D){O=D;var ie=w.ownerDocument;if(O&1&&ea(ie.documentElement),O&2&&ea(ie.body),O&4)for(O=ie.head,ea(O),ie=O.firstChild;ie;){var ge=ie.nextSibling,Re=ie.nodeName;ie[Jt]||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&ie.rel.toLowerCase()==="stylesheet"||O.removeChild(ie),ie=ge}}if(U===0){w.removeChild(W),la(C);return}U--}else O==="$"||O==="$?"||O==="$!"?U++:D=O.charCodeAt(0)-48;else D=0;O=W}while(O);la(C)}function Yl(w){var C=w.firstChild;for(C&&C.nodeType===10&&(C=C.nextSibling);C;){var O=C;switch(C=C.nextSibling,O.nodeName){case"HTML":case"HEAD":case"BODY":Yl(O),ir(O);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(O.rel.toLowerCase()==="stylesheet")continue}w.removeChild(O)}}function eh(w,C,O,D){for(;w.nodeType===1;){var U=O;if(w.nodeName.toLowerCase()!==C.toLowerCase()){if(!D&&(w.nodeName!=="INPUT"||w.type!=="hidden"))break}else if(D){if(!w[Jt])switch(C){case"meta":if(!w.hasAttribute("itemprop"))break;return w;case"link":if(W=w.getAttribute("rel"),W==="stylesheet"&&w.hasAttribute("data-precedence"))break;if(W!==U.rel||w.getAttribute("href")!==(U.href==null||U.href===""?null:U.href)||w.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin)||w.getAttribute("title")!==(U.title==null?null:U.title))break;return w;case"style":if(w.hasAttribute("data-precedence"))break;return w;case"script":if(W=w.getAttribute("src"),(W!==(U.src==null?null:U.src)||w.getAttribute("type")!==(U.type==null?null:U.type)||w.getAttribute("crossorigin")!==(U.crossOrigin==null?null:U.crossOrigin))&&W&&w.hasAttribute("async")&&!w.hasAttribute("itemprop"))break;return w;default:return w}}else if(C==="input"&&w.type==="hidden"){var W=U.name==null?null:""+U.name;if(U.type==="hidden"&&w.getAttribute("name")===W)return w}else return w;if(w=vn(w.nextSibling),w===null)break}return null}function th(w,C,O){if(C==="")return null;for(;w.nodeType!==3;)if((w.nodeType!==1||w.nodeName!=="INPUT"||w.type!=="hidden")&&!O||(w=vn(w.nextSibling),w===null))return null;return w}function Kl(w){return w.data==="$!"||w.data==="$?"&&w.ownerDocument.readyState==="complete"}function rh(w,C){var O=w.ownerDocument;if(w.data!=="$?"||O.readyState==="complete")C();else{var D=function(){C(),O.removeEventListener("DOMContentLoaded",D)};O.addEventListener("DOMContentLoaded",D),w._reactRetry=D}}function vn(w){for(;w!=null;w=w.nextSibling){var C=w.nodeType;if(C===1||C===3)break;if(C===8){if(C=w.data,C==="$"||C==="$!"||C==="$?"||C==="F!"||C==="F")break;if(C==="/$")return null}}return w}var Zl=null;function sd(w){w=w.previousSibling;for(var C=0;w;){if(w.nodeType===8){var O=w.data;if(O==="$"||O==="$!"||O==="$?"){if(C===0)return w;C--}else O==="/$"&&C++}w=w.previousSibling}return null}function ld(w,C,O){switch(C=ts(O),w){case"html":if(w=C.documentElement,!w)throw Error(s(452));return w;case"head":if(w=C.head,!w)throw Error(s(453));return w;case"body":if(w=C.body,!w)throw Error(s(454));return w;default:throw Error(s(451))}}function ea(w){for(var C=w.attributes;C.length;)w.removeAttributeNode(C[0]);ir(w)}var pn=new Map,ud=new Set;function rs(w){return typeof w.getRootNode=="function"?w.getRootNode():w.nodeType===9?w:w.ownerDocument}var zn=te.d;te.d={f:nh,r:ih,D:oh,C:ah,L:sh,m:lh,X:ch,S:uh,M:fh};function nh(){var w=zn.f(),C=Ga();return w||C}function ih(w){var C=Ae(w);C!==null&&C.tag===5&&C.type==="form"?Oc(C):zn.r(w)}var lo=typeof document>"u"?null:document;function cd(w,C,O){var D=lo;if(D&&typeof C=="string"&&C){var U=Hr(C);U='link[rel="'+w+'"][href="'+U+'"]',typeof O=="string"&&(U+='[crossorigin="'+O+'"]'),ud.has(U)||(ud.add(U),w={rel:w,crossOrigin:O,href:C},D.querySelector(U)===null&&(C=D.createElement("link"),Ur(C,"link",w),Ge(C),D.head.appendChild(C)))}}function oh(w){zn.D(w),cd("dns-prefetch",w,null)}function ah(w,C){zn.C(w,C),cd("preconnect",w,C)}function sh(w,C,O){zn.L(w,C,O);var D=lo;if(D&&w&&C){var U='link[rel="preload"][as="'+Hr(C)+'"]';C==="image"&&O&&O.imageSrcSet?(U+='[imagesrcset="'+Hr(O.imageSrcSet)+'"]',typeof O.imageSizes=="string"&&(U+='[imagesizes="'+Hr(O.imageSizes)+'"]')):U+='[href="'+Hr(w)+'"]';var W=U;switch(C){case"style":W=uo(w);break;case"script":W=co(w)}pn.has(W)||(w=b({rel:"preload",href:C==="image"&&O&&O.imageSrcSet?void 0:w,as:C},O),pn.set(W,w),D.querySelector(U)!==null||C==="style"&&D.querySelector(ta(W))||C==="script"&&D.querySelector(ra(W))||(C=D.createElement("link"),Ur(C,"link",w),Ge(C),D.head.appendChild(C)))}}function lh(w,C){zn.m(w,C);var O=lo;if(O&&w){var D=C&&typeof C.as=="string"?C.as:"script",U='link[rel="modulepreload"][as="'+Hr(D)+'"][href="'+Hr(w)+'"]',W=U;switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":W=co(w)}if(!pn.has(W)&&(w=b({rel:"modulepreload",href:w},C),pn.set(W,w),O.querySelector(U)===null)){switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(O.querySelector(ra(W)))return}D=O.createElement("link"),Ur(D,"link",w),Ge(D),O.head.appendChild(D)}}}function uh(w,C,O){zn.S(w,C,O);var D=lo;if(D&&w){var U=qe(D).hoistableStyles,W=uo(w);C=C||"default";var ie=U.get(W);if(!ie){var ge={loading:0,preload:null};if(ie=D.querySelector(ta(W)))ge.loading=5;else{w=b({rel:"stylesheet",href:w,"data-precedence":C},O),(O=pn.get(W))&&Jl(w,O);var Re=ie=D.createElement("link");Ge(Re),Ur(Re,"link",w),Re._p=new Promise(function(Qe,bt){Re.onload=Qe,Re.onerror=bt}),Re.addEventListener("load",function(){ge.loading|=1}),Re.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,ns(ie,C,D)}ie={type:"stylesheet",instance:ie,count:1,state:ge},U.set(W,ie)}}}function ch(w,C){zn.X(w,C);var O=lo;if(O&&w){var D=qe(O).hoistableScripts,U=co(w),W=D.get(U);W||(W=O.querySelector(ra(U)),W||(w=b({src:w,async:!0},C),(C=pn.get(U))&&Ql(w,C),W=O.createElement("script"),Ge(W),Ur(W,"link",w),O.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},D.set(U,W))}}function fh(w,C){zn.M(w,C);var O=lo;if(O&&w){var D=qe(O).hoistableScripts,U=co(w),W=D.get(U);W||(W=O.querySelector(ra(U)),W||(w=b({src:w,async:!0,type:"module"},C),(C=pn.get(U))&&Ql(w,C),W=O.createElement("script"),Ge(W),Ur(W,"link",w),O.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},D.set(U,W))}}function fd(w,C,O,D){var U=(U=Le.current)?rs(U):null;if(!U)throw Error(s(446));switch(w){case"meta":case"title":return null;case"style":return typeof O.precedence=="string"&&typeof O.href=="string"?(C=uo(O.href),O=qe(U).hoistableStyles,D=O.get(C),D||(D={type:"style",instance:null,count:0,state:null},O.set(C,D)),D):{type:"void",instance:null,count:0,state:null};case"link":if(O.rel==="stylesheet"&&typeof O.href=="string"&&typeof O.precedence=="string"){w=uo(O.href);var W=qe(U).hoistableStyles,ie=W.get(w);if(ie||(U=U.ownerDocument||U,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},W.set(w,ie),(W=U.querySelector(ta(w)))&&!W._p&&(ie.instance=W,ie.state.loading=5),pn.has(w)||(O={rel:"preload",as:"style",href:O.href,crossOrigin:O.crossOrigin,integrity:O.integrity,media:O.media,hrefLang:O.hrefLang,referrerPolicy:O.referrerPolicy},pn.set(w,O),W||dh(U,w,O,ie.state))),C&&D===null)throw Error(s(528,""));return ie}if(C&&D!==null)throw Error(s(529,""));return null;case"script":return C=O.async,O=O.src,typeof O=="string"&&C&&typeof C!="function"&&typeof C!="symbol"?(C=co(O),O=qe(U).hoistableScripts,D=O.get(C),D||(D={type:"script",instance:null,count:0,state:null},O.set(C,D)),D):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,w))}}function uo(w){return'href="'+Hr(w)+'"'}function ta(w){return'link[rel="stylesheet"]['+w+"]"}function dd(w){return b({},w,{"data-precedence":w.precedence,precedence:null})}function dh(w,C,O,D){w.querySelector('link[rel="preload"][as="style"]['+C+"]")?D.loading=1:(C=w.createElement("link"),D.preload=C,C.addEventListener("load",function(){return D.loading|=1}),C.addEventListener("error",function(){return D.loading|=2}),Ur(C,"link",O),Ge(C),w.head.appendChild(C))}function co(w){return'[src="'+Hr(w)+'"]'}function ra(w){return"script[async]"+w}function pd(w,C,O){if(C.count++,C.instance===null)switch(C.type){case"style":var D=w.querySelector('style[data-href~="'+Hr(O.href)+'"]');if(D)return C.instance=D,Ge(D),D;var U=b({},O,{"data-href":O.href,"data-precedence":O.precedence,href:null,precedence:null});return D=(w.ownerDocument||w).createElement("style"),Ge(D),Ur(D,"style",U),ns(D,O.precedence,w),C.instance=D;case"stylesheet":U=uo(O.href);var W=w.querySelector(ta(U));if(W)return C.state.loading|=4,C.instance=W,Ge(W),W;D=dd(O),(U=pn.get(U))&&Jl(D,U),W=(w.ownerDocument||w).createElement("link"),Ge(W);var ie=W;return ie._p=new Promise(function(ge,Re){ie.onload=ge,ie.onerror=Re}),Ur(W,"link",D),C.state.loading|=4,ns(W,O.precedence,w),C.instance=W;case"script":return W=co(O.src),(U=w.querySelector(ra(W)))?(C.instance=U,Ge(U),U):(D=O,(U=pn.get(W))&&(D=b({},O),Ql(D,U)),w=w.ownerDocument||w,U=w.createElement("script"),Ge(U),Ur(U,"link",D),w.head.appendChild(U),C.instance=U);case"void":return null;default:throw Error(s(443,C.type))}else C.type==="stylesheet"&&(C.state.loading&4)===0&&(D=C.instance,C.state.loading|=4,ns(D,O.precedence,w));return C.instance}function ns(w,C,O){for(var D=O.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),U=D.length?D[D.length-1]:null,W=U,ie=0;ie<D.length;ie++){var ge=D[ie];if(ge.dataset.precedence===C)W=ge;else if(W!==U)break}W?W.parentNode.insertBefore(w,W.nextSibling):(C=O.nodeType===9?O.head:O,C.insertBefore(w,C.firstChild))}function Jl(w,C){w.crossOrigin==null&&(w.crossOrigin=C.crossOrigin),w.referrerPolicy==null&&(w.referrerPolicy=C.referrerPolicy),w.title==null&&(w.title=C.title)}function Ql(w,C){w.crossOrigin==null&&(w.crossOrigin=C.crossOrigin),w.referrerPolicy==null&&(w.referrerPolicy=C.referrerPolicy),w.integrity==null&&(w.integrity=C.integrity)}var is=null;function hd(w,C,O){if(is===null){var D=new Map,U=is=new Map;U.set(O,D)}else U=is,D=U.get(O),D||(D=new Map,U.set(O,D));if(D.has(w))return D;for(D.set(w,null),O=O.getElementsByTagName(w),U=0;U<O.length;U++){var W=O[U];if(!(W[Jt]||W[$e]||w==="link"&&W.getAttribute("rel")==="stylesheet")&&W.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=W.getAttribute(C)||"";ie=w+ie;var ge=D.get(ie);ge?ge.push(W):D.set(ie,[W])}}return D}function gd(w,C,O){w=w.ownerDocument||w,w.head.insertBefore(O,C==="title"?w.querySelector("head > title"):null)}function ph(w,C,O){if(O===1||C.itemProp!=null)return!1;switch(w){case"meta":case"title":return!0;case"style":if(typeof C.precedence!="string"||typeof C.href!="string"||C.href==="")break;return!0;case"link":if(typeof C.rel!="string"||typeof C.href!="string"||C.href===""||C.onLoad||C.onError)break;switch(C.rel){case"stylesheet":return w=C.disabled,typeof C.precedence=="string"&&w==null;default:return!0}case"script":if(C.async&&typeof C.async!="function"&&typeof C.async!="symbol"&&!C.onLoad&&!C.onError&&C.src&&typeof C.src=="string")return!0}return!1}function md(w){return!(w.type==="stylesheet"&&(w.state.loading&3)===0)}var na=null;function hh(){}function gh(w,C,O){if(na===null)throw Error(s(475));var D=na;if(C.type==="stylesheet"&&(typeof O.media!="string"||matchMedia(O.media).matches!==!1)&&(C.state.loading&4)===0){if(C.instance===null){var U=uo(O.href),W=w.querySelector(ta(U));if(W){w=W._p,w!==null&&typeof w=="object"&&typeof w.then=="function"&&(D.count++,D=os.bind(D),w.then(D,D)),C.state.loading|=4,C.instance=W,Ge(W);return}W=w.ownerDocument||w,O=dd(O),(U=pn.get(U))&&Jl(O,U),W=W.createElement("link"),Ge(W);var ie=W;ie._p=new Promise(function(ge,Re){ie.onload=ge,ie.onerror=Re}),Ur(W,"link",O),C.instance=W}D.stylesheets===null&&(D.stylesheets=new Map),D.stylesheets.set(C,w),(w=C.state.preload)&&(C.state.loading&3)===0&&(D.count++,C=os.bind(D),w.addEventListener("load",C),w.addEventListener("error",C))}}function mh(){if(na===null)throw Error(s(475));var w=na;return w.stylesheets&&w.count===0&&eu(w,w.stylesheets),0<w.count?function(C){var O=setTimeout(function(){if(w.stylesheets&&eu(w,w.stylesheets),w.unsuspend){var D=w.unsuspend;w.unsuspend=null,D()}},6e4);return w.unsuspend=C,function(){w.unsuspend=null,clearTimeout(O)}}:null}function os(){if(this.count--,this.count===0){if(this.stylesheets)eu(this,this.stylesheets);else if(this.unsuspend){var w=this.unsuspend;this.unsuspend=null,w()}}}var as=null;function eu(w,C){w.stylesheets=null,w.unsuspend!==null&&(w.count++,as=new Map,C.forEach(yh,w),as=null,os.call(w))}function yh(w,C){if(!(C.state.loading&4)){var O=as.get(w);if(O)var D=O.get(null);else{O=new Map,as.set(w,O);for(var U=w.querySelectorAll("link[data-precedence],style[data-precedence]"),W=0;W<U.length;W++){var ie=U[W];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(O.set(ie.dataset.precedence,ie),D=ie)}D&&O.set(null,D)}U=C.instance,ie=U.getAttribute("data-precedence"),W=O.get(ie)||D,W===D&&O.set(null,U),O.set(ie,U),this.count++,D=os.bind(this),U.addEventListener("load",D),U.addEventListener("error",D),W?W.parentNode.insertBefore(U,W.nextSibling):(w=w.nodeType===9?w.head:w,w.insertBefore(U,w.firstChild)),C.state.loading|=4}}var ia={$$typeof:$,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function xh(w,C,O,D,U,W,ie,ge){this.tag=1,this.containerInfo=w,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=We(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.hiddenUpdates=We(null),this.identifierPrefix=D,this.onUncaughtError=U,this.onCaughtError=W,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function yd(w,C,O,D,U,W,ie,ge,Re,Qe,bt,At){return w=new xh(w,C,O,ie,ge,Re,Qe,At),C=1,W===!0&&(C|=24),W=Qr(3,null,null,C),w.current=W,W.stateNode=w,C=Ns(),C.refCount++,w.pooledCache=C,C.refCount++,W.memoizedState={element:D,isDehydrated:O,cache:C},Ls(W),w}function xd(w){return w?(w=Ui,w):Ui}function vd(w,C,O,D,U,W){U=xd(U),D.context===null?D.context=U:D.pendingContext=U,D=Xn(C),D.payload={element:O},W=W===void 0?null:W,W!==null&&(D.callback=W),O=Yn(w,D,C),O!==null&&(on(O,w,C),Mo(O,w,C))}function bd(w,C){if(w=w.memoizedState,w!==null&&w.dehydrated!==null){var O=w.retryLane;w.retryLane=O!==0&&O<C?O:C}}function tu(w,C){bd(w,C),(w=w.alternate)&&bd(w,C)}function wd(w){if(w.tag===13){var C=ji(w,67108864);C!==null&&on(C,w,67108864),tu(w,67108864)}}var ss=!0;function vh(w,C,O,D){var U=G.T;G.T=null;var W=te.p;try{te.p=2,ru(w,C,O,D)}finally{te.p=W,G.T=U}}function bh(w,C,O,D){var U=G.T;G.T=null;var W=te.p;try{te.p=8,ru(w,C,O,D)}finally{te.p=W,G.T=U}}function ru(w,C,O,D){if(ss){var U=nu(D);if(U===null)ql(w,C,D,ls,O),Ed(w,D);else if(_h(U,w,C,O,D))D.stopPropagation();else if(Ed(w,D),C&4&&-1<wh.indexOf(w)){for(;U!==null;){var W=Ae(U);if(W!==null)switch(W.tag){case 3:if(W=W.stateNode,W.current.memoizedState.isDehydrated){var ie=Se(W.pendingLanes);if(ie!==0){var ge=W;for(ge.pendingLanes|=2,ge.entangledLanes|=2;ie;){var Re=1<<31-ce(ie);ge.entanglements[1]|=Re,ie&=~Re}Cn(W),(mr&6)===0&&(Va=Mt()+500,Zo(0))}}break;case 13:ge=ji(W,2),ge!==null&&on(ge,W,2),Ga(),tu(W,2)}if(W=nu(D),W===null&&ql(w,C,D,ls,O),W===U)break;U=W}U!==null&&D.stopPropagation()}else ql(w,C,D,null,O)}}function nu(w){return w=Pi(w),iu(w)}var ls=null;function iu(w){if(ls=null,w=pe(w),w!==null){var C=c(w);if(C===null)w=null;else{var O=C.tag;if(O===13){if(w=f(C),w!==null)return w;w=null}else if(O===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;w=null}else C!==w&&(w=null)}}return ls=w,null}function _d(w){switch(w){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case Ht:return 2;case Bt:return 8;case Ut:case St:return 32;case Lt:return 268435456;default:return 32}default:return 32}}var ou=!1,li=null,ui=null,ci=null,oa=new Map,aa=new Map,fi=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ed(w,C){switch(w){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":oa.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(C.pointerId)}}function sa(w,C,O,D,U,W){return w===null||w.nativeEvent!==W?(w={blockedOn:C,domEventName:O,eventSystemFlags:D,nativeEvent:W,targetContainers:[U]},C!==null&&(C=Ae(C),C!==null&&wd(C)),w):(w.eventSystemFlags|=D,C=w.targetContainers,U!==null&&C.indexOf(U)===-1&&C.push(U),w)}function _h(w,C,O,D,U){switch(C){case"focusin":return li=sa(li,w,C,O,D,U),!0;case"dragenter":return ui=sa(ui,w,C,O,D,U),!0;case"mouseover":return ci=sa(ci,w,C,O,D,U),!0;case"pointerover":var W=U.pointerId;return oa.set(W,sa(oa.get(W)||null,w,C,O,D,U)),!0;case"gotpointercapture":return W=U.pointerId,aa.set(W,sa(aa.get(W)||null,w,C,O,D,U)),!0}return!1}function Sd(w){var C=pe(w.target);if(C!==null){var O=c(C);if(O!==null){if(C=O.tag,C===13){if(C=f(O),C!==null){w.blockedOn=C,Ke(w.priority,function(){if(O.tag===13){var D=nn();D=Kt(D);var U=ji(O,D);U!==null&&on(U,O,D),tu(O,D)}});return}}else if(C===3&&O.stateNode.current.memoizedState.isDehydrated){w.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}w.blockedOn=null}function us(w){if(w.blockedOn!==null)return!1;for(var C=w.targetContainers;0<C.length;){var O=nu(w.nativeEvent);if(O===null){O=w.nativeEvent;var D=new O.constructor(O.type,O);Di=D,O.target.dispatchEvent(D),Di=null}else return C=Ae(O),C!==null&&wd(C),w.blockedOn=O,!1;C.shift()}return!0}function Cd(w,C,O){us(w)&&O.delete(C)}function Eh(){ou=!1,li!==null&&us(li)&&(li=null),ui!==null&&us(ui)&&(ui=null),ci!==null&&us(ci)&&(ci=null),oa.forEach(Cd),aa.forEach(Cd)}function cs(w,C){w.blockedOn===C&&(w.blockedOn=null,ou||(ou=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Eh)))}var fs=null;function Ad(w){fs!==w&&(fs=w,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fs===w&&(fs=null);for(var C=0;C<w.length;C+=3){var O=w[C],D=w[C+1],U=w[C+2];if(typeof D!="function"){if(iu(D||O)===null)continue;break}var W=Ae(O);W!==null&&(w.splice(C,3),C-=3,il(W,{pending:!0,data:U,method:O.method,action:D},D,U))}}))}function la(w){function C(Re){return cs(Re,w)}li!==null&&cs(li,w),ui!==null&&cs(ui,w),ci!==null&&cs(ci,w),oa.forEach(C),aa.forEach(C);for(var O=0;O<fi.length;O++){var D=fi[O];D.blockedOn===w&&(D.blockedOn=null)}for(;0<fi.length&&(O=fi[0],O.blockedOn===null);)Sd(O),O.blockedOn===null&&fi.shift();if(O=(w.ownerDocument||w).$$reactFormReplay,O!=null)for(D=0;D<O.length;D+=3){var U=O[D],W=O[D+1],ie=U[Fe]||null;if(typeof W=="function")ie||Ad(O);else if(ie){var ge=null;if(W&&W.hasAttribute("formAction")){if(U=W,ie=W[Fe]||null)ge=ie.formAction;else if(iu(U)!==null)continue}else ge=ie.action;typeof ge=="function"?O[D+1]=ge:(O.splice(D,3),D-=3),Ad(O)}}}function au(w){this._internalRoot=w}ds.prototype.render=au.prototype.render=function(w){var C=this._internalRoot;if(C===null)throw Error(s(409));var O=C.current,D=nn();vd(O,D,w,C,null,null)},ds.prototype.unmount=au.prototype.unmount=function(){var w=this._internalRoot;if(w!==null){this._internalRoot=null;var C=w.containerInfo;vd(w.current,2,null,w,null,null),Ga(),C[Ot]=null}};function ds(w){this._internalRoot=w}ds.prototype.unstable_scheduleHydration=function(w){if(w){var C=Y();w={blockedOn:null,target:w,priority:C};for(var O=0;O<fi.length&&C!==0&&C<fi[O].priority;O++);fi.splice(O,0,w),O===0&&Sd(w)}};var Td=n.version;if(Td!=="19.1.0")throw Error(s(527,Td,"19.1.0"));te.findDOMNode=function(w){var C=w._reactInternals;if(C===void 0)throw typeof w.render=="function"?Error(s(188)):(w=Object.keys(w).join(","),Error(s(268,w)));return w=g(C),w=w!==null?y(w):null,w=w===null?null:w.stateNode,w};var Sh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{Ue=ps.inject(Sh),nt=ps}catch{}}return reactDomClient_production.createRoot=function(w,C){if(!l(w))throw Error(s(299));var O=!1,D="",U=zc,W=qc,ie=Vc,ge=null;return C!=null&&(C.unstable_strictMode===!0&&(O=!0),C.identifierPrefix!==void 0&&(D=C.identifierPrefix),C.onUncaughtError!==void 0&&(U=C.onUncaughtError),C.onCaughtError!==void 0&&(W=C.onCaughtError),C.onRecoverableError!==void 0&&(ie=C.onRecoverableError),C.unstable_transitionCallbacks!==void 0&&(ge=C.unstable_transitionCallbacks)),C=yd(w,1,!1,null,null,O,D,U,W,ie,ge,null),w[Ot]=C.current,zl(w),new au(C)},reactDomClient_production.hydrateRoot=function(w,C,O){if(!l(w))throw Error(s(299));var D=!1,U="",W=zc,ie=qc,ge=Vc,Re=null,Qe=null;return O!=null&&(O.unstable_strictMode===!0&&(D=!0),O.identifierPrefix!==void 0&&(U=O.identifierPrefix),O.onUncaughtError!==void 0&&(W=O.onUncaughtError),O.onCaughtError!==void 0&&(ie=O.onCaughtError),O.onRecoverableError!==void 0&&(ge=O.onRecoverableError),O.unstable_transitionCallbacks!==void 0&&(Re=O.unstable_transitionCallbacks),O.formState!==void 0&&(Qe=O.formState)),C=yd(w,1,!0,C,O??null,D,U,W,ie,ge,Re,Qe),C.context=xd(null),O=C.current,D=nn(),D=Kt(D),U=Xn(D),U.callback=null,Yn(O,U,D),O=D,C.current.lanes=O,je(C,O),Cn(C),w[Ot]=C.current,zl(w),new ds(C)},reactDomClient_production.version="19.1.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports),upgrade=(i,n,a)=>{const s=indexedDB.open(i,a);return new Promise((l,c)=>{s.onblocked=f=>{console.log({blocked:!0,e:f})},s.onerror=f=>{c(f)},s.addEventListener("upgradeneeded",f=>{if(f.target instanceof IDBOpenDBRequest){const g=f.target.result.createObjectStore(n);l(g);return}throw new Error("Unknown IDB request target")})})},openIDB=async i=>{const{storeName:n,dbName:a}=i,s=indexedDB.open(a);return new Promise((l,c)=>{s.addEventListener("error",f=>{c(f)}),s.addEventListener("success",async f=>{if(f.target instanceof IDBOpenDBRequest){const p=f.target.result;if(p.objectStoreNames.contains(n)){l(p.transaction(n,"readwrite").objectStore(n));return}s.result.close();const g=await upgrade(a,n,p.version+1);l(g);return}throw new Error("Unknown IDB request target")})})},requestToPromise=i=>new Promise((n,a)=>{i.onsuccess=s=>{n(i.result)},i.onerror=s=>{a(s.target)}}),add$1=async(i,n,a)=>{const l=(await openIDB(i)).add(a,n);return requestToPromise(l)},isProducer$1=i=>typeof i=="function";function isTypedArray(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}const chain=(i,n)=>n.reduce((a,s)=>s(a),i),entries=i=>Object.entries(i),filter=(i,n)=>Object.entries(i).filter(a=>{const[s,l]=a;return n(s,l)}),isUndefined$1=i=>i==null||Number.isNaN(i),isIterator=i=>{const n=i;return typeof n=="object"&&typeof n.next=="function"},first$1=(i,n=a=>!0)=>{if(!isUndefined$1(i))return Array.isArray(i)?i.find(n):isIterator(i)&&n(i)?i.next().value:i},fix=i=>{if(!isUndefined$1(i))return Object.freeze(i)},forEach=(i,n,a=(s,l,c)=>{throw console.error("error",s),console.error("object",i),console.error("key",l),console.error("value",c),console.error("consumer",[n]),new Error("Error while iterating over object")})=>{for(const s in i){const l=i[s];try{n(s,i[s])}catch(c){a(c,s,l)}}},freeze=i=>{if(!isUndefined$1(i))return Object.freeze(i)},fromEntries=i=>Object.fromEntries(i),isDefined$2=i=>!isUndefined$1(i),fromEntriesToMultimap=i=>{const n=Array.from(new Set(i.map(s=>s[0]))),a=fromEntries(n.map(s=>[s,[]]));return i.forEach(s=>{const[l,c]=s;isDefined$2(c)&&a[l].push(c)}),a},get$2=(i,n,a=void 0)=>{const s=i[n];return isUndefined(s)?a:s};function isIterable(i){const n=i;return typeof n=="object"&&typeof n[Symbol.iterator]=="function"}const toMany$1=i=>isUndefined$1(i)?[]:isIterable(i)?Array.from(i):Array.isArray(i)?i:[i],hasKey=(i,n)=>{const a=toMany$1(n);return a.filter(s=>isDefined$2(i[s])).length===a.length},headOf=first$1,iff=(i,n)=>{if(isDefined$2(i))return n(i)},isBrowser$1=()=>typeof window<"u",iffBrowser=i=>isBrowser$1()?i():void 0,iffTyped=(i,n,a)=>{if(i(n))return iff(n,a)},includesUndefined=(...i)=>{if(isUndefined$1(i))return!0;i.findIndex(n=>isUndefined$1(n))},isEmpty$4=i=>isUndefined$1(i)?!0:typeof i=="string"?i.trim().length===0:!1,isNotEmpty=i=>!isEmpty$4(i),keys$1=i=>Object.keys(i),last=i=>{if(!isUndefined$1(i))return i[i.length-1]},mapValue=(i,n)=>n(i),mapOf=(i,n)=>entries(i).map(a=>{const[s,l]=a;return n(s,l)}),omit=(i,n)=>{const{[n]:a,...s}=i;return s},omitUnsafe=(i,n)=>(i[n]=void 0,i),orElse=(i,n)=>isDefined$2(i)?i:n,orError=(i,n={})=>{try{return i()}catch(a){const{message:s,cause:l}=n,c=new Error(s,{cause:l});if(a instanceof Error)return a.cause=c,a;throw new Error(s,{cause:[a,l]})}},removeUndefinedValues=i=>{const n=Object.entries(i).filter(([a,s])=>isDefined$2(s));return Object.fromEntries(n)},tailOf=i=>{if(!isUndefined$1(i))return i.slice(1)},restOf=tailOf,valueOf=i=>isProducer$1(i)?i():i,safe$1=(i,n={})=>{const{quiet:a=!1,default:s=void 0,onError:l}=n;try{return i()}catch(c){return a||(console.error(c),isDefined$2(l)&&console.log(valueOf(l))),s}},safeAsync=async(i,n={})=>{const{quiet:a=!1,def:s=void 0,onError:l}=n;return safe$1(async()=>{const c=i();return c instanceof Promise?await c.catch(f=>(a||(console.error(f),isDefined$2(l)&&console.log(valueOf(l))),s)):c})},set=(i,n,a)=>({...i,...Object.fromEntries([[n,a]])}),setUnsafe=(i,n,a)=>(i[n]=a,i);function times(i,n){const a=[];let s=!1;for(let l=0;l<i&&!s;l++){const c=n(l,()=>{s=!0});isDefined$1(c)&&a.push(c)}return a}function*timesGen(i,n){let a=!1;for(let s=0;s<i;s++){if(a)return;yield n(s,()=>{a=!0})}}const toBoolean=i=>{if(isUndefined$1(i))return!1;const n=["true","1","yes","on"],a=["false","0","no","off"];return n.includes(i.toLowerCase())?!0:(a.includes(i.toLowerCase()),!1)},toMultiMap=(i,n={})=>{const{compact:a=!1}=n;return i.reduce((s,l)=>(Objects.entries(l).forEach(c=>{const[f,p]=c,g=s[f]??[];s[f]=a&&g.includes(p)?g:[...g,p]}),s),{})},toNumber=i=>{if(!isUndefined$1(i))return Number(i)},toPromise=i=>{const n=()=>{};return new Promise((a,s)=>{try{a(i(n))}catch(l){s(l)}})},isErrorType=i=>i instanceof Error,tryValue=(i,n)=>{if(isErrorType(i))throw new Error(n,{cause:i});return i},tuple0=()=>[],tuple1=i=>[i],tuple2=(i,n)=>[i,n],tuple3=(i,n,a)=>[i,n,a],tuple4=(i,n,a,s)=>[i,n,a,s],tuple5=(i,n,a,s,l)=>[i,n,a,s,l],isArrayLike=i=>{const n=i;return typeof n=="object"&&typeof n.length=="number"},isErrorLike=i=>{const n=i;return typeof n=="object"&&(typeof n.message=="string"||typeof n.stack=="string"||isDefined$2(n.cause))},isFunction=i=>typeof i=="function",update$1=(i,n,a)=>{const s=get$2(i,n);if(isUndefined(s))return i;const l=a(s);return set(i,n,l)},updateUnsafe=(i,n,a)=>{const s=get$2(i,n);if(isUndefined(s))return i;const l=a(s);return setUnsafe(i,n,l)},values$2=i=>Object.values(i),waitTimeout=i=>new Promise(n=>{setTimeout(()=>{n(void 0)},i)}),createSettler=({settleAction:i,settledAfterMs:n})=>{let a,s=Date.now(),l=!1;const c=()=>{if(Date.now()>s+n){isDefined$2(a)&&i(a),l=!1;return}l=!0,setTimeout(c,n)};return{update:f=>{a=f,s=Date.now(),l||c()}}};function parseIncompleteJson(i){let n=0;const a=i.length;function s(){for(;n<a&&/\s/.test(i[n]);)n++}function l(){if(s(),n>=a)return;const y=i[n];if(y==="{")return c();if(y==="[")return f();if(y==='"')return p();if(y==="-"||y>="0"&&y<="9")return g();if(i.startsWith("true",n))return n+=4,!0;if(i.startsWith("false",n))return n+=5,!1;if(i.startsWith("null",n))return n+=4,null}function c(){const y={};for(n++;n<a;){if(s(),i[n]==="}")return n++,y;const b=p();if(b===void 0||typeof b!="string"||(s(),i[n]!==":"))break;n++;const h=l();if(h===void 0)break;if(y[b]=h,s(),i[n]==="}")return n++,y;if(i[n]!==",")break;n++}return y}function f(){const y=[];for(n++;n<a;){if(s(),i[n]==="]")return n++,y;const b=l();if(b!==void 0&&y.push(b),s(),i[n]==="]")return n++,y;if(i[n]!==",")break;n++}return y}function p(){let y="";for(n++;n<a;){const b=i[n++];if(b==='"')return y;if(b==="\\"){if(n<a){const h=i[n++];h==='"'?y+='"':h==="\\"?y+="\\":h==="/"?y+="/":h==="b"?y+="\b":h==="f"?y+="\f":h==="n"?y+=`
`:h==="r"?y+="\r":h==="t"&&(y+="	")}}else y+=b}}function g(){const y=n;for(i[n]==="-"&&n++;n<a&&i[n]>="0"&&i[n]<="9";)n++;if(i[n]===".")for(n++;n<a&&i[n]>="0"&&i[n]<="9";)n++;if(i[n]==="e"||i[n]==="E")for(n++,(i[n]==="-"||i[n]==="+")&&n++;n<a&&i[n]>="0"&&i[n]<="9";)n++;const b=i.slice(y,n),h=Number(b);if(!isNaN(h))return h}return l()}const lengthOf$1=i=>Array.isArray(i)||isTypedArray(i)?i.length:isDefined$2(i)?1:0,popSet=i=>{const a=i.values().next().value;return a!==void 0&&i.delete(a),a},Objects={popSet,lengthOf:lengthOf$1,isErrorLike,orError,tryValue,isErrorType,isEmpty:isEmpty$4,isNotEmpty,isIterator,isArrayLike,times,first:first$1,last,fix,iff,iffTyped,includesUndefined,isDefined:isDefined$2,isUndefined:isUndefined$1,omit,omitUnsafe,orElse,removeUndefinedValues,toMany:toMany$1,set,setUnsafe,get:get$2,update:update$1,updateUnsafe,entries,keys:keys$1,values:values$2,forEach,filter,chain,fromEntries,fromEntriesToMultimap,freeze,hasKey,tuple0,tuple1,tuple2,tuple3,tuple4,tuple5,safe:safe$1,safeAsync,valueOf,mapValue,headOf,tailOf,restOf,toMultiMap,timesGen,isIterable,isBrowser:isBrowser$1,iffBrowser,mapOf,toPromise,all:Promise.all,isFunction,toNumber,toBoolean,waitTimeout,createSettler,parseIncompleteJson},{first,isDefined:isDefined$1,isUndefined,toMany,safe,isEmpty:isEmpty$3}=Objects,put$1=async(i,n,a)=>{const l=(await openIDB(i)).put(a,n);return requestToPromise(l)},isProducer=i=>typeof i=="function",get$1=async(i,n,a=void 0)=>{if(isUndefined(n))return;const l=(await openIDB(i)).get(n),c=await requestToPromise(l);if(isDefined$1(c))return c;if(isDefined$1(a)){const f=isProducer(a)?await a():a;return await put$1(i,String(n),f),f}},list$3=async(i,n,a)=>{const s=await openIDB(i);return requestToPromise(s.getAllKeys(n,a))},remove$1=async(i,n)=>{const s=(await openIDB(i)).delete(n);return requestToPromise(s)},update=async(i,n,a,s=void 0)=>{const l=await get$1(i,n)??s,c=await a(l);return await put$1(i,n,c),c},Idbs={add:add$1,put:put$1,get:get$1,list:list$3,remove:remove$1,update},common$2={black:"#000",white:"#fff"},red={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},purple={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},blue={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lightBlue={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},green={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},orange={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function formatMuiErrorMessage(i,...n){const a=new URL(`https://mui.com/production-error/?code=${i}`);return n.forEach(s=>a.searchParams.append("args[]",s)),`Minified MUI error #${i}; visit ${a} for the full message.`}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)({}).hasOwnProperty.call(a,s)&&(i[s]=a[s])}return i},_extends.apply(null,arguments)}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);function sheetForTag(i){if(i.sheet)return i.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===i)return document.styleSheets[n]}function createStyleElement(i){var n=document.createElement("style");return n.setAttribute("data-emotion",i.key),i.nonce!==void 0&&n.setAttribute("nonce",i.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var StyleSheet=function(){function i(a){var s=this;this._insertTag=function(l){var c;s.tags.length===0?s.insertionPoint?c=s.insertionPoint.nextSibling:s.prepend?c=s.container.firstChild:c=s.before:c=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(l,c),s.tags.push(l)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var n=i.prototype;return n.hydrate=function(s){s.forEach(this._insertTag)},n.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var c=sheetForTag(l);try{c.insertRule(s,c.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(s));this.ctr++},n.flush=function(){this.tags.forEach(function(s){var l;return(l=s.parentNode)==null?void 0:l.removeChild(s)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$2=String.fromCharCode,assign=Object.assign;function hash$2(i,n){return charat(i,0)^45?(((n<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,n){return(i=n.exec(i))?i[0]:i}function replace$1(i,n,a){return i.replace(n,a)}function indexof(i,n){return i.indexOf(n)}function charat(i,n){return i.charCodeAt(n)|0}function substr(i,n,a){return i.slice(n,a)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,n){return n.push(i),i}function combine(i,n){return i.map(n).join("")}var line=1,column=1,length=0,position$4=0,character=0,characters="";function node$1(i,n,a,s,l,c,f){return{value:i,root:n,parent:a,type:s,props:l,children:c,line,column,length:f,return:""}}function copy$1(i,n){return assign(node$1("",null,null,"",null,null,0),i,{length:-i.length},n)}function char(){return character}function prev(){return character=position$4>0?charat(characters,--position$4):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$4<length?charat(characters,position$4++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$4)}function caret(){return position$4}function slice(i,n){return substr(characters,i,n)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position$4=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position$4-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace$1(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,n){for(;--n&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(n<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position$4;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position$4}function commenter(i,n){for(;next()&&i+character!==57;)if(i+character===84&&peek()===47)break;return"/*"+slice(n,position$4-1)+"*"+from$2(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position$4)}function compile(i){return dealloc(parse$2("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse$2(i,n,a,s,l,c,f,p,g){for(var y=0,b=0,h=f,d=0,v=0,_=0,A=1,I=1,R=1,P=0,$="",M=l,B=c,F=s,q=$;I;)switch(_=P,P=next()){case 40:if(_!=108&&charat(q,h-1)==58){indexof(q+=replace$1(delimit(P),"&","&\f"),"&\f")!=-1&&(R=-1);break}case 34:case 39:case 91:q+=delimit(P);break;case 9:case 10:case 13:case 32:q+=whitespace$1(_);break;case 92:q+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),n,a),g);break;default:q+="/"}break;case 123*A:p[y++]=strlen(q)*R;case 125*A:case 59:case 0:switch(P){case 0:case 125:I=0;case 59+b:R==-1&&(q=replace$1(q,/\f/g,"")),v>0&&strlen(q)-h&&append(v>32?declaration(q+";",s,a,h-1):declaration(replace$1(q," ","")+";",s,a,h-2),g);break;case 59:q+=";";default:if(append(F=ruleset(q,n,a,y,b,l,p,$,M=[],B=[],h),c),P===123)if(b===0)parse$2(q,n,F,F,M,c,h,p,B);else switch(d===99&&charat(q,3)===110?100:d){case 100:case 108:case 109:case 115:parse$2(i,F,F,s&&append(ruleset(i,F,F,0,0,l,p,$,l,M=[],h),B),l,B,h,p,s?M:B);break;default:parse$2(q,F,F,F,[""],B,0,p,B)}}y=b=v=0,A=R=1,$=q="",h=f;break;case 58:h=1+strlen(q),v=_;default:if(A<1){if(P==123)--A;else if(P==125&&A++==0&&prev()==125)continue}switch(q+=from$2(P),P*A){case 38:R=b>0?1:(q+="\f",-1);break;case 44:p[y++]=(strlen(q)-1)*R,R=1;break;case 64:peek()===45&&(q+=delimit(next())),d=peek(),b=h=strlen($=q+=identifier(caret())),P++;break;case 45:_===45&&strlen(q)==2&&(A=0)}}return c}function ruleset(i,n,a,s,l,c,f,p,g,y,b){for(var h=l-1,d=l===0?c:[""],v=sizeof(d),_=0,A=0,I=0;_<s;++_)for(var R=0,P=substr(i,h+1,h=abs(A=f[_])),$=i;R<v;++R)($=trim(A>0?d[R]+" "+P:replace$1(P,/&\f/g,d[R])))&&(g[I++]=$);return node$1(i,n,a,l===0?RULESET:p,g,y,b)}function comment(i,n,a){return node$1(i,n,a,COMMENT,from$2(char()),substr(i,2,-2),0)}function declaration(i,n,a,s){return node$1(i,n,a,DECLARATION,substr(i,0,s),substr(i,s+1,-1),s)}function serialize$2(i,n){for(var a="",s=sizeof(i),l=0;l<s;l++)a+=n(i[l],l,i,n)||"";return a}function stringify$2(i,n,a,s){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize$2(i.children,s)+"}";case RULESET:i.value=i.props.join(",")}return strlen(a=serialize$2(i.children,s))?i.return=i.value+"{"+a+"}":""}function middleware(i){var n=sizeof(i);return function(a,s,l,c){for(var f="",p=0;p<n;p++)f+=i[p](a,s,l,c)||"";return f}}function rulesheet(i){return function(n){n.root||(n=n.return)&&i(n)}}function memoize$1(i){var n=Object.create(null);return function(a){return n[a]===void 0&&(n[a]=i(a)),n[a]}}var identifierWithPointTracking=function(n,a,s){for(var l=0,c=0;l=c,c=peek(),l===38&&c===12&&(a[s]=1),!token(c);)next();return slice(n,position$4)},toRules=function(n,a){var s=-1,l=44;do switch(token(l)){case 0:l===38&&peek()===12&&(a[s]=1),n[s]+=identifierWithPointTracking(position$4-1,a,s);break;case 2:n[s]+=delimit(l);break;case 4:if(l===44){n[++s]=peek()===58?"&\f":"",a[s]=n[s].length;break}default:n[s]+=from$2(l)}while(l=next());return n},getRules=function(n,a){return dealloc(toRules(alloc(n),a))},fixedElements=new WeakMap,compat=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var a=n.value,s=n.parent,l=n.column===s.column&&n.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(n.props.length===1&&a.charCodeAt(0)!==58&&!fixedElements.get(s))&&!l){fixedElements.set(n,!0);for(var c=[],f=getRules(a,c),p=s.props,g=0,y=0;g<f.length;g++)for(var b=0;b<p.length;b++,y++)n.props[y]=c[g]?f[g].replace(/&\f/g,p[b]):p[b]+" "+f[g]}}},removeLabel=function(n){if(n.type==="decl"){var a=n.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(n.return="",n.value="")}};function prefix(i,n){switch(hash$2(i,n)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace$1(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace$1(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace$1(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace$1(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace$1(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace$1(i,"-grow","")+WEBKIT+i+MS+replace$1(i,"grow","positive")+i;case 4554:return WEBKIT+replace$1(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace$1(replace$1(replace$1(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace$1(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace$1(replace$1(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace$1(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-n>6)switch(charat(i,n+1)){case 109:if(charat(i,n+4)!==45)break;case 102:return replace$1(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,n+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace$1(i,"stretch","fill-available"),n)+i:i}break;case 4949:if(charat(i,n+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace$1(i,":",":"+WEBKIT)+i;case 101:return replace$1(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,n+11)){case 114:return WEBKIT+i+MS+replace$1(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace$1(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace$1(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(n,a,s,l){if(n.length>-1&&!n.return)switch(n.type){case DECLARATION:n.return=prefix(n.value,n.length);break;case KEYFRAMES:return serialize$2([copy$1(n,{value:replace$1(n.value,"@","@"+WEBKIT)})],l);case RULESET:if(n.length)return combine(n.props,function(c){switch(match(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$2([copy$1(n,{props:[replace$1(c,/:(read-\w+)/,":"+MOZ+"$1")]})],l);case"::placeholder":return serialize$2([copy$1(n,{props:[replace$1(c,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$1(n,{props:[replace$1(c,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$1(n,{props:[replace$1(c,/:(plac\w+)/,MS+"input-$1")]})],l)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(n){var a=n.key;if(a==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(A){var I=A.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var l=n.stylisPlugins||defaultStylisPlugins,c={},f,p=[];f=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(A){for(var I=A.getAttribute("data-emotion").split(" "),R=1;R<I.length;R++)c[I[R]]=!0;p.push(A)});var g,y=[compat,removeLabel];{var b,h=[stringify$2,rulesheet(function(A){b.insert(A)})],d=middleware(y.concat(l,h)),v=function(I){return serialize$2(compile(I),d)};g=function(I,R,P,$){b=P,v(I?I+"{"+R.styles+"}":R.styles),$&&(_.inserted[R.name]=!0)}}var _={key:a,sheet:new StyleSheet({key:a,container:f,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:c,registered:{},insert:g};return _.sheet.hydrate(p),_},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var i=typeof Symbol=="function"&&Symbol.for,n=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,f=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,g=i?Symbol.for("react.async_mode"):60111,y=i?Symbol.for("react.concurrent_mode"):60111,b=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,_=i?Symbol.for("react.lazy"):60116,A=i?Symbol.for("react.block"):60121,I=i?Symbol.for("react.fundamental"):60117,R=i?Symbol.for("react.responder"):60118,P=i?Symbol.for("react.scope"):60119;function $(B){if(typeof B=="object"&&B!==null){var F=B.$$typeof;switch(F){case n:switch(B=B.type,B){case g:case y:case s:case c:case l:case h:return B;default:switch(B=B&&B.$$typeof,B){case p:case b:case _:case v:case f:return B;default:return F}}case a:return F}}}function M(B){return $(B)===y}return reactIs_production_min.AsyncMode=g,reactIs_production_min.ConcurrentMode=y,reactIs_production_min.ContextConsumer=p,reactIs_production_min.ContextProvider=f,reactIs_production_min.Element=n,reactIs_production_min.ForwardRef=b,reactIs_production_min.Fragment=s,reactIs_production_min.Lazy=_,reactIs_production_min.Memo=v,reactIs_production_min.Portal=a,reactIs_production_min.Profiler=c,reactIs_production_min.StrictMode=l,reactIs_production_min.Suspense=h,reactIs_production_min.isAsyncMode=function(B){return M(B)||$(B)===g},reactIs_production_min.isConcurrentMode=M,reactIs_production_min.isContextConsumer=function(B){return $(B)===p},reactIs_production_min.isContextProvider=function(B){return $(B)===f},reactIs_production_min.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===n},reactIs_production_min.isForwardRef=function(B){return $(B)===b},reactIs_production_min.isFragment=function(B){return $(B)===s},reactIs_production_min.isLazy=function(B){return $(B)===_},reactIs_production_min.isMemo=function(B){return $(B)===v},reactIs_production_min.isPortal=function(B){return $(B)===a},reactIs_production_min.isProfiler=function(B){return $(B)===c},reactIs_production_min.isStrictMode=function(B){return $(B)===l},reactIs_production_min.isSuspense=function(B){return $(B)===h},reactIs_production_min.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===s||B===y||B===c||B===l||B===h||B===d||typeof B=="object"&&B!==null&&(B.$$typeof===_||B.$$typeof===v||B.$$typeof===f||B.$$typeof===p||B.$$typeof===b||B.$$typeof===I||B.$$typeof===R||B.$$typeof===P||B.$$typeof===A)},reactIs_production_min.typeOf=$,reactIs_production_min}var hasRequiredReactIs$1;function requireReactIs$1(){return hasRequiredReactIs$1||(hasRequiredReactIs$1=1,reactIs$1.exports=requireReactIs_production_min()),reactIs$1.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var i=requireReactIs$1(),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[i.ForwardRef]=s,c[i.Memo]=l;function f(_){return i.isMemo(_)?l:c[_.$$typeof]||n}var p=Object.defineProperty,g=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,b=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,d=Object.prototype;function v(_,A,I){if(typeof A!="string"){if(d){var R=h(A);R&&R!==d&&v(_,R,I)}var P=g(A);y&&(P=P.concat(y(A)));for(var $=f(_),M=f(A),B=0;B<P.length;++B){var F=P[B];if(!a[F]&&!(I&&I[F])&&!(M&&M[F])&&!($&&$[F])){var q=b(A,F);try{p(_,F,q)}catch{}}}}return _}return hoistNonReactStatics_cjs=v,hoistNonReactStatics_cjs}requireHoistNonReactStatics_cjs();var isBrowser=!0;function getRegisteredStyles(i,n,a){var s="";return a.split(" ").forEach(function(l){i[l]!==void 0?n.push(i[l]+";"):l&&(s+=l+" ")}),s}var registerStyles=function(n,a,s){var l=n.key+"-"+a.name;(s===!1||isBrowser===!1)&&n.registered[l]===void 0&&(n.registered[l]=a.styles)},insertStyles=function(n,a,s){registerStyles(n,a,s);var l=n.key+"-"+a.name;if(n.inserted[a.name]===void 0){var c=a;do n.insert(a===c?"."+l:"",c,n.sheet,!0),c=c.next;while(c!==void 0)}};function murmur2(i){for(var n=0,a,s=0,l=i.length;l>=4;++s,l-=4)a=i.charCodeAt(s)&255|(i.charCodeAt(++s)&255)<<8|(i.charCodeAt(++s)&255)<<16|(i.charCodeAt(++s)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,n=(a&65535)*1540483477+((a>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(l){case 3:n^=(i.charCodeAt(s+2)&255)<<16;case 2:n^=(i.charCodeAt(s+1)&255)<<8;case 1:n^=i.charCodeAt(s)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(n){return n.charCodeAt(1)===45},isProcessableValue=function(n){return n!=null&&typeof n!="boolean"},processStyleName=memoize$1(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(n,a){switch(n){case"animation":case"animationName":if(typeof a=="string")return a.replace(animationRegex,function(s,l,c){return cursor={name:l,styles:c,next:cursor},l})}return unitlessKeys[n]!==1&&!isCustomProperty(n)&&typeof a=="number"&&a!==0?a+"px":a};function handleInterpolation(i,n,a){if(a==null)return"";var s=a;if(s.__emotion_styles!==void 0)return s;switch(typeof a){case"boolean":return"";case"object":{var l=a;if(l.anim===1)return cursor={name:l.name,styles:l.styles,next:cursor},l.name;var c=a;if(c.styles!==void 0){var f=c.next;if(f!==void 0)for(;f!==void 0;)cursor={name:f.name,styles:f.styles,next:cursor},f=f.next;var p=c.styles+";";return p}return createStringFromObject(i,n,a)}case"function":{if(i!==void 0){var g=cursor,y=a(i);return cursor=g,handleInterpolation(i,n,y)}break}}var b=a;if(n==null)return b;var h=n[b];return h!==void 0?h:b}function createStringFromObject(i,n,a){var s="";if(Array.isArray(a))for(var l=0;l<a.length;l++)s+=handleInterpolation(i,n,a[l])+";";else for(var c in a){var f=a[c];if(typeof f!="object"){var p=f;n!=null&&n[p]!==void 0?s+=c+"{"+n[p]+"}":isProcessableValue(p)&&(s+=processStyleName(c)+":"+processStyleValue(c,p)+";")}else if(Array.isArray(f)&&typeof f[0]=="string"&&(n==null||n[f[0]]===void 0))for(var g=0;g<f.length;g++)isProcessableValue(f[g])&&(s+=processStyleName(c)+":"+processStyleValue(c,f[g])+";");else{var y=handleInterpolation(i,n,f);switch(c){case"animation":case"animationName":{s+=processStyleName(c)+":"+y+";";break}default:s+=c+"{"+y+"}"}}}return s}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(i,n,a){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var s=!0,l="";cursor=void 0;var c=i[0];if(c==null||c.raw===void 0)s=!1,l+=handleInterpolation(a,n,c);else{var f=c;l+=f[0]}for(var p=1;p<i.length;p++)if(l+=handleInterpolation(a,n,i[p]),s){var g=c;l+=g[p]}labelPattern.lastIndex=0;for(var y="",b;(b=labelPattern.exec(l))!==null;)y+="-"+b[1];var h=murmur2(l)+y;return{name:h,styles:l,next:cursor}}var syncFallback=function(n){return n()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(n){return reactExports.forwardRef(function(a,s){var l=reactExports.useContext(EmotionCacheContext);return n(a,l,s)})},ThemeContext$1=reactExports.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(n,a){var s={};for(var l in a)hasOwn.call(a,l)&&(s[l]=a[l]);return s[typePropName]=n,s},Insertion$1=function(n){var a=n.cache,s=n.serialized,l=n.isStringTag;return registerStyles(a,s,l),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(a,s,l)}),null},Emotion=withEmotionCache(function(i,n,a){var s=i.css;typeof s=="string"&&n.registered[s]!==void 0&&(s=n.registered[s]);var l=i[typePropName],c=[s],f="";typeof i.className=="string"?f=getRegisteredStyles(n.registered,c,i.className):i.className!=null&&(f=i.className+" ");var p=serializeStyles(c,void 0,reactExports.useContext(ThemeContext$1));f+=n.key+"-"+p.name;var g={};for(var y in i)hasOwn.call(i,y)&&y!=="css"&&y!==typePropName&&(g[y]=i[y]);return g.className=f,a&&(g.ref=a),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:n,serialized:p,isStringTag:typeof l=="string"}),reactExports.createElement(l,g))}),Emotion$1=Emotion,jsx=function(n,a){var s=arguments;if(a==null||!hasOwn.call(a,"css"))return reactExports.createElement.apply(void 0,s);var l=s.length,c=new Array(l);c[0]=Emotion$1,c[1]=createEmotionProps(n,a);for(var f=2;f<l;f++)c[f]=s[f];return reactExports.createElement.apply(null,c)};(function(i){var n;n||(n=i.JSX||(i.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(i,n){var a=i.styles,s=serializeStyles([a],void 0,reactExports.useContext(ThemeContext$1)),l=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var c=n.key+"-global",f=new n.sheet.constructor({key:c,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),p=!1,g=document.querySelector('style[data-emotion="'+c+" "+s.name+'"]');return n.sheet.tags.length&&(f.before=n.sheet.tags[0]),g!==null&&(p=!0,g.setAttribute("data-emotion",c),f.hydrate([g])),l.current=[f,p],function(){f.flush()}},[n]),useInsertionEffectWithLayoutFallback(function(){var c=l.current,f=c[0],p=c[1];if(p){c[1]=!1;return}if(s.next!==void 0&&insertStyles(n,s.next,!0),f.tags.length){var g=f.tags[f.tags.length-1].nextElementSibling;f.before=g,f.flush()}n.insert("",s,f,!1)},[n,s.name]),null});function css(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return serializeStyles(n)}function keyframes(){var i=css.apply(void 0,arguments),n="animation-"+i.name;return{name:n,styles:"@keyframes "+n+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(n){return n!=="theme"},getDefaultShouldForwardProp=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(n,a,s){var l;if(a){var c=a.shouldForwardProp;l=n.__emotion_forwardProp&&c?function(f){return n.__emotion_forwardProp(f)&&c(f)}:c}return typeof l!="function"&&s&&(l=n.__emotion_forwardProp),l},Insertion=function(n){var a=n.cache,s=n.serialized,l=n.isStringTag;return registerStyles(a,s,l),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(a,s,l)}),null},createStyled$1=function i(n,a){var s=n.__emotion_real===n,l=s&&n.__emotion_base||n,c,f;a!==void 0&&(c=a.label,f=a.target);var p=composeShouldForwardProps(n,a,s),g=p||getDefaultShouldForwardProp(l),y=!g("as");return function(){var b=arguments,h=s&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(c!==void 0&&h.push("label:"+c+";"),b[0]==null||b[0].raw===void 0)h.push.apply(h,b);else{var d=b[0];h.push(d[0]);for(var v=b.length,_=1;_<v;_++)h.push(b[_],d[_])}var A=withEmotionCache(function(I,R,P){var $=y&&I.as||l,M="",B=[],F=I;if(I.theme==null){F={};for(var q in I)F[q]=I[q];F.theme=reactExports.useContext(ThemeContext$1)}typeof I.className=="string"?M=getRegisteredStyles(R.registered,B,I.className):I.className!=null&&(M=I.className+" ");var H=serializeStyles(h.concat(B),R.registered,F);M+=R.key+"-"+H.name,f!==void 0&&(M+=" "+f);var z=y&&p===void 0?getDefaultShouldForwardProp($):g,L={};for(var ee in I)y&&ee==="as"||z(ee)&&(L[ee]=I[ee]);return L.className=M,P&&(L.ref=P),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:R,serialized:H,isStringTag:typeof $=="string"}),reactExports.createElement($,L))});return A.displayName=c!==void 0?c:"Styled("+(typeof l=="string"?l:l.displayName||l.name||"Component")+")",A.defaultProps=n.defaultProps,A.__emotion_real=A,A.__emotion_base=l,A.__emotion_styles=h,A.__emotion_forwardProp=p,Object.defineProperty(A,"toString",{value:function(){return"."+f}}),A.withComponent=function(I,R){var P=i(I,_extends({},a,R,{shouldForwardProp:composeShouldForwardProps(A,R,!0)}));return P.apply(void 0,h)},A}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],styled$3=createStyled$1.bind(null);tags.forEach(function(i){styled$3[i]=styled$3(i)});var propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=i,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var i=requireReactPropTypesSecret();function n(){}function a(){}return a.resetWarningCache=n,factoryWithThrowingShims=function(){function s(f,p,g,y,b,h){if(h!==i){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}s.isRequired=s;function l(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:a,resetWarningCache:n};return c.PropTypes=c,c},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);function isEmpty$2(i){return i==null||Object.keys(i).length===0}function GlobalStyles$3(i){const{styles:n,defaultTheme:a={}}=i,s=typeof n=="function"?l=>n(isEmpty$2(l)?a:l):n;return jsxRuntimeExports.jsx(Global,{styles:s})}/**
 * @mui/styled-engine v6.5.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(i,n){return styled$3(i,n)}function internal_mutateStyles(i,n){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=n(i.__emotion_styles))}const wrapper=[];function internal_serializeStyles(i){return wrapper[0]=i,serializeStyles(wrapper)}var reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function _(A){if(typeof A=="object"&&A!==null){var I=A.$$typeof;switch(I){case i:switch(A=A.type,A){case a:case l:case s:case g:case y:case d:return A;default:switch(A=A&&A.$$typeof,A){case f:case p:case h:case b:return A;case c:return A;default:return I}}case n:return I}}}return reactIs_production.ContextConsumer=c,reactIs_production.ContextProvider=f,reactIs_production.Element=i,reactIs_production.ForwardRef=p,reactIs_production.Fragment=a,reactIs_production.Lazy=h,reactIs_production.Memo=b,reactIs_production.Portal=n,reactIs_production.Profiler=l,reactIs_production.StrictMode=s,reactIs_production.Suspense=g,reactIs_production.SuspenseList=y,reactIs_production.isContextConsumer=function(A){return _(A)===c},reactIs_production.isContextProvider=function(A){return _(A)===f},reactIs_production.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===i},reactIs_production.isForwardRef=function(A){return _(A)===p},reactIs_production.isFragment=function(A){return _(A)===a},reactIs_production.isLazy=function(A){return _(A)===h},reactIs_production.isMemo=function(A){return _(A)===b},reactIs_production.isPortal=function(A){return _(A)===n},reactIs_production.isProfiler=function(A){return _(A)===l},reactIs_production.isStrictMode=function(A){return _(A)===s},reactIs_production.isSuspense=function(A){return _(A)===g},reactIs_production.isSuspenseList=function(A){return _(A)===y},reactIs_production.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===a||A===l||A===s||A===g||A===y||typeof A=="object"&&A!==null&&(A.$$typeof===h||A.$$typeof===b||A.$$typeof===f||A.$$typeof===c||A.$$typeof===p||A.$$typeof===v||A.getModuleId!==void 0)},reactIs_production.typeOf=_,reactIs_production}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production()),reactIs.exports}var reactIsExports=requireReactIs();function isPlainObject$1(i){if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function deepClone(i){if(reactExports.isValidElement(i)||reactIsExports.isValidElementType(i)||!isPlainObject$1(i))return i;const n={};return Object.keys(i).forEach(a=>{n[a]=deepClone(i[a])}),n}function deepmerge(i,n,a={clone:!0}){const s=a.clone?{...i}:i;return isPlainObject$1(i)&&isPlainObject$1(n)&&Object.keys(n).forEach(l=>{reactExports.isValidElement(n[l])||reactIsExports.isValidElementType(n[l])?s[l]=n[l]:isPlainObject$1(n[l])&&Object.prototype.hasOwnProperty.call(i,l)&&isPlainObject$1(i[l])?s[l]=deepmerge(i[l],n[l],a):a.clone?s[l]=isPlainObject$1(n[l])?deepClone(n[l]):n[l]:s[l]=n[l]}),s}const sortBreakpointsValues=i=>{const n=Object.keys(i).map(a=>({key:a,val:i[a]}))||[];return n.sort((a,s)=>a.val-s.val),n.reduce((a,s)=>({...a,[s.key]:s.val}),{})};function createBreakpoints(i){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:s=5,...l}=i,c=sortBreakpointsValues(n),f=Object.keys(c);function p(d){return`@media (min-width:${typeof n[d]=="number"?n[d]:d}${a})`}function g(d){return`@media (max-width:${(typeof n[d]=="number"?n[d]:d)-s/100}${a})`}function y(d,v){const _=f.indexOf(v);return`@media (min-width:${typeof n[d]=="number"?n[d]:d}${a}) and (max-width:${(_!==-1&&typeof n[f[_]]=="number"?n[f[_]]:v)-s/100}${a})`}function b(d){return f.indexOf(d)+1<f.length?y(d,f[f.indexOf(d)+1]):p(d)}function h(d){const v=f.indexOf(d);return v===0?p(f[1]):v===f.length-1?g(f[v]):y(d,f[f.indexOf(d)+1]).replace("@media","@media not all and")}return{keys:f,values:c,up:p,down:g,between:y,only:b,not:h,unit:a,...l}}function sortContainerQueries(i,n){if(!i.containerQueries)return n;const a=Object.keys(n).filter(s=>s.startsWith("@container")).sort((s,l)=>{var f,p;const c=/min-width:\s*([0-9.]+)/;return+(((f=s.match(c))==null?void 0:f[1])||0)-+(((p=l.match(c))==null?void 0:p[1])||0)});return a.length?a.reduce((s,l)=>{const c=n[l];return delete s[l],s[l]=c,s},{...n}):n}function isCqShorthand(i,n){return n==="@"||n.startsWith("@")&&(i.some(a=>n.startsWith(`@${a}`))||!!n.match(/^@\d/))}function getContainerQuery(i,n){const a=n.match(/^@([^/]+)?\/?(.+)?$/);if(!a)return null;const[,s,l]=a,c=Number.isNaN(+s)?s||0:+s;return i.containerQueries(l).up(c)}function cssContainerQueries(i){const n=(c,f)=>c.replace("@media",f?`@container ${f}`:"@container");function a(c,f){c.up=(...p)=>n(i.breakpoints.up(...p),f),c.down=(...p)=>n(i.breakpoints.down(...p),f),c.between=(...p)=>n(i.breakpoints.between(...p),f),c.only=(...p)=>n(i.breakpoints.only(...p),f),c.not=(...p)=>{const g=n(i.breakpoints.not(...p),f);return g.includes("not all and")?g.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):g}}const s={},l=c=>(a(s,c),s);return a(l),{...i,containerQueries:l}}const shape={borderRadius:4};function merge$1(i,n){return n?deepmerge(i,n,{clone:!1}):i}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values$1[i]}px)`},defaultContainerQueries={containerQueries:i=>({up:n=>{let a=typeof n=="number"?n:values$1[n]||n;return typeof a=="number"&&(a=`${a}px`),i?`@container ${i} (min-width:${a})`:`@container (min-width:${a})`}})};function handleBreakpoints(i,n,a){const s=i.theme||{};if(Array.isArray(n)){const c=s.breakpoints||defaultBreakpoints;return n.reduce((f,p,g)=>(f[c.up(c.keys[g])]=a(n[g]),f),{})}if(typeof n=="object"){const c=s.breakpoints||defaultBreakpoints;return Object.keys(n).reduce((f,p)=>{if(isCqShorthand(c.keys,p)){const g=getContainerQuery(s.containerQueries?s:defaultContainerQueries,p);g&&(f[g]=a(n[p],p))}else if(Object.keys(c.values||values$1).includes(p)){const g=c.up(p);f[g]=a(n[p],p)}else{const g=p;f[g]=n[g]}return f},{})}return a(n)}function createEmptyBreakpointObject(i={}){var a;return((a=i.keys)==null?void 0:a.reduce((s,l)=>{const c=i.up(l);return s[c]={},s},{}))||{}}function removeUnusedBreakpoints(i,n){return i.reduce((a,s)=>{const l=a[s];return(!l||Object.keys(l).length===0)&&delete a[s],a},n)}function mergeBreakpointsInOrder(i,...n){const a=createEmptyBreakpointObject(i),s=[a,...n].reduce((l,c)=>deepmerge(l,c),{});return removeUnusedBreakpoints(Object.keys(a),s)}function computeBreakpointsBase(i,n){if(typeof i!="object")return{};const a={},s=Object.keys(n);return Array.isArray(i)?s.forEach((l,c)=>{c<i.length&&(a[l]=!0)}):s.forEach(l=>{i[l]!=null&&(a[l]=!0)}),a}function resolveBreakpointValues({values:i,breakpoints:n,base:a}){const s=a||computeBreakpointsBase(i,n),l=Object.keys(s);if(l.length===0)return i;let c;return l.reduce((f,p,g)=>(Array.isArray(i)?(f[p]=i[g]!=null?i[g]:i[c],c=g):typeof i=="object"?(f[p]=i[p]!=null?i[p]:i[c],c=p):f[p]=i,f),{})}function capitalize(i){if(typeof i!="string")throw new Error(formatMuiErrorMessage(7));return i.charAt(0).toUpperCase()+i.slice(1)}function getPath(i,n,a=!0){if(!n||typeof n!="string")return null;if(i&&i.vars&&a){const s=`vars.${n}`.split(".").reduce((l,c)=>l&&l[c]?l[c]:null,i);if(s!=null)return s}return n.split(".").reduce((s,l)=>s&&s[l]!=null?s[l]:null,i)}function getStyleValue$1(i,n,a,s=a){let l;return typeof i=="function"?l=i(a):Array.isArray(i)?l=i[a]||s:l=getPath(i,a)||s,n&&(l=n(l,s,i)),l}function style$2(i){const{prop:n,cssProperty:a=i.prop,themeKey:s,transform:l}=i,c=f=>{if(f[n]==null)return null;const p=f[n],g=f.theme,y=getPath(g,s)||{};return handleBreakpoints(f,p,h=>{let d=getStyleValue$1(y,l,h);return h===d&&typeof h=="string"&&(d=getStyleValue$1(y,l,`${n}${h==="default"?"":capitalize(h)}`,h)),a===!1?d:{[a]:d}})};return c.propTypes={},c.filterProps=[n],c}function memoize(i){const n={};return a=>(n[a]===void 0&&(n[a]=i(a)),n[a])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(i=>{if(i.length>2)if(aliases[i])i=aliases[i];else return[i];const[n,a]=i.split(""),s=properties[n],l=directions[a]||"";return Array.isArray(l)?l.map(c=>s+c):[s+l]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(i,n,a,s){const l=getPath(i,n,!0)??a;return typeof l=="number"||typeof l=="string"?c=>typeof c=="string"?c:typeof l=="string"?`calc(${c} * ${l})`:l*c:Array.isArray(l)?c=>{if(typeof c=="string")return c;const f=Math.abs(c),p=l[f];return c>=0?p:typeof p=="number"?-p:`-${p}`}:typeof l=="function"?l:()=>{}}function createUnarySpacing(i){return createUnaryUnit(i,"spacing",8)}function getValue(i,n){return typeof n=="string"||n==null?n:i(n)}function getStyleFromPropValue(i,n){return a=>i.reduce((s,l)=>(s[l]=getValue(n,a),s),{})}function resolveCssProperty(i,n,a,s){if(!n.includes(a))return null;const l=getCssProperties(a),c=getStyleFromPropValue(l,s),f=i[a];return handleBreakpoints(i,f,c)}function style$1(i,n){const a=createUnarySpacing(i.theme);return Object.keys(i).map(s=>resolveCssProperty(i,n,s,a)).reduce(merge$1,{})}function margin(i){return style$1(i,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(i){return style$1(i,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(i=8,n=createUnarySpacing({spacing:i})){if(i.mui)return i;const a=(...s)=>(s.length===0?[1]:s).map(c=>{const f=n(c);return typeof f=="number"?`${f}px`:f}).join(" ");return a.mui=!0,a}function compose(...i){const n=i.reduce((s,l)=>(l.filterProps.forEach(c=>{s[c]=l}),s),{}),a=s=>Object.keys(s).reduce((l,c)=>n[c]?merge$1(l,n[c](s)):l,{});return a.propTypes={},a.filterProps=i.reduce((s,l)=>s.concat(l.filterProps),[]),a}function borderTransform(i){return typeof i!="number"?i:`${i}px solid`}function createBorderStyle(i,n){return style$2({prop:i,themeKey:"borders",transform:n})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const n=createUnaryUnit(i.theme,"shape.borderRadius",4),a=s=>({borderRadius:getValue(n,s)});return handleBreakpoints(i,i.borderRadius,a)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=i=>{if(i.gap!==void 0&&i.gap!==null){const n=createUnaryUnit(i.theme,"spacing",8),a=s=>({gap:getValue(n,s)});return handleBreakpoints(i,i.gap,a)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const n=createUnaryUnit(i.theme,"spacing",8),a=s=>({columnGap:getValue(n,s)});return handleBreakpoints(i,i.columnGap,a)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const n=createUnaryUnit(i.theme,"spacing",8),a=s=>({rowGap:getValue(n,s)});return handleBreakpoints(i,i.rowGap,a)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(i,n){return n==="grey"?n:i}const color$2=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color$2,bgcolor,backgroundColor);function sizingTransform(i){return i<=1&&i!==0?`${i*100}%`:i}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const n=a=>{var l,c,f,p,g;const s=((f=(c=(l=i.theme)==null?void 0:l.breakpoints)==null?void 0:c.values)==null?void 0:f[a])||values$1[a];return s?((g=(p=i.theme)==null?void 0:p.breakpoints)==null?void 0:g.unit)!=="px"?{maxWidth:`${s}${i.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:sizingTransform(a)}};return handleBreakpoints(i,i.maxWidth,n)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...i){const n=i.reduce((s,l)=>s.concat(Object.keys(l)),[]),a=new Set(n);return i.every(s=>a.size===Object.keys(s).length)}function callIfFn(i,n){return typeof i=="function"?i(n):i}function unstable_createStyleFunctionSx(){function i(a,s,l,c){const f={[a]:s,theme:l},p=c[a];if(!p)return{[a]:s};const{cssProperty:g=a,themeKey:y,transform:b,style:h}=p;if(s==null)return null;if(y==="typography"&&s==="inherit")return{[a]:s};const d=getPath(l,y)||{};return h?h(f):handleBreakpoints(f,s,_=>{let A=getStyleValue$1(d,b,_);return _===A&&typeof _=="string"&&(A=getStyleValue$1(d,b,`${a}${_==="default"?"":capitalize(_)}`,_)),g===!1?A:{[g]:A}})}function n(a){const{sx:s,theme:l={},nested:c}=a||{};if(!s)return null;const f=l.unstable_sxConfig??defaultSxConfig;function p(g){let y=g;if(typeof g=="function")y=g(l);else if(typeof g!="object")return g;if(!y)return null;const b=createEmptyBreakpointObject(l.breakpoints),h=Object.keys(b);let d=b;return Object.keys(y).forEach(v=>{const _=callIfFn(y[v],l);if(_!=null)if(typeof _=="object")if(f[v])d=merge$1(d,i(v,_,l,f));else{const A=handleBreakpoints({theme:l},_,I=>({[v]:I}));objectsHaveSameKeys(A,_)?d[v]=n({sx:_,theme:l,nested:!0}):d=merge$1(d,A)}else d=merge$1(d,i(v,_,l,f))}),!c&&l.modularCssLayers?{"@layer sx":sortContainerQueries(l,removeUnusedBreakpoints(h,d))}:sortContainerQueries(l,removeUnusedBreakpoints(h,d))}return Array.isArray(s)?s.map(p):p(s)}return n}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];function applyStyles$2(i,n){var s;const a=this;if(a.vars){if(!((s=a.colorSchemes)!=null&&s[i])||typeof a.getColorSchemeSelector!="function")return{};let l=a.getColorSchemeSelector(i);return l==="&"?n:((l.includes("data-")||l.includes("."))&&(l=`*:where(${l.replace(/\s*&$/,"")}) &`),{[l]:n})}return a.palette.mode===i?n:{}}function createTheme$1(i={},...n){const{breakpoints:a={},palette:s={},spacing:l,shape:c={},...f}=i,p=createBreakpoints(a),g=createSpacing(l);let y=deepmerge({breakpoints:p,direction:"ltr",components:{},palette:{mode:"light",...s},spacing:g,shape:{...shape,...c}},f);return y=cssContainerQueries(y),y.applyStyles=applyStyles$2,y=n.reduce((b,h)=>deepmerge(b,h),y),y.unstable_sxConfig={...defaultSxConfig,...f==null?void 0:f.unstable_sxConfig},y.unstable_sx=function(h){return styleFunctionSx({sx:h,theme:this})},y}function isObjectEmpty$2(i){return Object.keys(i).length===0}function useTheme$3(i=null){const n=reactExports.useContext(ThemeContext$1);return!n||isObjectEmpty$2(n)?i:n}const systemDefaultTheme$1=createTheme$1();function useTheme$2(i=systemDefaultTheme$1){return useTheme$3(i)}function wrapGlobalLayer(i){const n=internal_serializeStyles(i);return i!==n&&n.styles?(n.styles.match(/^@layer\s+[^{]*$/)||(n.styles=`@layer global{${n.styles}}`),n):i}function GlobalStyles$2({styles:i,themeId:n,defaultTheme:a={}}){const s=useTheme$2(a),l=n&&s[n]||s;let c=typeof i=="function"?i(l):i;return l.modularCssLayers&&(Array.isArray(c)?c=c.map(f=>wrapGlobalLayer(typeof f=="function"?f(l):f)):c=wrapGlobalLayer(c)),jsxRuntimeExports.jsx(GlobalStyles$3,{styles:c})}const splitProps=i=>{var s;const n={systemProps:{},otherProps:{}},a=((s=i==null?void 0:i.theme)==null?void 0:s.unstable_sxConfig)??defaultSxConfig;return Object.keys(i).forEach(l=>{a[l]?n.systemProps[l]=i[l]:n.otherProps[l]=i[l]}),n};function extendSxProp$1(i){const{sx:n,...a}=i,{systemProps:s,otherProps:l}=splitProps(a);let c;return Array.isArray(n)?c=[s,...n]:typeof n=="function"?c=(...f)=>{const p=n(...f);return isPlainObject$1(p)?{...s,...p}:s}:c={...s,...n},{...l,sx:c}}const defaultGenerator=i=>i,createClassNameGenerator=()=>{let i=defaultGenerator;return{configure(n){i=n},generate(n){return i(n)},reset(){i=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();function r(i){var n,a,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(n=0;n<l;n++)i[n]&&(a=r(i[n]))&&(s&&(s+=" "),s+=a)}else for(a in i)i[a]&&(s&&(s+=" "),s+=a);return s}function clsx(){for(var i,n,a=0,s="",l=arguments.length;a<l;a++)(i=arguments[a])&&(n=r(i))&&(s&&(s+=" "),s+=n);return s}function createBox(i={}){const{themeId:n,defaultTheme:a,defaultClassName:s="MuiBox-root",generateClassName:l}=i,c=styled$2("div",{shouldForwardProp:p=>p!=="theme"&&p!=="sx"&&p!=="as"})(styleFunctionSx);return reactExports.forwardRef(function(g,y){const b=useTheme$2(a),{className:h,component:d="div",...v}=extendSxProp$1(g);return jsxRuntimeExports.jsx(c,{as:d,ref:y,className:clsx(h,l?l(s):s),theme:n&&b[n]||b,...v})})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(i,n,a="Mui"){const s=globalStateClasses[n];return s?`${a}-${s}`:`${ClassNameGenerator.generate(i)}-${n}`}function generateUtilityClasses(i,n,a="Mui"){const s={};return n.forEach(l=>{s[l]=generateUtilityClass(i,l,a)}),s}const boxClasses$1=generateUtilityClasses("MuiBox",["root"]),Box$1=createBox({defaultClassName:boxClasses$1.root,generateClassName:ClassNameGenerator.generate});function preprocessStyles(i){const{variants:n,...a}=i,s={variants:n,style:internal_serializeStyles(a),isProcessed:!0};return s.style===a||n&&n.forEach(l=>{typeof l.style!="function"&&(l.style=internal_serializeStyles(l.style))}),s}const systemDefaultTheme=createTheme$1();function shouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function shallowLayer(i,n){return n&&i&&typeof i=="object"&&i.styles&&!i.styles.startsWith("@layer")&&(i.styles=`@layer ${n}{${String(i.styles)}}`),i}function defaultOverridesResolver(i){return i?(n,a)=>a[i]:null}function attachTheme(i,n,a){i.theme=isObjectEmpty$1(i.theme)?a:i.theme[n]||i.theme}function processStyle(i,n,a){const s=typeof n=="function"?n(i):n;if(Array.isArray(s))return s.flatMap(l=>processStyle(i,l,a));if(Array.isArray(s==null?void 0:s.variants)){let l;if(s.isProcessed)l=a?shallowLayer(s.style,a):s.style;else{const{variants:c,...f}=s;l=a?shallowLayer(internal_serializeStyles(f),a):f}return processStyleVariants(i,s.variants,[l],a)}return s!=null&&s.isProcessed?a?shallowLayer(internal_serializeStyles(s.style),a):s.style:a?shallowLayer(internal_serializeStyles(s),a):s}function processStyleVariants(i,n,a=[],s=void 0){var c;let l;e:for(let f=0;f<n.length;f+=1){const p=n[f];if(typeof p.props=="function"){if(l??(l={...i,...i.ownerState,ownerState:i.ownerState}),!p.props(l))continue}else for(const g in p.props)if(i[g]!==p.props[g]&&((c=i.ownerState)==null?void 0:c[g])!==p.props[g])continue e;typeof p.style=="function"?(l??(l={...i,...i.ownerState,ownerState:i.ownerState}),a.push(s?shallowLayer(internal_serializeStyles(p.style(l)),s):p.style(l))):a.push(s?shallowLayer(internal_serializeStyles(p.style),s):p.style)}return a}function createStyled(i={}){const{themeId:n,defaultTheme:a=systemDefaultTheme,rootShouldForwardProp:s=shouldForwardProp,slotShouldForwardProp:l=shouldForwardProp}=i;function c(p){attachTheme(p,n,a)}return(p,g={})=>{internal_mutateStyles(p,F=>F.filter(q=>q!==styleFunctionSx));const{name:y,slot:b,skipVariantsResolver:h,skipSx:d,overridesResolver:v=defaultOverridesResolver(lowercaseFirstLetter(b)),..._}=g,A=y&&y.startsWith("Mui")||b?"components":"custom",I=h!==void 0?h:b&&b!=="Root"&&b!=="root"||!1,R=d||!1;let P=shouldForwardProp;b==="Root"||b==="root"?P=s:b?P=l:isStringTag(p)&&(P=void 0);const $=styled$2(p,{shouldForwardProp:P,label:generateStyledLabel(),..._}),M=F=>{if(F.__emotion_real===F)return F;if(typeof F=="function")return function(H){return processStyle(H,F,H.theme.modularCssLayers?A:void 0)};if(isPlainObject$1(F)){const q=preprocessStyles(F);return function(z){return q.variants?processStyle(z,q,z.theme.modularCssLayers?A:void 0):z.theme.modularCssLayers?shallowLayer(q.style,A):q.style}}return F},B=(...F)=>{const q=[],H=F.map(M),z=[];if(q.push(c),y&&v&&z.push(function(V){var te,ue;const Q=(ue=(te=V.theme.components)==null?void 0:te[y])==null?void 0:ue.styleOverrides;if(!Q)return null;const G={};for(const fe in Q)G[fe]=processStyle(V,Q[fe],V.theme.modularCssLayers?"theme":void 0);return v(V,G)}),y&&!I&&z.push(function(V){var G,te;const X=V.theme,Q=(te=(G=X==null?void 0:X.components)==null?void 0:G[y])==null?void 0:te.variants;return Q?processStyleVariants(V,Q,[],V.theme.modularCssLayers?"theme":void 0):null}),R||z.push(styleFunctionSx),Array.isArray(H[0])){const Z=H.shift(),V=new Array(q.length).fill(""),X=new Array(z.length).fill("");let Q;Q=[...V,...Z,...X],Q.raw=[...V,...Z.raw,...X],q.unshift(Q)}const L=[...q,...H,...z],ee=$(...L);return p.muiName&&(ee.muiName=p.muiName),ee};return $.withConfig&&(B.withConfig=$.withConfig),B}}function generateStyledLabel(i,n){return void 0}function isObjectEmpty$1(i){for(const n in i)return!1;return!0}function isStringTag(i){return typeof i=="string"&&i.charCodeAt(0)>96}function lowercaseFirstLetter(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}const styled$1=createStyled();function resolveProps(i,n){const a={...n};for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)){const l=s;if(l==="components"||l==="slots")a[l]={...i[l],...a[l]};else if(l==="componentsProps"||l==="slotProps"){const c=i[l],f=n[l];if(!f)a[l]=c||{};else if(!c)a[l]=f;else{a[l]={...f};for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const g=p;a[l][g]=resolveProps(c[g],f[g])}}}else a[l]===void 0&&(a[l]=i[l])}return a}function getThemeProps$1(i){const{theme:n,name:a,props:s}=i;return!n||!n.components||!n.components[a]||!n.components[a].defaultProps?s:resolveProps(n.components[a].defaultProps,s)}function useThemeProps({props:i,name:n,defaultTheme:a,themeId:s}){let l=useTheme$2(a);return s&&(l=l[s]||l),getThemeProps$1({theme:l,name:n,props:i})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp$1(i,n=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(i,a))}function clampWrapper(i,n=0,a=1){return clamp$1(i,n,a)}function hexToRgb$1(i){i=i.slice(1);const n=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let a=i.match(n);return a&&a[0].length===1&&(a=a.map(s=>s+s)),a?`rgb${a.length===4?"a":""}(${a.map((s,l)=>l<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor(hexToRgb$1(i));const n=i.indexOf("("),a=i.substring(0,n);if(!["rgb","rgba","hsl","hsla","color"].includes(a))throw new Error(formatMuiErrorMessage(9,i));let s=i.substring(n+1,i.length-1),l;if(a==="color"){if(s=s.split(" "),l=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(l))throw new Error(formatMuiErrorMessage(10,l))}else s=s.split(",");return s=s.map(c=>parseFloat(c)),{type:a,values:s,colorSpace:l}}const colorChannel=i=>{const n=decomposeColor(i);return n.values.slice(0,3).map((a,s)=>n.type.includes("hsl")&&s!==0?`${a}%`:a).join(" ")},private_safeColorChannel=(i,n)=>{try{return colorChannel(i)}catch{return i}};function recomposeColor(i){const{type:n,colorSpace:a}=i;let{values:s}=i;return n.includes("rgb")?s=s.map((l,c)=>c<3?parseInt(l,10):l):n.includes("hsl")&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),n.includes("color")?s=`${a} ${s.join(" ")}`:s=`${s.join(", ")}`,`${n}(${s})`}function hslToRgb(i){i=decomposeColor(i);const{values:n}=i,a=n[0],s=n[1]/100,l=n[2]/100,c=s*Math.min(l,1-l),f=(y,b=(y+a/30)%12)=>l-c*Math.max(Math.min(b-3,9-b,1),-1);let p="rgb";const g=[Math.round(f(0)*255),Math.round(f(8)*255),Math.round(f(4)*255)];return i.type==="hsla"&&(p+="a",g.push(n[3])),recomposeColor({type:p,values:g})}function getLuminance(i){i=decomposeColor(i);let n=i.type==="hsl"||i.type==="hsla"?decomposeColor(hslToRgb(i)).values:i.values;return n=n.map(a=>(i.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function getContrastRatio(i,n){const a=getLuminance(i),s=getLuminance(n);return(Math.max(a,s)+.05)/(Math.min(a,s)+.05)}function alpha(i,n){return i=decomposeColor(i),n=clampWrapper(n),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${n}`:i.values[3]=n,recomposeColor(i)}function private_safeAlpha(i,n,a){try{return alpha(i,n)}catch{return i}}function darken$1(i,n){if(i=decomposeColor(i),n=clampWrapper(n),i.type.includes("hsl"))i.values[2]*=1-n;else if(i.type.includes("rgb")||i.type.includes("color"))for(let a=0;a<3;a+=1)i.values[a]*=1-n;return recomposeColor(i)}function private_safeDarken(i,n,a){try{return darken$1(i,n)}catch{return i}}function lighten$1(i,n){if(i=decomposeColor(i),n=clampWrapper(n),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*n;else if(i.type.includes("rgb"))for(let a=0;a<3;a+=1)i.values[a]+=(255-i.values[a])*n;else if(i.type.includes("color"))for(let a=0;a<3;a+=1)i.values[a]+=(1-i.values[a])*n;return recomposeColor(i)}function private_safeLighten(i,n,a){try{return lighten$1(i,n)}catch{return i}}function emphasize(i,n=.15){return getLuminance(i)>.5?darken$1(i,n):lighten$1(i,n)}function private_safeEmphasize(i,n,a){try{return emphasize(i,n)}catch{return i}}function createChainedFunction(...i){return i.reduce((n,a)=>a==null?n:function(...l){n.apply(this,l),a.apply(this,l)},()=>{})}function debounce$1(i,n=166){let a;function s(...l){const c=()=>{i.apply(this,l)};clearTimeout(a),a=setTimeout(c,n)}return s.clear=()=>{clearTimeout(a)},s}function isMuiElement(i,n){var a,s,l;return reactExports.isValidElement(i)&&n.indexOf(i.type.muiName??((l=(s=(a=i.type)==null?void 0:a._payload)==null?void 0:s.value)==null?void 0:l.muiName))!==-1}function ownerDocument(i){return i&&i.ownerDocument||document}function ownerWindow(i){return ownerDocument(i).defaultView||window}function setRef(i,n){typeof i=="function"?i(n):i&&(i.current=n)}let globalId=0;function useGlobalId(i){const[n,a]=reactExports.useState(i),s=i||n;return reactExports.useEffect(()=>{n==null&&(globalId+=1,a(`mui-${globalId}`))},[n]),s}const safeReact={...React$1},maybeReactUseId=safeReact.useId;function useId(i){if(maybeReactUseId!==void 0){const n=maybeReactUseId();return i??n}return useGlobalId(i)}function useControlled({controlled:i,default:n,name:a,state:s="value"}){const{current:l}=reactExports.useRef(i!==void 0),[c,f]=reactExports.useState(n),p=l?i:c,g=reactExports.useCallback(y=>{l||f(y)},[]);return[p,g]}function useEventCallback(i){const n=reactExports.useRef(i);return useEnhancedEffect(()=>{n.current=i}),reactExports.useRef((...a)=>(0,n.current)(...a)).current}function useForkRef(...i){const n=reactExports.useRef(void 0),a=reactExports.useCallback(s=>{const l=i.map(c=>{if(c==null)return null;if(typeof c=="function"){const f=c,p=f(s);return typeof p=="function"?p:()=>{f(null)}}return c.current=s,()=>{c.current=null}});return()=>{l.forEach(c=>c==null?void 0:c())}},i);return reactExports.useMemo(()=>i.every(s=>s==null)?null:s=>{n.current&&(n.current(),n.current=void 0),s!=null&&(n.current=a(s))},i)}const UNINITIALIZED={};function useLazyRef(i,n){const a=reactExports.useRef(UNINITIALIZED);return a.current===UNINITIALIZED&&(a.current=i(n)),a}const EMPTY$1=[];function useOnMount(i){reactExports.useEffect(i,EMPTY$1)}class Timeout{constructor(){me(this,"currentId",null);me(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});me(this,"disposeEffect",()=>this.clear)}static create(){return new Timeout}start(n,a){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,a()},n)}}function useTimeout(){const i=useLazyRef(Timeout.create).current;return useOnMount(i.disposeEffect),i}function isFocusVisible(i){try{return i.matches(":focus-visible")}catch{}return!1}function getScrollbarSize(i=window){const n=i.document.documentElement.clientWidth;return i.innerWidth-n}function composeClasses(i,n,a=void 0){const s={};for(const l in i){const c=i[l];let f="",p=!0;for(let g=0;g<c.length;g+=1){const y=c[g];y&&(f+=(p===!0?"":" ")+n(y),p=!1,a&&a[y]&&(f+=" "+a[y]))}s[l]=f}return s}function isHostComponent$1(i){return typeof i=="string"}function appendOwnerState(i,n,a){return i===void 0||isHostComponent$1(i)?n:{...n,ownerState:{...n.ownerState,...a}}}function extractEventHandlers(i,n=[]){if(i===void 0)return{};const a={};return Object.keys(i).filter(s=>s.match(/^on[A-Z]/)&&typeof i[s]=="function"&&!n.includes(s)).forEach(s=>{a[s]=i[s]}),a}function omitEventHandlers(i){if(i===void 0)return{};const n={};return Object.keys(i).filter(a=>!(a.match(/^on[A-Z]/)&&typeof i[a]=="function")).forEach(a=>{n[a]=i[a]}),n}function mergeSlotProps$1(i){const{getSlotProps:n,additionalProps:a,externalSlotProps:s,externalForwardedProps:l,className:c}=i;if(!n){const v=clsx(a==null?void 0:a.className,c,l==null?void 0:l.className,s==null?void 0:s.className),_={...a==null?void 0:a.style,...l==null?void 0:l.style,...s==null?void 0:s.style},A={...a,...l,...s};return v.length>0&&(A.className=v),Object.keys(_).length>0&&(A.style=_),{props:A,internalRef:void 0}}const f=extractEventHandlers({...l,...s}),p=omitEventHandlers(s),g=omitEventHandlers(l),y=n(f),b=clsx(y==null?void 0:y.className,a==null?void 0:a.className,c,l==null?void 0:l.className,s==null?void 0:s.className),h={...y==null?void 0:y.style,...a==null?void 0:a.style,...l==null?void 0:l.style,...s==null?void 0:s.style},d={...y,...a,...g,...p};return b.length>0&&(d.className=b),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:y.ref}}function resolveComponentProps(i,n,a){return typeof i=="function"?i(n,a):i}function useSlotProps(i){var h;const{elementType:n,externalSlotProps:a,ownerState:s,skipResolvingSlotProps:l=!1,...c}=i,f=l?{}:resolveComponentProps(a,s),{props:p,internalRef:g}=mergeSlotProps$1({...c,externalSlotProps:f}),y=useForkRef(g,f==null?void 0:f.ref,(h=i.additionalProps)==null?void 0:h.ref);return appendOwnerState(n,{...p,ref:y},s)}function getReactElementRef(i){var n;return parseInt(reactExports.version,10)>=19?((n=i==null?void 0:i.props)==null?void 0:n.ref)||null:(i==null?void 0:i.ref)||null}const ThemeContext=reactExports.createContext(null);function useTheme$1(){return reactExports.useContext(ThemeContext)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(i,n){return typeof n=="function"?n(i):{...i,...n}}function ThemeProvider$2(i){const{children:n,theme:a}=i,s=useTheme$1(),l=reactExports.useMemo(()=>{const c=s===null?{...a}:mergeOuterLocalTheme(s,a);return c!=null&&(c[nested]=s!==null),c},[a,s]);return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:l,children:n})}const RtlContext=reactExports.createContext();function RtlProvider({value:i,...n}){return jsxRuntimeExports.jsx(RtlContext.Provider,{value:i??!0,...n})}const useRtl=()=>reactExports.useContext(RtlContext)??!1,PropsContext=reactExports.createContext(void 0);function DefaultPropsProvider({value:i,children:n}){return jsxRuntimeExports.jsx(PropsContext.Provider,{value:i,children:n})}function getThemeProps(i){const{theme:n,name:a,props:s}=i;if(!n||!n.components||!n.components[a])return s;const l=n.components[a];return l.defaultProps?resolveProps(l.defaultProps,s):!l.styleOverrides&&!l.variants?resolveProps(l,s):s}function useDefaultProps$1({props:i,name:n}){const a=reactExports.useContext(PropsContext);return getThemeProps({props:i,name:n,theme:{components:a}})}function useLayerOrder(i){const n=useTheme$3(),a=useId()||"",{modularCssLayers:s}=i;let l="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!s||n!==null?l="":typeof s=="string"?l=s.replace(/mui(?!\.)/g,l):l=`@layer ${l};`,useEnhancedEffect(()=>{var p,g;const c=document.querySelector("head");if(!c)return;const f=c.firstChild;if(l){if(f&&((p=f.hasAttribute)!=null&&p.call(f,"data-mui-layer-order"))&&f.getAttribute("data-mui-layer-order")===a)return;const y=document.createElement("style");y.setAttribute("data-mui-layer-order",a),y.textContent=l,c.prepend(y)}else(g=c.querySelector(`style[data-mui-layer-order="${a}"]`))==null||g.remove()},[l,a]),l?jsxRuntimeExports.jsx(GlobalStyles$2,{styles:l}):null}const EMPTY_THEME={};function useThemeScoping(i,n,a,s=!1){return reactExports.useMemo(()=>{const l=i&&n[i]||n;if(typeof a=="function"){const c=a(l),f=i?{...n,[i]:c}:c;return s?()=>f:f}return i?{...n,[i]:a}:{...n,...a}},[i,n,a,s])}function ThemeProvider$1(i){const{children:n,theme:a,themeId:s}=i,l=useTheme$3(EMPTY_THEME),c=useTheme$1()||EMPTY_THEME,f=useThemeScoping(s,l,a),p=useThemeScoping(s,c,a,!0),g=(s?f[s]:f).direction==="rtl",y=useLayerOrder(f);return jsxRuntimeExports.jsx(ThemeProvider$2,{theme:p,children:jsxRuntimeExports.jsx(ThemeContext$1.Provider,{value:f,children:jsxRuntimeExports.jsx(RtlProvider,{value:g,children:jsxRuntimeExports.jsxs(DefaultPropsProvider,{value:s?f[s].components:f.components,children:[y,n]})})})})}const arg={theme:void 0};function unstable_memoTheme(i){let n,a;return function(l){let c=n;return(c===void 0||l.theme!==a)&&(arg.theme=l.theme,c=preprocessStyles(i(arg)),n=c,a=l.theme),c}}const DEFAULT_MODE_STORAGE_KEY="mode",DEFAULT_COLOR_SCHEME_STORAGE_KEY="color-scheme",DEFAULT_ATTRIBUTE="data-color-scheme";function InitColorSchemeScript(i){const{defaultMode:n="system",defaultLightColorScheme:a="light",defaultDarkColorScheme:s="dark",modeStorageKey:l=DEFAULT_MODE_STORAGE_KEY,colorSchemeStorageKey:c=DEFAULT_COLOR_SCHEME_STORAGE_KEY,attribute:f=DEFAULT_ATTRIBUTE,colorSchemeNode:p="document.documentElement",nonce:g}=i||{};let y="",b=f;if(f==="class"&&(b=".%s"),f==="data"&&(b="[data-%s]"),b.startsWith(".")){const d=b.substring(1);y+=`${p}.classList.remove('${d}'.replace('%s', light), '${d}'.replace('%s', dark));
      ${p}.classList.add('${d}'.replace('%s', colorScheme));`}const h=b.match(/\[([^\]]+)\]/);if(h){const[d,v]=h[1].split("=");v||(y+=`${p}.removeAttribute('${d}'.replace('%s', light));
      ${p}.removeAttribute('${d}'.replace('%s', dark));`),y+=`
      ${p}.setAttribute('${d}'.replace('%s', colorScheme), ${v?`${v}.replace('%s', colorScheme)`:'""'});`}else y+=`${p}.setAttribute('${b}', colorScheme);`;return jsxRuntimeExports.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?g:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${l}') || '${n}';
  const dark = localStorage.getItem('${c}-dark') || '${s}';
  const light = localStorage.getItem('${c}-light') || '${a}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${y}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function noop$4(){}const localStorageManager=({key:i,storageWindow:n})=>(!n&&typeof window<"u"&&(n=window),{get(a){if(typeof window>"u")return;if(!n)return a;let s;try{s=n.localStorage.getItem(i)}catch{}return s||a},set:a=>{if(n)try{n.localStorage.setItem(i,a)}catch{}},subscribe:a=>{if(!n)return noop$4;const s=l=>{const c=l.newValue;l.key===i&&a(c)};return n.addEventListener("storage",s),()=>{n.removeEventListener("storage",s)}}});function noop$3(){}function getSystemMode(i){if(typeof window<"u"&&typeof window.matchMedia=="function"&&i==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function processState(i,n){if(i.mode==="light"||i.mode==="system"&&i.systemMode==="light")return n("light");if(i.mode==="dark"||i.mode==="system"&&i.systemMode==="dark")return n("dark")}function getColorScheme(i){return processState(i,n=>{if(n==="light")return i.lightColorScheme;if(n==="dark")return i.darkColorScheme})}function useCurrentColorScheme(i){const{defaultMode:n="light",defaultLightColorScheme:a,defaultDarkColorScheme:s,supportedColorSchemes:l=[],modeStorageKey:c=DEFAULT_MODE_STORAGE_KEY,colorSchemeStorageKey:f=DEFAULT_COLOR_SCHEME_STORAGE_KEY,storageWindow:p=typeof window>"u"?void 0:window,storageManager:g=localStorageManager,noSsr:y=!1}=i,b=l.join(","),h=l.length>1,d=reactExports.useMemo(()=>g==null?void 0:g({key:c,storageWindow:p}),[g,c,p]),v=reactExports.useMemo(()=>g==null?void 0:g({key:`${f}-light`,storageWindow:p}),[g,f,p]),_=reactExports.useMemo(()=>g==null?void 0:g({key:`${f}-dark`,storageWindow:p}),[g,f,p]),[A,I]=reactExports.useState(()=>{const H=(d==null?void 0:d.get(n))||n,z=(v==null?void 0:v.get(a))||a,L=(_==null?void 0:_.get(s))||s;return{mode:H,systemMode:getSystemMode(H),lightColorScheme:z,darkColorScheme:L}}),[R,P]=reactExports.useState(y||!h);reactExports.useEffect(()=>{P(!0)},[]);const $=getColorScheme(A),M=reactExports.useCallback(H=>{I(z=>{if(H===z.mode)return z;const L=H??n;return d==null||d.set(L),{...z,mode:L,systemMode:getSystemMode(L)}})},[d,n]),B=reactExports.useCallback(H=>{H?typeof H=="string"?H&&!b.includes(H)?console.error(`\`${H}\` does not exist in \`theme.colorSchemes\`.`):I(z=>{const L={...z};return processState(z,ee=>{ee==="light"&&(v==null||v.set(H),L.lightColorScheme=H),ee==="dark"&&(_==null||_.set(H),L.darkColorScheme=H)}),L}):I(z=>{const L={...z},ee=H.light===null?a:H.light,Z=H.dark===null?s:H.dark;return ee&&(b.includes(ee)?(L.lightColorScheme=ee,v==null||v.set(ee)):console.error(`\`${ee}\` does not exist in \`theme.colorSchemes\`.`)),Z&&(b.includes(Z)?(L.darkColorScheme=Z,_==null||_.set(Z)):console.error(`\`${Z}\` does not exist in \`theme.colorSchemes\`.`)),L}):I(z=>(v==null||v.set(a),_==null||_.set(s),{...z,lightColorScheme:a,darkColorScheme:s}))},[b,v,_,a,s]),F=reactExports.useCallback(H=>{A.mode==="system"&&I(z=>{const L=H!=null&&H.matches?"dark":"light";return z.systemMode===L?z:{...z,systemMode:L}})},[A.mode]),q=reactExports.useRef(F);return q.current=F,reactExports.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const H=(...L)=>q.current(...L),z=window.matchMedia("(prefers-color-scheme: dark)");return z.addListener(H),H(z),()=>{z.removeListener(H)}},[h]),reactExports.useEffect(()=>{if(h){const H=(d==null?void 0:d.subscribe(ee=>{(!ee||["light","dark","system"].includes(ee))&&M(ee||n)}))||noop$3,z=(v==null?void 0:v.subscribe(ee=>{(!ee||b.match(ee))&&B({light:ee})}))||noop$3,L=(_==null?void 0:_.subscribe(ee=>{(!ee||b.match(ee))&&B({dark:ee})}))||noop$3;return()=>{H(),z(),L()}}},[B,M,b,n,p,h,d,v,_]),{...A,mode:R?A.mode:void 0,systemMode:R?A.systemMode:void 0,colorScheme:R?$:void 0,setMode:M,setColorScheme:B}}const DISABLE_CSS_TRANSITION="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function createCssVarsProvider(i){const{themeId:n,theme:a={},modeStorageKey:s=DEFAULT_MODE_STORAGE_KEY,colorSchemeStorageKey:l=DEFAULT_COLOR_SCHEME_STORAGE_KEY,disableTransitionOnChange:c=!1,defaultColorScheme:f,resolveTheme:p}=i,g={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},y=reactExports.createContext(void 0),b=()=>reactExports.useContext(y)||g,h={},d={};function v(R){var st,at,Ue,nt;const{children:P,theme:$,modeStorageKey:M=s,colorSchemeStorageKey:B=l,disableTransitionOnChange:F=c,storageManager:q,storageWindow:H=typeof window>"u"?void 0:window,documentNode:z=typeof document>"u"?void 0:document,colorSchemeNode:L=typeof document>"u"?void 0:document.documentElement,disableNestedContext:ee=!1,disableStyleSheetGeneration:Z=!1,defaultMode:V="system",noSsr:X}=R,Q=reactExports.useRef(!1),G=useTheme$1(),te=reactExports.useContext(y),ue=!!te&&!ee,fe=reactExports.useMemo(()=>$||(typeof a=="function"?a():a),[$]),K=fe[n],de=K||fe,{colorSchemes:we=h,components:oe=d,cssVarPrefix:Ne}=de,Ie=Object.keys(we).filter(Ct=>!!we[Ct]).join(","),Le=reactExports.useMemo(()=>Ie.split(","),[Ie]),ut=typeof f=="string"?f:f.light,mt=typeof f=="string"?f:f.dark,vt=we[ut]&&we[mt]?V:((at=(st=we[de.defaultColorScheme])==null?void 0:st.palette)==null?void 0:at.mode)||((Ue=de.palette)==null?void 0:Ue.mode),{mode:it,setMode:pt,systemMode:xt,lightColorScheme:kt,darkColorScheme:_t,colorScheme:Nt,setColorScheme:Vt}=useCurrentColorScheme({supportedColorSchemes:Le,defaultLightColorScheme:ut,defaultDarkColorScheme:mt,modeStorageKey:M,colorSchemeStorageKey:B,defaultMode:vt,storageManager:q,storageWindow:H,noSsr:X});let Mt=it,$t=Nt;ue&&(Mt=te.mode,$t=te.colorScheme);const Ht=reactExports.useMemo(()=>{var Je;const Ct=$t||de.defaultColorScheme,ce=((Je=de.generateThemeVars)==null?void 0:Je.call(de))||de.vars,He={...de,components:oe,colorSchemes:we,cssVarPrefix:Ne,vars:ce};if(typeof He.generateSpacing=="function"&&(He.spacing=He.generateSpacing()),Ct){const gt=we[Ct];gt&&typeof gt=="object"&&Object.keys(gt).forEach(Et=>{gt[Et]&&typeof gt[Et]=="object"?He[Et]={...He[Et],...gt[Et]}:He[Et]=gt[Et]})}return p?p(He):He},[de,$t,oe,we,Ne]),Bt=de.colorSchemeSelector;useEnhancedEffect(()=>{if($t&&L&&Bt&&Bt!=="media"){const Ct=Bt;let ce=Bt;if(Ct==="class"&&(ce=".%s"),Ct==="data"&&(ce="[data-%s]"),Ct!=null&&Ct.startsWith("data-")&&!Ct.includes("%s")&&(ce=`[${Ct}="%s"]`),ce.startsWith("."))L.classList.remove(...Le.map(He=>ce.substring(1).replace("%s",He))),L.classList.add(ce.substring(1).replace("%s",$t));else{const He=ce.replace("%s",$t).match(/\[([^\]]+)\]/);if(He){const[Je,gt]=He[1].split("=");gt||Le.forEach(Et=>{L.removeAttribute(Je.replace($t,Et))}),L.setAttribute(Je,gt?gt.replace(/"|'/g,""):"")}else L.setAttribute(ce,$t)}}},[$t,Bt,L,Le]),reactExports.useEffect(()=>{let Ct;if(F&&Q.current&&z){const ce=z.createElement("style");ce.appendChild(z.createTextNode(DISABLE_CSS_TRANSITION)),z.head.appendChild(ce),window.getComputedStyle(z.body),Ct=setTimeout(()=>{z.head.removeChild(ce)},1)}return()=>{clearTimeout(Ct)}},[$t,F,z]),reactExports.useEffect(()=>(Q.current=!0,()=>{Q.current=!1}),[]);const Ut=reactExports.useMemo(()=>({allColorSchemes:Le,colorScheme:$t,darkColorScheme:_t,lightColorScheme:kt,mode:Mt,setColorScheme:Vt,setMode:pt,systemMode:xt}),[Le,$t,_t,kt,Mt,Vt,pt,xt,Ht.colorSchemeSelector]);let St=!0;(Z||de.cssVariables===!1||ue&&(G==null?void 0:G.cssVarPrefix)===Ne)&&(St=!1);const Lt=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(ThemeProvider$1,{themeId:K?n:void 0,theme:Ht,children:P}),St&&jsxRuntimeExports.jsx(GlobalStyles$3,{styles:((nt=Ht.generateStyleSheets)==null?void 0:nt.call(Ht))||[]})]});return ue?Lt:jsxRuntimeExports.jsx(y.Provider,{value:Ut,children:Lt})}const _=typeof f=="string"?f:f.light,A=typeof f=="string"?f:f.dark;return{CssVarsProvider:v,useColorScheme:b,getInitColorSchemeScript:R=>InitColorSchemeScript({colorSchemeStorageKey:l,defaultLightColorScheme:_,defaultDarkColorScheme:A,modeStorageKey:s,...R})}}function createGetCssVar$1(i=""){function n(...s){if(!s.length)return"";const l=s[0];return typeof l=="string"&&!l.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${l}${n(...s.slice(1))})`:`, ${l}`}return(s,...l)=>`var(--${i?`${i}-`:""}${s}${n(...l)})`}const assignNestedKeys=(i,n,a,s=[])=>{let l=i;n.forEach((c,f)=>{f===n.length-1?Array.isArray(l)?l[Number(c)]=a:l&&typeof l=="object"&&(l[c]=a):l&&typeof l=="object"&&(l[c]||(l[c]=s.includes(c)?[]:{}),l=l[c])})},walkObjectDeep=(i,n,a)=>{function s(l,c=[],f=[]){Object.entries(l).forEach(([p,g])=>{(!a||a&&!a([...c,p]))&&g!=null&&(typeof g=="object"&&Object.keys(g).length>0?s(g,[...c,p],Array.isArray(g)?[...f,p]:f):n([...c,p],g,f))})}s(i)},getCssValue=(i,n)=>typeof n=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(s=>i.includes(s))||i[i.length-1].toLowerCase().includes("opacity")?n:`${n}px`:n;function cssVarsParser(i,n){const{prefix:a,shouldSkipGeneratingVar:s}=n||{},l={},c={},f={};return walkObjectDeep(i,(p,g,y)=>{if((typeof g=="string"||typeof g=="number")&&(!s||!s(p,g))){const b=`--${a?`${a}-`:""}${p.join("-")}`,h=getCssValue(p,g);Object.assign(l,{[b]:h}),assignNestedKeys(c,p,`var(${b})`,y),assignNestedKeys(f,p,`var(${b}, ${h})`,y)}},p=>p[0]==="vars"),{css:l,vars:c,varsWithDefaults:f}}function prepareCssVars(i,n={}){const{getSelector:a=I,disableCssColorScheme:s,colorSchemeSelector:l}=n,{colorSchemes:c={},components:f,defaultColorScheme:p="light",...g}=i,{vars:y,css:b,varsWithDefaults:h}=cssVarsParser(g,n);let d=h;const v={},{[p]:_,...A}=c;if(Object.entries(A||{}).forEach(([$,M])=>{const{vars:B,css:F,varsWithDefaults:q}=cssVarsParser(M,n);d=deepmerge(d,q),v[$]={css:F,vars:B}}),_){const{css:$,vars:M,varsWithDefaults:B}=cssVarsParser(_,n);d=deepmerge(d,B),v[p]={css:$,vars:M}}function I($,M){var F,q;let B=l;if(l==="class"&&(B=".%s"),l==="data"&&(B="[data-%s]"),l!=null&&l.startsWith("data-")&&!l.includes("%s")&&(B=`[${l}="%s"]`),$){if(B==="media")return i.defaultColorScheme===$?":root":{[`@media (prefers-color-scheme: ${((q=(F=c[$])==null?void 0:F.palette)==null?void 0:q.mode)||$})`]:{":root":M}};if(B)return i.defaultColorScheme===$?`:root, ${B.replace("%s",String($))}`:B.replace("%s",String($))}return":root"}return{vars:d,generateThemeVars:()=>{let $={...y};return Object.entries(v).forEach(([,{vars:M}])=>{$=deepmerge($,M)}),$},generateStyleSheets:()=>{var H,z;const $=[],M=i.defaultColorScheme||"light";function B(L,ee){Object.keys(ee).length&&$.push(typeof L=="string"?{[L]:{...ee}}:L)}B(a(void 0,{...b}),b);const{[M]:F,...q}=v;if(F){const{css:L}=F,ee=(z=(H=c[M])==null?void 0:H.palette)==null?void 0:z.mode,Z=!s&&ee?{colorScheme:ee,...L}:{...L};B(a(M,{...Z}),Z)}return Object.entries(q).forEach(([L,{css:ee}])=>{var X,Q;const Z=(Q=(X=c[L])==null?void 0:X.palette)==null?void 0:Q.mode,V=!s&&Z?{colorScheme:Z,...ee}:{...ee};B(a(L,{...V}),V)}),$}}}function createGetColorSchemeSelector(i){return function(a){return i==="media"?`@media (prefers-color-scheme: ${a})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${a}"] &`:i==="class"?`.${a} &`:i==="data"?`[data-${a}] &`:`${i.replace("%s",a)} &`:"&"}}const defaultTheme$2=createTheme$1(),defaultCreateStyledComponent=styled$1("div",{name:"MuiStack",slot:"Root",overridesResolver:(i,n)=>n.root});function useThemePropsDefault(i){return useThemeProps({props:i,name:"MuiStack",defaultTheme:defaultTheme$2})}function joinChildren(i,n){const a=reactExports.Children.toArray(i).filter(Boolean);return a.reduce((s,l,c)=>(s.push(l),c<a.length-1&&s.push(reactExports.cloneElement(n,{key:`separator-${c}`})),s),[])}const getSideFromDirection=i=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[i],style=({ownerState:i,theme:n})=>{let a={display:"flex",flexDirection:"column",...handleBreakpoints({theme:n},resolveBreakpointValues({values:i.direction,breakpoints:n.breakpoints.values}),s=>({flexDirection:s}))};if(i.spacing){const s=createUnarySpacing(n),l=Object.keys(n.breakpoints.values).reduce((g,y)=>((typeof i.spacing=="object"&&i.spacing[y]!=null||typeof i.direction=="object"&&i.direction[y]!=null)&&(g[y]=!0),g),{}),c=resolveBreakpointValues({values:i.direction,base:l}),f=resolveBreakpointValues({values:i.spacing,base:l});typeof c=="object"&&Object.keys(c).forEach((g,y,b)=>{if(!c[g]){const d=y>0?c[b[y-1]]:"column";c[g]=d}}),a=deepmerge(a,handleBreakpoints({theme:n},f,(g,y)=>i.useFlexGap?{gap:getValue(s,g)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${getSideFromDirection(y?c[y]:i.direction)}`]:getValue(s,g)}}))}return a=mergeBreakpointsInOrder(n.breakpoints,a),a};function createStack(i={}){const{createStyledComponent:n=defaultCreateStyledComponent,useThemeProps:a=useThemePropsDefault,componentName:s="MuiStack"}=i,l=()=>composeClasses({root:["root"]},g=>generateUtilityClass(s,g),{}),c=n(style);return reactExports.forwardRef(function(g,y){const b=a(g),h=extendSxProp$1(b),{component:d="div",direction:v="column",spacing:_=0,divider:A,children:I,className:R,useFlexGap:P=!1,...$}=h,M={direction:v,spacing:_,useFlexGap:P},B=l();return jsxRuntimeExports.jsx(c,{as:d,ownerState:M,ref:y,className:clsx(B.root,R),...$,children:A?joinChildren(I,A):I})})}const Stack$1=createStack();function getLight(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$2.white,default:common$2.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const light=getLight();function getDark(){return{text:{primary:common$2.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$2.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dark=getDark();function addLightOrDark(i,n,a,s){const l=s.light||s,c=s.dark||s*1.5;i[n]||(i.hasOwnProperty(a)?i[n]=i[a]:n==="light"?i.light=lighten$1(i.main,l):n==="dark"&&(i.dark=darken$1(i.main,c)))}function getDefaultPrimary(i="light"){return i==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(i="light"){return i==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(i="light"){return i==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(i="light"){return i==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(i="light"){return i==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(i="light"){return i==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function createPalette(i){const{mode:n="light",contrastThreshold:a=3,tonalOffset:s=.2,...l}=i,c=i.primary||getDefaultPrimary(n),f=i.secondary||getDefaultSecondary(n),p=i.error||getDefaultError(n),g=i.info||getDefaultInfo(n),y=i.success||getDefaultSuccess(n),b=i.warning||getDefaultWarning(n);function h(A){return getContrastRatio(A,dark.text.primary)>=a?dark.text.primary:light.text.primary}const d=({color:A,name:I,mainShade:R=500,lightShade:P=300,darkShade:$=700})=>{if(A={...A},!A.main&&A[R]&&(A.main=A[R]),!A.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,I?` (${I})`:"",R));if(typeof A.main!="string")throw new Error(formatMuiErrorMessage(12,I?` (${I})`:"",JSON.stringify(A.main)));return addLightOrDark(A,"light",P,s),addLightOrDark(A,"dark",$,s),A.contrastText||(A.contrastText=h(A.main)),A};let v;return n==="light"?v=getLight():n==="dark"&&(v=getDark()),deepmerge({common:{...common$2},mode:n,primary:d({color:c,name:"primary"}),secondary:d({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:p,name:"error"}),warning:d({color:b,name:"warning"}),info:d({color:g,name:"info"}),success:d({color:y,name:"success"}),grey,contrastThreshold:a,getContrastText:h,augmentColor:d,tonalOffset:s,...v},l)}function prepareTypographyVars(i){const n={};return Object.entries(i).forEach(s=>{const[l,c]=s;typeof c=="object"&&(n[l]=`${c.fontStyle?`${c.fontStyle} `:""}${c.fontVariant?`${c.fontVariant} `:""}${c.fontWeight?`${c.fontWeight} `:""}${c.fontStretch?`${c.fontStretch} `:""}${c.fontSize||""}${c.lineHeight?`/${c.lineHeight} `:""}${c.fontFamily||""}`)}),n}function createMixins(i,n){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...n}}function round$2(i){return Math.round(i*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(i,n){const{fontFamily:a=defaultFontFamily,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:f=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:y,pxToRem:b,...h}=typeof n=="function"?n(i):n,d=s/14,v=b||(I=>`${I/g*d}rem`),_=(I,R,P,$,M)=>({fontFamily:a,fontWeight:I,fontSize:v(R),lineHeight:P,...a===defaultFontFamily?{letterSpacing:`${round$2($/R)}em`}:{},...M,...y}),A={h1:_(l,96,1.167,-1.5),h2:_(l,60,1.2,-.5),h3:_(c,48,1.167,0),h4:_(c,34,1.235,.25),h5:_(c,24,1.334,0),h6:_(f,20,1.6,.15),subtitle1:_(c,16,1.75,.15),subtitle2:_(f,14,1.57,.1),body1:_(c,16,1.5,.15),body2:_(c,14,1.43,.15),button:_(f,14,1.75,.4,caseAllCaps),caption:_(c,12,1.66,.4),overline:_(c,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge({htmlFontSize:g,pxToRem:v,fontFamily:a,fontSize:s,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:f,fontWeightBold:p,...A},h,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(i){return`${Math.round(i)}ms`}function getAutoHeightDuration(i){if(!i)return 0;const n=i/36;return Math.min(Math.round((4+15*n**.25+n/5)*10),3e3)}function createTransitions(i){const n={...easing,...i.easing},a={...duration,...i.duration};return{getAutoHeightDuration,create:(l=["all"],c={})=>{const{duration:f=a.standard,easing:p=n.easeInOut,delay:g=0,...y}=c;return(Array.isArray(l)?l:[l]).map(b=>`${b} ${typeof f=="string"?f:formatMs(f)} ${p} ${typeof g=="string"?g:formatMs(g)}`).join(",")},...i,easing:n,duration:a}}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function isSerializable(i){return isPlainObject$1(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function stringifyTheme(i={}){const n={...i};function a(s){const l=Object.entries(s);for(let c=0;c<l.length;c++){const[f,p]=l[c];!isSerializable(p)||f.startsWith("unstable_")?delete s[f]:isPlainObject$1(p)&&(s[f]={...p},a(s[f]))}}return a(n),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(n,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function createThemeNoVars(i={},...n){const{breakpoints:a,mixins:s={},spacing:l,palette:c={},transitions:f={},typography:p={},shape:g,...y}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(formatMuiErrorMessage(20));const b=createPalette(c),h=createTheme$1(i);let d=deepmerge(h,{mixins:createMixins(h.breakpoints,s),palette:b,shadows:shadows.slice(),typography:createTypography(b,p),transitions:createTransitions(f),zIndex:{...zIndex}});return d=deepmerge(d,y),d=n.reduce((v,_)=>deepmerge(v,_),d),d.unstable_sxConfig={...defaultSxConfig,...y==null?void 0:y.unstable_sxConfig},d.unstable_sx=function(_){return styleFunctionSx({sx:_,theme:this})},d.toRuntimeSource=stringifyTheme,d}function getOverlayAlpha(i){let n;return i<1?n=5.11916*i**2:n=4.5*Math.log(i+1)+2,Math.round(n*10)/1e3}const defaultDarkOverlays=[...Array(25)].map((i,n)=>{if(n===0)return"none";const a=getOverlayAlpha(n);return`linear-gradient(rgba(255 255 255 / ${a}), rgba(255 255 255 / ${a}))`});function getOpacity(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function getOverlays(i){return i==="dark"?defaultDarkOverlays:[]}function createColorScheme(i){const{palette:n={mode:"light"},opacity:a,overlays:s,...l}=i,c=createPalette(n);return{palette:c,opacity:{...getOpacity(c.mode),...a},overlays:s||getOverlays(c.mode),...l}}function shouldSkipGeneratingVar(i){var n;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((n=i[1])!=null&&n.match(/(mode|contrastThreshold|tonalOffset)/))}const excludeVariablesFromRoot=i=>[...[...Array(25)].map((n,a)=>`--${i?`${i}-`:""}overlays-${a}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],defaultGetSelector=i=>(n,a)=>{const s=i.rootSelector||":root",l=i.colorSchemeSelector;let c=l;if(l==="class"&&(c=".%s"),l==="data"&&(c="[data-%s]"),l!=null&&l.startsWith("data-")&&!l.includes("%s")&&(c=`[${l}="%s"]`),i.defaultColorScheme===n){if(n==="dark"){const f={};return excludeVariablesFromRoot(i.cssVarPrefix).forEach(p=>{f[p]=a[p],delete a[p]}),c==="media"?{[s]:a,"@media (prefers-color-scheme: dark)":{[s]:f}}:c?{[c.replace("%s",n)]:f,[`${s}, ${c.replace("%s",n)}`]:a}:{[s]:{...a,...f}}}if(c&&c!=="media")return`${s}, ${c.replace("%s",String(n))}`}else if(n){if(c==="media")return{[`@media (prefers-color-scheme: ${String(n)})`]:{[s]:a}};if(c)return c.replace("%s",String(n))}return s};function assignNode(i,n){n.forEach(a=>{i[a]||(i[a]={})})}function setColor(i,n,a){!i[n]&&a&&(i[n]=a)}function toRgb(i){return typeof i!="string"||!i.startsWith("hsl")?i:hslToRgb(i)}function setColorChannel(i,n){`${n}Channel`in i||(i[`${n}Channel`]=private_safeColorChannel(toRgb(i[n])))}function getSpacingVal(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const silent=i=>{try{return i()}catch{}},createGetCssVar=(i="mui")=>createGetCssVar$1(i);function attachColorScheme$1(i,n,a,s){if(!n)return;n=n===!0?{}:n;const l=s==="dark"?"dark":"light";if(!a){i[s]=createColorScheme({...n,palette:{mode:l,...n==null?void 0:n.palette}});return}const{palette:c,...f}=createThemeNoVars({...a,palette:{mode:l,...n==null?void 0:n.palette}});return i[s]={...n,palette:c,opacity:{...getOpacity(l),...n==null?void 0:n.opacity},overlays:(n==null?void 0:n.overlays)||getOverlays(l)},f}function createThemeWithVars(i={},...n){const{colorSchemes:a={light:!0},defaultColorScheme:s,disableCssColorScheme:l=!1,cssVarPrefix:c="mui",shouldSkipGeneratingVar:f=shouldSkipGeneratingVar,colorSchemeSelector:p=a.light&&a.dark?"media":void 0,rootSelector:g=":root",...y}=i,b=Object.keys(a)[0],h=s||(a.light&&b!=="light"?"light":b),d=createGetCssVar(c),{[h]:v,light:_,dark:A,...I}=a,R={...I};let P=v;if((h==="dark"&&!("dark"in a)||h==="light"&&!("light"in a))&&(P=!0),!P)throw new Error(formatMuiErrorMessage(21,h));const $=attachColorScheme$1(R,P,y,h);_&&!R.light&&attachColorScheme$1(R,_,void 0,"light"),A&&!R.dark&&attachColorScheme$1(R,A,void 0,"dark");let M={defaultColorScheme:h,...$,cssVarPrefix:c,colorSchemeSelector:p,rootSelector:g,getCssVar:d,colorSchemes:R,font:{...prepareTypographyVars($.typography),...$.font},spacing:getSpacingVal(y.spacing)};Object.keys(M.colorSchemes).forEach(z=>{const L=M.colorSchemes[z].palette,ee=Z=>{const V=Z.split("-"),X=V[1],Q=V[2];return d(Z,L[X][Q])};if(L.mode==="light"&&(setColor(L.common,"background","#fff"),setColor(L.common,"onBackground","#000")),L.mode==="dark"&&(setColor(L.common,"background","#000"),setColor(L.common,"onBackground","#fff")),assignNode(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){setColor(L.Alert,"errorColor",private_safeDarken(L.error.light,.6)),setColor(L.Alert,"infoColor",private_safeDarken(L.info.light,.6)),setColor(L.Alert,"successColor",private_safeDarken(L.success.light,.6)),setColor(L.Alert,"warningColor",private_safeDarken(L.warning.light,.6)),setColor(L.Alert,"errorFilledBg",ee("palette-error-main")),setColor(L.Alert,"infoFilledBg",ee("palette-info-main")),setColor(L.Alert,"successFilledBg",ee("palette-success-main")),setColor(L.Alert,"warningFilledBg",ee("palette-warning-main")),setColor(L.Alert,"errorFilledColor",silent(()=>L.getContrastText(L.error.main))),setColor(L.Alert,"infoFilledColor",silent(()=>L.getContrastText(L.info.main))),setColor(L.Alert,"successFilledColor",silent(()=>L.getContrastText(L.success.main))),setColor(L.Alert,"warningFilledColor",silent(()=>L.getContrastText(L.warning.main))),setColor(L.Alert,"errorStandardBg",private_safeLighten(L.error.light,.9)),setColor(L.Alert,"infoStandardBg",private_safeLighten(L.info.light,.9)),setColor(L.Alert,"successStandardBg",private_safeLighten(L.success.light,.9)),setColor(L.Alert,"warningStandardBg",private_safeLighten(L.warning.light,.9)),setColor(L.Alert,"errorIconColor",ee("palette-error-main")),setColor(L.Alert,"infoIconColor",ee("palette-info-main")),setColor(L.Alert,"successIconColor",ee("palette-success-main")),setColor(L.Alert,"warningIconColor",ee("palette-warning-main")),setColor(L.AppBar,"defaultBg",ee("palette-grey-100")),setColor(L.Avatar,"defaultBg",ee("palette-grey-400")),setColor(L.Button,"inheritContainedBg",ee("palette-grey-300")),setColor(L.Button,"inheritContainedHoverBg",ee("palette-grey-A100")),setColor(L.Chip,"defaultBorder",ee("palette-grey-400")),setColor(L.Chip,"defaultAvatarColor",ee("palette-grey-700")),setColor(L.Chip,"defaultIconColor",ee("palette-grey-700")),setColor(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),setColor(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),setColor(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),setColor(L.LinearProgress,"primaryBg",private_safeLighten(L.primary.main,.62)),setColor(L.LinearProgress,"secondaryBg",private_safeLighten(L.secondary.main,.62)),setColor(L.LinearProgress,"errorBg",private_safeLighten(L.error.main,.62)),setColor(L.LinearProgress,"infoBg",private_safeLighten(L.info.main,.62)),setColor(L.LinearProgress,"successBg",private_safeLighten(L.success.main,.62)),setColor(L.LinearProgress,"warningBg",private_safeLighten(L.warning.main,.62)),setColor(L.Skeleton,"bg",`rgba(${ee("palette-text-primaryChannel")} / 0.11)`),setColor(L.Slider,"primaryTrack",private_safeLighten(L.primary.main,.62)),setColor(L.Slider,"secondaryTrack",private_safeLighten(L.secondary.main,.62)),setColor(L.Slider,"errorTrack",private_safeLighten(L.error.main,.62)),setColor(L.Slider,"infoTrack",private_safeLighten(L.info.main,.62)),setColor(L.Slider,"successTrack",private_safeLighten(L.success.main,.62)),setColor(L.Slider,"warningTrack",private_safeLighten(L.warning.main,.62));const Z=private_safeEmphasize(L.background.default,.8);setColor(L.SnackbarContent,"bg",Z),setColor(L.SnackbarContent,"color",silent(()=>L.getContrastText(Z))),setColor(L.SpeedDialAction,"fabHoverBg",private_safeEmphasize(L.background.paper,.15)),setColor(L.StepConnector,"border",ee("palette-grey-400")),setColor(L.StepContent,"border",ee("palette-grey-400")),setColor(L.Switch,"defaultColor",ee("palette-common-white")),setColor(L.Switch,"defaultDisabledColor",ee("palette-grey-100")),setColor(L.Switch,"primaryDisabledColor",private_safeLighten(L.primary.main,.62)),setColor(L.Switch,"secondaryDisabledColor",private_safeLighten(L.secondary.main,.62)),setColor(L.Switch,"errorDisabledColor",private_safeLighten(L.error.main,.62)),setColor(L.Switch,"infoDisabledColor",private_safeLighten(L.info.main,.62)),setColor(L.Switch,"successDisabledColor",private_safeLighten(L.success.main,.62)),setColor(L.Switch,"warningDisabledColor",private_safeLighten(L.warning.main,.62)),setColor(L.TableCell,"border",private_safeLighten(private_safeAlpha(L.divider,1),.88)),setColor(L.Tooltip,"bg",private_safeAlpha(L.grey[700],.92))}if(L.mode==="dark"){setColor(L.Alert,"errorColor",private_safeLighten(L.error.light,.6)),setColor(L.Alert,"infoColor",private_safeLighten(L.info.light,.6)),setColor(L.Alert,"successColor",private_safeLighten(L.success.light,.6)),setColor(L.Alert,"warningColor",private_safeLighten(L.warning.light,.6)),setColor(L.Alert,"errorFilledBg",ee("palette-error-dark")),setColor(L.Alert,"infoFilledBg",ee("palette-info-dark")),setColor(L.Alert,"successFilledBg",ee("palette-success-dark")),setColor(L.Alert,"warningFilledBg",ee("palette-warning-dark")),setColor(L.Alert,"errorFilledColor",silent(()=>L.getContrastText(L.error.dark))),setColor(L.Alert,"infoFilledColor",silent(()=>L.getContrastText(L.info.dark))),setColor(L.Alert,"successFilledColor",silent(()=>L.getContrastText(L.success.dark))),setColor(L.Alert,"warningFilledColor",silent(()=>L.getContrastText(L.warning.dark))),setColor(L.Alert,"errorStandardBg",private_safeDarken(L.error.light,.9)),setColor(L.Alert,"infoStandardBg",private_safeDarken(L.info.light,.9)),setColor(L.Alert,"successStandardBg",private_safeDarken(L.success.light,.9)),setColor(L.Alert,"warningStandardBg",private_safeDarken(L.warning.light,.9)),setColor(L.Alert,"errorIconColor",ee("palette-error-main")),setColor(L.Alert,"infoIconColor",ee("palette-info-main")),setColor(L.Alert,"successIconColor",ee("palette-success-main")),setColor(L.Alert,"warningIconColor",ee("palette-warning-main")),setColor(L.AppBar,"defaultBg",ee("palette-grey-900")),setColor(L.AppBar,"darkBg",ee("palette-background-paper")),setColor(L.AppBar,"darkColor",ee("palette-text-primary")),setColor(L.Avatar,"defaultBg",ee("palette-grey-600")),setColor(L.Button,"inheritContainedBg",ee("palette-grey-800")),setColor(L.Button,"inheritContainedHoverBg",ee("palette-grey-700")),setColor(L.Chip,"defaultBorder",ee("palette-grey-700")),setColor(L.Chip,"defaultAvatarColor",ee("palette-grey-300")),setColor(L.Chip,"defaultIconColor",ee("palette-grey-300")),setColor(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),setColor(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),setColor(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),setColor(L.LinearProgress,"primaryBg",private_safeDarken(L.primary.main,.5)),setColor(L.LinearProgress,"secondaryBg",private_safeDarken(L.secondary.main,.5)),setColor(L.LinearProgress,"errorBg",private_safeDarken(L.error.main,.5)),setColor(L.LinearProgress,"infoBg",private_safeDarken(L.info.main,.5)),setColor(L.LinearProgress,"successBg",private_safeDarken(L.success.main,.5)),setColor(L.LinearProgress,"warningBg",private_safeDarken(L.warning.main,.5)),setColor(L.Skeleton,"bg",`rgba(${ee("palette-text-primaryChannel")} / 0.13)`),setColor(L.Slider,"primaryTrack",private_safeDarken(L.primary.main,.5)),setColor(L.Slider,"secondaryTrack",private_safeDarken(L.secondary.main,.5)),setColor(L.Slider,"errorTrack",private_safeDarken(L.error.main,.5)),setColor(L.Slider,"infoTrack",private_safeDarken(L.info.main,.5)),setColor(L.Slider,"successTrack",private_safeDarken(L.success.main,.5)),setColor(L.Slider,"warningTrack",private_safeDarken(L.warning.main,.5));const Z=private_safeEmphasize(L.background.default,.98);setColor(L.SnackbarContent,"bg",Z),setColor(L.SnackbarContent,"color",silent(()=>L.getContrastText(Z))),setColor(L.SpeedDialAction,"fabHoverBg",private_safeEmphasize(L.background.paper,.15)),setColor(L.StepConnector,"border",ee("palette-grey-600")),setColor(L.StepContent,"border",ee("palette-grey-600")),setColor(L.Switch,"defaultColor",ee("palette-grey-300")),setColor(L.Switch,"defaultDisabledColor",ee("palette-grey-600")),setColor(L.Switch,"primaryDisabledColor",private_safeDarken(L.primary.main,.55)),setColor(L.Switch,"secondaryDisabledColor",private_safeDarken(L.secondary.main,.55)),setColor(L.Switch,"errorDisabledColor",private_safeDarken(L.error.main,.55)),setColor(L.Switch,"infoDisabledColor",private_safeDarken(L.info.main,.55)),setColor(L.Switch,"successDisabledColor",private_safeDarken(L.success.main,.55)),setColor(L.Switch,"warningDisabledColor",private_safeDarken(L.warning.main,.55)),setColor(L.TableCell,"border",private_safeDarken(private_safeAlpha(L.divider,1),.68)),setColor(L.Tooltip,"bg",private_safeAlpha(L.grey[700],.92))}setColorChannel(L.background,"default"),setColorChannel(L.background,"paper"),setColorChannel(L.common,"background"),setColorChannel(L.common,"onBackground"),setColorChannel(L,"divider"),Object.keys(L).forEach(Z=>{const V=L[Z];Z!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&setColor(L[Z],"mainChannel",private_safeColorChannel(toRgb(V.main))),V.light&&setColor(L[Z],"lightChannel",private_safeColorChannel(toRgb(V.light))),V.dark&&setColor(L[Z],"darkChannel",private_safeColorChannel(toRgb(V.dark))),V.contrastText&&setColor(L[Z],"contrastTextChannel",private_safeColorChannel(toRgb(V.contrastText))),Z==="text"&&(setColorChannel(L[Z],"primary"),setColorChannel(L[Z],"secondary")),Z==="action"&&(V.active&&setColorChannel(L[Z],"active"),V.selected&&setColorChannel(L[Z],"selected")))})}),M=n.reduce((z,L)=>deepmerge(z,L),M);const B={prefix:c,disableCssColorScheme:l,shouldSkipGeneratingVar:f,getSelector:defaultGetSelector(M)},{vars:F,generateThemeVars:q,generateStyleSheets:H}=prepareCssVars(M,B);return M.vars=F,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([z,L])=>{M[z]=L}),M.generateThemeVars=q,M.generateStyleSheets=H,M.generateSpacing=function(){return createSpacing(y.spacing,createUnarySpacing(this))},M.getColorSchemeSelector=createGetColorSchemeSelector(p),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=f,M.unstable_sxConfig={...defaultSxConfig,...y==null?void 0:y.unstable_sxConfig},M.unstable_sx=function(L){return styleFunctionSx({sx:L,theme:this})},M.toRuntimeSource=stringifyTheme,M}function attachColorScheme(i,n,a){i.colorSchemes&&a&&(i.colorSchemes[n]={...a!==!0&&a,palette:createPalette({...a===!0?{}:a.palette,mode:n})})}function createTheme(i={},...n){const{palette:a,cssVariables:s=!1,colorSchemes:l=a?void 0:{light:!0},defaultColorScheme:c=a==null?void 0:a.mode,...f}=i,p=c||"light",g=l==null?void 0:l[p],y={...l,...a?{[p]:{...typeof g!="boolean"&&g,palette:a}}:void 0};if(s===!1){if(!("colorSchemes"in i))return createThemeNoVars(i,...n);let b=a;"palette"in i||y[p]&&(y[p]!==!0?b=y[p].palette:p==="dark"&&(b={mode:"dark"}));const h=createThemeNoVars({...i,palette:b},...n);return h.defaultColorScheme=p,h.colorSchemes=y,h.palette.mode==="light"&&(h.colorSchemes.light={...y.light!==!0&&y.light,palette:h.palette},attachColorScheme(h,"dark",y.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...y.dark!==!0&&y.dark,palette:h.palette},attachColorScheme(h,"light",y.light)),h}return!a&&!("light"in y)&&p==="light"&&(y.light=!0),createThemeWithVars({...f,colorSchemes:y,defaultColorScheme:p,...typeof s!="boolean"&&s},...n)}const defaultTheme$1=createTheme();function useTheme(){const i=useTheme$2(defaultTheme$1);return i[THEME_ID]||i}function slotShouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const rootShouldForwardProp=i=>slotShouldForwardProp(i)&&i!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp});function ThemeProviderNoVars({theme:i,...n}){const a=THEME_ID in i?i[THEME_ID]:void 0;return jsxRuntimeExports.jsx(ThemeProvider$1,{...n,themeId:a?THEME_ID:void 0,theme:a||i})}const defaultConfig={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:InternalCssVarsProvider}=createCssVarsProvider({themeId:THEME_ID,theme:()=>createTheme({cssVariables:!0}),colorSchemeStorageKey:defaultConfig.colorSchemeStorageKey,modeStorageKey:defaultConfig.modeStorageKey,defaultColorScheme:{light:defaultConfig.defaultLightColorScheme,dark:defaultConfig.defaultDarkColorScheme},resolveTheme:i=>{const n={...i,typography:createTypography(i.palette,i.typography)};return n.unstable_sx=function(s){return styleFunctionSx({sx:s,theme:this})},n}}),CssVarsProvider=InternalCssVarsProvider;function ThemeProvider({theme:i,...n}){const a=reactExports.useMemo(()=>{if(typeof i=="function")return i;const s=THEME_ID in i?i[THEME_ID]:i;return"colorSchemes"in s?null:"vars"in s?i:{...i,vars:null}},[i]);return a?jsxRuntimeExports.jsx(ThemeProviderNoVars,{theme:a,...n}):jsxRuntimeExports.jsx(CssVarsProvider,{theme:i,...n})}function GlobalStyles$1(i){return jsxRuntimeExports.jsx(GlobalStyles$2,{...i,defaultTheme:defaultTheme$1,themeId:THEME_ID})}function globalCss(i){return function(a){return jsxRuntimeExports.jsx(GlobalStyles$1,{styles:typeof i=="function"?s=>i({theme:s,...a}):i})}}function internal_createExtendSxProp(){return extendSxProp$1}const memoTheme=unstable_memoTheme;function useDefaultProps(i){return useDefaultProps$1(i)}function getSvgIconUtilityClass(i){return generateUtilityClass("MuiSvgIcon",i)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const useUtilityClasses$I=i=>{const{color:n,fontSize:a,classes:s}=i,l={root:["root",n!=="inherit"&&`color${capitalize(n)}`,`fontSize${capitalize(a)}`]};return composeClasses(l,getSvgIconUtilityClass,s)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.color!=="inherit"&&n[`color${capitalize(a.color)}`],n[`fontSize${capitalize(a.fontSize)}`]]}})(memoTheme(({theme:i})=>{var n,a,s,l,c,f,p,g,y,b,h,d,v,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(l=(n=i.transitions)==null?void 0:n.create)==null?void 0:l.call(n,"fill",{duration:(s=(a=(i.vars??i).transitions)==null?void 0:a.duration)==null?void 0:s.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((f=(c=i.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((g=(p=i.typography)==null?void 0:p.pxToRem)==null?void 0:g.call(p,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((b=(y=i.typography)==null?void 0:y.pxToRem)==null?void 0:b.call(y,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,A])=>A&&A.main).map(([A])=>{var I,R;return{props:{color:A},style:{color:(R=(I=(i.vars??i).palette)==null?void 0:I[A])==null?void 0:R.main}}}),{props:{color:"action"},style:{color:(d=(h=(i.vars??i).palette)==null?void 0:h.action)==null?void 0:d.active}},{props:{color:"disabled"},style:{color:(_=(v=(i.vars??i).palette)==null?void 0:v.action)==null?void 0:_.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),SvgIcon=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiSvgIcon"}),{children:l,className:c,color:f="inherit",component:p="svg",fontSize:g="medium",htmlColor:y,inheritViewBox:b=!1,titleAccess:h,viewBox:d="0 0 24 24",...v}=s,_=reactExports.isValidElement(l)&&l.type==="svg",A={...s,color:f,component:p,fontSize:g,instanceFontSize:n.fontSize,inheritViewBox:b,viewBox:d,hasSvgAsChild:_},I={};b||(I.viewBox=d);const R=useUtilityClasses$I(A);return jsxRuntimeExports.jsxs(SvgIconRoot,{as:p,className:clsx(R.root,c),focusable:"false",color:y,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:a,...I,...v,..._&&l.props,ownerState:A,children:[_?l.props.children:l,h?jsxRuntimeExports.jsx("title",{children:h}):null]})});SvgIcon.muiName="SvgIcon";function createSvgIcon(i,n){function a(s,l){return jsxRuntimeExports.jsx(SvgIcon,{"data-testid":`${n}Icon`,ref:l,...s,children:i})}return a.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(a))}function mergeSlotProps(i,n){if(!i)return n;if(typeof i=="function"||typeof n=="function")return l=>{const c=typeof n=="function"?n(l):n,f=typeof i=="function"?i({...l,...c}):i,p=clsx(l==null?void 0:l.className,c==null?void 0:c.className,f==null?void 0:f.className);return{...c,...f,...!!p&&{className:p},...(c==null?void 0:c.style)&&(f==null?void 0:f.style)&&{style:{...c.style,...f.style}},...(c==null?void 0:c.sx)&&(f==null?void 0:f.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(f.sx)?f.sx:[f.sx]]}}};const a=n,s=clsx(a==null?void 0:a.className,i==null?void 0:i.className);return{...n,...i,...!!s&&{className:s},...(a==null?void 0:a.style)&&(i==null?void 0:i.style)&&{style:{...a.style,...i.style}},...(a==null?void 0:a.sx)&&(i==null?void 0:i.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}}function _objectWithoutPropertiesLoose$1(i,n){if(i==null)return{};var a={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(n.indexOf(s)!==-1)continue;a[s]=i[s]}return a}function _setPrototypeOf(i,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_setPrototypeOf(i,n)}function _inheritsLoose(i,n){i.prototype=Object.create(n.prototype),i.prototype.constructor=i,_setPrototypeOf(i,n)}function hasClass(i,n){return i.classList?!!n&&i.classList.contains(n):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+n+" ")!==-1}function addClass(i,n){i.classList?i.classList.add(n):hasClass(i,n)||(typeof i.className=="string"?i.className=i.className+" "+n:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+n))}function replaceClassName(i,n){return i.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass$1(i,n){i.classList?i.classList.remove(n):typeof i.className=="string"?i.className=replaceClassName(i.className,n):i.setAttribute("class",replaceClassName(i.className&&i.className.baseVal||"",n))}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports),config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(n){return n.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(i){_inheritsLoose(n,i);function n(s,l){var c;c=i.call(this,s,l)||this;var f=l,p=f&&!f.isMounting?s.enter:s.appear,g;return c.appearStatus=null,s.in?p?(g=EXITED,c.appearStatus=ENTERING):g=ENTERED:s.unmountOnExit||s.mountOnEnter?g=UNMOUNTED:g=EXITED,c.state={status:g},c.nextCallback=null,c}n.getDerivedStateFromProps=function(l,c){var f=l.in;return f&&c.status===UNMOUNTED?{status:EXITED}:null};var a=n.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(l){var c=null;if(l!==this.props){var f=this.state.status;this.props.in?f!==ENTERING&&f!==ENTERED&&(c=ENTERING):(f===ENTERING||f===ENTERED)&&(c=EXITING)}this.updateStatus(!1,c)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var l=this.props.timeout,c,f,p;return c=f=p=l,l!=null&&typeof l!="number"&&(c=l.exit,f=l.enter,p=l.appear!==void 0?l.appear:f),{exit:c,enter:f,appear:p}},a.updateStatus=function(l,c){if(l===void 0&&(l=!1),c!==null)if(this.cancelNextCallback(),c===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);f&&forceReflow(f)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},a.performEnter=function(l){var c=this,f=this.props.enter,p=this.context?this.context.isMounting:l,g=this.props.nodeRef?[p]:[ReactDOM.findDOMNode(this),p],y=g[0],b=g[1],h=this.getTimeouts(),d=p?h.appear:h.enter;if(!l&&!f||config.disabled){this.safeSetState({status:ENTERED},function(){c.props.onEntered(y)});return}this.props.onEnter(y,b),this.safeSetState({status:ENTERING},function(){c.props.onEntering(y,b),c.onTransitionEnd(d,function(){c.safeSetState({status:ENTERED},function(){c.props.onEntered(y,b)})})})},a.performExit=function(){var l=this,c=this.props.exit,f=this.getTimeouts(),p=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!c||config.disabled){this.safeSetState({status:EXITED},function(){l.props.onExited(p)});return}this.props.onExit(p),this.safeSetState({status:EXITING},function(){l.props.onExiting(p),l.onTransitionEnd(f.exit,function(){l.safeSetState({status:EXITED},function(){l.props.onExited(p)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(l,c){c=this.setNextCallback(c),this.setState(l,c)},a.setNextCallback=function(l){var c=this,f=!0;return this.nextCallback=function(p){f&&(f=!1,c.nextCallback=null,l(p))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},a.onTransitionEnd=function(l,c){this.setNextCallback(c);var f=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),p=l==null&&!this.props.addEndListener;if(!f||p){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],y=g[0],b=g[1];this.props.addEndListener(y,b)}l!=null&&setTimeout(this.nextCallback,l)},a.render=function(){var l=this.state.status;if(l===UNMOUNTED)return null;var c=this.props,f=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var p=_objectWithoutPropertiesLoose$1(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof f=="function"?f(l,p):React.cloneElement(React.Children.only(f),p))},n}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$2(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$2,onEntering:noop$2,onEntered:noop$2,onExit:noop$2,onExiting:noop$2,onExited:noop$2};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;var _addClass=function(n,a){return n&&a&&a.split(" ").forEach(function(s){return addClass(n,s)})},removeClass=function(n,a){return n&&a&&a.split(" ").forEach(function(s){return removeClass$1(n,s)})},CSSTransition=function(i){_inheritsLoose(n,i);function n(){for(var s,l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];return s=i.call.apply(i,[this].concat(c))||this,s.appliedClasses={appear:{},enter:{},exit:{}},s.onEnter=function(p,g){var y=s.resolveArguments(p,g),b=y[0],h=y[1];s.removeClasses(b,"exit"),s.addClass(b,h?"appear":"enter","base"),s.props.onEnter&&s.props.onEnter(p,g)},s.onEntering=function(p,g){var y=s.resolveArguments(p,g),b=y[0],h=y[1],d=h?"appear":"enter";s.addClass(b,d,"active"),s.props.onEntering&&s.props.onEntering(p,g)},s.onEntered=function(p,g){var y=s.resolveArguments(p,g),b=y[0],h=y[1],d=h?"appear":"enter";s.removeClasses(b,d),s.addClass(b,d,"done"),s.props.onEntered&&s.props.onEntered(p,g)},s.onExit=function(p){var g=s.resolveArguments(p),y=g[0];s.removeClasses(y,"appear"),s.removeClasses(y,"enter"),s.addClass(y,"exit","base"),s.props.onExit&&s.props.onExit(p)},s.onExiting=function(p){var g=s.resolveArguments(p),y=g[0];s.addClass(y,"exit","active"),s.props.onExiting&&s.props.onExiting(p)},s.onExited=function(p){var g=s.resolveArguments(p),y=g[0];s.removeClasses(y,"exit"),s.addClass(y,"exit","done"),s.props.onExited&&s.props.onExited(p)},s.resolveArguments=function(p,g){return s.props.nodeRef?[s.props.nodeRef.current,p]:[p,g]},s.getClassNames=function(p){var g=s.props.classNames,y=typeof g=="string",b=y&&g?g+"-":"",h=y?""+b+p:g[p],d=y?h+"-active":g[p+"Active"],v=y?h+"-done":g[p+"Done"];return{baseClassName:h,activeClassName:d,doneClassName:v}},s}var a=n.prototype;return a.addClass=function(l,c,f){var p=this.getClassNames(c)[f+"ClassName"],g=this.getClassNames("enter"),y=g.doneClassName;c==="appear"&&f==="done"&&y&&(p+=" "+y),f==="active"&&l&&forceReflow(l),p&&(this.appliedClasses[c][f]=p,_addClass(l,p))},a.removeClasses=function(l,c){var f=this.appliedClasses[c],p=f.base,g=f.active,y=f.done;this.appliedClasses[c]={},p&&removeClass(l,p),g&&removeClass(l,g),y&&removeClass(l,y)},a.render=function(){var l=this.props;l.classNames;var c=_objectWithoutPropertiesLoose$1(l,["classNames"]);return React.createElement(Transition,_extends({},c,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(React.Component);CSSTransition.defaultProps={classNames:""};CSSTransition.propTypes={};function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function getChildMapping(i,n){var a=function(c){return n&&reactExports.isValidElement(c)?n(c):c},s=Object.create(null);return i&&reactExports.Children.map(i,function(l){return l}).forEach(function(l){s[l.key]=a(l)}),s}function mergeChildMappings(i,n){i=i||{},n=n||{};function a(b){return b in n?n[b]:i[b]}var s=Object.create(null),l=[];for(var c in i)c in n?l.length&&(s[c]=l,l=[]):l.push(c);var f,p={};for(var g in n){if(s[g])for(f=0;f<s[g].length;f++){var y=s[g][f];p[s[g][f]]=a(y)}p[g]=a(g)}for(f=0;f<l.length;f++)p[l[f]]=a(l[f]);return p}function getProp(i,n,a){return a[n]!=null?a[n]:i.props[n]}function getInitialChildMapping(i,n){return getChildMapping(i.children,function(a){return reactExports.cloneElement(a,{onExited:n.bind(null,a),in:!0,appear:getProp(a,"appear",i),enter:getProp(a,"enter",i),exit:getProp(a,"exit",i)})})}function getNextChildMapping(i,n,a){var s=getChildMapping(i.children),l=mergeChildMappings(n,s);return Object.keys(l).forEach(function(c){var f=l[c];if(reactExports.isValidElement(f)){var p=c in n,g=c in s,y=n[c],b=reactExports.isValidElement(y)&&!y.props.in;g&&(!p||b)?l[c]=reactExports.cloneElement(f,{onExited:a.bind(null,f),in:!0,exit:getProp(f,"exit",i),enter:getProp(f,"enter",i)}):!g&&p&&!b?l[c]=reactExports.cloneElement(f,{in:!1}):g&&p&&reactExports.isValidElement(y)&&(l[c]=reactExports.cloneElement(f,{onExited:a.bind(null,f),in:y.props.in,exit:getProp(f,"exit",i),enter:getProp(f,"enter",i)}))}}),l}var values=Object.values||function(i){return Object.keys(i).map(function(n){return i[n]})},defaultProps$1={component:"div",childFactory:function(n){return n}},TransitionGroup=function(i){_inheritsLoose(n,i);function n(s,l){var c;c=i.call(this,s,l)||this;var f=c.handleExited.bind(_assertThisInitialized(c));return c.state={contextValue:{isMounting:!0},handleExited:f,firstRender:!0},c}var a=n.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(l,c){var f=c.children,p=c.handleExited,g=c.firstRender;return{children:g?getInitialChildMapping(l,p):getNextChildMapping(l,f,p),firstRender:!1}},a.handleExited=function(l,c){var f=getChildMapping(this.props.children);l.key in f||(l.props.onExited&&l.props.onExited(c),this.mounted&&this.setState(function(p){var g=_extends({},p.children);return delete g[l.key],{children:g}}))},a.render=function(){var l=this.props,c=l.component,f=l.childFactory,p=_objectWithoutPropertiesLoose$1(l,["component","childFactory"]),g=this.state.contextValue,y=values(this.state.children).map(f);return delete p.appear,delete p.enter,delete p.exit,c===null?React.createElement(TransitionGroupContext.Provider,{value:g},y):React.createElement(TransitionGroupContext.Provider,{value:g},React.createElement(c,p,y))},n}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$1;const reflow=i=>i.scrollTop;function getTransitionProps(i,n){const{timeout:a,easing:s,style:l={}}=i;return{duration:l.transitionDuration??(typeof a=="number"?a:a[n.mode]||0),easing:l.transitionTimingFunction??(typeof s=="object"?s[n.mode]:s),delay:l.transitionDelay}}function getPaperUtilityClass(i){return generateUtilityClass("MuiPaper",i)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const useUtilityClasses$H=i=>{const{square:n,elevation:a,variant:s,classes:l}=i,c={root:["root",s,!n&&"rounded",s==="elevation"&&`elevation${a}`]};return composeClasses(c,getPaperUtilityClass,l)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,n[a.variant],!a.square&&n.rounded,a.variant==="elevation"&&n[`elevation${a.elevation}`]]}})(memoTheme(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:n})=>!n.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Paper=reactExports.forwardRef(function(n,a){var v;const s=useDefaultProps({props:n,name:"MuiPaper"}),l=useTheme(),{className:c,component:f="div",elevation:p=1,square:g=!1,variant:y="elevation",...b}=s,h={...s,component:f,elevation:p,square:g,variant:y},d=useUtilityClasses$H(h);return jsxRuntimeExports.jsx(PaperRoot,{as:f,ownerState:h,className:clsx(d.root,c),ref:a,...b,style:{...y==="elevation"&&{"--Paper-shadow":(l.vars||l).shadows[p],...l.vars&&{"--Paper-overlay":(v=l.vars.overlays)==null?void 0:v[p]},...!l.vars&&l.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${alpha("#fff",getOverlayAlpha(p))}, ${alpha("#fff",getOverlayAlpha(p))})`}},...b.style}})});function useSlot(i,n){const{className:a,elementType:s,ownerState:l,externalForwardedProps:c,internalForwardedProps:f,shouldForwardComponentProp:p=!1,...g}=n,{component:y,slots:b={[i]:void 0},slotProps:h={[i]:void 0},...d}=c,v=b[i]||s,_=resolveComponentProps(h[i],l),{props:{component:A,...I},internalRef:R}=mergeSlotProps$1({className:a,...g,externalForwardedProps:i==="root"?d:void 0,externalSlotProps:_}),P=useForkRef(R,_==null?void 0:_.ref,n.ref),$=i==="root"?A||y:A,M=appendOwnerState(v,{...i==="root"&&!y&&!b[i]&&f,...i!=="root"&&!b[i]&&f,...I,...$&&!p&&{as:$},...$&&p&&{component:$},ref:P},l);return[v,M]}class LazyRipple{constructor(){me(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new LazyRipple}static use(){const n=useLazyRef(LazyRipple.create).current,[a,s]=reactExports.useState(!1);return n.shouldMount=a,n.setShouldMount=s,reactExports.useEffect(n.mountEffect,[a]),n}mount(){return this.mounted||(this.mounted=createControlledPromise(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...n){this.mount().then(()=>{var a;return(a=this.ref.current)==null?void 0:a.start(...n)})}stop(...n){this.mount().then(()=>{var a;return(a=this.ref.current)==null?void 0:a.stop(...n)})}pulsate(...n){this.mount().then(()=>{var a;return(a=this.ref.current)==null?void 0:a.pulsate(...n)})}}function useLazyRipple(){return LazyRipple.use()}function createControlledPromise(){let i,n;const a=new Promise((s,l)=>{i=s,n=l});return a.resolve=i,a.reject=n,a}function Ripple(i){const{className:n,classes:a,pulsate:s=!1,rippleX:l,rippleY:c,rippleSize:f,in:p,onExited:g,timeout:y}=i,[b,h]=reactExports.useState(!1),d=clsx(n,a.ripple,a.rippleVisible,s&&a.ripplePulsate),v={width:f,height:f,top:-(f/2)+c,left:-(f/2)+l},_=clsx(a.child,b&&a.childLeaving,s&&a.childPulsate);return!p&&!b&&h(!0),reactExports.useEffect(()=>{if(!p&&g!=null){const A=setTimeout(g,y);return()=>{clearTimeout(A)}}},[g,p,y]),jsxRuntimeExports.jsx("span",{className:d,style:v,children:jsxRuntimeExports.jsx("span",{className:_})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,exitKeyframe=keyframes`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pulsateKeyframe=keyframes`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TouchRipple=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiTouchRipple"}),{center:l=!1,classes:c={},className:f,...p}=s,[g,y]=reactExports.useState([]),b=reactExports.useRef(0),h=reactExports.useRef(null);reactExports.useEffect(()=>{h.current&&(h.current(),h.current=null)},[g]);const d=reactExports.useRef(!1),v=useTimeout(),_=reactExports.useRef(null),A=reactExports.useRef(null),I=reactExports.useCallback(M=>{const{pulsate:B,rippleX:F,rippleY:q,rippleSize:H,cb:z}=M;y(L=>[...L,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(c.ripple,touchRippleClasses.ripple),rippleVisible:clsx(c.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(c.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(c.child,touchRippleClasses.child),childLeaving:clsx(c.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(c.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:B,rippleX:F,rippleY:q,rippleSize:H},b.current)]),b.current+=1,h.current=z},[c]),R=reactExports.useCallback((M={},B={},F=()=>{})=>{const{pulsate:q=!1,center:H=l||B.pulsate,fakeElement:z=!1}=B;if((M==null?void 0:M.type)==="mousedown"&&d.current){d.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(d.current=!0);const L=z?null:A.current,ee=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Z,V,X;if(H||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)Z=Math.round(ee.width/2),V=Math.round(ee.height/2);else{const{clientX:Q,clientY:G}=M.touches&&M.touches.length>0?M.touches[0]:M;Z=Math.round(Q-ee.left),V=Math.round(G-ee.top)}if(H)X=Math.sqrt((2*ee.width**2+ee.height**2)/3),X%2===0&&(X+=1);else{const Q=Math.max(Math.abs((L?L.clientWidth:0)-Z),Z)*2+2,G=Math.max(Math.abs((L?L.clientHeight:0)-V),V)*2+2;X=Math.sqrt(Q**2+G**2)}M!=null&&M.touches?_.current===null&&(_.current=()=>{I({pulsate:q,rippleX:Z,rippleY:V,rippleSize:X,cb:F})},v.start(DELAY_RIPPLE,()=>{_.current&&(_.current(),_.current=null)})):I({pulsate:q,rippleX:Z,rippleY:V,rippleSize:X,cb:F})},[l,I,v]),P=reactExports.useCallback(()=>{R({},{pulsate:!0})},[R]),$=reactExports.useCallback((M,B)=>{if(v.clear(),(M==null?void 0:M.type)==="touchend"&&_.current){_.current(),_.current=null,v.start(0,()=>{$(M,B)});return}_.current=null,y(F=>F.length>0?F.slice(1):F),h.current=B},[v]);return reactExports.useImperativeHandle(a,()=>({pulsate:P,start:R,stop:$}),[P,R,$]),jsxRuntimeExports.jsx(TouchRippleRoot,{className:clsx(touchRippleClasses.root,c.root,f),ref:A,...p,children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:g})})});function getButtonBaseUtilityClass(i){return generateUtilityClass("MuiButtonBase",i)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),useUtilityClasses$G=i=>{const{disabled:n,focusVisible:a,focusVisibleClassName:s,classes:l}=i,f=composeClasses({root:["root",n&&"disabled",a&&"focusVisible"]},getButtonBaseUtilityClass,l);return a&&s&&(f.root+=` ${s}`),f},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(i,n)=>n.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiButtonBase"}),{action:l,centerRipple:c=!1,children:f,className:p,component:g="button",disabled:y=!1,disableRipple:b=!1,disableTouchRipple:h=!1,focusRipple:d=!1,focusVisibleClassName:v,LinkComponent:_="a",onBlur:A,onClick:I,onContextMenu:R,onDragLeave:P,onFocus:$,onFocusVisible:M,onKeyDown:B,onKeyUp:F,onMouseDown:q,onMouseLeave:H,onMouseUp:z,onTouchEnd:L,onTouchMove:ee,onTouchStart:Z,tabIndex:V=0,TouchRippleProps:X,touchRippleRef:Q,type:G,...te}=s,ue=reactExports.useRef(null),fe=useLazyRipple(),K=useForkRef(fe.ref,Q),[de,we]=reactExports.useState(!1);y&&de&&we(!1),reactExports.useImperativeHandle(l,()=>({focusVisible:()=>{we(!0),ue.current.focus()}}),[]);const oe=fe.shouldMount&&!b&&!y;reactExports.useEffect(()=>{de&&d&&!b&&fe.pulsate()},[b,d,de,fe]);const Ne=useRippleHandler(fe,"start",q,h),Ie=useRippleHandler(fe,"stop",R,h),Le=useRippleHandler(fe,"stop",P,h),ut=useRippleHandler(fe,"stop",z,h),mt=useRippleHandler(fe,"stop",St=>{de&&St.preventDefault(),H&&H(St)},h),vt=useRippleHandler(fe,"start",Z,h),it=useRippleHandler(fe,"stop",L,h),pt=useRippleHandler(fe,"stop",ee,h),xt=useRippleHandler(fe,"stop",St=>{isFocusVisible(St.target)||we(!1),A&&A(St)},!1),kt=useEventCallback(St=>{ue.current||(ue.current=St.currentTarget),isFocusVisible(St.target)&&(we(!0),M&&M(St)),$&&$(St)}),_t=()=>{const St=ue.current;return g&&g!=="button"&&!(St.tagName==="A"&&St.href)},Nt=useEventCallback(St=>{d&&!St.repeat&&de&&St.key===" "&&fe.stop(St,()=>{fe.start(St)}),St.target===St.currentTarget&&_t()&&St.key===" "&&St.preventDefault(),B&&B(St),St.target===St.currentTarget&&_t()&&St.key==="Enter"&&!y&&(St.preventDefault(),I&&I(St))}),Vt=useEventCallback(St=>{d&&St.key===" "&&de&&!St.defaultPrevented&&fe.stop(St,()=>{fe.pulsate(St)}),F&&F(St),I&&St.target===St.currentTarget&&_t()&&St.key===" "&&!St.defaultPrevented&&I(St)});let Mt=g;Mt==="button"&&(te.href||te.to)&&(Mt=_);const $t={};Mt==="button"?($t.type=G===void 0?"button":G,$t.disabled=y):(!te.href&&!te.to&&($t.role="button"),y&&($t["aria-disabled"]=y));const Ht=useForkRef(a,ue),Bt={...s,centerRipple:c,component:g,disabled:y,disableRipple:b,disableTouchRipple:h,focusRipple:d,tabIndex:V,focusVisible:de},Ut=useUtilityClasses$G(Bt);return jsxRuntimeExports.jsxs(ButtonBaseRoot,{as:Mt,className:clsx(Ut.root,p),ownerState:Bt,onBlur:xt,onClick:I,onContextMenu:Ie,onFocus:kt,onKeyDown:Nt,onKeyUp:Vt,onMouseDown:Ne,onMouseLeave:mt,onMouseUp:ut,onDragLeave:Le,onTouchEnd:it,onTouchMove:pt,onTouchStart:vt,ref:Ht,tabIndex:y?-1:V,type:G,...$t,...te,children:[f,oe?jsxRuntimeExports.jsx(TouchRipple,{ref:K,center:c,...X}):null]})});function useRippleHandler(i,n,a,s=!1){return useEventCallback(l=>(a&&a(l),s||i[n](l),!0))}function hasCorrectMainProperty(i){return typeof i.main=="string"}function checkSimplePaletteColorValues(i,n=[]){if(!hasCorrectMainProperty(i))return!1;for(const a of n)if(!i.hasOwnProperty(a)||typeof i[a]!="string")return!1;return!0}function createSimplePaletteValueFilter(i=[]){return([,n])=>n&&checkSimplePaletteColorValues(n,i)}function getCircularProgressUtilityClass(i){return generateUtilityClass("MuiCircularProgress",i)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const SIZE=44,circularRotateKeyframe=keyframes`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,circularDashKeyframe=keyframes`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,rotateAnimation=typeof circularRotateKeyframe!="string"?css`
        animation: ${circularRotateKeyframe} 1.4s linear infinite;
      `:null,dashAnimation=typeof circularDashKeyframe!="string"?css`
        animation: ${circularDashKeyframe} 1.4s ease-in-out infinite;
      `:null,useUtilityClasses$F=i=>{const{classes:n,variant:a,color:s,disableShrink:l}=i,c={root:["root",a,`color${capitalize(s)}`],svg:["svg"],circle:["circle",`circle${capitalize(a)}`,l&&"circleDisableShrink"]};return composeClasses(c,getCircularProgressUtilityClass,n)},CircularProgressRoot=styled("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,n[a.variant],n[`color${capitalize(a.color)}`]]}})(memoTheme(({theme:i})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("transform")}},{props:{variant:"indeterminate"},style:rotateAnimation||{animation:`${circularRotateKeyframe} 1.4s linear infinite`}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([n])=>({props:{color:n},style:{color:(i.vars||i).palette[n].main}}))]}))),CircularProgressSVG=styled("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(i,n)=>n.svg})({display:"block"}),CircularProgressCircle=styled("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.circle,n[`circle${capitalize(a.variant)}`],a.disableShrink&&n.circleDisableShrink]}})(memoTheme(({theme:i})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:n})=>n.variant==="indeterminate"&&!n.disableShrink,style:dashAnimation||{animation:`${circularDashKeyframe} 1.4s ease-in-out infinite`}}]}))),CircularProgress=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiCircularProgress"}),{className:l,color:c="primary",disableShrink:f=!1,size:p=40,style:g,thickness:y=3.6,value:b=0,variant:h="indeterminate",...d}=s,v={...s,color:c,disableShrink:f,size:p,thickness:y,value:b,variant:h},_=useUtilityClasses$F(v),A={},I={},R={};if(h==="determinate"){const P=2*Math.PI*((SIZE-y)/2);A.strokeDasharray=P.toFixed(3),R["aria-valuenow"]=Math.round(b),A.strokeDashoffset=`${((100-b)/100*P).toFixed(3)}px`,I.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,{className:clsx(_.root,l),style:{width:p,height:p,...I,...g},ownerState:v,ref:a,role:"progressbar",...R,...d,children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:_.svg,ownerState:v,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:_.circle,style:A,ownerState:v,cx:SIZE,cy:SIZE,r:(SIZE-y)/2,fill:"none",strokeWidth:y})})})});function getIconButtonUtilityClass(i){return generateUtilityClass("MuiIconButton",i)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),useUtilityClasses$E=i=>{const{classes:n,disabled:a,color:s,edge:l,size:c,loading:f}=i,p={root:["root",f&&"loading",a&&"disabled",s!=="default"&&`color${capitalize(s)}`,l&&`edge${capitalize(l)}`,`size${capitalize(c)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return composeClasses(p,getIconButtonUtilityClass,n)},IconButtonRoot=styled(ButtonBase,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.loading&&n.loading,a.color!=="default"&&n[`color${capitalize(a.color)}`],a.edge&&n[`edge${capitalize(a.edge)}`],n[`size${capitalize(a.size)}`]]}})(memoTheme(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:n=>!n.disableRipple,style:{"--IconButton-hoverBg":i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.action.active,i.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),memoTheme(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([n])=>({props:{color:n},style:{color:(i.vars||i).palette[n].main}})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([n])=>({props:{color:n},style:{"--IconButton-hoverBg":i.vars?`rgba(${(i.vars||i).palette[n].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha((i.vars||i).palette[n].main,i.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled},[`&.${iconButtonClasses.loading}`]:{color:"transparent"}}))),IconButtonLoadingIndicator=styled("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(i,n)=>n.loadingIndicator})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(i.vars||i).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),IconButton=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiIconButton"}),{edge:l=!1,children:c,className:f,color:p="default",disabled:g=!1,disableFocusRipple:y=!1,size:b="medium",id:h,loading:d=null,loadingIndicator:v,..._}=s,A=useId(h),I=v??jsxRuntimeExports.jsx(CircularProgress,{"aria-labelledby":A,color:"inherit",size:16}),R={...s,edge:l,color:p,disabled:g,disableFocusRipple:y,loading:d,loadingIndicator:I,size:b},P=useUtilityClasses$E(R);return jsxRuntimeExports.jsxs(IconButtonRoot,{id:d?A:h,className:clsx(P.root,f),centerRipple:!0,focusRipple:!y,disabled:g||d,ref:a,..._,ownerState:R,children:[typeof d=="boolean"&&jsxRuntimeExports.jsx("span",{className:P.loadingWrapper,style:{display:"contents"},children:jsxRuntimeExports.jsx(IconButtonLoadingIndicator,{className:P.loadingIndicator,ownerState:R,children:d&&I})}),c]})});function getTypographyUtilityClass(i){return generateUtilityClass("MuiTypography",i)}const typographyClasses=generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),v6Colors={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},extendSxProp=internal_createExtendSxProp(),useUtilityClasses$D=i=>{const{align:n,gutterBottom:a,noWrap:s,paragraph:l,variant:c,classes:f}=i,p={root:["root",c,i.align!=="inherit"&&`align${capitalize(n)}`,a&&"gutterBottom",s&&"noWrap",l&&"paragraph"]};return composeClasses(p,getTypographyUtilityClass,f)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.variant&&n[a.variant],a.align!=="inherit"&&n[`align${capitalize(a.align)}`],a.noWrap&&n.noWrap,a.gutterBottom&&n.gutterBottom,a.paragraph&&n.paragraph]}})(memoTheme(({theme:i})=>{var n;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([a,s])=>a!=="inherit"&&s&&typeof s=="object").map(([a,s])=>({props:{variant:a},style:s})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([a])=>({props:{color:a},style:{color:(i.vars||i).palette[a].main}})),...Object.entries(((n=i.palette)==null?void 0:n.text)||{}).filter(([,a])=>typeof a=="string").map(([a])=>({props:{color:`text${capitalize(a)}`},style:{color:(i.vars||i).palette.text[a]}})),{props:({ownerState:a})=>a.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:a})=>a.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:a})=>a.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:a})=>a.paragraph,style:{marginBottom:16}}]}})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Typography=reactExports.forwardRef(function(n,a){const{color:s,...l}=useDefaultProps({props:n,name:"MuiTypography"}),c=!v6Colors[s],f=extendSxProp({...l,...c&&{color:s}}),{align:p="inherit",className:g,component:y,gutterBottom:b=!1,noWrap:h=!1,paragraph:d=!1,variant:v="body1",variantMapping:_=defaultVariantMapping,...A}=f,I={...f,align:p,color:s,className:g,component:y,gutterBottom:b,noWrap:h,paragraph:d,variant:v,variantMapping:_},R=y||(d?"p":_[v]||defaultVariantMapping[v])||"span",P=useUtilityClasses$D(I);return jsxRuntimeExports.jsx(TypographyRoot,{as:R,ref:a,className:clsx(P.root,g),...A,ownerState:I,style:{...p!=="inherit"&&{"--Typography-textAlign":p},...A.style}})});function getAppBarUtilityClass(i){return generateUtilityClass("MuiAppBar",i)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const useUtilityClasses$C=i=>{const{color:n,position:a,classes:s}=i,l={root:["root",`color${capitalize(n)}`,`position${capitalize(a)}`]};return composeClasses(l,getAppBarUtilityClass,s)},joinVars=(i,n)=>i?`${i==null?void 0:i.replace(")","")}, ${n})`:n,AppBarRoot=styled(Paper,{name:"MuiAppBar",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,n[`position${capitalize(a.position)}`],n[`color${capitalize(a.color)}`]]}})(memoTheme(({theme:i})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(i.vars||i).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(i.vars||i).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(i.vars||i).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":i.vars?i.vars.palette.AppBar.defaultBg:i.palette.grey[100],"--AppBar-color":i.vars?i.vars.palette.text.primary:i.palette.getContrastText(i.palette.grey[100]),...i.applyStyles("dark",{"--AppBar-background":i.vars?i.vars.palette.AppBar.defaultBg:i.palette.grey[900],"--AppBar-color":i.vars?i.vars.palette.text.primary:i.palette.getContrastText(i.palette.grey[900])})}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter(["contrastText"])).map(([n])=>({props:{color:n},style:{"--AppBar-background":(i.vars??i).palette[n].main,"--AppBar-color":(i.vars??i).palette[n].contrastText}})),{props:n=>n.enableColorOnDark===!0&&!["inherit","transparent"].includes(n.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:n=>n.enableColorOnDark===!1&&!["inherit","transparent"].includes(n.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...i.applyStyles("dark",{backgroundColor:i.vars?joinVars(i.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:i.vars?joinVars(i.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...i.applyStyles("dark",{backgroundImage:"none"})}}]}))),AppBar=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiAppBar"}),{className:l,color:c="primary",enableColorOnDark:f=!1,position:p="fixed",...g}=s,y={...s,color:c,position:p,enableColorOnDark:f},b=useUtilityClasses$C(y);return jsxRuntimeExports.jsx(AppBarRoot,{square:!0,component:"header",ownerState:y,elevation:4,className:clsx(b.root,l,p==="fixed"&&"mui-fixed"),ref:a,...g})});var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(i,n){return i.concat([n+"-"+start,n+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(i,n){return i.concat([n,n+"-"+start,n+"-"+end])},[]),beforeRead="beforeRead",read$1="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write$1="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read$1,afterRead,beforeMain,main,afterMain,beforeWrite,write$1,afterWrite];function getNodeName(i){return i?(i.nodeName||"").toLowerCase():null}function getWindow(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var n=i.ownerDocument;return n&&n.defaultView||window}return i}function isElement(i){var n=getWindow(i).Element;return i instanceof n||i instanceof Element}function isHTMLElement$1(i){var n=getWindow(i).HTMLElement;return i instanceof n||i instanceof HTMLElement}function isShadowRoot(i){if(typeof ShadowRoot>"u")return!1;var n=getWindow(i).ShadowRoot;return i instanceof n||i instanceof ShadowRoot}function applyStyles(i){var n=i.state;Object.keys(n.elements).forEach(function(a){var s=n.styles[a]||{},l=n.attributes[a]||{},c=n.elements[a];!isHTMLElement$1(c)||!getNodeName(c)||(Object.assign(c.style,s),Object.keys(l).forEach(function(f){var p=l[f];p===!1?c.removeAttribute(f):c.setAttribute(f,p===!0?"":p)}))})}function effect$2(i){var n=i.state,a={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,a.popper),n.styles=a,n.elements.arrow&&Object.assign(n.elements.arrow.style,a.arrow),function(){Object.keys(n.elements).forEach(function(s){var l=n.elements[s],c=n.attributes[s]||{},f=Object.keys(n.styles.hasOwnProperty(s)?n.styles[s]:a[s]),p=f.reduce(function(g,y){return g[y]="",g},{});!isHTMLElement$1(l)||!getNodeName(l)||(Object.assign(l.style,p),Object.keys(c).forEach(function(g){l.removeAttribute(g)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(i){return i.split("-")[0]}var max=Math.max,min=Math.min,round$1=Math.round;function getUAString(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(i,n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var s=i.getBoundingClientRect(),l=1,c=1;n&&isHTMLElement$1(i)&&(l=i.offsetWidth>0&&round$1(s.width)/i.offsetWidth||1,c=i.offsetHeight>0&&round$1(s.height)/i.offsetHeight||1);var f=isElement(i)?getWindow(i):window,p=f.visualViewport,g=!isLayoutViewport()&&a,y=(s.left+(g&&p?p.offsetLeft:0))/l,b=(s.top+(g&&p?p.offsetTop:0))/c,h=s.width/l,d=s.height/c;return{width:h,height:d,top:b,right:y+h,bottom:b+d,left:y,x:y,y:b}}function getLayoutRect(i){var n=getBoundingClientRect(i),a=i.offsetWidth,s=i.offsetHeight;return Math.abs(n.width-a)<=1&&(a=n.width),Math.abs(n.height-s)<=1&&(s=n.height),{x:i.offsetLeft,y:i.offsetTop,width:a,height:s}}function contains(i,n){var a=n.getRootNode&&n.getRootNode();if(i.contains(n))return!0;if(a&&isShadowRoot(a)){var s=n;do{if(s&&i.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function getComputedStyle(i){return getWindow(i).getComputedStyle(i)}function isTableElement(i){return["table","td","th"].indexOf(getNodeName(i))>=0}function getDocumentElement(i){return((isElement(i)?i.ownerDocument:i.document)||window.document).documentElement}function getParentNode(i){return getNodeName(i)==="html"?i:i.assignedSlot||i.parentNode||(isShadowRoot(i)?i.host:null)||getDocumentElement(i)}function getTrueOffsetParent(i){return!isHTMLElement$1(i)||getComputedStyle(i).position==="fixed"?null:i.offsetParent}function getContainingBlock(i){var n=/firefox/i.test(getUAString()),a=/Trident/i.test(getUAString());if(a&&isHTMLElement$1(i)){var s=getComputedStyle(i);if(s.position==="fixed")return null}var l=getParentNode(i);for(isShadowRoot(l)&&(l=l.host);isHTMLElement$1(l)&&["html","body"].indexOf(getNodeName(l))<0;){var c=getComputedStyle(l);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||n&&c.willChange==="filter"||n&&c.filter&&c.filter!=="none")return l;l=l.parentNode}return null}function getOffsetParent(i){for(var n=getWindow(i),a=getTrueOffsetParent(i);a&&isTableElement(a)&&getComputedStyle(a).position==="static";)a=getTrueOffsetParent(a);return a&&(getNodeName(a)==="html"||getNodeName(a)==="body"&&getComputedStyle(a).position==="static")?n:a||getContainingBlock(i)||n}function getMainAxisFromPlacement(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function within(i,n,a){return max(i,min(n,a))}function withinMaxClamp(i,n,a){var s=within(i,n,a);return s>a?a:s}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(i){return Object.assign({},getFreshSideObject(),i)}function expandToHashMap(i,n){return n.reduce(function(a,s){return a[s]=i,a},{})}var toPaddingObject=function(n,a){return n=typeof n=="function"?n(Object.assign({},a.rects,{placement:a.placement})):n,mergePaddingObject(typeof n!="number"?n:expandToHashMap(n,basePlacements))};function arrow(i){var n,a=i.state,s=i.name,l=i.options,c=a.elements.arrow,f=a.modifiersData.popperOffsets,p=getBasePlacement(a.placement),g=getMainAxisFromPlacement(p),y=[left,right].indexOf(p)>=0,b=y?"height":"width";if(!(!c||!f)){var h=toPaddingObject(l.padding,a),d=getLayoutRect(c),v=g==="y"?top:left,_=g==="y"?bottom:right,A=a.rects.reference[b]+a.rects.reference[g]-f[g]-a.rects.popper[b],I=f[g]-a.rects.reference[g],R=getOffsetParent(c),P=R?g==="y"?R.clientHeight||0:R.clientWidth||0:0,$=A/2-I/2,M=h[v],B=P-d[b]-h[_],F=P/2-d[b]/2+$,q=within(M,F,B),H=g;a.modifiersData[s]=(n={},n[H]=q,n.centerOffset=q-F,n)}}function effect$1(i){var n=i.state,a=i.options,s=a.element,l=s===void 0?"[data-popper-arrow]":s;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||contains(n.elements.popper,l)&&(n.elements.arrow=l))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(i){return i.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(i,n){var a=i.x,s=i.y,l=n.devicePixelRatio||1;return{x:round$1(a*l)/l||0,y:round$1(s*l)/l||0}}function mapToStyles(i){var n,a=i.popper,s=i.popperRect,l=i.placement,c=i.variation,f=i.offsets,p=i.position,g=i.gpuAcceleration,y=i.adaptive,b=i.roundOffsets,h=i.isFixed,d=f.x,v=d===void 0?0:d,_=f.y,A=_===void 0?0:_,I=typeof b=="function"?b({x:v,y:A}):{x:v,y:A};v=I.x,A=I.y;var R=f.hasOwnProperty("x"),P=f.hasOwnProperty("y"),$=left,M=top,B=window;if(y){var F=getOffsetParent(a),q="clientHeight",H="clientWidth";if(F===getWindow(a)&&(F=getDocumentElement(a),getComputedStyle(F).position!=="static"&&p==="absolute"&&(q="scrollHeight",H="scrollWidth")),F=F,l===top||(l===left||l===right)&&c===end){M=bottom;var z=h&&F===B&&B.visualViewport?B.visualViewport.height:F[q];A-=z-s.height,A*=g?1:-1}if(l===left||(l===top||l===bottom)&&c===end){$=right;var L=h&&F===B&&B.visualViewport?B.visualViewport.width:F[H];v-=L-s.width,v*=g?1:-1}}var ee=Object.assign({position:p},y&&unsetSides),Z=b===!0?roundOffsetsByDPR({x:v,y:A},getWindow(a)):{x:v,y:A};if(v=Z.x,A=Z.y,g){var V;return Object.assign({},ee,(V={},V[M]=P?"0":"",V[$]=R?"0":"",V.transform=(B.devicePixelRatio||1)<=1?"translate("+v+"px, "+A+"px)":"translate3d("+v+"px, "+A+"px, 0)",V))}return Object.assign({},ee,(n={},n[M]=P?A+"px":"",n[$]=R?v+"px":"",n.transform="",n))}function computeStyles(i){var n=i.state,a=i.options,s=a.gpuAcceleration,l=s===void 0?!0:s,c=a.adaptive,f=c===void 0?!0:c,p=a.roundOffsets,g=p===void 0?!0:p,y={placement:getBasePlacement(n.placement),variation:getVariation(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,mapToStyles(Object.assign({},y,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:f,roundOffsets:g})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,mapToStyles(Object.assign({},y,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(i){var n=i.state,a=i.instance,s=i.options,l=s.scroll,c=l===void 0?!0:l,f=s.resize,p=f===void 0?!0:f,g=getWindow(n.elements.popper),y=[].concat(n.scrollParents.reference,n.scrollParents.popper);return c&&y.forEach(function(b){b.addEventListener("scroll",a.update,passive)}),p&&g.addEventListener("resize",a.update,passive),function(){c&&y.forEach(function(b){b.removeEventListener("scroll",a.update,passive)}),p&&g.removeEventListener("resize",a.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,function(n){return hash$1[n]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(i){return i.replace(/start|end/g,function(n){return hash[n]})}function getWindowScroll(i){var n=getWindow(i),a=n.pageXOffset,s=n.pageYOffset;return{scrollLeft:a,scrollTop:s}}function getWindowScrollBarX(i){return getBoundingClientRect(getDocumentElement(i)).left+getWindowScroll(i).scrollLeft}function getViewportRect(i,n){var a=getWindow(i),s=getDocumentElement(i),l=a.visualViewport,c=s.clientWidth,f=s.clientHeight,p=0,g=0;if(l){c=l.width,f=l.height;var y=isLayoutViewport();(y||!y&&n==="fixed")&&(p=l.offsetLeft,g=l.offsetTop)}return{width:c,height:f,x:p+getWindowScrollBarX(i),y:g}}function getDocumentRect(i){var n,a=getDocumentElement(i),s=getWindowScroll(i),l=(n=i.ownerDocument)==null?void 0:n.body,c=max(a.scrollWidth,a.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),f=max(a.scrollHeight,a.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),p=-s.scrollLeft+getWindowScrollBarX(i),g=-s.scrollTop;return getComputedStyle(l||a).direction==="rtl"&&(p+=max(a.clientWidth,l?l.clientWidth:0)-c),{width:c,height:f,x:p,y:g}}function isScrollParent(i){var n=getComputedStyle(i),a=n.overflow,s=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(a+l+s)}function getScrollParent(i){return["html","body","#document"].indexOf(getNodeName(i))>=0?i.ownerDocument.body:isHTMLElement$1(i)&&isScrollParent(i)?i:getScrollParent(getParentNode(i))}function listScrollParents(i,n){var a;n===void 0&&(n=[]);var s=getScrollParent(i),l=s===((a=i.ownerDocument)==null?void 0:a.body),c=getWindow(s),f=l?[c].concat(c.visualViewport||[],isScrollParent(s)?s:[]):s,p=n.concat(f);return l?p:p.concat(listScrollParents(getParentNode(f)))}function rectToClientRect(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function getInnerBoundingClientRect(i,n){var a=getBoundingClientRect(i,!1,n==="fixed");return a.top=a.top+i.clientTop,a.left=a.left+i.clientLeft,a.bottom=a.top+i.clientHeight,a.right=a.left+i.clientWidth,a.width=i.clientWidth,a.height=i.clientHeight,a.x=a.left,a.y=a.top,a}function getClientRectFromMixedType(i,n,a){return n===viewport?rectToClientRect(getViewportRect(i,a)):isElement(n)?getInnerBoundingClientRect(n,a):rectToClientRect(getDocumentRect(getDocumentElement(i)))}function getClippingParents(i){var n=listScrollParents(getParentNode(i)),a=["absolute","fixed"].indexOf(getComputedStyle(i).position)>=0,s=a&&isHTMLElement$1(i)?getOffsetParent(i):i;return isElement(s)?n.filter(function(l){return isElement(l)&&contains(l,s)&&getNodeName(l)!=="body"}):[]}function getClippingRect(i,n,a,s){var l=n==="clippingParents"?getClippingParents(i):[].concat(n),c=[].concat(l,[a]),f=c[0],p=c.reduce(function(g,y){var b=getClientRectFromMixedType(i,y,s);return g.top=max(b.top,g.top),g.right=min(b.right,g.right),g.bottom=min(b.bottom,g.bottom),g.left=max(b.left,g.left),g},getClientRectFromMixedType(i,f,s));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function computeOffsets(i){var n=i.reference,a=i.element,s=i.placement,l=s?getBasePlacement(s):null,c=s?getVariation(s):null,f=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,g;switch(l){case top:g={x:f,y:n.y-a.height};break;case bottom:g={x:f,y:n.y+n.height};break;case right:g={x:n.x+n.width,y:p};break;case left:g={x:n.x-a.width,y:p};break;default:g={x:n.x,y:n.y}}var y=l?getMainAxisFromPlacement(l):null;if(y!=null){var b=y==="y"?"height":"width";switch(c){case start:g[y]=g[y]-(n[b]/2-a[b]/2);break;case end:g[y]=g[y]+(n[b]/2-a[b]/2);break}}return g}function detectOverflow(i,n){n===void 0&&(n={});var a=n,s=a.placement,l=s===void 0?i.placement:s,c=a.strategy,f=c===void 0?i.strategy:c,p=a.boundary,g=p===void 0?clippingParents:p,y=a.rootBoundary,b=y===void 0?viewport:y,h=a.elementContext,d=h===void 0?popper:h,v=a.altBoundary,_=v===void 0?!1:v,A=a.padding,I=A===void 0?0:A,R=mergePaddingObject(typeof I!="number"?I:expandToHashMap(I,basePlacements)),P=d===popper?reference:popper,$=i.rects.popper,M=i.elements[_?P:d],B=getClippingRect(isElement(M)?M:M.contextElement||getDocumentElement(i.elements.popper),g,b,f),F=getBoundingClientRect(i.elements.reference),q=computeOffsets({reference:F,element:$,placement:l}),H=rectToClientRect(Object.assign({},$,q)),z=d===popper?H:F,L={top:B.top-z.top+R.top,bottom:z.bottom-B.bottom+R.bottom,left:B.left-z.left+R.left,right:z.right-B.right+R.right},ee=i.modifiersData.offset;if(d===popper&&ee){var Z=ee[l];Object.keys(L).forEach(function(V){var X=[right,bottom].indexOf(V)>=0?1:-1,Q=[top,bottom].indexOf(V)>=0?"y":"x";L[V]+=Z[Q]*X})}return L}function computeAutoPlacement(i,n){n===void 0&&(n={});var a=n,s=a.placement,l=a.boundary,c=a.rootBoundary,f=a.padding,p=a.flipVariations,g=a.allowedAutoPlacements,y=g===void 0?placements:g,b=getVariation(s),h=b?p?variationPlacements:variationPlacements.filter(function(_){return getVariation(_)===b}):basePlacements,d=h.filter(function(_){return y.indexOf(_)>=0});d.length===0&&(d=h);var v=d.reduce(function(_,A){return _[A]=detectOverflow(i,{placement:A,boundary:l,rootBoundary:c,padding:f})[getBasePlacement(A)],_},{});return Object.keys(v).sort(function(_,A){return v[_]-v[A]})}function getExpandedFallbackPlacements(i){if(getBasePlacement(i)===auto)return[];var n=getOppositePlacement(i);return[getOppositeVariationPlacement(i),n,getOppositeVariationPlacement(n)]}function flip(i){var n=i.state,a=i.options,s=i.name;if(!n.modifiersData[s]._skip){for(var l=a.mainAxis,c=l===void 0?!0:l,f=a.altAxis,p=f===void 0?!0:f,g=a.fallbackPlacements,y=a.padding,b=a.boundary,h=a.rootBoundary,d=a.altBoundary,v=a.flipVariations,_=v===void 0?!0:v,A=a.allowedAutoPlacements,I=n.options.placement,R=getBasePlacement(I),P=R===I,$=g||(P||!_?[getOppositePlacement(I)]:getExpandedFallbackPlacements(I)),M=[I].concat($).reduce(function(Ne,Ie){return Ne.concat(getBasePlacement(Ie)===auto?computeAutoPlacement(n,{placement:Ie,boundary:b,rootBoundary:h,padding:y,flipVariations:_,allowedAutoPlacements:A}):Ie)},[]),B=n.rects.reference,F=n.rects.popper,q=new Map,H=!0,z=M[0],L=0;L<M.length;L++){var ee=M[L],Z=getBasePlacement(ee),V=getVariation(ee)===start,X=[top,bottom].indexOf(Z)>=0,Q=X?"width":"height",G=detectOverflow(n,{placement:ee,boundary:b,rootBoundary:h,altBoundary:d,padding:y}),te=X?V?right:left:V?bottom:top;B[Q]>F[Q]&&(te=getOppositePlacement(te));var ue=getOppositePlacement(te),fe=[];if(c&&fe.push(G[Z]<=0),p&&fe.push(G[te]<=0,G[ue]<=0),fe.every(function(Ne){return Ne})){z=ee,H=!1;break}q.set(ee,fe)}if(H)for(var K=_?3:1,de=function(Ie){var Le=M.find(function(ut){var mt=q.get(ut);if(mt)return mt.slice(0,Ie).every(function(vt){return vt})});if(Le)return z=Le,"break"},we=K;we>0;we--){var oe=de(we);if(oe==="break")break}n.placement!==z&&(n.modifiersData[s]._skip=!0,n.placement=z,n.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(i,n,a){return a===void 0&&(a={x:0,y:0}),{top:i.top-n.height-a.y,right:i.right-n.width+a.x,bottom:i.bottom-n.height+a.y,left:i.left-n.width-a.x}}function isAnySideFullyClipped(i){return[top,right,bottom,left].some(function(n){return i[n]>=0})}function hide(i){var n=i.state,a=i.name,s=n.rects.reference,l=n.rects.popper,c=n.modifiersData.preventOverflow,f=detectOverflow(n,{elementContext:"reference"}),p=detectOverflow(n,{altBoundary:!0}),g=getSideOffsets(f,s),y=getSideOffsets(p,l,c),b=isAnySideFullyClipped(g),h=isAnySideFullyClipped(y);n.modifiersData[a]={referenceClippingOffsets:g,popperEscapeOffsets:y,isReferenceHidden:b,hasPopperEscaped:h},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":h})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(i,n,a){var s=getBasePlacement(i),l=[left,top].indexOf(s)>=0?-1:1,c=typeof a=="function"?a(Object.assign({},n,{placement:i})):a,f=c[0],p=c[1];return f=f||0,p=(p||0)*l,[left,right].indexOf(s)>=0?{x:p,y:f}:{x:f,y:p}}function offset(i){var n=i.state,a=i.options,s=i.name,l=a.offset,c=l===void 0?[0,0]:l,f=placements.reduce(function(b,h){return b[h]=distanceAndSkiddingToXY(h,n.rects,c),b},{}),p=f[n.placement],g=p.x,y=p.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=g,n.modifiersData.popperOffsets.y+=y),n.modifiersData[s]=f}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(i){var n=i.state,a=i.name;n.modifiersData[a]=computeOffsets({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(i){return i==="x"?"y":"x"}function preventOverflow(i){var n=i.state,a=i.options,s=i.name,l=a.mainAxis,c=l===void 0?!0:l,f=a.altAxis,p=f===void 0?!1:f,g=a.boundary,y=a.rootBoundary,b=a.altBoundary,h=a.padding,d=a.tether,v=d===void 0?!0:d,_=a.tetherOffset,A=_===void 0?0:_,I=detectOverflow(n,{boundary:g,rootBoundary:y,padding:h,altBoundary:b}),R=getBasePlacement(n.placement),P=getVariation(n.placement),$=!P,M=getMainAxisFromPlacement(R),B=getAltAxis(M),F=n.modifiersData.popperOffsets,q=n.rects.reference,H=n.rects.popper,z=typeof A=="function"?A(Object.assign({},n.rects,{placement:n.placement})):A,L=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),ee=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Z={x:0,y:0};if(F){if(c){var V,X=M==="y"?top:left,Q=M==="y"?bottom:right,G=M==="y"?"height":"width",te=F[M],ue=te+I[X],fe=te-I[Q],K=v?-H[G]/2:0,de=P===start?q[G]:H[G],we=P===start?-H[G]:-q[G],oe=n.elements.arrow,Ne=v&&oe?getLayoutRect(oe):{width:0,height:0},Ie=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Le=Ie[X],ut=Ie[Q],mt=within(0,q[G],Ne[G]),vt=$?q[G]/2-K-mt-Le-L.mainAxis:de-mt-Le-L.mainAxis,it=$?-q[G]/2+K+mt+ut+L.mainAxis:we+mt+ut+L.mainAxis,pt=n.elements.arrow&&getOffsetParent(n.elements.arrow),xt=pt?M==="y"?pt.clientTop||0:pt.clientLeft||0:0,kt=(V=ee==null?void 0:ee[M])!=null?V:0,_t=te+vt-kt-xt,Nt=te+it-kt,Vt=within(v?min(ue,_t):ue,te,v?max(fe,Nt):fe);F[M]=Vt,Z[M]=Vt-te}if(p){var Mt,$t=M==="x"?top:left,Ht=M==="x"?bottom:right,Bt=F[B],Ut=B==="y"?"height":"width",St=Bt+I[$t],Lt=Bt-I[Ht],st=[top,left].indexOf(R)!==-1,at=(Mt=ee==null?void 0:ee[B])!=null?Mt:0,Ue=st?St:Bt-q[Ut]-H[Ut]-at+L.altAxis,nt=st?Bt+q[Ut]+H[Ut]-at-L.altAxis:Lt,Ct=v&&st?withinMaxClamp(Ue,Bt,nt):within(v?Ue:St,Bt,v?nt:Lt);F[B]=Ct,Z[B]=Ct-Bt}n.modifiersData[s]=Z}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function getNodeScroll(i){return i===getWindow(i)||!isHTMLElement$1(i)?getWindowScroll(i):getHTMLElementScroll(i)}function isElementScaled(i){var n=i.getBoundingClientRect(),a=round$1(n.width)/i.offsetWidth||1,s=round$1(n.height)/i.offsetHeight||1;return a!==1||s!==1}function getCompositeRect(i,n,a){a===void 0&&(a=!1);var s=isHTMLElement$1(n),l=isHTMLElement$1(n)&&isElementScaled(n),c=getDocumentElement(n),f=getBoundingClientRect(i,l,a),p={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(s||!s&&!a)&&((getNodeName(n)!=="body"||isScrollParent(c))&&(p=getNodeScroll(n)),isHTMLElement$1(n)?(g=getBoundingClientRect(n,!0),g.x+=n.clientLeft,g.y+=n.clientTop):c&&(g.x=getWindowScrollBarX(c))),{x:f.left+p.scrollLeft-g.x,y:f.top+p.scrollTop-g.y,width:f.width,height:f.height}}function order$1(i){var n=new Map,a=new Set,s=[];i.forEach(function(c){n.set(c.name,c)});function l(c){a.add(c.name);var f=[].concat(c.requires||[],c.requiresIfExists||[]);f.forEach(function(p){if(!a.has(p)){var g=n.get(p);g&&l(g)}}),s.push(c)}return i.forEach(function(c){a.has(c.name)||l(c)}),s}function orderModifiers(i){var n=order$1(i);return modifierPhases.reduce(function(a,s){return a.concat(n.filter(function(l){return l.phase===s}))},[])}function debounce(i){var n;return function(){return n||(n=new Promise(function(a){Promise.resolve().then(function(){n=void 0,a(i())})})),n}}function mergeByName(i){var n=i.reduce(function(a,s){var l=a[s.name];return a[s.name]=l?Object.assign({},l,s,{options:Object.assign({},l.options,s.options),data:Object.assign({},l.data,s.data)}):s,a},{});return Object.keys(n).map(function(a){return n[a]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return!n.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function popperGenerator(i){i===void 0&&(i={});var n=i,a=n.defaultModifiers,s=a===void 0?[]:a,l=n.defaultOptions,c=l===void 0?DEFAULT_OPTIONS:l;return function(p,g,y){y===void 0&&(y=c);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,c),modifiersData:{},elements:{reference:p,popper:g},attributes:{},styles:{}},h=[],d=!1,v={state:b,setOptions:function(R){var P=typeof R=="function"?R(b.options):R;A(),b.options=Object.assign({},c,b.options,P),b.scrollParents={reference:isElement(p)?listScrollParents(p):p.contextElement?listScrollParents(p.contextElement):[],popper:listScrollParents(g)};var $=orderModifiers(mergeByName([].concat(s,b.options.modifiers)));return b.orderedModifiers=$.filter(function(M){return M.enabled}),_(),v.update()},forceUpdate:function(){if(!d){var R=b.elements,P=R.reference,$=R.popper;if(areValidElements(P,$)){b.rects={reference:getCompositeRect(P,getOffsetParent($),b.options.strategy==="fixed"),popper:getLayoutRect($)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(L){return b.modifiersData[L.name]=Object.assign({},L.data)});for(var M=0;M<b.orderedModifiers.length;M++){if(b.reset===!0){b.reset=!1,M=-1;continue}var B=b.orderedModifiers[M],F=B.fn,q=B.options,H=q===void 0?{}:q,z=B.name;typeof F=="function"&&(b=F({state:b,options:H,name:z,instance:v})||b)}}}},update:debounce(function(){return new Promise(function(I){v.forceUpdate(),I(b)})}),destroy:function(){A(),d=!0}};if(!areValidElements(p,g))return v;v.setOptions(y).then(function(I){!d&&y.onFirstUpdate&&y.onFirstUpdate(I)});function _(){b.orderedModifiers.forEach(function(I){var R=I.name,P=I.options,$=P===void 0?{}:P,M=I.effect;if(typeof M=="function"){var B=M({state:b,name:R,instance:v,options:$}),F=function(){};h.push(B||F)}})}function A(){h.forEach(function(I){return I()}),h=[]}return v}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function getContainer$1(i){return typeof i=="function"?i():i}const Portal=reactExports.forwardRef(function(n,a){const{children:s,container:l,disablePortal:c=!1}=n,[f,p]=reactExports.useState(null),g=useForkRef(reactExports.isValidElement(s)?getReactElementRef(s):null,a);if(useEnhancedEffect(()=>{c||p(getContainer$1(l)||document.body)},[l,c]),useEnhancedEffect(()=>{if(f&&!c)return setRef(a,f),()=>{setRef(a,null)}},[a,f,c]),c){if(reactExports.isValidElement(s)){const y={ref:g};return reactExports.cloneElement(s,y)}return s}return f&&reactDomExports.createPortal(s,f)});function getPopperUtilityClass(i){return generateUtilityClass("MuiPopper",i)}generateUtilityClasses("MuiPopper",["root"]);function flipPlacement(i,n){if(n==="ltr")return i;switch(i){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return i}}function resolveAnchorEl$1(i){return typeof i=="function"?i():i}function isHTMLElement(i){return i.nodeType!==void 0}const useUtilityClasses$B=i=>{const{classes:n}=i;return composeClasses({root:["root"]},getPopperUtilityClass,n)},defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(n,a){const{anchorEl:s,children:l,direction:c,disablePortal:f,modifiers:p,open:g,placement:y,popperOptions:b,popperRef:h,slotProps:d={},slots:v={},TransitionProps:_,ownerState:A,...I}=n,R=reactExports.useRef(null),P=useForkRef(R,a),$=reactExports.useRef(null),M=useForkRef($,h),B=reactExports.useRef(M);useEnhancedEffect(()=>{B.current=M},[M]),reactExports.useImperativeHandle(h,()=>$.current,[]);const F=flipPlacement(y,c),[q,H]=reactExports.useState(F),[z,L]=reactExports.useState(resolveAnchorEl$1(s));reactExports.useEffect(()=>{$.current&&$.current.forceUpdate()}),reactExports.useEffect(()=>{s&&L(resolveAnchorEl$1(s))},[s]),useEnhancedEffect(()=>{if(!z||!g)return;const Q=ue=>{H(ue.placement)};let G=[{name:"preventOverflow",options:{altBoundary:f}},{name:"flip",options:{altBoundary:f}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ue})=>{Q(ue)}}];p!=null&&(G=G.concat(p)),b&&b.modifiers!=null&&(G=G.concat(b.modifiers));const te=createPopper(z,R.current,{placement:F,...b,modifiers:G});return B.current(te),()=>{te.destroy(),B.current(null)}},[z,f,p,g,b,F]);const ee={placement:q};_!==null&&(ee.TransitionProps=_);const Z=useUtilityClasses$B(n),V=v.root??"div",X=useSlotProps({elementType:V,externalSlotProps:d.root,externalForwardedProps:I,additionalProps:{role:"tooltip",ref:P},ownerState:n,className:Z.root});return jsxRuntimeExports.jsx(V,{...X,children:typeof l=="function"?l(ee):l})}),Popper$1=reactExports.forwardRef(function(n,a){const{anchorEl:s,children:l,container:c,direction:f="ltr",disablePortal:p=!1,keepMounted:g=!1,modifiers:y,open:b,placement:h="bottom",popperOptions:d=defaultPopperOptions,popperRef:v,style:_,transition:A=!1,slotProps:I={},slots:R={},...P}=n,[$,M]=reactExports.useState(!0),B=()=>{M(!1)},F=()=>{M(!0)};if(!g&&!b&&(!A||$))return null;let q;if(c)q=c;else if(s){const L=resolveAnchorEl$1(s);q=L&&isHTMLElement(L)?ownerDocument(L).body:ownerDocument(null).body}const H=!b&&g&&(!A||$)?"none":void 0,z=A?{in:b,onEnter:B,onExited:F}:void 0;return jsxRuntimeExports.jsx(Portal,{disablePortal:p,container:q,children:jsxRuntimeExports.jsx(PopperTooltip,{anchorEl:s,direction:f,disablePortal:p,modifiers:y,ref:a,open:A?!$:b,placement:h,popperOptions:d,popperRef:v,slotProps:I,slots:R,...P,style:{position:"fixed",top:0,left:0,display:H,..._},TransitionProps:z,children:l})})}),PopperRoot=styled(Popper$1,{name:"MuiPopper",slot:"Root",overridesResolver:(i,n)=>n.root})({}),Popper=reactExports.forwardRef(function(n,a){const s=useRtl(),l=useDefaultProps({props:n,name:"MuiPopper"}),{anchorEl:c,component:f,components:p,componentsProps:g,container:y,disablePortal:b,keepMounted:h,modifiers:d,open:v,placement:_,popperOptions:A,popperRef:I,transition:R,slots:P,slotProps:$,...M}=l,B=(P==null?void 0:P.root)??(p==null?void 0:p.Root),F={anchorEl:c,container:y,disablePortal:b,keepMounted:h,modifiers:d,open:v,placement:_,popperOptions:A,popperRef:I,transition:R,...M};return jsxRuntimeExports.jsx(PopperRoot,{as:f,direction:s?"rtl":"ltr",slots:{root:B},slotProps:$??g,...F,ref:a})});function getStyleValue(i){return parseInt(i,10)||0}const styles$3={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isObjectEmpty(i){for(const n in i)return!1;return!0}function isEmpty$1(i){return isObjectEmpty(i)||i.outerHeightStyle===0&&!i.overflowing}const TextareaAutosize=reactExports.forwardRef(function(n,a){const{onChange:s,maxRows:l,minRows:c=1,style:f,value:p,...g}=n,{current:y}=reactExports.useRef(p!=null),b=reactExports.useRef(null),h=useForkRef(a,b),d=reactExports.useRef(null),v=reactExports.useRef(null),_=reactExports.useCallback(()=>{const $=b.current,M=v.current;if(!$||!M)return;const F=ownerWindow($).getComputedStyle($);if(F.width==="0px")return{outerHeightStyle:0,overflowing:!1};M.style.width=F.width,M.value=$.value||n.placeholder||"x",M.value.slice(-1)===`
`&&(M.value+=" ");const q=F.boxSizing,H=getStyleValue(F.paddingBottom)+getStyleValue(F.paddingTop),z=getStyleValue(F.borderBottomWidth)+getStyleValue(F.borderTopWidth),L=M.scrollHeight;M.value="x";const ee=M.scrollHeight;let Z=L;c&&(Z=Math.max(Number(c)*ee,Z)),l&&(Z=Math.min(Number(l)*ee,Z)),Z=Math.max(Z,ee);const V=Z+(q==="border-box"?H+z:0),X=Math.abs(Z-L)<=1;return{outerHeightStyle:V,overflowing:X}},[l,c,n.placeholder]),A=useEventCallback(()=>{const $=b.current,M=_();if(!$||!M||isEmpty$1(M))return!1;const B=M.outerHeightStyle;return d.current!=null&&d.current!==B}),I=reactExports.useCallback(()=>{const $=b.current,M=_();if(!$||!M||isEmpty$1(M))return;const B=M.outerHeightStyle;d.current!==B&&(d.current=B,$.style.height=`${B}px`),$.style.overflow=M.overflowing?"hidden":""},[_]),R=reactExports.useRef(-1);useEnhancedEffect(()=>{const $=debounce$1(I),M=b==null?void 0:b.current;if(!M)return;const B=ownerWindow(M);B.addEventListener("resize",$);let F;return typeof ResizeObserver<"u"&&(F=new ResizeObserver(()=>{A()&&(F.unobserve(M),cancelAnimationFrame(R.current),I(),R.current=requestAnimationFrame(()=>{F.observe(M)}))}),F.observe(M)),()=>{$.clear(),cancelAnimationFrame(R.current),B.removeEventListener("resize",$),F&&F.disconnect()}},[_,I,A]),useEnhancedEffect(()=>{I()});const P=$=>{y||I(),s&&s($)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",{value:p,onChange:P,ref:h,rows:c,style:f,...g}),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:n.className,readOnly:!0,ref:v,tabIndex:-1,style:{...styles$3.shadow,...f,paddingTop:0,paddingBottom:0}})]})});function isHostComponent(i){return typeof i=="string"}function formControlState({props:i,states:n,muiFormControl:a}){return n.reduce((s,l)=>(s[l]=i[l],a&&typeof i[l]>"u"&&(s[l]=a[l]),s),{})}const FormControlContext=reactExports.createContext(void 0);function useFormControl(){return reactExports.useContext(FormControlContext)}function hasValue(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function isFilled(i,n=!1){return i&&(hasValue(i.value)&&i.value!==""||n&&hasValue(i.defaultValue)&&i.defaultValue!=="")}function isAdornedStart(i){return i.startAdornment}function getInputBaseUtilityClass(i){return generateUtilityClass("MuiInputBase",i)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var _InputGlobalStyles;const rootOverridesResolver=(i,n)=>{const{ownerState:a}=i;return[n.root,a.formControl&&n.formControl,a.startAdornment&&n.adornedStart,a.endAdornment&&n.adornedEnd,a.error&&n.error,a.size==="small"&&n.sizeSmall,a.multiline&&n.multiline,a.color&&n[`color${capitalize(a.color)}`],a.fullWidth&&n.fullWidth,a.hiddenLabel&&n.hiddenLabel]},inputOverridesResolver=(i,n)=>{const{ownerState:a}=i;return[n.input,a.size==="small"&&n.inputSizeSmall,a.multiline&&n.inputMultiline,a.type==="search"&&n.inputTypeSearch,a.startAdornment&&n.inputAdornedStart,a.endAdornment&&n.inputAdornedEnd,a.hiddenLabel&&n.inputHiddenLabel]},useUtilityClasses$A=i=>{const{classes:n,color:a,disabled:s,error:l,endAdornment:c,focused:f,formControl:p,fullWidth:g,hiddenLabel:y,multiline:b,readOnly:h,size:d,startAdornment:v,type:_}=i,A={root:["root",`color${capitalize(a)}`,s&&"disabled",l&&"error",g&&"fullWidth",f&&"focused",p&&"formControl",d&&d!=="medium"&&`size${capitalize(d)}`,b&&"multiline",v&&"adornedStart",c&&"adornedEnd",y&&"hiddenLabel",h&&"readOnly"],input:["input",s&&"disabled",_==="search"&&"inputTypeSearch",b&&"inputMultiline",d==="small"&&"inputSizeSmall",y&&"inputHiddenLabel",v&&"inputAdornedStart",c&&"inputAdornedEnd",h&&"readOnly"]};return composeClasses(A,getInputBaseUtilityClass,n)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:n})=>n.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:n,size:a})=>n.multiline&&a==="small",style:{paddingTop:1}},{props:({ownerState:n})=>n.fullWidth,style:{width:"100%"}}]}))),InputBaseInput=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>{const n=i.palette.mode==="light",a={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},s={opacity:"0 !important"},l=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus::-ms-input-placeholder":l},[`&.${inputBaseClasses.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:c})=>!c.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:c})=>c.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),InputGlobalStyles=globalCss({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),InputBase=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:c,autoFocus:f,className:p,color:g,components:y={},componentsProps:b={},defaultValue:h,disabled:d,disableInjectingGlobalStyles:v,endAdornment:_,error:A,fullWidth:I=!1,id:R,inputComponent:P="input",inputProps:$={},inputRef:M,margin:B,maxRows:F,minRows:q,multiline:H=!1,name:z,onBlur:L,onChange:ee,onClick:Z,onFocus:V,onKeyDown:X,onKeyUp:Q,placeholder:G,readOnly:te,renderSuffix:ue,rows:fe,size:K,slotProps:de={},slots:we={},startAdornment:oe,type:Ne="text",value:Ie,...Le}=s,ut=$.value!=null?$.value:Ie,{current:mt}=reactExports.useRef(ut!=null),vt=reactExports.useRef(),it=reactExports.useCallback(Je=>{},[]),pt=useForkRef(vt,M,$.ref,it),[xt,kt]=reactExports.useState(!1),_t=useFormControl(),Nt=formControlState({props:s,muiFormControl:_t,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Nt.focused=_t?_t.focused:xt,reactExports.useEffect(()=>{!_t&&d&&xt&&(kt(!1),L&&L())},[_t,d,xt,L]);const Vt=_t&&_t.onFilled,Mt=_t&&_t.onEmpty,$t=reactExports.useCallback(Je=>{isFilled(Je)?Vt&&Vt():Mt&&Mt()},[Vt,Mt]);useEnhancedEffect(()=>{mt&&$t({value:ut})},[ut,$t,mt]);const Ht=Je=>{V&&V(Je),$.onFocus&&$.onFocus(Je),_t&&_t.onFocus?_t.onFocus(Je):kt(!0)},Bt=Je=>{L&&L(Je),$.onBlur&&$.onBlur(Je),_t&&_t.onBlur?_t.onBlur(Je):kt(!1)},Ut=(Je,...gt)=>{if(!mt){const Et=Je.target||vt.current;if(Et==null)throw new Error(formatMuiErrorMessage(1));$t({value:Et.value})}$.onChange&&$.onChange(Je,...gt),ee&&ee(Je,...gt)};reactExports.useEffect(()=>{$t(vt.current)},[]);const St=Je=>{vt.current&&Je.currentTarget===Je.target&&vt.current.focus(),Z&&Z(Je)};let Lt=P,st=$;H&&Lt==="input"&&(fe?st={type:void 0,minRows:fe,maxRows:fe,...st}:st={type:void 0,maxRows:F,minRows:q,...st},Lt=TextareaAutosize);const at=Je=>{$t(Je.animationName==="mui-auto-fill-cancel"?vt.current:{value:"x"})};reactExports.useEffect(()=>{_t&&_t.setAdornedStart(!!oe)},[_t,oe]);const Ue={...s,color:Nt.color||"primary",disabled:Nt.disabled,endAdornment:_,error:Nt.error,focused:Nt.focused,formControl:_t,fullWidth:I,hiddenLabel:Nt.hiddenLabel,multiline:H,size:Nt.size,startAdornment:oe,type:Ne},nt=useUtilityClasses$A(Ue),Ct=we.root||y.Root||InputBaseRoot,ce=de.root||b.root||{},He=we.input||y.Input||InputBaseInput;return st={...st,...de.input??b.input},jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!v&&typeof InputGlobalStyles=="function"&&(_InputGlobalStyles||(_InputGlobalStyles=jsxRuntimeExports.jsx(InputGlobalStyles,{}))),jsxRuntimeExports.jsxs(Ct,{...ce,ref:a,onClick:St,...Le,...!isHostComponent(Ct)&&{ownerState:{...Ue,...ce.ownerState}},className:clsx(nt.root,ce.className,p,te&&"MuiInputBase-readOnly"),children:[oe,jsxRuntimeExports.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports.jsx(He,{"aria-invalid":Nt.error,"aria-describedby":l,autoComplete:c,autoFocus:f,defaultValue:h,disabled:Nt.disabled,id:R,onAnimationStart:at,name:z,placeholder:G,readOnly:te,required:Nt.required,rows:fe,value:ut,onKeyDown:X,onKeyUp:Q,type:Ne,...st,...!isHostComponent(He)&&{as:Lt,ownerState:{...Ue,...st.ownerState}},ref:pt,className:clsx(nt.input,st.className,te&&"MuiInputBase-readOnly"),onBlur:Bt,onChange:Ut,onFocus:Ht})}),_,ue?ue({...Nt,startAdornment:oe}):null]})]})});function getInputUtilityClass(i){return generateUtilityClass("MuiInput",i)}const inputClasses={...inputBaseClasses,...generateUtilityClasses("MuiInput",["root","underline","input"])};function getOutlinedInputUtilityClass(i){return generateUtilityClass("MuiOutlinedInput",i)}const outlinedInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])};function getFilledInputUtilityClass(i){return generateUtilityClass("MuiFilledInput",i)}const filledInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},ArrowDropDownIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),styles$2={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(n,a){const s=useTheme(),l={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:c,appear:f=!0,children:p,easing:g,in:y,onEnter:b,onEntered:h,onEntering:d,onExit:v,onExited:_,onExiting:A,style:I,timeout:R=l,TransitionComponent:P=Transition,...$}=n,M=reactExports.useRef(null),B=useForkRef(M,getReactElementRef(p),a),F=X=>Q=>{if(X){const G=M.current;Q===void 0?X(G):X(G,Q)}},q=F(d),H=F((X,Q)=>{reflow(X);const G=getTransitionProps({style:I,timeout:R,easing:g},{mode:"enter"});X.style.webkitTransition=s.transitions.create("opacity",G),X.style.transition=s.transitions.create("opacity",G),b&&b(X,Q)}),z=F(h),L=F(A),ee=F(X=>{const Q=getTransitionProps({style:I,timeout:R,easing:g},{mode:"exit"});X.style.webkitTransition=s.transitions.create("opacity",Q),X.style.transition=s.transitions.create("opacity",Q),v&&v(X)}),Z=F(_),V=X=>{c&&c(M.current,X)};return jsxRuntimeExports.jsx(P,{appear:f,in:y,nodeRef:M,onEnter:H,onEntered:z,onEntering:q,onExit:ee,onExited:Z,onExiting:L,addEndListener:V,timeout:R,...$,children:(X,{ownerState:Q,...G})=>reactExports.cloneElement(p,{style:{opacity:0,visibility:X==="exited"&&!y?"hidden":void 0,...styles$2[X],...I,...p.props.style},ref:B,...G})})});function getBackdropUtilityClass(i){return generateUtilityClass("MuiBackdrop",i)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const useUtilityClasses$z=i=>{const{classes:n,invisible:a}=i;return composeClasses({root:["root",a&&"invisible"]},getBackdropUtilityClass,n)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.invisible&&n.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Backdrop=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiBackdrop"}),{children:l,className:c,component:f="div",invisible:p=!1,open:g,components:y={},componentsProps:b={},slotProps:h={},slots:d={},TransitionComponent:v,transitionDuration:_,...A}=s,I={...s,component:f,invisible:p},R=useUtilityClasses$z(I),P={transition:v,root:y.Root,...d},$={...b,...h},M={slots:P,slotProps:$},[B,F]=useSlot("root",{elementType:BackdropRoot,externalForwardedProps:M,className:clsx(R.root,c),ownerState:I}),[q,H]=useSlot("transition",{elementType:Fade,externalForwardedProps:M,ownerState:I});return jsxRuntimeExports.jsx(q,{in:g,timeout:_,...A,...H,children:jsxRuntimeExports.jsx(B,{"aria-hidden":!0,...F,classes:R,ref:a,children:l})})}),boxClasses=generateUtilityClasses("MuiBox",["root"]),defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses.root,generateClassName:ClassNameGenerator.generate});function getButtonUtilityClass(i){return generateUtilityClass("MuiButton",i)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),ButtonGroupContext=reactExports.createContext({}),ButtonGroupButtonContext=reactExports.createContext(void 0),useUtilityClasses$y=i=>{const{color:n,disableElevation:a,fullWidth:s,size:l,variant:c,loading:f,loadingPosition:p,classes:g}=i,y={root:["root",f&&"loading",c,`${c}${capitalize(n)}`,`size${capitalize(l)}`,`${c}Size${capitalize(l)}`,`color${capitalize(n)}`,a&&"disableElevation",s&&"fullWidth",f&&`loadingPosition${capitalize(p)}`],startIcon:["icon","startIcon",`iconSize${capitalize(l)}`],endIcon:["icon","endIcon",`iconSize${capitalize(l)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},b=composeClasses(y,getButtonUtilityClass,g);return{...g,...b}},commonIconStyles=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ButtonRoot=styled(ButtonBase,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,n[a.variant],n[`${a.variant}${capitalize(a.color)}`],n[`size${capitalize(a.size)}`],n[`${a.variant}Size${capitalize(a.size)}`],a.color==="inherit"&&n.colorInherit,a.disableElevation&&n.disableElevation,a.fullWidth&&n.fullWidth,a.loading&&n.loading]}})(memoTheme(({theme:i})=>{const n=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],a=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${buttonClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${buttonClasses.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${buttonClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${buttonClasses.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s},style:{"--variant-textColor":(i.vars||i).palette[s].main,"--variant-outlinedColor":(i.vars||i).palette[s].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[s].mainChannel} / 0.5)`:alpha(i.palette[s].main,.5),"--variant-containedColor":(i.vars||i).palette[s].contrastText,"--variant-containedBg":(i.vars||i).palette[s].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[s].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette[s].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[s].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette[s].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:a,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${buttonClasses.loading}`]:{color:"transparent"}}}]}})),ButtonStartIcon=styled("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.startIcon,a.loading&&n.startIconLoadingStart,n[`iconSize${capitalize(a.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...commonIconStyles]})),ButtonEndIcon=styled("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.endIcon,a.loading&&n.endIconLoadingEnd,n[`iconSize${capitalize(a.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...commonIconStyles]})),ButtonLoadingIndicator=styled("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(i,n)=>n.loadingIndicator})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(i.vars||i).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ButtonLoadingIconPlaceholder=styled("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(i,n)=>n.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Button=reactExports.forwardRef(function(n,a){const s=reactExports.useContext(ButtonGroupContext),l=reactExports.useContext(ButtonGroupButtonContext),c=resolveProps(s,n),f=useDefaultProps({props:c,name:"MuiButton"}),{children:p,color:g="primary",component:y="button",className:b,disabled:h=!1,disableElevation:d=!1,disableFocusRipple:v=!1,endIcon:_,focusVisibleClassName:A,fullWidth:I=!1,id:R,loading:P=null,loadingIndicator:$,loadingPosition:M="center",size:B="medium",startIcon:F,type:q,variant:H="text",...z}=f,L=useId(R),ee=$??jsxRuntimeExports.jsx(CircularProgress,{"aria-labelledby":L,color:"inherit",size:16}),Z={...f,color:g,component:y,disabled:h,disableElevation:d,disableFocusRipple:v,fullWidth:I,loading:P,loadingIndicator:ee,loadingPosition:M,size:B,type:q,variant:H},V=useUtilityClasses$y(Z),X=(F||P&&M==="start")&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:V.startIcon,ownerState:Z,children:F||jsxRuntimeExports.jsx(ButtonLoadingIconPlaceholder,{className:V.loadingIconPlaceholder,ownerState:Z})}),Q=(_||P&&M==="end")&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:V.endIcon,ownerState:Z,children:_||jsxRuntimeExports.jsx(ButtonLoadingIconPlaceholder,{className:V.loadingIconPlaceholder,ownerState:Z})}),G=l||"",te=typeof P=="boolean"?jsxRuntimeExports.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:P&&jsxRuntimeExports.jsx(ButtonLoadingIndicator,{className:V.loadingIndicator,ownerState:Z,children:ee})}):null;return jsxRuntimeExports.jsxs(ButtonRoot,{ownerState:Z,className:clsx(s.className,V.root,b,G),component:y,disabled:h||P,focusRipple:!v,focusVisibleClassName:clsx(V.focusVisible,A),ref:a,type:q,id:P?L:R,...z,classes:V,children:[X,M!=="end"&&te,p,M==="end"&&te,Q]})});function getSwitchBaseUtilityClass(i){return generateUtilityClass("PrivateSwitchBase",i)}generateUtilityClasses("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const useUtilityClasses$x=i=>{const{classes:n,checked:a,disabled:s,edge:l}=i,c={root:["root",a&&"checked",s&&"disabled",l&&`edge${capitalize(l)}`],input:["input"]};return composeClasses(c,getSwitchBaseUtilityClass,n)},SwitchBaseRoot=styled(ButtonBase,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:i,ownerState:n})=>i==="start"&&n.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:i,ownerState:n})=>i==="end"&&n.size!=="small",style:{marginRight:-12}}]}),SwitchBaseInput=styled("input",{name:"MuiSwitchBase",shouldForwardProp:rootShouldForwardProp})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SwitchBase=reactExports.forwardRef(function(n,a){const{autoFocus:s,checked:l,checkedIcon:c,defaultChecked:f,disabled:p,disableFocusRipple:g=!1,edge:y=!1,icon:b,id:h,inputProps:d,inputRef:v,name:_,onBlur:A,onChange:I,onFocus:R,readOnly:P,required:$=!1,tabIndex:M,type:B,value:F,slots:q={},slotProps:H={},...z}=n,[L,ee]=useControlled({controlled:l,default:!!f,name:"SwitchBase",state:"checked"}),Z=useFormControl(),V=Ie=>{R&&R(Ie),Z&&Z.onFocus&&Z.onFocus(Ie)},X=Ie=>{A&&A(Ie),Z&&Z.onBlur&&Z.onBlur(Ie)},Q=Ie=>{if(Ie.nativeEvent.defaultPrevented)return;const Le=Ie.target.checked;ee(Le),I&&I(Ie,Le)};let G=p;Z&&typeof G>"u"&&(G=Z.disabled);const te=B==="checkbox"||B==="radio",ue={...n,checked:L,disabled:G,disableFocusRipple:g,edge:y},fe=useUtilityClasses$x(ue),K={slots:q,slotProps:{input:d,...H}},[de,we]=useSlot("root",{ref:a,elementType:SwitchBaseRoot,className:fe.root,shouldForwardComponentProp:!0,externalForwardedProps:{...K,component:"span",...z},getSlotProps:Ie=>({...Ie,onFocus:Le=>{var ut;(ut=Ie.onFocus)==null||ut.call(Ie,Le),V(Le)},onBlur:Le=>{var ut;(ut=Ie.onBlur)==null||ut.call(Ie,Le),X(Le)}}),ownerState:ue,additionalProps:{centerRipple:!0,focusRipple:!g,disabled:G,role:void 0,tabIndex:null}}),[oe,Ne]=useSlot("input",{ref:v,elementType:SwitchBaseInput,className:fe.input,externalForwardedProps:K,getSlotProps:Ie=>({onChange:Le=>{var ut;(ut=Ie.onChange)==null||ut.call(Ie,Le),Q(Le)}}),ownerState:ue,additionalProps:{autoFocus:s,checked:l,defaultChecked:f,disabled:G,id:te?h:void 0,name:_,readOnly:P,required:$,tabIndex:M,type:B,...B==="checkbox"&&F===void 0?{}:{value:F}}});return jsxRuntimeExports.jsxs(de,{...we,children:[jsxRuntimeExports.jsx(oe,{...Ne}),L?c:b]})}),CheckBoxOutlineBlankIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CheckBoxIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),IndeterminateCheckBoxIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function getCheckboxUtilityClass(i){return generateUtilityClass("MuiCheckbox",i)}const checkboxClasses=generateUtilityClasses("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),useUtilityClasses$w=i=>{const{classes:n,indeterminate:a,color:s,size:l}=i,c={root:["root",a&&"indeterminate",`color${capitalize(s)}`,`size${capitalize(l)}`]},f=composeClasses(c,getCheckboxUtilityClass,n);return{...n,...f}},CheckboxRoot=styled(SwitchBase,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.indeterminate&&n.indeterminate,n[`size${capitalize(a.size)}`],a.color!=="default"&&n[`color${capitalize(a.color)}`]]}})(memoTheme(({theme:i})=>({color:(i.vars||i).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.action.active,i.palette.action.hoverOpacity)}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([n])=>({props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[n].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette[n].main,i.palette.action.hoverOpacity)}}})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([n])=>({props:{color:n},style:{[`&.${checkboxClasses.checked}, &.${checkboxClasses.indeterminate}`]:{color:(i.vars||i).palette[n].main},[`&.${checkboxClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),defaultCheckedIcon=jsxRuntimeExports.jsx(CheckBoxIcon,{}),defaultIcon=jsxRuntimeExports.jsx(CheckBoxOutlineBlankIcon,{}),defaultIndeterminateIcon=jsxRuntimeExports.jsx(IndeterminateCheckBoxIcon,{}),Checkbox=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiCheckbox"}),{checkedIcon:l=defaultCheckedIcon,color:c="primary",icon:f=defaultIcon,indeterminate:p=!1,indeterminateIcon:g=defaultIndeterminateIcon,inputProps:y,size:b="medium",disableRipple:h=!1,className:d,slots:v={},slotProps:_={},...A}=s,I=p?g:f,R=p?g:l,P={...s,disableRipple:h,color:c,indeterminate:p,size:b},$=useUtilityClasses$w(P),M=_.input??y,[B,F]=useSlot("root",{ref:a,elementType:CheckboxRoot,className:clsx($.root,d),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:_,...A},ownerState:P,additionalProps:{type:"checkbox",icon:reactExports.cloneElement(I,{fontSize:I.props.fontSize??b}),checkedIcon:reactExports.cloneElement(R,{fontSize:R.props.fontSize??b}),disableRipple:h,slots:v,slotProps:{input:mergeSlotProps(typeof M=="function"?M(P):M,{"data-indeterminate":p})}}});return jsxRuntimeExports.jsx(B,{...F,classes:$})}),isDynamicSupport=typeof globalCss({})=="function",html$4=(i,n)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...n&&!i.vars&&{colorScheme:i.palette.mode}}),body=i=>({color:(i.vars||i).palette.text.primary,...i.typography.body1,backgroundColor:(i.vars||i).palette.background.default,"@media print":{backgroundColor:(i.vars||i).palette.common.white}}),styles$1=(i,n=!1)=>{var c,f;const a={};n&&i.colorSchemes&&typeof i.getColorSchemeSelector=="function"&&Object.entries(i.colorSchemes).forEach(([p,g])=>{var b,h;const y=i.getColorSchemeSelector(p);y.startsWith("@")?a[y]={":root":{colorScheme:(b=g.palette)==null?void 0:b.mode}}:a[y.replace(/\s*&/,"")]={colorScheme:(h=g.palette)==null?void 0:h.mode}});let s={html:html$4(i,n),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:i.typography.fontWeightBold},body:{margin:0,...body(i),"&::backdrop":{backgroundColor:(i.vars||i).palette.background.default}},...a};const l=(f=(c=i.components)==null?void 0:c.MuiCssBaseline)==null?void 0:f.styleOverrides;return l&&(s=[s,l]),s},SELECTOR="mui-ecs",staticStyles=i=>{const n=styles$1(i,!1),a=Array.isArray(n)?n[0]:n;return!i.vars&&a&&(a.html[`:root:has(${SELECTOR})`]={colorScheme:i.palette.mode}),i.colorSchemes&&Object.entries(i.colorSchemes).forEach(([s,l])=>{var f,p;const c=i.getColorSchemeSelector(s);c.startsWith("@")?a[c]={[`:root:not(:has(.${SELECTOR}))`]:{colorScheme:(f=l.palette)==null?void 0:f.mode}}:a[c.replace(/\s*&/,"")]={[`&:not(:has(.${SELECTOR}))`]:{colorScheme:(p=l.palette)==null?void 0:p.mode}}}),n},GlobalStyles=globalCss(isDynamicSupport?({theme:i,enableColorScheme:n})=>styles$1(i,n):({theme:i})=>staticStyles(i));function CssBaseline(i){const n=useDefaultProps({props:i,name:"MuiCssBaseline"}),{children:a,enableColorScheme:s=!1}=n;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[isDynamicSupport&&jsxRuntimeExports.jsx(GlobalStyles,{enableColorScheme:s}),!isDynamicSupport&&!s&&jsxRuntimeExports.jsx("span",{className:SELECTOR,style:{display:"none"}}),a]})}function isOverflowing(i){const n=ownerDocument(i);return n.body===i?ownerWindow(i).innerWidth>n.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function ariaHidden(i,n){n?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function getPaddingRight(i){return parseInt(ownerWindow(i).getComputedStyle(i).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(i){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),s=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return a||s}function ariaHiddenSiblings(i,n,a,s,l){const c=[n,a,...s];[].forEach.call(i.children,f=>{const p=!c.includes(f),g=!isAriaHiddenForbiddenOnElement(f);p&&g&&ariaHidden(f,l)})}function findIndexOf(i,n){let a=-1;return i.some((s,l)=>n(s)?(a=l,!0):!1),a}function handleContainer(i,n){const a=[],s=i.container;if(!n.disableScrollLock){if(isOverflowing(s)){const f=getScrollbarSize(ownerWindow(s));a.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${getPaddingRight(s)+f}px`;const p=ownerDocument(s).querySelectorAll(".mui-fixed");[].forEach.call(p,g=>{a.push({value:g.style.paddingRight,property:"padding-right",el:g}),g.style.paddingRight=`${getPaddingRight(g)+f}px`})}let c;if(s.parentNode instanceof DocumentFragment)c=ownerDocument(s).body;else{const f=s.parentElement,p=ownerWindow(s);c=(f==null?void 0:f.nodeName)==="HTML"&&p.getComputedStyle(f).overflowY==="scroll"?f:s}a.push({value:c.style.overflow,property:"overflow",el:c},{value:c.style.overflowX,property:"overflow-x",el:c},{value:c.style.overflowY,property:"overflow-y",el:c}),c.style.overflow="hidden"}return()=>{a.forEach(({value:c,el:f,property:p})=>{c?f.style.setProperty(p,c):f.style.removeProperty(p)})}}function getHiddenSiblings(i){const n=[];return[].forEach.call(i.children,a=>{a.getAttribute("aria-hidden")==="true"&&n.push(a)}),n}class ModalManager{constructor(){this.modals=[],this.containers=[]}add(n,a){let s=this.modals.indexOf(n);if(s!==-1)return s;s=this.modals.length,this.modals.push(n),n.modalRef&&ariaHidden(n.modalRef,!1);const l=getHiddenSiblings(a);ariaHiddenSiblings(a,n.mount,n.modalRef,l,!0);const c=findIndexOf(this.containers,f=>f.container===a);return c!==-1?(this.containers[c].modals.push(n),s):(this.containers.push({modals:[n],container:a,restore:null,hiddenSiblings:l}),s)}mount(n,a){const s=findIndexOf(this.containers,c=>c.modals.includes(n)),l=this.containers[s];l.restore||(l.restore=handleContainer(l,a))}remove(n,a=!0){const s=this.modals.indexOf(n);if(s===-1)return s;const l=findIndexOf(this.containers,f=>f.modals.includes(n)),c=this.containers[l];if(c.modals.splice(c.modals.indexOf(n),1),this.modals.splice(s,1),c.modals.length===0)c.restore&&c.restore(),n.modalRef&&ariaHidden(n.modalRef,a),ariaHiddenSiblings(c.container,n.mount,n.modalRef,c.hiddenSiblings,!1),this.containers.splice(l,1);else{const f=c.modals[c.modals.length-1];f.modalRef&&ariaHidden(f.modalRef,!1)}return s}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(i){const n=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(n)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:n}function isNonTabbableRadio(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const n=s=>i.ownerDocument.querySelector(`input[type="radio"]${s}`);let a=n(`[name="${i.name}"]:checked`);return a||(a=n(`[name="${i.name}"]`)),a!==i}function isNodeMatchingSelectorFocusable(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||isNonTabbableRadio(i))}function defaultGetTabbable(i){const n=[],a=[];return Array.from(i.querySelectorAll(candidatesSelector)).forEach((s,l)=>{const c=getTabIndex(s);c===-1||!isNodeMatchingSelectorFocusable(s)||(c===0?n.push(s):a.push({documentOrder:l,tabIndex:c,node:s}))}),a.sort((s,l)=>s.tabIndex===l.tabIndex?s.documentOrder-l.documentOrder:s.tabIndex-l.tabIndex).map(s=>s.node).concat(n)}function defaultIsEnabled(){return!0}function FocusTrap(i){const{children:n,disableAutoFocus:a=!1,disableEnforceFocus:s=!1,disableRestoreFocus:l=!1,getTabbable:c=defaultGetTabbable,isEnabled:f=defaultIsEnabled,open:p}=i,g=reactExports.useRef(!1),y=reactExports.useRef(null),b=reactExports.useRef(null),h=reactExports.useRef(null),d=reactExports.useRef(null),v=reactExports.useRef(!1),_=reactExports.useRef(null),A=useForkRef(getReactElementRef(n),_),I=reactExports.useRef(null);reactExports.useEffect(()=>{!p||!_.current||(v.current=!a)},[a,p]),reactExports.useEffect(()=>{if(!p||!_.current)return;const $=ownerDocument(_.current);return _.current.contains($.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),v.current&&_.current.focus()),()=>{l||(h.current&&h.current.focus&&(g.current=!0,h.current.focus()),h.current=null)}},[p]),reactExports.useEffect(()=>{if(!p||!_.current)return;const $=ownerDocument(_.current),M=q=>{I.current=q,!(s||!f()||q.key!=="Tab")&&$.activeElement===_.current&&q.shiftKey&&(g.current=!0,b.current&&b.current.focus())},B=()=>{var z,L;const q=_.current;if(q===null)return;if(!$.hasFocus()||!f()||g.current){g.current=!1;return}if(q.contains($.activeElement)||s&&$.activeElement!==y.current&&$.activeElement!==b.current)return;if($.activeElement!==d.current)d.current=null;else if(d.current!==null)return;if(!v.current)return;let H=[];if(($.activeElement===y.current||$.activeElement===b.current)&&(H=c(_.current)),H.length>0){const ee=!!((z=I.current)!=null&&z.shiftKey&&((L=I.current)==null?void 0:L.key)==="Tab"),Z=H[0],V=H[H.length-1];typeof Z!="string"&&typeof V!="string"&&(ee?V.focus():Z.focus())}else q.focus()};$.addEventListener("focusin",B),$.addEventListener("keydown",M,!0);const F=setInterval(()=>{$.activeElement&&$.activeElement.tagName==="BODY"&&B()},50);return()=>{clearInterval(F),$.removeEventListener("focusin",B),$.removeEventListener("keydown",M,!0)}},[a,s,l,f,p,c]);const R=$=>{h.current===null&&(h.current=$.relatedTarget),v.current=!0,d.current=$.target;const M=n.props.onFocus;M&&M($)},P=$=>{h.current===null&&(h.current=$.relatedTarget),v.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:p?0:-1,onFocus:P,ref:y,"data-testid":"sentinelStart"}),reactExports.cloneElement(n,{ref:A,onFocus:R}),jsxRuntimeExports.jsx("div",{tabIndex:p?0:-1,onFocus:P,ref:b,"data-testid":"sentinelEnd"})]})}function getContainer(i){return typeof i=="function"?i():i}function getHasTransition(i){return i?i.props.hasOwnProperty("in"):!1}const noop$1=()=>{},manager=new ModalManager;function useModal(i){const{container:n,disableEscapeKeyDown:a=!1,disableScrollLock:s=!1,closeAfterTransition:l=!1,onTransitionEnter:c,onTransitionExited:f,children:p,onClose:g,open:y,rootRef:b}=i,h=reactExports.useRef({}),d=reactExports.useRef(null),v=reactExports.useRef(null),_=useForkRef(v,b),[A,I]=reactExports.useState(!y),R=getHasTransition(p);let P=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(P=!1);const $=()=>ownerDocument(d.current),M=()=>(h.current.modalRef=v.current,h.current.mount=d.current,h.current),B=()=>{manager.mount(M(),{disableScrollLock:s}),v.current&&(v.current.scrollTop=0)},F=useEventCallback(()=>{const Q=getContainer(n)||$().body;manager.add(M(),Q),v.current&&B()}),q=()=>manager.isTopModal(M()),H=useEventCallback(Q=>{d.current=Q,Q&&(y&&q()?B():v.current&&ariaHidden(v.current,P))}),z=reactExports.useCallback(()=>{manager.remove(M(),P)},[P]);reactExports.useEffect(()=>()=>{z()},[z]),reactExports.useEffect(()=>{y?F():(!R||!l)&&z()},[y,z,R,l,F]);const L=Q=>G=>{var te;(te=Q.onKeyDown)==null||te.call(Q,G),!(G.key!=="Escape"||G.which===229||!q())&&(a||(G.stopPropagation(),g&&g(G,"escapeKeyDown")))},ee=Q=>G=>{var te;(te=Q.onClick)==null||te.call(Q,G),G.target===G.currentTarget&&g&&g(G,"backdropClick")};return{getRootProps:(Q={})=>{const G=extractEventHandlers(i);delete G.onTransitionEnter,delete G.onTransitionExited;const te={...G,...Q};return{role:"presentation",...te,onKeyDown:L(te),ref:_}},getBackdropProps:(Q={})=>{const G=Q;return{"aria-hidden":!0,...G,onClick:ee(G),open:y}},getTransitionProps:()=>{const Q=()=>{I(!1),c&&c()},G=()=>{I(!0),f&&f(),l&&z()};return{onEnter:createChainedFunction(Q,(p==null?void 0:p.props.onEnter)??noop$1),onExited:createChainedFunction(G,(p==null?void 0:p.props.onExited)??noop$1)}},rootRef:_,portalRef:H,isTopModal:q,exited:A,hasTransition:R}}function getModalUtilityClass(i){return generateUtilityClass("MuiModal",i)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const useUtilityClasses$v=i=>{const{open:n,exited:a,classes:s}=i;return composeClasses({root:["root",!n&&a&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,s)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,!a.open&&a.exited&&n.hidden]}})(memoTheme(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:n})=>!n.open&&n.exited,style:{visibility:"hidden"}}]}))),ModalBackdrop=styled(Backdrop,{name:"MuiModal",slot:"Backdrop",overridesResolver:(i,n)=>n.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(n,a){const s=useDefaultProps({name:"MuiModal",props:n}),{BackdropComponent:l=ModalBackdrop,BackdropProps:c,classes:f,className:p,closeAfterTransition:g=!1,children:y,container:b,component:h,components:d={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:I=!1,disablePortal:R=!1,disableRestoreFocus:P=!1,disableScrollLock:$=!1,hideBackdrop:M=!1,keepMounted:B=!1,onBackdropClick:F,onClose:q,onTransitionEnter:H,onTransitionExited:z,open:L,slotProps:ee={},slots:Z={},theme:V,...X}=s,Q={...s,closeAfterTransition:g,disableAutoFocus:_,disableEnforceFocus:A,disableEscapeKeyDown:I,disablePortal:R,disableRestoreFocus:P,disableScrollLock:$,hideBackdrop:M,keepMounted:B},{getRootProps:G,getBackdropProps:te,getTransitionProps:ue,portalRef:fe,isTopModal:K,exited:de,hasTransition:we}=useModal({...Q,rootRef:a}),oe={...Q,exited:de},Ne=useUtilityClasses$v(oe),Ie={};if(y.props.tabIndex===void 0&&(Ie.tabIndex="-1"),we){const{onEnter:pt,onExited:xt}=ue();Ie.onEnter=pt,Ie.onExited=xt}const Le={slots:{root:d.Root,backdrop:d.Backdrop,...Z},slotProps:{...v,...ee}},[ut,mt]=useSlot("root",{ref:a,elementType:ModalRoot,externalForwardedProps:{...Le,...X,component:h},getSlotProps:G,ownerState:oe,className:clsx(p,Ne==null?void 0:Ne.root,!oe.open&&oe.exited&&(Ne==null?void 0:Ne.hidden))}),[vt,it]=useSlot("backdrop",{ref:c==null?void 0:c.ref,elementType:l,externalForwardedProps:Le,shouldForwardComponentProp:!0,additionalProps:c,getSlotProps:pt=>te({...pt,onClick:xt=>{F&&F(xt),pt!=null&&pt.onClick&&pt.onClick(xt)}}),className:clsx(c==null?void 0:c.className,Ne==null?void 0:Ne.backdrop),ownerState:oe});return!B&&!L&&(!we||de)?null:jsxRuntimeExports.jsx(Portal,{ref:fe,container:b,disablePortal:R,children:jsxRuntimeExports.jsxs(ut,{...mt,children:[!M&&l?jsxRuntimeExports.jsx(vt,{...it}):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:A,disableAutoFocus:_,disableRestoreFocus:P,isEnabled:K,open:L,children:reactExports.cloneElement(y,Ie)})]})})});function getDialogUtilityClass(i){return generateUtilityClass("MuiDialog",i)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),DialogContext=reactExports.createContext({}),DialogBackdrop=styled(Backdrop,{name:"MuiDialog",slot:"Backdrop",overrides:(i,n)=>n.backdrop})({zIndex:-1}),useUtilityClasses$u=i=>{const{classes:n,scroll:a,maxWidth:s,fullWidth:l,fullScreen:c}=i,f={root:["root"],container:["container",`scroll${capitalize(a)}`],paper:["paper",`paperScroll${capitalize(a)}`,`paperWidth${capitalize(String(s))}`,l&&"paperFullWidth",c&&"paperFullScreen"]};return composeClasses(f,getDialogUtilityClass,n)},DialogRoot=styled(Modal,{name:"MuiDialog",slot:"Root",overridesResolver:(i,n)=>n.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled("div",{name:"MuiDialog",slot:"Container",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.container,n[`scroll${capitalize(a.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),DialogPaper=styled(Paper,{name:"MuiDialog",slot:"Paper",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.paper,n[`scrollPaper${capitalize(a.scroll)}`],n[`paperWidth${capitalize(String(a.maxWidth))}`],a.fullWidth&&n.paperFullWidth,a.fullScreen&&n.paperFullScreen]}})(memoTheme(({theme:i})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:n})=>!n.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:i.breakpoints.unit==="px"?Math.max(i.breakpoints.values.xs,444):`max(${i.breakpoints.values.xs}${i.breakpoints.unit}, 444px)`,[`&.${dialogClasses.paperScrollBody}`]:{[i.breakpoints.down(Math.max(i.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(i.breakpoints.values).filter(n=>n!=="xs").map(n=>({props:{maxWidth:n},style:{maxWidth:`${i.breakpoints.values[n]}${i.breakpoints.unit}`,[`&.${dialogClasses.paperScrollBody}`]:{[i.breakpoints.down(i.breakpoints.values[n]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:n})=>n.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:n})=>n.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Dialog=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiDialog"}),l=useTheme(),c={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":f,"aria-labelledby":p,"aria-modal":g=!0,BackdropComponent:y,BackdropProps:b,children:h,className:d,disableEscapeKeyDown:v=!1,fullScreen:_=!1,fullWidth:A=!1,maxWidth:I="sm",onBackdropClick:R,onClick:P,onClose:$,open:M,PaperComponent:B=Paper,PaperProps:F={},scroll:q="paper",slots:H={},slotProps:z={},TransitionComponent:L=Fade,transitionDuration:ee=c,TransitionProps:Z,...V}=s,X={...s,disableEscapeKeyDown:v,fullScreen:_,fullWidth:A,maxWidth:I,scroll:q},Q=useUtilityClasses$u(X),G=reactExports.useRef(),te=_t=>{G.current=_t.target===_t.currentTarget},ue=_t=>{P&&P(_t),G.current&&(G.current=null,R&&R(_t),$&&$(_t,"backdropClick"))},fe=useId(p),K=reactExports.useMemo(()=>({titleId:fe}),[fe]),de={transition:L,...H},we={transition:Z,paper:F,backdrop:b,...z},oe={slots:de,slotProps:we},[Ne,Ie]=useSlot("root",{elementType:DialogRoot,shouldForwardComponentProp:!0,externalForwardedProps:oe,ownerState:X,className:clsx(Q.root,d),ref:a}),[Le,ut]=useSlot("backdrop",{elementType:DialogBackdrop,shouldForwardComponentProp:!0,externalForwardedProps:oe,ownerState:X}),[mt,vt]=useSlot("paper",{elementType:DialogPaper,shouldForwardComponentProp:!0,externalForwardedProps:oe,ownerState:X,className:clsx(Q.paper,F.className)}),[it,pt]=useSlot("container",{elementType:DialogContainer,externalForwardedProps:oe,ownerState:X,className:clsx(Q.container)}),[xt,kt]=useSlot("transition",{elementType:Fade,externalForwardedProps:oe,ownerState:X,additionalProps:{appear:!0,in:M,timeout:ee,role:"presentation"}});return jsxRuntimeExports.jsx(Ne,{closeAfterTransition:!0,slots:{backdrop:Le},slotProps:{backdrop:{transitionDuration:ee,as:y,...ut}},disableEscapeKeyDown:v,onClose:$,open:M,onClick:ue,...Ie,...V,children:jsxRuntimeExports.jsx(xt,{...kt,children:jsxRuntimeExports.jsx(it,{onMouseDown:te,...pt,children:jsxRuntimeExports.jsx(mt,{as:B,elevation:24,role:"dialog","aria-describedby":f,"aria-labelledby":fe,"aria-modal":g,...vt,children:jsxRuntimeExports.jsx(DialogContext.Provider,{value:K,children:h})})})})})});function getDialogActionsUtilityClass(i){return generateUtilityClass("MuiDialogActions",i)}generateUtilityClasses("MuiDialogActions",["root","spacing"]);const useUtilityClasses$t=i=>{const{classes:n,disableSpacing:a}=i;return composeClasses({root:["root",!a&&"spacing"]},getDialogActionsUtilityClass,n)},DialogActionsRoot=styled("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,!a.disableSpacing&&n.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:i})=>!i.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),DialogActions=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiDialogActions"}),{className:l,disableSpacing:c=!1,...f}=s,p={...s,disableSpacing:c},g=useUtilityClasses$t(p);return jsxRuntimeExports.jsx(DialogActionsRoot,{className:clsx(g.root,l),ownerState:p,ref:a,...f})});function getDialogContentUtilityClass(i){return generateUtilityClass("MuiDialogContent",i)}generateUtilityClasses("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(i){return generateUtilityClass("MuiDialogTitle",i)}const dialogTitleClasses=generateUtilityClasses("MuiDialogTitle",["root"]),useUtilityClasses$s=i=>{const{classes:n,dividers:a}=i;return composeClasses({root:["root",a&&"dividers"]},getDialogContentUtilityClass,n)},DialogContentRoot=styled("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.dividers&&n.dividers]}})(memoTheme(({theme:i})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:n})=>n.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(i.vars||i).palette.divider}`,borderBottom:`1px solid ${(i.vars||i).palette.divider}`}},{props:({ownerState:n})=>!n.dividers,style:{[`.${dialogTitleClasses.root} + &`]:{paddingTop:0}}}]}))),DialogContent=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiDialogContent"}),{className:l,dividers:c=!1,...f}=s,p={...s,dividers:c},g=useUtilityClasses$s(p);return jsxRuntimeExports.jsx(DialogContentRoot,{className:clsx(g.root,l),ownerState:p,ref:a,...f})}),useUtilityClasses$r=i=>{const{classes:n}=i;return composeClasses({root:["root"]},getDialogTitleUtilityClass,n)},DialogTitleRoot=styled(Typography,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(i,n)=>n.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiDialogTitle"}),{className:l,id:c,...f}=s,p=s,g=useUtilityClasses$r(p),{titleId:y=c}=reactExports.useContext(DialogContext);return jsxRuntimeExports.jsx(DialogTitleRoot,{component:"h2",className:clsx(g.root,l),ownerState:p,ref:a,variant:"h6",id:c??y,...f})});function getDividerUtilityClass(i){return generateUtilityClass("MuiDivider",i)}const dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),useUtilityClasses$q=i=>{const{absolute:n,children:a,classes:s,flexItem:l,light:c,orientation:f,textAlign:p,variant:g}=i;return composeClasses({root:["root",n&&"absolute",g,c&&"light",f==="vertical"&&"vertical",l&&"flexItem",a&&"withChildren",a&&f==="vertical"&&"withChildrenVertical",p==="right"&&f!=="vertical"&&"textAlignRight",p==="left"&&f!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",f==="vertical"&&"wrapperVertical"]},getDividerUtilityClass,s)},DividerRoot=styled("div",{name:"MuiDivider",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.absolute&&n.absolute,n[a.variant],a.light&&n.light,a.orientation==="vertical"&&n.vertical,a.flexItem&&n.flexItem,a.children&&n.withChildren,a.children&&a.orientation==="vertical"&&n.withChildrenVertical,a.textAlign==="right"&&a.orientation!=="vertical"&&n.textAlignRight,a.textAlign==="left"&&a.orientation!=="vertical"&&n.textAlignLeft]}})(memoTheme(({theme:i})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(i.vars||i).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:i.vars?`rgba(${i.vars.palette.dividerChannel} / 0.08)`:alpha(i.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:i.spacing(2),marginRight:i.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:i.spacing(1),marginBottom:i.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:n})=>!!n.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:n})=>n.children&&n.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(i.vars||i).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:n})=>n.orientation==="vertical"&&n.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(i.vars||i).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:n})=>n.textAlign==="right"&&n.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:n})=>n.textAlign==="left"&&n.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),DividerWrapper=styled("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.wrapper,a.orientation==="vertical"&&n.wrapperVertical]}})(memoTheme(({theme:i})=>({display:"inline-block",paddingLeft:`calc(${i.spacing(1)} * 1.2)`,paddingRight:`calc(${i.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${i.spacing(1)} * 1.2)`,paddingBottom:`calc(${i.spacing(1)} * 1.2)`}}]}))),Divider=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiDivider"}),{absolute:l=!1,children:c,className:f,orientation:p="horizontal",component:g=c||p==="vertical"?"div":"hr",flexItem:y=!1,light:b=!1,role:h=g!=="hr"?"separator":void 0,textAlign:d="center",variant:v="fullWidth",..._}=s,A={...s,absolute:l,component:g,flexItem:y,light:b,orientation:p,role:h,textAlign:d,variant:v},I=useUtilityClasses$q(A);return jsxRuntimeExports.jsx(DividerRoot,{as:g,className:clsx(I.root,f),role:h,ref:a,ownerState:A,"aria-orientation":h==="separator"&&(g!=="hr"||p==="vertical")?p:void 0,..._,children:c?jsxRuntimeExports.jsx(DividerWrapper,{className:I.wrapper,ownerState:A,children:c}):null})});Divider&&(Divider.muiSkipListHighlight=!0);function getTranslateValue(i,n,a){const s=n.getBoundingClientRect(),l=a&&a.getBoundingClientRect(),c=ownerWindow(n);let f;if(n.fakeTransform)f=n.fakeTransform;else{const y=c.getComputedStyle(n);f=y.getPropertyValue("-webkit-transform")||y.getPropertyValue("transform")}let p=0,g=0;if(f&&f!=="none"&&typeof f=="string"){const y=f.split("(")[1].split(")")[0].split(",");p=parseInt(y[4],10),g=parseInt(y[5],10)}return i==="left"?l?`translateX(${l.right+p-s.left}px)`:`translateX(${c.innerWidth+p-s.left}px)`:i==="right"?l?`translateX(-${s.right-l.left-p}px)`:`translateX(-${s.left+s.width-p}px)`:i==="up"?l?`translateY(${l.bottom+g-s.top}px)`:`translateY(${c.innerHeight+g-s.top}px)`:l?`translateY(-${s.top-l.top+s.height-g}px)`:`translateY(-${s.top+s.height-g}px)`}function resolveContainer(i){return typeof i=="function"?i():i}function setTranslateValue(i,n,a){const s=resolveContainer(a),l=getTranslateValue(i,n,s);l&&(n.style.webkitTransform=l,n.style.transform=l)}const Slide=reactExports.forwardRef(function(n,a){const s=useTheme(),l={enter:s.transitions.easing.easeOut,exit:s.transitions.easing.sharp},c={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:f,appear:p=!0,children:g,container:y,direction:b="down",easing:h=l,in:d,onEnter:v,onEntered:_,onEntering:A,onExit:I,onExited:R,onExiting:P,style:$,timeout:M=c,TransitionComponent:B=Transition,...F}=n,q=reactExports.useRef(null),H=useForkRef(getReactElementRef(g),q,a),z=ue=>fe=>{ue&&(fe===void 0?ue(q.current):ue(q.current,fe))},L=z((ue,fe)=>{setTranslateValue(b,ue,y),reflow(ue),v&&v(ue,fe)}),ee=z((ue,fe)=>{const K=getTransitionProps({timeout:M,style:$,easing:h},{mode:"enter"});ue.style.webkitTransition=s.transitions.create("-webkit-transform",{...K}),ue.style.transition=s.transitions.create("transform",{...K}),ue.style.webkitTransform="none",ue.style.transform="none",A&&A(ue,fe)}),Z=z(_),V=z(P),X=z(ue=>{const fe=getTransitionProps({timeout:M,style:$,easing:h},{mode:"exit"});ue.style.webkitTransition=s.transitions.create("-webkit-transform",fe),ue.style.transition=s.transitions.create("transform",fe),setTranslateValue(b,ue,y),I&&I(ue)}),Q=z(ue=>{ue.style.webkitTransition="",ue.style.transition="",R&&R(ue)}),G=ue=>{f&&f(q.current,ue)},te=reactExports.useCallback(()=>{q.current&&setTranslateValue(b,q.current,y)},[b,y]);return reactExports.useEffect(()=>{if(d||b==="down"||b==="right")return;const ue=debounce$1(()=>{q.current&&setTranslateValue(b,q.current,y)}),fe=ownerWindow(q.current);return fe.addEventListener("resize",ue),()=>{ue.clear(),fe.removeEventListener("resize",ue)}},[b,d,y]),reactExports.useEffect(()=>{d||te()},[d,te]),jsxRuntimeExports.jsx(B,{nodeRef:q,onEnter:L,onEntered:Z,onEntering:ee,onExit:X,onExited:Q,onExiting:V,addEndListener:G,appear:p,in:d,timeout:M,...F,children:(ue,{ownerState:fe,...K})=>reactExports.cloneElement(g,{ref:H,style:{visibility:ue==="exited"&&!d?"hidden":void 0,...$,...g.props.style},...K})})}),useUtilityClasses$p=i=>{const{classes:n,disableUnderline:a,startAdornment:s,endAdornment:l,size:c,hiddenLabel:f,multiline:p}=i,g={root:["root",!a&&"underline",s&&"adornedStart",l&&"adornedEnd",c==="small"&&`size${capitalize(c)}`,f&&"hiddenLabel",p&&"multiline"],input:["input"]},y=composeClasses(g,getFilledInputUtilityClass,n);return{...n,...y}},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[...rootOverridesResolver(i,n),!a.disableUnderline&&n.underline]}})(memoTheme(({theme:i})=>{const n=i.palette.mode==="light",a=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}},[`&.${filledInputClasses.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s},[`&.${filledInputClasses.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:c},variants:[{props:({ownerState:f})=>!f.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses.disabled}, .${filledInputClasses.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${filledInputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([f])=>{var p;return{props:{disableUnderline:!1,color:f},style:{"&::after":{borderBottom:`2px solid ${(p=(i.vars||i).palette[f])==null?void 0:p.main}`}}}}),{props:({ownerState:f})=>f.startAdornment,style:{paddingLeft:12}},{props:({ownerState:f})=>f.endAdornment,style:{paddingRight:12}},{props:({ownerState:f})=>f.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:f,size:p})=>f.multiline&&p==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:f})=>f.multiline&&f.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:f})=>f.multiline&&f.hiddenLabel&&f.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),FilledInputInput=styled(InputBaseInput,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:n})=>n.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:0}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:0}},{props:({ownerState:n})=>n.hiddenLabel&&n.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:n})=>n.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),FilledInput=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiFilledInput"}),{disableUnderline:l=!1,components:c={},componentsProps:f,fullWidth:p=!1,hiddenLabel:g,inputComponent:y="input",multiline:b=!1,slotProps:h,slots:d={},type:v="text",..._}=s,A={...s,disableUnderline:l,fullWidth:p,inputComponent:y,multiline:b,type:v},I=useUtilityClasses$p(s),R={root:{ownerState:A},input:{ownerState:A}},P=h??f?deepmerge(R,h??f):R,$=d.root??c.Root??FilledInputRoot,M=d.input??c.Input??FilledInputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:$,input:M},slotProps:P,fullWidth:p,inputComponent:y,multiline:b,ref:a,type:v,..._,classes:I})});FilledInput.muiName="Input";function getFormControlUtilityClasses(i){return generateUtilityClass("MuiFormControl",i)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const useUtilityClasses$o=i=>{const{classes:n,margin:a,fullWidth:s}=i,l={root:["root",a!=="none"&&`margin${capitalize(a)}`,s&&"fullWidth"]};return composeClasses(l,getFormControlUtilityClasses,n)},FormControlRoot=styled("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,n[`margin${capitalize(a.margin)}`],a.fullWidth&&n.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),FormControl=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiFormControl"}),{children:l,className:c,color:f="primary",component:p="div",disabled:g=!1,error:y=!1,focused:b,fullWidth:h=!1,hiddenLabel:d=!1,margin:v="none",required:_=!1,size:A="medium",variant:I="outlined",...R}=s,P={...s,color:f,component:p,disabled:g,error:y,fullWidth:h,hiddenLabel:d,margin:v,required:_,size:A,variant:I},$=useUtilityClasses$o(P),[M,B]=reactExports.useState(()=>{let Q=!1;return l&&reactExports.Children.forEach(l,G=>{if(!isMuiElement(G,["Input","Select"]))return;const te=isMuiElement(G,["Select"])?G.props.input:G;te&&isAdornedStart(te.props)&&(Q=!0)}),Q}),[F,q]=reactExports.useState(()=>{let Q=!1;return l&&reactExports.Children.forEach(l,G=>{isMuiElement(G,["Input","Select"])&&(isFilled(G.props,!0)||isFilled(G.props.inputProps,!0))&&(Q=!0)}),Q}),[H,z]=reactExports.useState(!1);g&&H&&z(!1);const L=b!==void 0&&!g?b:H;let ee;reactExports.useRef(!1);const Z=reactExports.useCallback(()=>{q(!0)},[]),V=reactExports.useCallback(()=>{q(!1)},[]),X=reactExports.useMemo(()=>({adornedStart:M,setAdornedStart:B,color:f,disabled:g,error:y,filled:F,focused:L,fullWidth:h,hiddenLabel:d,size:A,onBlur:()=>{z(!1)},onFocus:()=>{z(!0)},onEmpty:V,onFilled:Z,registerEffect:ee,required:_,variant:I}),[M,f,g,y,F,L,h,d,ee,V,Z,_,A,I]);return jsxRuntimeExports.jsx(FormControlContext.Provider,{value:X,children:jsxRuntimeExports.jsx(FormControlRoot,{as:p,ownerState:P,className:clsx($.root,c),ref:a,...R,children:l})})});function getFormHelperTextUtilityClasses(i){return generateUtilityClass("MuiFormHelperText",i)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var _span$3;const useUtilityClasses$n=i=>{const{classes:n,contained:a,size:s,disabled:l,error:c,filled:f,focused:p,required:g}=i,y={root:["root",l&&"disabled",c&&"error",s&&`size${capitalize(s)}`,a&&"contained",p&&"focused",f&&"filled",g&&"required"]};return composeClasses(y,getFormHelperTextUtilityClasses,n)},FormHelperTextRoot=styled("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.size&&n[`size${capitalize(a.size)}`],a.contained&&n.contained,a.filled&&n.filled]}})(memoTheme(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${formHelperTextClasses.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:n})=>n.contained,style:{marginLeft:14,marginRight:14}}]}))),FormHelperText=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiFormHelperText"}),{children:l,className:c,component:f="p",disabled:p,error:g,filled:y,focused:b,margin:h,required:d,variant:v,..._}=s,A=useFormControl(),I=formControlState({props:s,muiFormControl:A,states:["variant","size","disabled","error","filled","focused","required"]}),R={...s,component:f,contained:I.variant==="filled"||I.variant==="outlined",variant:I.variant,size:I.size,disabled:I.disabled,error:I.error,filled:I.filled,focused:I.focused,required:I.required};delete R.ownerState;const P=useUtilityClasses$n(R);return jsxRuntimeExports.jsx(FormHelperTextRoot,{as:f,className:clsx(P.root,c),ref:a,..._,ownerState:R,children:l===" "?_span$3||(_span$3=jsxRuntimeExports.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):l})});function getFormLabelUtilityClasses(i){return generateUtilityClass("MuiFormLabel",i)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),useUtilityClasses$m=i=>{const{classes:n,color:a,focused:s,disabled:l,error:c,filled:f,required:p}=i,g={root:["root",`color${capitalize(a)}`,l&&"disabled",c&&"error",f&&"filled",s&&"focused",p&&"required"],asterisk:["asterisk",c&&"error"]};return composeClasses(g,getFormLabelUtilityClasses,n)},FormLabelRoot=styled("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.color==="secondary"&&n.colorSecondary,a.filled&&n.filled]}})(memoTheme(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([n])=>({props:{color:n},style:{[`&.${formLabelClasses.focused}`]:{color:(i.vars||i).palette[n].main}}})),{props:{},style:{[`&.${formLabelClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${formLabelClasses.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),AsteriskComponent=styled("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,n)=>n.asterisk})(memoTheme(({theme:i})=>({[`&.${formLabelClasses.error}`]:{color:(i.vars||i).palette.error.main}}))),FormLabel=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiFormLabel"}),{children:l,className:c,color:f,component:p="label",disabled:g,error:y,filled:b,focused:h,required:d,...v}=s,_=useFormControl(),A=formControlState({props:s,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),I={...s,color:A.color||"primary",component:p,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required},R=useUtilityClasses$m(I);return jsxRuntimeExports.jsxs(FormLabelRoot,{as:p,ownerState:I,className:clsx(R.root,c),ref:a,...v,children:[l,A.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:I,"aria-hidden":!0,className:R.asterisk,children:[" ","*"]})]})});function getScale(i){return`scale(${i}, ${i**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(n,a){const{addEndListener:s,appear:l=!0,children:c,easing:f,in:p,onEnter:g,onEntered:y,onEntering:b,onExit:h,onExited:d,onExiting:v,style:_,timeout:A="auto",TransitionComponent:I=Transition,...R}=n,P=useTimeout(),$=reactExports.useRef(),M=useTheme(),B=reactExports.useRef(null),F=useForkRef(B,getReactElementRef(c),a),q=Q=>G=>{if(Q){const te=B.current;G===void 0?Q(te):Q(te,G)}},H=q(b),z=q((Q,G)=>{reflow(Q);const{duration:te,delay:ue,easing:fe}=getTransitionProps({style:_,timeout:A,easing:f},{mode:"enter"});let K;A==="auto"?(K=M.transitions.getAutoHeightDuration(Q.clientHeight),$.current=K):K=te,Q.style.transition=[M.transitions.create("opacity",{duration:K,delay:ue}),M.transitions.create("transform",{duration:isWebKit154?K:K*.666,delay:ue,easing:fe})].join(","),g&&g(Q,G)}),L=q(y),ee=q(v),Z=q(Q=>{const{duration:G,delay:te,easing:ue}=getTransitionProps({style:_,timeout:A,easing:f},{mode:"exit"});let fe;A==="auto"?(fe=M.transitions.getAutoHeightDuration(Q.clientHeight),$.current=fe):fe=G,Q.style.transition=[M.transitions.create("opacity",{duration:fe,delay:te}),M.transitions.create("transform",{duration:isWebKit154?fe:fe*.666,delay:isWebKit154?te:te||fe*.333,easing:ue})].join(","),Q.style.opacity=0,Q.style.transform=getScale(.75),h&&h(Q)}),V=q(d),X=Q=>{A==="auto"&&P.start($.current||0,Q),s&&s(B.current,Q)};return jsxRuntimeExports.jsx(I,{appear:l,in:p,nodeRef:B,onEnter:z,onEntered:L,onEntering:H,onExit:Z,onExited:V,onExiting:ee,addEndListener:X,timeout:A==="auto"?null:A,...R,children:(Q,{ownerState:G,...te})=>reactExports.cloneElement(c,{style:{opacity:0,transform:getScale(.75),visibility:Q==="exited"&&!p?"hidden":void 0,...styles[Q],..._,...c.props.style},ref:F,...te})})});Grow&&(Grow.muiSupportAuto=!0);const useUtilityClasses$l=i=>{const{classes:n,disableUnderline:a}=i,l=composeClasses({root:["root",!a&&"underline"],input:["input"]},getInputUtilityClass,n);return{...n,...l}},InputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[...rootOverridesResolver(i,n),!a.disableUnderline&&n.underline]}})(memoTheme(({theme:i})=>{let a=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(a=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:s})=>s.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses.disabled}, .${inputClasses.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${inputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[s].main}`}}}))]}})),InputInput=styled(InputBaseInput,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiInput"}),{disableUnderline:l=!1,components:c={},componentsProps:f,fullWidth:p=!1,inputComponent:g="input",multiline:y=!1,slotProps:b,slots:h={},type:d="text",...v}=s,_=useUtilityClasses$l(s),I={root:{ownerState:{disableUnderline:l}}},R=b??f?deepmerge(b??f,I):I,P=h.root??c.Root??InputRoot,$=h.input??c.Input??InputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:P,input:$},slotProps:R,fullWidth:p,inputComponent:g,multiline:y,ref:a,type:d,...v,classes:_})});Input.muiName="Input";function getInputAdornmentUtilityClass(i){return generateUtilityClass("MuiInputAdornment",i)}const inputAdornmentClasses=generateUtilityClasses("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var _span$2;const overridesResolver$2=(i,n)=>{const{ownerState:a}=i;return[n.root,n[`position${capitalize(a.position)}`],a.disablePointerEvents===!0&&n.disablePointerEvents,n[a.variant]]},useUtilityClasses$k=i=>{const{classes:n,disablePointerEvents:a,hiddenLabel:s,position:l,size:c,variant:f}=i,p={root:["root",a&&"disablePointerEvents",l&&`position${capitalize(l)}`,f,s&&"hiddenLabel",c&&`size${capitalize(c)}`]};return composeClasses(p,getInputAdornmentUtilityClass,n)},InputAdornmentRoot=styled("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:overridesResolver$2})(memoTheme(({theme:i})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(i.vars||i).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${inputAdornmentClasses.positionStart}&:not(.${inputAdornmentClasses.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),InputAdornment=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiInputAdornment"}),{children:l,className:c,component:f="div",disablePointerEvents:p=!1,disableTypography:g=!1,position:y,variant:b,...h}=s,d=useFormControl()||{};let v=b;b&&d.variant,d&&!v&&(v=d.variant);const _={...s,hiddenLabel:d.hiddenLabel,size:d.size,disablePointerEvents:p,position:y,variant:v},A=useUtilityClasses$k(_);return jsxRuntimeExports.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports.jsx(InputAdornmentRoot,{as:f,ownerState:_,className:clsx(A.root,c),ref:a,...h,children:typeof l=="string"&&!g?jsxRuntimeExports.jsx(Typography,{color:"textSecondary",children:l}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[y==="start"?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,l]})})})});function getInputLabelUtilityClasses(i){return generateUtilityClass("MuiInputLabel",i)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const useUtilityClasses$j=i=>{const{classes:n,formControl:a,size:s,shrink:l,disableAnimation:c,variant:f,required:p}=i,g={root:["root",a&&"formControl",!c&&"animated",l&&"shrink",s&&s!=="normal"&&`size${capitalize(s)}`,f],asterisk:[p&&"asterisk"]},y=composeClasses(g,getInputLabelUtilityClasses,n);return{...n,...y}},InputLabelRoot=styled(FormLabel,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[{[`& .${formLabelClasses.asterisk}`]:n.asterisk},n.root,a.formControl&&n.formControl,a.size==="small"&&n.sizeSmall,a.shrink&&n.shrink,!a.disableAnimation&&n.animated,a.focused&&n.focused,n[a.variant]]}})(memoTheme(({theme:i})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:n})=>n.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:n})=>n.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:n})=>!n.disableAnimation,style:{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:n,ownerState:a})=>n==="filled"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:n,ownerState:a,size:s})=>n==="filled"&&a.shrink&&s==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:n,ownerState:a})=>n==="outlined"&&a.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),InputLabel=reactExports.forwardRef(function(n,a){const s=useDefaultProps({name:"MuiInputLabel",props:n}),{disableAnimation:l=!1,margin:c,shrink:f,variant:p,className:g,...y}=s,b=useFormControl();let h=f;typeof h>"u"&&b&&(h=b.filled||b.focused||b.adornedStart);const d=formControlState({props:s,muiFormControl:b,states:["size","variant","required","focused"]}),v={...s,disableAnimation:l,formControl:b,shrink:h,size:d.size,variant:d.variant,required:d.required,focused:d.focused},_=useUtilityClasses$j(v);return jsxRuntimeExports.jsx(InputLabelRoot,{"data-shrink":h,ref:a,className:clsx(_.root,g),...y,ownerState:v,classes:_})}),ListContext=reactExports.createContext({});function getListUtilityClass(i){return generateUtilityClass("MuiList",i)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const useUtilityClasses$i=i=>{const{classes:n,disablePadding:a,dense:s,subheader:l}=i;return composeClasses({root:["root",!a&&"padding",s&&"dense",l&&"subheader"]},getListUtilityClass,n)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,!a.disablePadding&&n.padding,a.dense&&n.dense,a.subheader&&n.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),List=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiList"}),{children:l,className:c,component:f="ul",dense:p=!1,disablePadding:g=!1,subheader:y,...b}=s,h=reactExports.useMemo(()=>({dense:p}),[p]),d={...s,component:f,dense:p,disablePadding:g},v=useUtilityClasses$i(d);return jsxRuntimeExports.jsx(ListContext.Provider,{value:h,children:jsxRuntimeExports.jsxs(ListRoot,{as:f,className:clsx(v.root,c),ref:a,ownerState:d,...b,children:[y,l]})})});function getListItemButtonUtilityClass(i){return generateUtilityClass("MuiListItemButton",i)}const listItemButtonClasses=generateUtilityClasses("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),overridesResolver$1=(i,n)=>{const{ownerState:a}=i;return[n.root,a.dense&&n.dense,a.alignItems==="flex-start"&&n.alignItemsFlexStart,a.divider&&n.divider,!a.disableGutters&&n.gutters]},useUtilityClasses$h=i=>{const{alignItems:n,classes:a,dense:s,disabled:l,disableGutters:c,divider:f,selected:p}=i,y=composeClasses({root:["root",s&&"dense",!c&&"gutters",f&&"divider",l&&"disabled",n==="flex-start"&&"alignItemsFlexStart",p&&"selected"]},getListItemButtonUtilityClass,a);return{...a,...y}},ListItemButtonRoot=styled(ButtonBase,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:overridesResolver$1})(memoTheme(({theme:i})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemButtonClasses.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${listItemButtonClasses.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${listItemButtonClasses.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${listItemButtonClasses.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${listItemButtonClasses.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity},variants:[{props:({ownerState:n})=>n.divider,style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:n})=>!n.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:n})=>n.dense,style:{paddingTop:4,paddingBottom:4}}]}))),ListItemButton=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiListItemButton"}),{alignItems:l="center",autoFocus:c=!1,component:f="div",children:p,dense:g=!1,disableGutters:y=!1,divider:b=!1,focusVisibleClassName:h,selected:d=!1,className:v,..._}=s,A=reactExports.useContext(ListContext),I=reactExports.useMemo(()=>({dense:g||A.dense||!1,alignItems:l,disableGutters:y}),[l,A.dense,g,y]),R=reactExports.useRef(null);useEnhancedEffect(()=>{c&&R.current&&R.current.focus()},[c]);const P={...s,alignItems:l,dense:I.dense,disableGutters:y,divider:b,selected:d},$=useUtilityClasses$h(P),M=useForkRef(R,a);return jsxRuntimeExports.jsx(ListContext.Provider,{value:I,children:jsxRuntimeExports.jsx(ListItemButtonRoot,{ref:M,href:_.href||_.to,component:(_.href||_.to)&&f==="div"?"button":f,focusVisibleClassName:clsx($.focusVisible,h),ownerState:P,className:clsx($.root,v),..._,classes:$,children:p})})});function getListItemIconUtilityClass(i){return generateUtilityClass("MuiListItemIcon",i)}const listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]),useUtilityClasses$g=i=>{const{alignItems:n,classes:a}=i;return composeClasses({root:["root",n==="flex-start"&&"alignItemsFlexStart"]},getListItemIconUtilityClass,a)},ListItemIconRoot=styled("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.alignItems==="flex-start"&&n.alignItemsFlexStart]}})(memoTheme(({theme:i})=>({minWidth:56,color:(i.vars||i).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),ListItemIcon=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiListItemIcon"}),{className:l,...c}=s,f=reactExports.useContext(ListContext),p={...s,alignItems:f.alignItems},g=useUtilityClasses$g(p);return jsxRuntimeExports.jsx(ListItemIconRoot,{className:clsx(g.root,l),ownerState:p,ref:a,...c})});function getListItemTextUtilityClass(i){return generateUtilityClass("MuiListItemText",i)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),useUtilityClasses$f=i=>{const{classes:n,inset:a,primary:s,secondary:l,dense:c}=i;return composeClasses({root:["root",a&&"inset",c&&"dense",s&&l&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,n)},ListItemTextRoot=styled("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[{[`& .${listItemTextClasses.primary}`]:n.primary},{[`& .${listItemTextClasses.secondary}`]:n.secondary},n.root,a.inset&&n.inset,a.primary&&a.secondary&&n.multiline,a.dense&&n.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${typographyClasses.root}:where(& .${listItemTextClasses.primary})`]:{display:"block"},[`.${typographyClasses.root}:where(& .${listItemTextClasses.secondary})`]:{display:"block"},variants:[{props:({ownerState:i})=>i.primary&&i.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:i})=>i.inset,style:{paddingLeft:56}}]}),ListItemText=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiListItemText"}),{children:l,className:c,disableTypography:f=!1,inset:p=!1,primary:g,primaryTypographyProps:y,secondary:b,secondaryTypographyProps:h,slots:d={},slotProps:v={},..._}=s,{dense:A}=reactExports.useContext(ListContext);let I=g??l,R=b;const P={...s,disableTypography:f,inset:p,primary:!!I,secondary:!!R,dense:A},$=useUtilityClasses$f(P),M={slots:d,slotProps:{primary:y,secondary:h,...v}},[B,F]=useSlot("root",{className:clsx($.root,c),elementType:ListItemTextRoot,externalForwardedProps:{...M,..._},ownerState:P,ref:a}),[q,H]=useSlot("primary",{className:$.primary,elementType:Typography,externalForwardedProps:M,ownerState:P}),[z,L]=useSlot("secondary",{className:$.secondary,elementType:Typography,externalForwardedProps:M,ownerState:P});return I!=null&&I.type!==Typography&&!f&&(I=jsxRuntimeExports.jsx(q,{variant:A?"body2":"body1",component:H!=null&&H.variant?void 0:"span",...H,children:I})),R!=null&&R.type!==Typography&&!f&&(R=jsxRuntimeExports.jsx(z,{variant:"body2",color:"textSecondary",...L,children:R})),jsxRuntimeExports.jsxs(B,{...F,children:[I,R]})});function nextItem(i,n,a){return i===n?i.firstChild:n&&n.nextElementSibling?n.nextElementSibling:a?null:i.firstChild}function previousItem(i,n,a){return i===n?a?i.firstChild:i.lastChild:n&&n.previousElementSibling?n.previousElementSibling:a?null:i.lastChild}function textCriteriaMatches(i,n){if(n===void 0)return!0;let a=i.innerText;return a===void 0&&(a=i.textContent),a=a.trim().toLowerCase(),a.length===0?!1:n.repeating?a[0]===n.keys[0]:a.startsWith(n.keys.join(""))}function moveFocus(i,n,a,s,l,c){let f=!1,p=l(i,n,n?a:!1);for(;p;){if(p===i.firstChild){if(f)return!1;f=!0}const g=s?!1:p.disabled||p.getAttribute("aria-disabled")==="true";if(!p.hasAttribute("tabindex")||!textCriteriaMatches(p,c)||g)p=l(i,p,a);else return p.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(n,a){const{actions:s,autoFocus:l=!1,autoFocusItem:c=!1,children:f,className:p,disabledItemsFocusable:g=!1,disableListWrap:y=!1,onKeyDown:b,variant:h="selectedMenu",...d}=n,v=reactExports.useRef(null),_=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{l&&v.current.focus()},[l]),reactExports.useImperativeHandle(s,()=>({adjustStyleForScrollbar:($,{direction:M})=>{const B=!v.current.style.width;if($.clientHeight<v.current.clientHeight&&B){const F=`${getScrollbarSize(ownerWindow($))}px`;v.current.style[M==="rtl"?"paddingLeft":"paddingRight"]=F,v.current.style.width=`calc(100% + ${F})`}return v.current}}),[]);const A=$=>{const M=v.current,B=$.key;if($.ctrlKey||$.metaKey||$.altKey){b&&b($);return}const q=ownerDocument(M).activeElement;if(B==="ArrowDown")$.preventDefault(),moveFocus(M,q,y,g,nextItem);else if(B==="ArrowUp")$.preventDefault(),moveFocus(M,q,y,g,previousItem);else if(B==="Home")$.preventDefault(),moveFocus(M,null,y,g,nextItem);else if(B==="End")$.preventDefault(),moveFocus(M,null,y,g,previousItem);else if(B.length===1){const H=_.current,z=B.toLowerCase(),L=performance.now();H.keys.length>0&&(L-H.lastTime>500?(H.keys=[],H.repeating=!0,H.previousKeyMatched=!0):H.repeating&&z!==H.keys[0]&&(H.repeating=!1)),H.lastTime=L,H.keys.push(z);const ee=q&&!H.repeating&&textCriteriaMatches(q,H);H.previousKeyMatched&&(ee||moveFocus(M,q,!1,g,nextItem,H))?$.preventDefault():H.previousKeyMatched=!1}b&&b($)},I=useForkRef(v,a);let R=-1;reactExports.Children.forEach(f,($,M)=>{if(!reactExports.isValidElement($)){R===M&&(R+=1,R>=f.length&&(R=-1));return}$.props.disabled||(h==="selectedMenu"&&$.props.selected||R===-1)&&(R=M),R===M&&($.props.disabled||$.props.muiSkipListHighlight||$.type.muiSkipListHighlight)&&(R+=1,R>=f.length&&(R=-1))});const P=reactExports.Children.map(f,($,M)=>{if(M===R){const B={};return c&&(B.autoFocus=!0),$.props.tabIndex===void 0&&h==="selectedMenu"&&(B.tabIndex=0),reactExports.cloneElement($,B)}return $});return jsxRuntimeExports.jsx(List,{role:"menu",ref:I,className:p,onKeyDown:A,tabIndex:l?0:-1,...d,children:P})});function getPopoverUtilityClass(i){return generateUtilityClass("MuiPopover",i)}generateUtilityClasses("MuiPopover",["root","paper"]);function getOffsetTop(i,n){let a=0;return typeof n=="number"?a=n:n==="center"?a=i.height/2:n==="bottom"&&(a=i.height),a}function getOffsetLeft(i,n){let a=0;return typeof n=="number"?a=n:n==="center"?a=i.width/2:n==="right"&&(a=i.width),a}function getTransformOriginValue(i){return[i.horizontal,i.vertical].map(n=>typeof n=="number"?`${n}px`:n).join(" ")}function resolveAnchorEl(i){return typeof i=="function"?i():i}const useUtilityClasses$e=i=>{const{classes:n}=i;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,n)},PopoverRoot=styled(Modal,{name:"MuiPopover",slot:"Root",overridesResolver:(i,n)=>n.root})({}),PopoverPaper=styled(Paper,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,n)=>n.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:f={vertical:"top",horizontal:"left"},anchorPosition:p,anchorReference:g="anchorEl",children:y,className:b,container:h,elevation:d=8,marginThreshold:v=16,open:_,PaperProps:A={},slots:I={},slotProps:R={},transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:$,transitionDuration:M="auto",TransitionProps:B={},disableScrollLock:F=!1,...q}=s,H=reactExports.useRef(),z={...s,anchorOrigin:f,anchorReference:g,elevation:d,marginThreshold:v,transformOrigin:P,TransitionComponent:$,transitionDuration:M,TransitionProps:B},L=useUtilityClasses$e(z),ee=reactExports.useCallback(()=>{if(g==="anchorPosition")return p;const it=resolveAnchorEl(c),xt=(it&&it.nodeType===1?it:ownerDocument(H.current).body).getBoundingClientRect();return{top:xt.top+getOffsetTop(xt,f.vertical),left:xt.left+getOffsetLeft(xt,f.horizontal)}},[c,f.horizontal,f.vertical,p,g]),Z=reactExports.useCallback(it=>({vertical:getOffsetTop(it,P.vertical),horizontal:getOffsetLeft(it,P.horizontal)}),[P.horizontal,P.vertical]),V=reactExports.useCallback(it=>{const pt={width:it.offsetWidth,height:it.offsetHeight},xt=Z(pt);if(g==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(xt)};const kt=ee();let _t=kt.top-xt.vertical,Nt=kt.left-xt.horizontal;const Vt=_t+pt.height,Mt=Nt+pt.width,$t=ownerWindow(resolveAnchorEl(c)),Ht=$t.innerHeight-v,Bt=$t.innerWidth-v;if(v!==null&&_t<v){const Ut=_t-v;_t-=Ut,xt.vertical+=Ut}else if(v!==null&&Vt>Ht){const Ut=Vt-Ht;_t-=Ut,xt.vertical+=Ut}if(v!==null&&Nt<v){const Ut=Nt-v;Nt-=Ut,xt.horizontal+=Ut}else if(Mt>Bt){const Ut=Mt-Bt;Nt-=Ut,xt.horizontal+=Ut}return{top:`${Math.round(_t)}px`,left:`${Math.round(Nt)}px`,transformOrigin:getTransformOriginValue(xt)}},[c,g,ee,Z,v]),[X,Q]=reactExports.useState(_),G=reactExports.useCallback(()=>{const it=H.current;if(!it)return;const pt=V(it);pt.top!==null&&it.style.setProperty("top",pt.top),pt.left!==null&&(it.style.left=pt.left),it.style.transformOrigin=pt.transformOrigin,Q(!0)},[V]);reactExports.useEffect(()=>(F&&window.addEventListener("scroll",G),()=>window.removeEventListener("scroll",G)),[c,F,G]);const te=()=>{G()},ue=()=>{Q(!1)};reactExports.useEffect(()=>{_&&G()}),reactExports.useImperativeHandle(l,()=>_?{updatePosition:()=>{G()}}:null,[_,G]),reactExports.useEffect(()=>{if(!_)return;const it=debounce$1(()=>{G()}),pt=ownerWindow(resolveAnchorEl(c));return pt.addEventListener("resize",it),()=>{it.clear(),pt.removeEventListener("resize",it)}},[c,_,G]);let fe=M;const K={slots:{transition:$,...I},slotProps:{transition:B,paper:A,...R}},[de,we]=useSlot("transition",{elementType:Grow,externalForwardedProps:K,ownerState:z,getSlotProps:it=>({...it,onEntering:(pt,xt)=>{var kt;(kt=it.onEntering)==null||kt.call(it,pt,xt),te()},onExited:pt=>{var xt;(xt=it.onExited)==null||xt.call(it,pt),ue()}}),additionalProps:{appear:!0,in:_}});M==="auto"&&!de.muiSupportAuto&&(fe=void 0);const oe=h||(c?ownerDocument(resolveAnchorEl(c)).body:void 0),[Ne,{slots:Ie,slotProps:Le,...ut}]=useSlot("root",{ref:a,elementType:PopoverRoot,externalForwardedProps:{...K,...q},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:I.backdrop},slotProps:{backdrop:mergeSlotProps(typeof R.backdrop=="function"?R.backdrop(z):R.backdrop,{invisible:!0})},container:oe,open:_},ownerState:z,className:clsx(L.root,b)}),[mt,vt]=useSlot("paper",{ref:H,className:L.paper,elementType:PopoverPaper,externalForwardedProps:K,shouldForwardComponentProp:!0,additionalProps:{elevation:d,style:X?void 0:{opacity:0}},ownerState:z});return jsxRuntimeExports.jsx(Ne,{...ut,...!isHostComponent(Ne)&&{slots:Ie,slotProps:Le,disableScrollLock:F},children:jsxRuntimeExports.jsx(de,{...we,timeout:fe,children:jsxRuntimeExports.jsx(mt,{...vt,children:y})})})});function getMenuUtilityClass(i){return generateUtilityClass("MuiMenu",i)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$d=i=>{const{classes:n}=i;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,n)},MenuRoot=styled(Popover,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,n)=>n.root})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,n)=>n.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList,{name:"MuiMenu",slot:"List",overridesResolver:(i,n)=>n.list})({outline:0}),Menu=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiMenu"}),{autoFocus:l=!0,children:c,className:f,disableAutoFocusItem:p=!1,MenuListProps:g={},onClose:y,open:b,PaperProps:h={},PopoverClasses:d,transitionDuration:v="auto",TransitionProps:{onEntering:_,...A}={},variant:I="selectedMenu",slots:R={},slotProps:P={},...$}=s,M=useRtl(),B={...s,autoFocus:l,disableAutoFocusItem:p,MenuListProps:g,onEntering:_,PaperProps:h,transitionDuration:v,TransitionProps:A,variant:I},F=useUtilityClasses$d(B),q=l&&!p&&b,H=reactExports.useRef(null),z=(fe,K)=>{H.current&&H.current.adjustStyleForScrollbar(fe,{direction:M?"rtl":"ltr"}),_&&_(fe,K)},L=fe=>{fe.key==="Tab"&&(fe.preventDefault(),y&&y(fe,"tabKeyDown"))};let ee=-1;reactExports.Children.map(c,(fe,K)=>{reactExports.isValidElement(fe)&&(fe.props.disabled||(I==="selectedMenu"&&fe.props.selected||ee===-1)&&(ee=K))});const Z={slots:R,slotProps:{list:g,transition:A,paper:h,...P}},V=useSlotProps({elementType:R.root,externalSlotProps:P.root,ownerState:B,className:[F.root,f]}),[X,Q]=useSlot("paper",{className:F.paper,elementType:MenuPaper,externalForwardedProps:Z,shouldForwardComponentProp:!0,ownerState:B}),[G,te]=useSlot("list",{className:clsx(F.list,g.className),elementType:MenuMenuList,shouldForwardComponentProp:!0,externalForwardedProps:Z,getSlotProps:fe=>({...fe,onKeyDown:K=>{var de;L(K),(de=fe.onKeyDown)==null||de.call(fe,K)}}),ownerState:B}),ue=typeof Z.slotProps.transition=="function"?Z.slotProps.transition(B):Z.slotProps.transition;return jsxRuntimeExports.jsx(MenuRoot,{onClose:y,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?RTL_ORIGIN:LTR_ORIGIN,slots:{root:R.root,paper:X,backdrop:R.backdrop,...R.transition&&{transition:R.transition}},slotProps:{root:V,paper:Q,backdrop:typeof P.backdrop=="function"?P.backdrop(B):P.backdrop,transition:{...ue,onEntering:(...fe)=>{var K;z(...fe),(K=ue==null?void 0:ue.onEntering)==null||K.call(ue,...fe)}}},open:b,ref:a,transitionDuration:v,ownerState:B,...$,classes:d,children:jsxRuntimeExports.jsx(G,{actions:H,autoFocus:l&&(ee===-1||p),autoFocusItem:q,variant:I,...te,children:c})})});function getMenuItemUtilityClass(i){return generateUtilityClass("MuiMenuItem",i)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),overridesResolver=(i,n)=>{const{ownerState:a}=i;return[n.root,a.dense&&n.dense,a.divider&&n.divider,!a.disableGutters&&n.gutters]},useUtilityClasses$c=i=>{const{disabled:n,dense:a,divider:s,disableGutters:l,selected:c,classes:f}=i,g=composeClasses({root:["root",a&&"dense",n&&"disabled",!l&&"gutters",s&&"divider",c&&"selected"]},getMenuItemUtilityClass,f);return{...f,...g}},MenuItemRoot=styled(ButtonBase,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver})(memoTheme(({theme:i})=>({...i.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${menuItemClasses.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${menuItemClasses.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity},[`& + .${dividerClasses.root}`]:{marginTop:i.spacing(1),marginBottom:i.spacing(1)},[`& + .${dividerClasses.inset}`]:{marginLeft:52},[`& .${listItemTextClasses.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses.root}`]:{minWidth:36},variants:[{props:({ownerState:n})=>!n.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:n})=>n.divider,style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:n})=>!n.dense,style:{[i.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:n})=>n.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...i.typography.body2,[`& .${listItemIconClasses.root} svg`]:{fontSize:"1.25rem"}}}]}))),MenuItem=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiMenuItem"}),{autoFocus:l=!1,component:c="li",dense:f=!1,divider:p=!1,disableGutters:g=!1,focusVisibleClassName:y,role:b="menuitem",tabIndex:h,className:d,...v}=s,_=reactExports.useContext(ListContext),A=reactExports.useMemo(()=>({dense:f||_.dense||!1,disableGutters:g}),[_.dense,f,g]),I=reactExports.useRef(null);useEnhancedEffect(()=>{l&&I.current&&I.current.focus()},[l]);const R={...s,dense:A.dense,divider:p,disableGutters:g},P=useUtilityClasses$c(s),$=useForkRef(I,a);let M;return s.disabled||(M=h!==void 0?h:-1),jsxRuntimeExports.jsx(ListContext.Provider,{value:A,children:jsxRuntimeExports.jsx(MenuItemRoot,{ref:$,role:b,tabIndex:M,component:c,focusVisibleClassName:clsx(P.focusVisible,y),className:clsx(P.root,d),...v,ownerState:R,classes:P})})});function getNativeSelectUtilityClasses(i){return generateUtilityClass("MuiNativeSelect",i)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),useUtilityClasses$b=i=>{const{classes:n,variant:a,disabled:s,multiple:l,open:c,error:f}=i,p={select:["select",a,s&&"disabled",l&&"multiple",f&&"error"],icon:["icon",`icon${capitalize(a)}`,c&&"iconOpen",s&&"disabled"]};return composeClasses(p,getNativeSelectUtilityClasses,n)},StyledSelectSelect=styled("select",{name:"MuiNativeSelect"})(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${nativeSelectClasses.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:n})=>n.variant!=="filled"&&n.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),NativeSelectSelect=styled(StyledSelectSelect,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.select,n[a.variant],a.error&&n.error,{[`&.${nativeSelectClasses.multiple}`]:n.multiple}]}})({}),StyledSelectIcon=styled("svg",{name:"MuiNativeSelect"})(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${nativeSelectClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:n})=>n.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),NativeSelectIcon=styled(StyledSelectIcon,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.icon,a.variant&&n[`icon${capitalize(a.variant)}`],a.open&&n.iconOpen]}})({}),NativeSelectInput=reactExports.forwardRef(function(n,a){const{className:s,disabled:l,error:c,IconComponent:f,inputRef:p,variant:g="standard",...y}=n,b={...n,disabled:l,variant:g,error:c},h=useUtilityClasses$b(b);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,{ownerState:b,className:clsx(h.select,s),disabled:l,ref:p||a,...y}),n.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:f,ownerState:b,className:h.icon})]})});var _span$1;const NotchedOutlineRoot$1=styled("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:rootShouldForwardProp})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{name:"MuiNotchedOutlined",shouldForwardProp:rootShouldForwardProp})(memoTheme(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:n})=>!n.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:n})=>n.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:n})=>n.withLabel&&n.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function NotchedOutline(i){const{children:n,classes:a,className:s,label:l,notched:c,...f}=i,p=l!=null&&l!=="",g={...i,notched:c,withLabel:p};return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,{"aria-hidden":!0,className:s,ownerState:g,...f,children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:g,children:p?jsxRuntimeExports.jsx("span",{children:l}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const useUtilityClasses$a=i=>{const{classes:n}=i,s=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,n);return{...n,...s}},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:i})=>{const n=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([a])=>({props:{color:a},style:{[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette[a].main}}})),{props:{},style:{[`&.${outlinedInputClasses.error} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${outlinedInputClasses.disabled} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:14}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:14}},{props:({ownerState:a})=>a.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:a,size:s})=>a.multiline&&s==="small",style:{padding:"8.5px 14px"}}]}})),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,n)=>n.notchedOutline})(memoTheme(({theme:i})=>{const n=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),OutlinedInputInput=styled(InputBaseInput,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:n})=>n.multiline,style:{padding:0}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:0}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:0}}]}))),OutlinedInput=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiOutlinedInput"}),{components:l={},fullWidth:c=!1,inputComponent:f="input",label:p,multiline:g=!1,notched:y,slots:b={},slotProps:h={},type:d="text",...v}=s,_=useUtilityClasses$a(s),A=useFormControl(),I=formControlState({props:s,muiFormControl:A,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),R={...s,color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:A,fullWidth:c,hiddenLabel:I.hiddenLabel,multiline:g,size:I.size,type:d},P=b.root??l.Root??OutlinedInputRoot,$=b.input??l.Input??OutlinedInputInput,[M,B]=useSlot("notchedOutline",{elementType:NotchedOutlineRoot,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:R,externalForwardedProps:{slots:b,slotProps:h},additionalProps:{label:p!=null&&p!==""&&I.required?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[p," ","*"]}):p}});return jsxRuntimeExports.jsx(InputBase,{slots:{root:P,input:$},slotProps:h,renderSuffix:F=>jsxRuntimeExports.jsx(M,{...B,notched:typeof y<"u"?y:!!(F.startAdornment||F.filled||F.focused)}),fullWidth:c,inputComponent:f,multiline:g,ref:a,type:d,...v,classes:{..._,notchedOutline:null}})});OutlinedInput.muiName="Input";function getSelectUtilityClasses(i){return generateUtilityClass("MuiSelect",i)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span;const SelectSelect=styled(StyledSelectSelect,{name:"MuiSelect",slot:"Select",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[{[`&.${selectClasses.select}`]:n.select},{[`&.${selectClasses.select}`]:n[a.variant]},{[`&.${selectClasses.error}`]:n.error},{[`&.${selectClasses.multiple}`]:n.multiple}]}})({[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled(StyledSelectIcon,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.icon,a.variant&&n[`icon${capitalize(a.variant)}`],a.open&&n.iconOpen]}})({}),SelectNativeInput=styled("input",{shouldForwardProp:i=>slotShouldForwardProp(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,n)=>n.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(i,n){return typeof n=="object"&&n!==null?i===n:String(i)===String(n)}function isEmpty(i){return i==null||typeof i=="string"&&!i.trim()}const useUtilityClasses$9=i=>{const{classes:n,variant:a,disabled:s,multiple:l,open:c,error:f}=i,p={select:["select",a,s&&"disabled",l&&"multiple",f&&"error"],icon:["icon",`icon${capitalize(a)}`,c&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(p,getSelectUtilityClasses,n)},SelectInput=reactExports.forwardRef(function(n,a){var lt;const{"aria-describedby":s,"aria-label":l,autoFocus:c,autoWidth:f,children:p,className:g,defaultOpen:y,defaultValue:b,disabled:h,displayEmpty:d,error:v=!1,IconComponent:_,inputRef:A,labelId:I,MenuProps:R={},multiple:P,name:$,onBlur:M,onChange:B,onClose:F,onFocus:q,onOpen:H,open:z,readOnly:L,renderValue:ee,required:Z,SelectDisplayProps:V={},tabIndex:X,type:Q,value:G,variant:te="standard",...ue}=n,[fe,K]=useControlled({controlled:G,default:b,name:"Select"}),[de,we]=useControlled({controlled:z,default:y,name:"Select"}),oe=reactExports.useRef(null),Ne=reactExports.useRef(null),[Ie,Le]=reactExports.useState(null),{current:ut}=reactExports.useRef(z!=null),[mt,vt]=reactExports.useState(),it=useForkRef(a,A),pt=reactExports.useCallback(Se=>{Ne.current=Se,Se&&Le(Se)},[]),xt=Ie==null?void 0:Ie.parentNode;reactExports.useImperativeHandle(it,()=>({focus:()=>{Ne.current.focus()},node:oe.current,value:fe}),[fe]),reactExports.useEffect(()=>{y&&de&&Ie&&!ut&&(vt(f?null:xt.clientWidth),Ne.current.focus())},[Ie,f]),reactExports.useEffect(()=>{c&&Ne.current.focus()},[c]),reactExports.useEffect(()=>{if(!I)return;const Se=ownerDocument(Ne.current).getElementById(I);if(Se){const ze=()=>{getSelection().isCollapsed&&Ne.current.focus()};return Se.addEventListener("click",ze),()=>{Se.removeEventListener("click",ze)}}},[I]);const kt=(Se,ze)=>{Se?H&&H(ze):F&&F(ze),ut||(vt(f?null:xt.clientWidth),we(Se))},_t=Se=>{Se.button===0&&(Se.preventDefault(),Ne.current.focus(),kt(!0,Se))},Nt=Se=>{kt(!1,Se)},Vt=reactExports.Children.toArray(p),Mt=Se=>{const ze=Vt.find(le=>le.props.value===Se.target.value);ze!==void 0&&(K(ze.props.value),B&&B(Se,ze))},$t=Se=>ze=>{let le;if(ze.currentTarget.hasAttribute("tabindex")){if(P){le=Array.isArray(fe)?fe.slice():[];const ae=fe.indexOf(Se.props.value);ae===-1?le.push(Se.props.value):le.splice(ae,1)}else le=Se.props.value;if(Se.props.onClick&&Se.props.onClick(ze),fe!==le&&(K(le),B)){const ae=ze.nativeEvent||ze,_e=new ae.constructor(ae.type,ae);Object.defineProperty(_e,"target",{writable:!0,value:{value:le,name:$}}),B(_e,Se)}P||kt(!1,ze)}},Ht=Se=>{L||[" ","ArrowUp","ArrowDown","Enter"].includes(Se.key)&&(Se.preventDefault(),kt(!0,Se))},Bt=Ie!==null&&de,Ut=Se=>{!Bt&&M&&(Object.defineProperty(Se,"target",{writable:!0,value:{value:fe,name:$}}),M(Se))};delete ue["aria-invalid"];let St,Lt;const st=[];let at=!1;(isFilled({value:fe})||d)&&(ee?St=ee(fe):at=!0);const Ue=Vt.map(Se=>{if(!reactExports.isValidElement(Se))return null;let ze;if(P){if(!Array.isArray(fe))throw new Error(formatMuiErrorMessage(2));ze=fe.some(le=>areEqualValues(le,Se.props.value)),ze&&at&&st.push(Se.props.children)}else ze=areEqualValues(fe,Se.props.value),ze&&at&&(Lt=Se.props.children);return reactExports.cloneElement(Se,{"aria-selected":ze?"true":"false",onClick:$t(Se),onKeyUp:le=>{le.key===" "&&le.preventDefault(),Se.props.onKeyUp&&Se.props.onKeyUp(le)},role:"option",selected:ze,value:void 0,"data-value":Se.props.value})});at&&(P?st.length===0?St=null:St=st.reduce((Se,ze,le)=>(Se.push(ze),le<st.length-1&&Se.push(", "),Se),[]):St=Lt);let nt=mt;!f&&ut&&Ie&&(nt=xt.clientWidth);let Ct;typeof X<"u"?Ct=X:Ct=h?null:0;const ce=V.id||($?`mui-component-select-${$}`:void 0),He={...n,variant:te,value:fe,open:Bt,error:v},Je=useUtilityClasses$9(He),gt={...R.PaperProps,...(lt=R.slotProps)==null?void 0:lt.paper},Et=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,{as:"div",ref:pt,tabIndex:Ct,role:"combobox","aria-controls":Bt?Et:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":Bt?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[I,ce].filter(Boolean).join(" ")||void 0,"aria-describedby":s,"aria-required":Z?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:Ht,onMouseDown:h||L?null:_t,onBlur:Ut,onFocus:q,...V,ownerState:He,className:clsx(V.className,Je.select,g),id:ce,children:isEmpty(St)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):St}),jsxRuntimeExports.jsx(SelectNativeInput,{"aria-invalid":v,value:Array.isArray(fe)?fe.join(","):fe,name:$,ref:oe,"aria-hidden":!0,onChange:Mt,tabIndex:-1,disabled:h,className:Je.nativeInput,autoFocus:c,required:Z,...ue,ownerState:He}),jsxRuntimeExports.jsx(SelectIcon,{as:_,className:Je.icon,ownerState:He}),jsxRuntimeExports.jsx(Menu,{id:`menu-${$||""}`,anchorEl:xt,open:Bt,onClose:Nt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...R,slotProps:{...R.slotProps,list:{"aria-labelledby":I,role:"listbox","aria-multiselectable":P?"true":void 0,disableListWrap:!0,id:Et,...R.MenuListProps},paper:{...gt,style:{minWidth:nt,...gt!=null?gt.style:null}}},children:Ue})]})}),useUtilityClasses$8=i=>{const{classes:n}=i,s=composeClasses({root:["root"]},getSelectUtilityClasses,n);return{...n,...s}},styledRootConfig={name:"MuiSelect",overridesResolver:(i,n)=>n.root,shouldForwardProp:i=>rootShouldForwardProp(i)&&i!=="variant",slot:"Root"},StyledInput=styled(Input,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput,styledRootConfig)(""),StyledFilledInput=styled(FilledInput,styledRootConfig)(""),Select=reactExports.forwardRef(function(n,a){const s=useDefaultProps({name:"MuiSelect",props:n}),{autoWidth:l=!1,children:c,classes:f={},className:p,defaultOpen:g=!1,displayEmpty:y=!1,IconComponent:b=ArrowDropDownIcon,id:h,input:d,inputProps:v,label:_,labelId:A,MenuProps:I,multiple:R=!1,native:P=!1,onClose:$,onOpen:M,open:B,renderValue:F,SelectDisplayProps:q,variant:H="outlined",...z}=s,L=P?NativeSelectInput:SelectInput,ee=useFormControl(),Z=formControlState({props:s,muiFormControl:ee,states:["variant","error"]}),V=Z.variant||H,X={...s,variant:V,classes:f},Q=useUtilityClasses$8(X),{root:G,...te}=Q,ue=d||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:X}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:_,ownerState:X}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:X})}[V],fe=useForkRef(a,getReactElementRef(ue));return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(ue,{inputComponent:L,inputProps:{children:c,error:Z.error,IconComponent:b,variant:V,type:void 0,multiple:R,...P?{id:h}:{autoWidth:l,defaultOpen:g,displayEmpty:y,labelId:A,MenuProps:I,onClose:$,onOpen:M,open:B,renderValue:F,SelectDisplayProps:{id:h,...q}},...v,classes:v?deepmerge(te,v.classes):te,...d?d.props.inputProps:{}},...(R&&P||y)&&V==="outlined"?{notched:!0}:{},ref:fe,className:clsx(ue.props.className,p,Q.root),...!d&&{variant:V},...z})})});Select.muiName="Select";function getTooltipUtilityClass(i){return generateUtilityClass("MuiTooltip",i)}const tooltipClasses=generateUtilityClasses("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function round(i){return Math.round(i*1e5)/1e5}const useUtilityClasses$7=i=>{const{classes:n,disableInteractive:a,arrow:s,touch:l,placement:c}=i,f={popper:["popper",!a&&"popperInteractive",s&&"popperArrow"],tooltip:["tooltip",s&&"tooltipArrow",l&&"touch",`tooltipPlacement${capitalize(c.split("-")[0])}`],arrow:["arrow"]};return composeClasses(f,getTooltipUtilityClass,n)},TooltipPopper=styled(Popper,{name:"MuiTooltip",slot:"Popper",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.popper,!a.disableInteractive&&n.popperInteractive,a.arrow&&n.popperArrow,!a.open&&n.popperClose]}})(memoTheme(({theme:i})=>({zIndex:(i.vars||i).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:n})=>!n.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:n})=>!n,style:{pointerEvents:"none"}},{props:({ownerState:n})=>n.arrow,style:{[`&[data-popper-placement*="bottom"] .${tooltipClasses.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${tooltipClasses.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:n})=>n.arrow&&!n.isRtl,style:{[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:n})=>n.arrow&&!!n.isRtl,style:{[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:n})=>n.arrow&&!n.isRtl,style:{[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:n})=>n.arrow&&!!n.isRtl,style:{[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),TooltipTooltip=styled("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.tooltip,a.touch&&n.touch,a.arrow&&n.tooltipArrow,n[`tooltipPlacement${capitalize(a.placement.split("-")[0])}`]]}})(memoTheme(({theme:i})=>({backgroundColor:i.vars?i.vars.palette.Tooltip.bg:alpha(i.palette.grey[700],.92),borderRadius:(i.vars||i).shape.borderRadius,color:(i.vars||i).palette.common.white,fontFamily:i.typography.fontFamily,padding:"4px 8px",fontSize:i.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:i.typography.fontWeightMedium,[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${tooltipClasses.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:n})=>n.arrow,style:{position:"relative",margin:0}},{props:({ownerState:n})=>n.touch,style:{padding:"8px 16px",fontSize:i.typography.pxToRem(14),lineHeight:`${round(16/14)}em`,fontWeight:i.typography.fontWeightRegular}},{props:({ownerState:n})=>!n.isRtl,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:n})=>!n.isRtl&&n.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:n})=>!!n.isRtl,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:n})=>!!n.isRtl&&n.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:n})=>n.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:n})=>n.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),TooltipArrow=styled("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(i,n)=>n.arrow})(memoTheme(({theme:i})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:i.vars?i.vars.palette.Tooltip.bg:alpha(i.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let hystersisOpen=!1;const hystersisTimer=new Timeout;let cursorPosition={x:0,y:0};function composeEventHandler(i,n){return(a,...s)=>{n&&n(a,...s),i(a,...s)}}const Tooltip=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiTooltip"}),{arrow:l=!1,children:c,classes:f,components:p={},componentsProps:g={},describeChild:y=!1,disableFocusListener:b=!1,disableHoverListener:h=!1,disableInteractive:d=!1,disableTouchListener:v=!1,enterDelay:_=100,enterNextDelay:A=0,enterTouchDelay:I=700,followCursor:R=!1,id:P,leaveDelay:$=0,leaveTouchDelay:M=1500,onClose:B,onOpen:F,open:q,placement:H="bottom",PopperComponent:z,PopperProps:L={},slotProps:ee={},slots:Z={},title:V,TransitionComponent:X,TransitionProps:Q,...G}=s,te=reactExports.isValidElement(c)?c:jsxRuntimeExports.jsx("span",{children:c}),ue=useTheme(),fe=useRtl(),[K,de]=reactExports.useState(),[we,oe]=reactExports.useState(null),Ne=reactExports.useRef(!1),Ie=d||R,Le=useTimeout(),ut=useTimeout(),mt=useTimeout(),vt=useTimeout(),[it,pt]=useControlled({controlled:q,default:!1,name:"Tooltip",state:"open"});let xt=it;const kt=useId(P),_t=reactExports.useRef(),Nt=useEventCallback(()=>{_t.current!==void 0&&(document.body.style.WebkitUserSelect=_t.current,_t.current=void 0),vt.clear()});reactExports.useEffect(()=>Nt,[Nt]);const Vt=Rt=>{hystersisTimer.clear(),hystersisOpen=!0,pt(!0),F&&!xt&&F(Rt)},Mt=useEventCallback(Rt=>{hystersisTimer.start(800+$,()=>{hystersisOpen=!1}),pt(!1),B&&xt&&B(Rt),Le.start(ue.transitions.duration.shortest,()=>{Ne.current=!1})}),$t=Rt=>{Ne.current&&Rt.type!=="touchstart"||(K&&K.removeAttribute("title"),ut.clear(),mt.clear(),_||hystersisOpen&&A?ut.start(hystersisOpen?A:_,()=>{Vt(Rt)}):Vt(Rt))},Ht=Rt=>{ut.clear(),mt.start($,()=>{Mt(Rt)})},[,Bt]=reactExports.useState(!1),Ut=Rt=>{isFocusVisible(Rt.target)||(Bt(!1),Ht(Rt))},St=Rt=>{K||de(Rt.currentTarget),isFocusVisible(Rt.target)&&(Bt(!0),$t(Rt))},Lt=Rt=>{Ne.current=!0;const Y=te.props;Y.onTouchStart&&Y.onTouchStart(Rt)},st=Rt=>{Lt(Rt),mt.clear(),Le.clear(),Nt(),_t.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",vt.start(I,()=>{document.body.style.WebkitUserSelect=_t.current,$t(Rt)})},at=Rt=>{te.props.onTouchEnd&&te.props.onTouchEnd(Rt),Nt(),mt.start(M,()=>{Mt(Rt)})};reactExports.useEffect(()=>{if(!xt)return;function Rt(Y){Y.key==="Escape"&&Mt(Y)}return document.addEventListener("keydown",Rt),()=>{document.removeEventListener("keydown",Rt)}},[Mt,xt]);const Ue=useForkRef(getReactElementRef(te),de,a);!V&&V!==0&&(xt=!1);const nt=reactExports.useRef(),Ct=Rt=>{const Y=te.props;Y.onMouseMove&&Y.onMouseMove(Rt),cursorPosition={x:Rt.clientX,y:Rt.clientY},nt.current&&nt.current.update()},ce={},He=typeof V=="string";y?(ce.title=!xt&&He&&!h?V:null,ce["aria-describedby"]=xt?kt:null):(ce["aria-label"]=He?V:null,ce["aria-labelledby"]=xt&&!He?kt:null);const Je={...ce,...G,...te.props,className:clsx(G.className,te.props.className),onTouchStart:Lt,ref:Ue,...R?{onMouseMove:Ct}:{}},gt={};v||(Je.onTouchStart=st,Je.onTouchEnd=at),h||(Je.onMouseOver=composeEventHandler($t,Je.onMouseOver),Je.onMouseLeave=composeEventHandler(Ht,Je.onMouseLeave),Ie||(gt.onMouseOver=$t,gt.onMouseLeave=Ht)),b||(Je.onFocus=composeEventHandler(St,Je.onFocus),Je.onBlur=composeEventHandler(Ut,Je.onBlur),Ie||(gt.onFocus=St,gt.onBlur=Ut));const Et={...s,isRtl:fe,arrow:l,disableInteractive:Ie,placement:H,PopperComponentProp:z,touch:Ne.current},lt=typeof ee.popper=="function"?ee.popper(Et):ee.popper,Se=reactExports.useMemo(()=>{var Y,Ke;let Rt=[{name:"arrow",enabled:!!we,options:{element:we,padding:4}}];return(Y=L.popperOptions)!=null&&Y.modifiers&&(Rt=Rt.concat(L.popperOptions.modifiers)),(Ke=lt==null?void 0:lt.popperOptions)!=null&&Ke.modifiers&&(Rt=Rt.concat(lt.popperOptions.modifiers)),{...L.popperOptions,...lt==null?void 0:lt.popperOptions,modifiers:Rt}},[we,L.popperOptions,lt==null?void 0:lt.popperOptions]),ze=useUtilityClasses$7(Et),le=typeof ee.transition=="function"?ee.transition(Et):ee.transition,ae={slots:{popper:p.Popper,transition:p.Transition??X,tooltip:p.Tooltip,arrow:p.Arrow,...Z},slotProps:{arrow:ee.arrow??g.arrow,popper:{...L,...lt??g.popper},tooltip:ee.tooltip??g.tooltip,transition:{...Q,...le??g.transition}}},[_e,Oe]=useSlot("popper",{elementType:TooltipPopper,externalForwardedProps:ae,ownerState:Et,className:clsx(ze.popper,L==null?void 0:L.className)}),[We,je]=useSlot("transition",{elementType:Grow,externalForwardedProps:ae,ownerState:Et}),[Ye,Te]=useSlot("tooltip",{elementType:TooltipTooltip,className:ze.tooltip,externalForwardedProps:ae,ownerState:Et}),[Me,Kt]=useSlot("arrow",{elementType:TooltipArrow,className:ze.arrow,externalForwardedProps:ae,ownerState:Et,ref:oe});return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[reactExports.cloneElement(te,Je),jsxRuntimeExports.jsx(_e,{as:z??Popper,placement:H,anchorEl:R?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:K,popperRef:nt,open:K?xt:!1,id:kt,transition:!0,...gt,...Oe,popperOptions:Se,children:({TransitionProps:Rt})=>jsxRuntimeExports.jsx(We,{timeout:ue.transitions.duration.shorter,...Rt,...je,children:jsxRuntimeExports.jsxs(Ye,{...Te,children:[V,l?jsxRuntimeExports.jsx(Me,{...Kt}):null]})})})]})}),Stack=createStack({createStyledComponent:styled("div",{name:"MuiStack",slot:"Root",overridesResolver:(i,n)=>n.root}),useThemeProps:i=>useDefaultProps({props:i,name:"MuiStack"})}),TableContext=reactExports.createContext();function getTableUtilityClass(i){return generateUtilityClass("MuiTable",i)}generateUtilityClasses("MuiTable",["root","stickyHeader"]);const useUtilityClasses$6=i=>{const{classes:n,stickyHeader:a}=i;return composeClasses({root:["root",a&&"stickyHeader"]},getTableUtilityClass,n)},TableRoot=styled("table",{name:"MuiTable",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.stickyHeader&&n.stickyHeader]}})(memoTheme(({theme:i})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...i.typography.body2,padding:i.spacing(2),color:(i.vars||i).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:n})=>n.stickyHeader,style:{borderCollapse:"separate"}}]}))),defaultComponent$3="table",Table$1=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiTable"}),{className:l,component:c=defaultComponent$3,padding:f="normal",size:p="medium",stickyHeader:g=!1,...y}=s,b={...s,component:c,padding:f,size:p,stickyHeader:g},h=useUtilityClasses$6(b),d=reactExports.useMemo(()=>({padding:f,size:p,stickyHeader:g}),[f,p,g]);return jsxRuntimeExports.jsx(TableContext.Provider,{value:d,children:jsxRuntimeExports.jsx(TableRoot,{as:c,role:c===defaultComponent$3?null:"table",ref:a,className:clsx(h.root,l),ownerState:b,...y})})}),Tablelvl2Context=reactExports.createContext();function getTableBodyUtilityClass(i){return generateUtilityClass("MuiTableBody",i)}generateUtilityClasses("MuiTableBody",["root"]);const useUtilityClasses$5=i=>{const{classes:n}=i;return composeClasses({root:["root"]},getTableBodyUtilityClass,n)},TableBodyRoot=styled("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(i,n)=>n.root})({display:"table-row-group"}),tablelvl2$1={variant:"body"},defaultComponent$2="tbody",TableBody=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiTableBody"}),{className:l,component:c=defaultComponent$2,...f}=s,p={...s,component:c},g=useUtilityClasses$5(p);return jsxRuntimeExports.jsx(Tablelvl2Context.Provider,{value:tablelvl2$1,children:jsxRuntimeExports.jsx(TableBodyRoot,{className:clsx(g.root,l),as:c,ref:a,role:c===defaultComponent$2?null:"rowgroup",ownerState:p,...f})})});function getTableCellUtilityClass(i){return generateUtilityClass("MuiTableCell",i)}const tableCellClasses=generateUtilityClasses("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),useUtilityClasses$4=i=>{const{classes:n,variant:a,align:s,padding:l,size:c,stickyHeader:f}=i,p={root:["root",a,f&&"stickyHeader",s!=="inherit"&&`align${capitalize(s)}`,l!=="normal"&&`padding${capitalize(l)}`,`size${capitalize(c)}`]};return composeClasses(p,getTableCellUtilityClass,n)},TableCellRoot=styled("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,n[a.variant],n[`size${capitalize(a.size)}`],a.padding!=="normal"&&n[`padding${capitalize(a.padding)}`],a.align!=="inherit"&&n[`align${capitalize(a.align)}`],a.stickyHeader&&n.stickyHeader]}})(memoTheme(({theme:i})=>({...i.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:i.vars?`1px solid ${i.vars.palette.TableCell.border}`:`1px solid
    ${i.palette.mode==="light"?lighten$1(alpha(i.palette.divider,1),.88):darken$1(alpha(i.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(i.vars||i).palette.text.primary,lineHeight:i.typography.pxToRem(24),fontWeight:i.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(i.vars||i).palette.text.primary}},{props:{variant:"footer"},style:{color:(i.vars||i).palette.text.secondary,lineHeight:i.typography.pxToRem(21),fontSize:i.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${tableCellClasses.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:n})=>n.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(i.vars||i).palette.background.default}}]}))),TableCell=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiTableCell"}),{align:l="inherit",className:c,component:f,padding:p,scope:g,size:y,sortDirection:b,variant:h,...d}=s,v=reactExports.useContext(TableContext),_=reactExports.useContext(Tablelvl2Context),A=_&&_.variant==="head";let I;f?I=f:I=A?"th":"td";let R=g;I==="td"?R=void 0:!R&&A&&(R="col");const P=h||_&&_.variant,$={...s,align:l,component:I,padding:p||(v&&v.padding?v.padding:"normal"),size:y||(v&&v.size?v.size:"medium"),sortDirection:b,stickyHeader:P==="head"&&v&&v.stickyHeader,variant:P},M=useUtilityClasses$4($);let B=null;return b&&(B=b==="asc"?"ascending":"descending"),jsxRuntimeExports.jsx(TableCellRoot,{as:I,ref:a,className:clsx(M.root,c),"aria-sort":B,scope:R,ownerState:$,...d})});function getTableHeadUtilityClass(i){return generateUtilityClass("MuiTableHead",i)}generateUtilityClasses("MuiTableHead",["root"]);const useUtilityClasses$3=i=>{const{classes:n}=i;return composeClasses({root:["root"]},getTableHeadUtilityClass,n)},TableHeadRoot=styled("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(i,n)=>n.root})({display:"table-header-group"}),tablelvl2={variant:"head"},defaultComponent$1="thead",TableHead=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiTableHead"}),{className:l,component:c=defaultComponent$1,...f}=s,p={...s,component:c},g=useUtilityClasses$3(p);return jsxRuntimeExports.jsx(Tablelvl2Context.Provider,{value:tablelvl2,children:jsxRuntimeExports.jsx(TableHeadRoot,{as:c,className:clsx(g.root,l),ref:a,role:c===defaultComponent$1?null:"rowgroup",ownerState:p,...f})})});function getToolbarUtilityClass(i){return generateUtilityClass("MuiToolbar",i)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const useUtilityClasses$2=i=>{const{classes:n,disableGutters:a,variant:s}=i;return composeClasses({root:["root",!a&&"gutters",s]},getToolbarUtilityClass,n)},ToolbarRoot=styled("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,!a.disableGutters&&n.gutters,n[a.variant]]}})(memoTheme(({theme:i})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:n})=>!n.disableGutters,style:{paddingLeft:i.spacing(2),paddingRight:i.spacing(2),[i.breakpoints.up("sm")]:{paddingLeft:i.spacing(3),paddingRight:i.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:i.mixins.toolbar}]}))),Toolbar=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiToolbar"}),{className:l,component:c="div",disableGutters:f=!1,variant:p="regular",...g}=s,y={...s,component:c,disableGutters:f,variant:p},b=useUtilityClasses$2(y);return jsxRuntimeExports.jsx(ToolbarRoot,{as:c,className:clsx(b.root,l),ref:a,ownerState:y,...g})});function getTableRowUtilityClass(i){return generateUtilityClass("MuiTableRow",i)}const tableRowClasses=generateUtilityClasses("MuiTableRow",["root","selected","hover","head","footer"]),useUtilityClasses$1=i=>{const{classes:n,selected:a,hover:s,head:l,footer:c}=i;return composeClasses({root:["root",a&&"selected",s&&"hover",l&&"head",c&&"footer"]},getTableRowUtilityClass,n)},TableRowRoot=styled("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(i,n)=>{const{ownerState:a}=i;return[n.root,a.head&&n.head,a.footer&&n.footer]}})(memoTheme(({theme:i})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${tableRowClasses.hover}:hover`]:{backgroundColor:(i.vars||i).palette.action.hover},[`&.${tableRowClasses.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity)}}}))),defaultComponent="tr",TableRow=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiTableRow"}),{className:l,component:c=defaultComponent,hover:f=!1,selected:p=!1,...g}=s,y=reactExports.useContext(Tablelvl2Context),b={...s,component:c,hover:f,selected:p,head:y&&y.variant==="head",footer:y&&y.variant==="footer"},h=useUtilityClasses$1(b);return jsxRuntimeExports.jsx(TableRowRoot,{as:c,ref:a,className:clsx(h.root,l),role:c===defaultComponent?null:"row",ownerState:b,...g})});function getTextFieldUtilityClass(i){return generateUtilityClass("MuiTextField",i)}generateUtilityClasses("MuiTextField",["root"]);const variantComponent={standard:Input,filled:FilledInput,outlined:OutlinedInput},useUtilityClasses=i=>{const{classes:n}=i;return composeClasses({root:["root"]},getTextFieldUtilityClass,n)},TextFieldRoot=styled(FormControl,{name:"MuiTextField",slot:"Root",overridesResolver:(i,n)=>n.root})({}),TextField=reactExports.forwardRef(function(n,a){const s=useDefaultProps({props:n,name:"MuiTextField"}),{autoComplete:l,autoFocus:c=!1,children:f,className:p,color:g="primary",defaultValue:y,disabled:b=!1,error:h=!1,FormHelperTextProps:d,fullWidth:v=!1,helperText:_,id:A,InputLabelProps:I,inputProps:R,InputProps:P,inputRef:$,label:M,maxRows:B,minRows:F,multiline:q=!1,name:H,onBlur:z,onChange:L,onFocus:ee,placeholder:Z,required:V=!1,rows:X,select:Q=!1,SelectProps:G,slots:te={},slotProps:ue={},type:fe,value:K,variant:de="outlined",...we}=s,oe={...s,autoFocus:c,color:g,disabled:b,error:h,fullWidth:v,multiline:q,required:V,select:Q,variant:de},Ne=useUtilityClasses(oe),Ie=useId(A),Le=_&&Ie?`${Ie}-helper-text`:void 0,ut=M&&Ie?`${Ie}-label`:void 0,mt=variantComponent[de],vt={slots:te,slotProps:{input:P,inputLabel:I,htmlInput:R,formHelperText:d,select:G,...ue}},it={},pt=vt.slotProps.inputLabel;de==="outlined"&&(pt&&typeof pt.shrink<"u"&&(it.notched=pt.shrink),it.label=M),Q&&((!G||!G.native)&&(it.id=void 0),it["aria-describedby"]=void 0);const[xt,kt]=useSlot("root",{elementType:TextFieldRoot,shouldForwardComponentProp:!0,externalForwardedProps:{...vt,...we},ownerState:oe,className:clsx(Ne.root,p),ref:a,additionalProps:{disabled:b,error:h,fullWidth:v,required:V,color:g,variant:de}}),[_t,Nt]=useSlot("input",{elementType:mt,externalForwardedProps:vt,additionalProps:it,ownerState:oe}),[Vt,Mt]=useSlot("inputLabel",{elementType:InputLabel,externalForwardedProps:vt,ownerState:oe}),[$t,Ht]=useSlot("htmlInput",{elementType:"input",externalForwardedProps:vt,ownerState:oe}),[Bt,Ut]=useSlot("formHelperText",{elementType:FormHelperText,externalForwardedProps:vt,ownerState:oe}),[St,Lt]=useSlot("select",{elementType:Select,externalForwardedProps:vt,ownerState:oe}),st=jsxRuntimeExports.jsx(_t,{"aria-describedby":Le,autoComplete:l,autoFocus:c,defaultValue:y,fullWidth:v,multiline:q,name:H,rows:X,maxRows:B,minRows:F,type:fe,value:K,id:Ie,inputRef:$,onBlur:z,onChange:L,onFocus:ee,placeholder:Z,inputProps:Ht,slots:{input:te.htmlInput?$t:void 0},...Nt});return jsxRuntimeExports.jsxs(xt,{...kt,children:[M!=null&&M!==""&&jsxRuntimeExports.jsx(Vt,{htmlFor:Ie,id:ut,...Mt,children:M}),Q?jsxRuntimeExports.jsx(St,{"aria-describedby":Le,id:Ie,labelId:ut,value:K,input:st,...Lt,children:f}):st,_&&jsxRuntimeExports.jsx(Bt,{id:Le,...Ut,children:_})]})}),AppConfig={dbName:"ha-2025",storeName:"config"},darkTheme=createTheme({palette:{mode:"dark"}});class ErrorBoundary extends reactExports.Component{constructor(){super(...arguments);me(this,"state",{hasError:!1})}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,s){console.error("Uncaught error:",a,s)}render(){return this.state.hasError?jsxRuntimeExports.jsx("h1",{children:"Something went wrong."}):this.props.children}}var colorString={exports:{}},colorName,hasRequiredColorName;function requireColorName(){return hasRequiredColorName||(hasRequiredColorName=1,colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),colorName}var simpleSwizzle={exports:{}},isArrayish,hasRequiredIsArrayish;function requireIsArrayish(){return hasRequiredIsArrayish||(hasRequiredIsArrayish=1,isArrayish=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")}),isArrayish}var hasRequiredSimpleSwizzle;function requireSimpleSwizzle(){if(hasRequiredSimpleSwizzle)return simpleSwizzle.exports;hasRequiredSimpleSwizzle=1;var i=requireIsArrayish(),n=Array.prototype.concat,a=Array.prototype.slice,s=simpleSwizzle.exports=function(c){for(var f=[],p=0,g=c.length;p<g;p++){var y=c[p];i(y)?f=n.call(f,a.call(y)):f.push(y)}return f};return s.wrap=function(l){return function(){return l(s(arguments))}},simpleSwizzle.exports}var hasRequiredColorString;function requireColorString(){if(hasRequiredColorString)return colorString.exports;hasRequiredColorString=1;var i=requireColorName(),n=requireSimpleSwizzle(),a=Object.hasOwnProperty,s=Object.create(null);for(var l in i)a.call(i,l)&&(s[i[l]]=l);var c=colorString.exports={to:{},get:{}};c.get=function(g){var y=g.substring(0,3).toLowerCase(),b,h;switch(y){case"hsl":b=c.get.hsl(g),h="hsl";break;case"hwb":b=c.get.hwb(g),h="hwb";break;default:b=c.get.rgb(g),h="rgb";break}return b?{model:h,value:b}:null},c.get.rgb=function(g){if(!g)return null;var y=/^#([a-f0-9]{3,4})$/i,b=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,h=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,v=/^(\w+)$/,_=[0,0,0,1],A,I,R;if(A=g.match(b)){for(R=A[2],A=A[1],I=0;I<3;I++){var P=I*2;_[I]=parseInt(A.slice(P,P+2),16)}R&&(_[3]=parseInt(R,16)/255)}else if(A=g.match(y)){for(A=A[1],R=A[3],I=0;I<3;I++)_[I]=parseInt(A[I]+A[I],16);R&&(_[3]=parseInt(R+R,16)/255)}else if(A=g.match(h)){for(I=0;I<3;I++)_[I]=parseInt(A[I+1],0);A[4]&&(A[5]?_[3]=parseFloat(A[4])*.01:_[3]=parseFloat(A[4]))}else if(A=g.match(d)){for(I=0;I<3;I++)_[I]=Math.round(parseFloat(A[I+1])*2.55);A[4]&&(A[5]?_[3]=parseFloat(A[4])*.01:_[3]=parseFloat(A[4]))}else return(A=g.match(v))?A[1]==="transparent"?[0,0,0,0]:a.call(i,A[1])?(_=i[A[1]],_[3]=1,_):null:null;for(I=0;I<3;I++)_[I]=f(_[I],0,255);return _[3]=f(_[3],0,1),_},c.get.hsl=function(g){if(!g)return null;var y=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,b=g.match(y);if(b){var h=parseFloat(b[4]),d=(parseFloat(b[1])%360+360)%360,v=f(parseFloat(b[2]),0,100),_=f(parseFloat(b[3]),0,100),A=f(isNaN(h)?1:h,0,1);return[d,v,_,A]}return null},c.get.hwb=function(g){if(!g)return null;var y=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,b=g.match(y);if(b){var h=parseFloat(b[4]),d=(parseFloat(b[1])%360+360)%360,v=f(parseFloat(b[2]),0,100),_=f(parseFloat(b[3]),0,100),A=f(isNaN(h)?1:h,0,1);return[d,v,_,A]}return null},c.to.hex=function(){var g=n(arguments);return"#"+p(g[0])+p(g[1])+p(g[2])+(g[3]<1?p(Math.round(g[3]*255)):"")},c.to.rgb=function(){var g=n(arguments);return g.length<4||g[3]===1?"rgb("+Math.round(g[0])+", "+Math.round(g[1])+", "+Math.round(g[2])+")":"rgba("+Math.round(g[0])+", "+Math.round(g[1])+", "+Math.round(g[2])+", "+g[3]+")"},c.to.rgb.percent=function(){var g=n(arguments),y=Math.round(g[0]/255*100),b=Math.round(g[1]/255*100),h=Math.round(g[2]/255*100);return g.length<4||g[3]===1?"rgb("+y+"%, "+b+"%, "+h+"%)":"rgba("+y+"%, "+b+"%, "+h+"%, "+g[3]+")"},c.to.hsl=function(){var g=n(arguments);return g.length<4||g[3]===1?"hsl("+g[0]+", "+g[1]+"%, "+g[2]+"%)":"hsla("+g[0]+", "+g[1]+"%, "+g[2]+"%, "+g[3]+")"},c.to.hwb=function(){var g=n(arguments),y="";return g.length>=4&&g[3]!==1&&(y=", "+g[3]),"hwb("+g[0]+", "+g[1]+"%, "+g[2]+"%"+y+")"},c.to.keyword=function(g){return s[g.slice(0,3)]};function f(g,y,b){return Math.min(Math.max(y,g),b)}function p(g){var y=Math.round(g).toString(16).toUpperCase();return y.length<2?"0"+y:y}return colorString.exports}var conversions,hasRequiredConversions;function requireConversions(){if(hasRequiredConversions)return conversions;hasRequiredConversions=1;const i=requireColorName(),n={};for(const l of Object.keys(i))n[i[l]]=l;const a={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};conversions=a;for(const l of Object.keys(a)){if(!("channels"in a[l]))throw new Error("missing channels property: "+l);if(!("labels"in a[l]))throw new Error("missing channel labels property: "+l);if(a[l].labels.length!==a[l].channels)throw new Error("channel and label counts mismatch: "+l);const{channels:c,labels:f}=a[l];delete a[l].channels,delete a[l].labels,Object.defineProperty(a[l],"channels",{value:c}),Object.defineProperty(a[l],"labels",{value:f})}a.rgb.hsl=function(l){const c=l[0]/255,f=l[1]/255,p=l[2]/255,g=Math.min(c,f,p),y=Math.max(c,f,p),b=y-g;let h,d;y===g?h=0:c===y?h=(f-p)/b:f===y?h=2+(p-c)/b:p===y&&(h=4+(c-f)/b),h=Math.min(h*60,360),h<0&&(h+=360);const v=(g+y)/2;return y===g?d=0:v<=.5?d=b/(y+g):d=b/(2-y-g),[h,d*100,v*100]},a.rgb.hsv=function(l){let c,f,p,g,y;const b=l[0]/255,h=l[1]/255,d=l[2]/255,v=Math.max(b,h,d),_=v-Math.min(b,h,d),A=function(I){return(v-I)/6/_+1/2};return _===0?(g=0,y=0):(y=_/v,c=A(b),f=A(h),p=A(d),b===v?g=p-f:h===v?g=1/3+c-p:d===v&&(g=2/3+f-c),g<0?g+=1:g>1&&(g-=1)),[g*360,y*100,v*100]},a.rgb.hwb=function(l){const c=l[0],f=l[1];let p=l[2];const g=a.rgb.hsl(l)[0],y=1/255*Math.min(c,Math.min(f,p));return p=1-1/255*Math.max(c,Math.max(f,p)),[g,y*100,p*100]},a.rgb.cmyk=function(l){const c=l[0]/255,f=l[1]/255,p=l[2]/255,g=Math.min(1-c,1-f,1-p),y=(1-c-g)/(1-g)||0,b=(1-f-g)/(1-g)||0,h=(1-p-g)/(1-g)||0;return[y*100,b*100,h*100,g*100]};function s(l,c){return(l[0]-c[0])**2+(l[1]-c[1])**2+(l[2]-c[2])**2}return a.rgb.keyword=function(l){const c=n[l];if(c)return c;let f=1/0,p;for(const g of Object.keys(i)){const y=i[g],b=s(l,y);b<f&&(f=b,p=g)}return p},a.keyword.rgb=function(l){return i[l]},a.rgb.xyz=function(l){let c=l[0]/255,f=l[1]/255,p=l[2]/255;c=c>.04045?((c+.055)/1.055)**2.4:c/12.92,f=f>.04045?((f+.055)/1.055)**2.4:f/12.92,p=p>.04045?((p+.055)/1.055)**2.4:p/12.92;const g=c*.4124+f*.3576+p*.1805,y=c*.2126+f*.7152+p*.0722,b=c*.0193+f*.1192+p*.9505;return[g*100,y*100,b*100]},a.rgb.lab=function(l){const c=a.rgb.xyz(l);let f=c[0],p=c[1],g=c[2];f/=95.047,p/=100,g/=108.883,f=f>.008856?f**(1/3):7.787*f+16/116,p=p>.008856?p**(1/3):7.787*p+16/116,g=g>.008856?g**(1/3):7.787*g+16/116;const y=116*p-16,b=500*(f-p),h=200*(p-g);return[y,b,h]},a.hsl.rgb=function(l){const c=l[0]/360,f=l[1]/100,p=l[2]/100;let g,y,b;if(f===0)return b=p*255,[b,b,b];p<.5?g=p*(1+f):g=p+f-p*f;const h=2*p-g,d=[0,0,0];for(let v=0;v<3;v++)y=c+1/3*-(v-1),y<0&&y++,y>1&&y--,6*y<1?b=h+(g-h)*6*y:2*y<1?b=g:3*y<2?b=h+(g-h)*(2/3-y)*6:b=h,d[v]=b*255;return d},a.hsl.hsv=function(l){const c=l[0];let f=l[1]/100,p=l[2]/100,g=f;const y=Math.max(p,.01);p*=2,f*=p<=1?p:2-p,g*=y<=1?y:2-y;const b=(p+f)/2,h=p===0?2*g/(y+g):2*f/(p+f);return[c,h*100,b*100]},a.hsv.rgb=function(l){const c=l[0]/60,f=l[1]/100;let p=l[2]/100;const g=Math.floor(c)%6,y=c-Math.floor(c),b=255*p*(1-f),h=255*p*(1-f*y),d=255*p*(1-f*(1-y));switch(p*=255,g){case 0:return[p,d,b];case 1:return[h,p,b];case 2:return[b,p,d];case 3:return[b,h,p];case 4:return[d,b,p];case 5:return[p,b,h]}},a.hsv.hsl=function(l){const c=l[0],f=l[1]/100,p=l[2]/100,g=Math.max(p,.01);let y,b;b=(2-f)*p;const h=(2-f)*g;return y=f*g,y/=h<=1?h:2-h,y=y||0,b/=2,[c,y*100,b*100]},a.hwb.rgb=function(l){const c=l[0]/360;let f=l[1]/100,p=l[2]/100;const g=f+p;let y;g>1&&(f/=g,p/=g);const b=Math.floor(6*c),h=1-p;y=6*c-b,(b&1)!==0&&(y=1-y);const d=f+y*(h-f);let v,_,A;switch(b){default:case 6:case 0:v=h,_=d,A=f;break;case 1:v=d,_=h,A=f;break;case 2:v=f,_=h,A=d;break;case 3:v=f,_=d,A=h;break;case 4:v=d,_=f,A=h;break;case 5:v=h,_=f,A=d;break}return[v*255,_*255,A*255]},a.cmyk.rgb=function(l){const c=l[0]/100,f=l[1]/100,p=l[2]/100,g=l[3]/100,y=1-Math.min(1,c*(1-g)+g),b=1-Math.min(1,f*(1-g)+g),h=1-Math.min(1,p*(1-g)+g);return[y*255,b*255,h*255]},a.xyz.rgb=function(l){const c=l[0]/100,f=l[1]/100,p=l[2]/100;let g,y,b;return g=c*3.2406+f*-1.5372+p*-.4986,y=c*-.9689+f*1.8758+p*.0415,b=c*.0557+f*-.204+p*1.057,g=g>.0031308?1.055*g**(1/2.4)-.055:g*12.92,y=y>.0031308?1.055*y**(1/2.4)-.055:y*12.92,b=b>.0031308?1.055*b**(1/2.4)-.055:b*12.92,g=Math.min(Math.max(0,g),1),y=Math.min(Math.max(0,y),1),b=Math.min(Math.max(0,b),1),[g*255,y*255,b*255]},a.xyz.lab=function(l){let c=l[0],f=l[1],p=l[2];c/=95.047,f/=100,p/=108.883,c=c>.008856?c**(1/3):7.787*c+16/116,f=f>.008856?f**(1/3):7.787*f+16/116,p=p>.008856?p**(1/3):7.787*p+16/116;const g=116*f-16,y=500*(c-f),b=200*(f-p);return[g,y,b]},a.lab.xyz=function(l){const c=l[0],f=l[1],p=l[2];let g,y,b;y=(c+16)/116,g=f/500+y,b=y-p/200;const h=y**3,d=g**3,v=b**3;return y=h>.008856?h:(y-16/116)/7.787,g=d>.008856?d:(g-16/116)/7.787,b=v>.008856?v:(b-16/116)/7.787,g*=95.047,y*=100,b*=108.883,[g,y,b]},a.lab.lch=function(l){const c=l[0],f=l[1],p=l[2];let g;g=Math.atan2(p,f)*360/2/Math.PI,g<0&&(g+=360);const b=Math.sqrt(f*f+p*p);return[c,b,g]},a.lch.lab=function(l){const c=l[0],f=l[1],g=l[2]/360*2*Math.PI,y=f*Math.cos(g),b=f*Math.sin(g);return[c,y,b]},a.rgb.ansi16=function(l,c=null){const[f,p,g]=l;let y=c===null?a.rgb.hsv(l)[2]:c;if(y=Math.round(y/50),y===0)return 30;let b=30+(Math.round(g/255)<<2|Math.round(p/255)<<1|Math.round(f/255));return y===2&&(b+=60),b},a.hsv.ansi16=function(l){return a.rgb.ansi16(a.hsv.rgb(l),l[2])},a.rgb.ansi256=function(l){const c=l[0],f=l[1],p=l[2];return c===f&&f===p?c<8?16:c>248?231:Math.round((c-8)/247*24)+232:16+36*Math.round(c/255*5)+6*Math.round(f/255*5)+Math.round(p/255*5)},a.ansi16.rgb=function(l){let c=l%10;if(c===0||c===7)return l>50&&(c+=3.5),c=c/10.5*255,[c,c,c];const f=(~~(l>50)+1)*.5,p=(c&1)*f*255,g=(c>>1&1)*f*255,y=(c>>2&1)*f*255;return[p,g,y]},a.ansi256.rgb=function(l){if(l>=232){const y=(l-232)*10+8;return[y,y,y]}l-=16;let c;const f=Math.floor(l/36)/5*255,p=Math.floor((c=l%36)/6)/5*255,g=c%6/5*255;return[f,p,g]},a.rgb.hex=function(l){const f=(((Math.round(l[0])&255)<<16)+((Math.round(l[1])&255)<<8)+(Math.round(l[2])&255)).toString(16).toUpperCase();return"000000".substring(f.length)+f},a.hex.rgb=function(l){const c=l.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!c)return[0,0,0];let f=c[0];c[0].length===3&&(f=f.split("").map(h=>h+h).join(""));const p=parseInt(f,16),g=p>>16&255,y=p>>8&255,b=p&255;return[g,y,b]},a.rgb.hcg=function(l){const c=l[0]/255,f=l[1]/255,p=l[2]/255,g=Math.max(Math.max(c,f),p),y=Math.min(Math.min(c,f),p),b=g-y;let h,d;return b<1?h=y/(1-b):h=0,b<=0?d=0:g===c?d=(f-p)/b%6:g===f?d=2+(p-c)/b:d=4+(c-f)/b,d/=6,d%=1,[d*360,b*100,h*100]},a.hsl.hcg=function(l){const c=l[1]/100,f=l[2]/100,p=f<.5?2*c*f:2*c*(1-f);let g=0;return p<1&&(g=(f-.5*p)/(1-p)),[l[0],p*100,g*100]},a.hsv.hcg=function(l){const c=l[1]/100,f=l[2]/100,p=c*f;let g=0;return p<1&&(g=(f-p)/(1-p)),[l[0],p*100,g*100]},a.hcg.rgb=function(l){const c=l[0]/360,f=l[1]/100,p=l[2]/100;if(f===0)return[p*255,p*255,p*255];const g=[0,0,0],y=c%1*6,b=y%1,h=1-b;let d=0;switch(Math.floor(y)){case 0:g[0]=1,g[1]=b,g[2]=0;break;case 1:g[0]=h,g[1]=1,g[2]=0;break;case 2:g[0]=0,g[1]=1,g[2]=b;break;case 3:g[0]=0,g[1]=h,g[2]=1;break;case 4:g[0]=b,g[1]=0,g[2]=1;break;default:g[0]=1,g[1]=0,g[2]=h}return d=(1-f)*p,[(f*g[0]+d)*255,(f*g[1]+d)*255,(f*g[2]+d)*255]},a.hcg.hsv=function(l){const c=l[1]/100,f=l[2]/100,p=c+f*(1-c);let g=0;return p>0&&(g=c/p),[l[0],g*100,p*100]},a.hcg.hsl=function(l){const c=l[1]/100,p=l[2]/100*(1-c)+.5*c;let g=0;return p>0&&p<.5?g=c/(2*p):p>=.5&&p<1&&(g=c/(2*(1-p))),[l[0],g*100,p*100]},a.hcg.hwb=function(l){const c=l[1]/100,f=l[2]/100,p=c+f*(1-c);return[l[0],(p-c)*100,(1-p)*100]},a.hwb.hcg=function(l){const c=l[1]/100,p=1-l[2]/100,g=p-c;let y=0;return g<1&&(y=(p-g)/(1-g)),[l[0],g*100,y*100]},a.apple.rgb=function(l){return[l[0]/65535*255,l[1]/65535*255,l[2]/65535*255]},a.rgb.apple=function(l){return[l[0]/255*65535,l[1]/255*65535,l[2]/255*65535]},a.gray.rgb=function(l){return[l[0]/100*255,l[0]/100*255,l[0]/100*255]},a.gray.hsl=function(l){return[0,0,l[0]]},a.gray.hsv=a.gray.hsl,a.gray.hwb=function(l){return[0,100,l[0]]},a.gray.cmyk=function(l){return[0,0,0,l[0]]},a.gray.lab=function(l){return[l[0],0,0]},a.gray.hex=function(l){const c=Math.round(l[0]/100*255)&255,p=((c<<16)+(c<<8)+c).toString(16).toUpperCase();return"000000".substring(p.length)+p},a.rgb.gray=function(l){return[(l[0]+l[1]+l[2])/3/255*100]},conversions}var route,hasRequiredRoute;function requireRoute(){if(hasRequiredRoute)return route;hasRequiredRoute=1;const i=requireConversions();function n(){const c={},f=Object.keys(i);for(let p=f.length,g=0;g<p;g++)c[f[g]]={distance:-1,parent:null};return c}function a(c){const f=n(),p=[c];for(f[c].distance=0;p.length;){const g=p.pop(),y=Object.keys(i[g]);for(let b=y.length,h=0;h<b;h++){const d=y[h],v=f[d];v.distance===-1&&(v.distance=f[g].distance+1,v.parent=g,p.unshift(d))}}return f}function s(c,f){return function(p){return f(c(p))}}function l(c,f){const p=[f[c].parent,c];let g=i[f[c].parent][c],y=f[c].parent;for(;f[y].parent;)p.unshift(f[y].parent),g=s(i[f[y].parent][y],g),y=f[y].parent;return g.conversion=p,g}return route=function(c){const f=a(c),p={},g=Object.keys(f);for(let y=g.length,b=0;b<y;b++){const h=g[b];f[h].parent!==null&&(p[h]=l(h,f))}return p},route}var colorConvert,hasRequiredColorConvert;function requireColorConvert(){if(hasRequiredColorConvert)return colorConvert;hasRequiredColorConvert=1;const i=requireConversions(),n=requireRoute(),a={},s=Object.keys(i);function l(f){const p=function(...g){const y=g[0];return y==null?y:(y.length>1&&(g=y),f(g))};return"conversion"in f&&(p.conversion=f.conversion),p}function c(f){const p=function(...g){const y=g[0];if(y==null)return y;y.length>1&&(g=y);const b=f(g);if(typeof b=="object")for(let h=b.length,d=0;d<h;d++)b[d]=Math.round(b[d]);return b};return"conversion"in f&&(p.conversion=f.conversion),p}return s.forEach(f=>{a[f]={},Object.defineProperty(a[f],"channels",{value:i[f].channels}),Object.defineProperty(a[f],"labels",{value:i[f].labels});const p=n(f);Object.keys(p).forEach(y=>{const b=p[y];a[f][y]=c(b),a[f][y].raw=l(b)})}),colorConvert=a,colorConvert}var color$1,hasRequiredColor;function requireColor(){if(hasRequiredColor)return color$1;hasRequiredColor=1;const i=requireColorString(),n=requireColorConvert(),a=["keyword","gray","hex"],s={};for(const d of Object.keys(n))s[[...n[d].labels].sort().join("")]=d;const l={};function c(d,v){if(!(this instanceof c))return new c(d,v);if(v&&v in a&&(v=null),v&&!(v in n))throw new Error("Unknown model: "+v);let _,A;if(d==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(d instanceof c)this.model=d.model,this.color=[...d.color],this.valpha=d.valpha;else if(typeof d=="string"){const I=i.get(d);if(I===null)throw new Error("Unable to parse color from string: "+d);this.model=I.model,A=n[this.model].channels,this.color=I.value.slice(0,A),this.valpha=typeof I.value[A]=="number"?I.value[A]:1}else if(d.length>0){this.model=v||"rgb",A=n[this.model].channels;const I=Array.prototype.slice.call(d,0,A);this.color=h(I,A),this.valpha=typeof d[A]=="number"?d[A]:1}else if(typeof d=="number")this.model="rgb",this.color=[d>>16&255,d>>8&255,d&255],this.valpha=1;else{this.valpha=1;const I=Object.keys(d);"alpha"in d&&(I.splice(I.indexOf("alpha"),1),this.valpha=typeof d.alpha=="number"?d.alpha:0);const R=I.sort().join("");if(!(R in s))throw new Error("Unable to parse color from object: "+JSON.stringify(d));this.model=s[R];const{labels:P}=n[this.model],$=[];for(_=0;_<P.length;_++)$.push(d[P[_]]);this.color=h($)}if(l[this.model])for(A=n[this.model].channels,_=0;_<A;_++){const I=l[this.model][_];I&&(this.color[_]=I(this.color[_]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}c.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(d){let v=this.model in i.to?this:this.rgb();v=v.round(typeof d=="number"?d:1);const _=v.valpha===1?v.color:[...v.color,this.valpha];return i.to[v.model](_)},percentString(d){const v=this.rgb().round(typeof d=="number"?d:1),_=v.valpha===1?v.color:[...v.color,this.valpha];return i.to.rgb.percent(_)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const d={},{channels:v}=n[this.model],{labels:_}=n[this.model];for(let A=0;A<v;A++)d[_[A]]=this.color[A];return this.valpha!==1&&(d.alpha=this.valpha),d},unitArray(){const d=this.rgb().color;return d[0]/=255,d[1]/=255,d[2]/=255,this.valpha!==1&&d.push(this.valpha),d},unitObject(){const d=this.rgb().object();return d.r/=255,d.g/=255,d.b/=255,this.valpha!==1&&(d.alpha=this.valpha),d},round(d){return d=Math.max(d||0,0),new c([...this.color.map(p(d)),this.valpha],this.model)},alpha(d){return d!==void 0?new c([...this.color,Math.max(0,Math.min(1,d))],this.model):this.valpha},red:g("rgb",0,y(255)),green:g("rgb",1,y(255)),blue:g("rgb",2,y(255)),hue:g(["hsl","hsv","hsl","hwb","hcg"],0,d=>(d%360+360)%360),saturationl:g("hsl",1,y(100)),lightness:g("hsl",2,y(100)),saturationv:g("hsv",1,y(100)),value:g("hsv",2,y(100)),chroma:g("hcg",1,y(100)),gray:g("hcg",2,y(100)),white:g("hwb",1,y(100)),wblack:g("hwb",2,y(100)),cyan:g("cmyk",0,y(100)),magenta:g("cmyk",1,y(100)),yellow:g("cmyk",2,y(100)),black:g("cmyk",3,y(100)),x:g("xyz",0,y(95.047)),y:g("xyz",1,y(100)),z:g("xyz",2,y(108.833)),l:g("lab",0,y(100)),a:g("lab",1),b:g("lab",2),keyword(d){return d!==void 0?new c(d):n[this.model].keyword(this.color)},hex(d){return d!==void 0?new c(d):i.to.hex(this.rgb().round().color)},hexa(d){if(d!==void 0)return new c(d);const v=this.rgb().round().color;let _=Math.round(this.valpha*255).toString(16).toUpperCase();return _.length===1&&(_="0"+_),i.to.hex(v)+_},rgbNumber(){const d=this.rgb().color;return(d[0]&255)<<16|(d[1]&255)<<8|d[2]&255},luminosity(){const d=this.rgb().color,v=[];for(const[_,A]of d.entries()){const I=A/255;v[_]=I<=.04045?I/12.92:((I+.055)/1.055)**2.4}return .2126*v[0]+.7152*v[1]+.0722*v[2]},contrast(d){const v=this.luminosity(),_=d.luminosity();return v>_?(v+.05)/(_+.05):(_+.05)/(v+.05)},level(d){const v=this.contrast(d);return v>=7?"AAA":v>=4.5?"AA":""},isDark(){const d=this.rgb().color;return(d[0]*2126+d[1]*7152+d[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const d=this.rgb();for(let v=0;v<3;v++)d.color[v]=255-d.color[v];return d},lighten(d){const v=this.hsl();return v.color[2]+=v.color[2]*d,v},darken(d){const v=this.hsl();return v.color[2]-=v.color[2]*d,v},saturate(d){const v=this.hsl();return v.color[1]+=v.color[1]*d,v},desaturate(d){const v=this.hsl();return v.color[1]-=v.color[1]*d,v},whiten(d){const v=this.hwb();return v.color[1]+=v.color[1]*d,v},blacken(d){const v=this.hwb();return v.color[2]+=v.color[2]*d,v},grayscale(){const d=this.rgb().color,v=d[0]*.3+d[1]*.59+d[2]*.11;return c.rgb(v,v,v)},fade(d){return this.alpha(this.valpha-this.valpha*d)},opaquer(d){return this.alpha(this.valpha+this.valpha*d)},rotate(d){const v=this.hsl();let _=v.color[0];return _=(_+d)%360,_=_<0?360+_:_,v.color[0]=_,v},mix(d,v){if(!d||!d.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof d);const _=d.rgb(),A=this.rgb(),I=v===void 0?.5:v,R=2*I-1,P=_.alpha()-A.alpha(),$=((R*P===-1?R:(R+P)/(1+R*P))+1)/2,M=1-$;return c.rgb($*_.red()+M*A.red(),$*_.green()+M*A.green(),$*_.blue()+M*A.blue(),_.alpha()*I+A.alpha()*(1-I))}};for(const d of Object.keys(n)){if(a.includes(d))continue;const{channels:v}=n[d];c.prototype[d]=function(..._){return this.model===d?new c(this):_.length>0?new c(_,d):new c([...b(n[this.model][d].raw(this.color)),this.valpha],d)},c[d]=function(..._){let A=_[0];return typeof A=="number"&&(A=h(_,v)),new c(A,d)}}function f(d,v){return Number(d.toFixed(v))}function p(d){return function(v){return f(v,d)}}function g(d,v,_){d=Array.isArray(d)?d:[d];for(const A of d)(l[A]||(l[A]=[]))[v]=_;return d=d[0],function(A){let I;return A!==void 0?(_&&(A=_(A)),I=this[d](),I.color[v]=A,I):(I=this[d]().color[v],_&&(I=_(I)),I)}}function y(d){return function(v){return Math.max(0,Math.min(d,v))}}function b(d){return Array.isArray(d)?d:[d]}function h(d,v){for(let _=0;_<v;_++)typeof d[_]!="number"&&(d[_]=0);return d}return color$1=c,color$1}var colorExports=requireColor();const QixColor=getDefaultExportFromCjs(colorExports);function builder({color:i,model:n="hsl"}){if(i===void 0)return new QixColor;if(typeof i=="string")return new QixColor(i);if(!Array.isArray(i))return i;switch(n){case"rgb":return QixColor.rgb(i[0],i[1],i[2]);case"hsl":return QixColor.hsl(i[0],i[1],i[2]);case"hsla":return QixColor.hsl(i[0],i[1],i[2]).alpha(i[3]??1);case"rgba":return QixColor.rgb(i[0],i[1],i[2]).alpha(i[3]??1);default:throw new Error(`Unknown color Model: ${n}`)}}function darken(i,n){return builder({color:i}).darken(n).toString()}function desaturate(i,n){return builder({color:i}).desaturate(n).toString()}const from$1=i=>builder({color:i});function lighten(i,n){return builder({color:i}).lighten(n).toString()}function opacity(i,n){return builder({color:i}).alpha(n).toString()}const operateOn=(i={})=>{let n=typeof i.color=="string"?i.color:"grey";return Objects.entries(i).forEach(([a,s])=>{a!=="color"&&typeof s=="number"&&(n=Colors[a](n,s))}),n},palletteFrom=async(i,n)=>{const{colorCount:a=64,quality:s=5}=n;throw new Error("node-vibrant does dirty worker shenanigans on load, find simpler alternative")};function randomColor(i=Math.random){return QixColor.rgb([255*i(),255*i(),255*i()]).toString()}function rotateHue(i,n){return builder({color:i}).rotate(n*360).toString()}function saturate(i,n){return builder({color:i}).saturate(n).toString()}class Color{constructor(n,a,s){me(this,"r");me(this,"g");me(this,"b");this.r=this.clamp(n),this.g=this.clamp(a),this.b=this.clamp(s)}toString(){return`rgb(${Math.round(this.r)}, ${Math.round(this.g)}, ${Math.round(this.b)})`}set(n,a,s){this.r=this.clamp(n),this.g=this.clamp(a),this.b=this.clamp(s)}hueRotate(n=0){n=n/180*Math.PI;const a=Math.sin(n),s=Math.cos(n);this.multiply([.213+s*.787-a*.213,.715-s*.715-a*.715,.072-s*.072+a*.928,.213-s*.213+a*.143,.715+s*.285+a*.14,.072-s*.072-a*.283,.213-s*.213-a*.787,.715-s*.715+a*.715,.072+s*.928+a*.072])}grayscale(n=1){this.multiply([.2126+.7874*(1-n),.7152-.7152*(1-n),.0722-.0722*(1-n),.2126-.2126*(1-n),.7152+.2848*(1-n),.0722-.0722*(1-n),.2126-.2126*(1-n),.7152-.7152*(1-n),.0722+.9278*(1-n)])}sepia(n=1){this.multiply([.393+.607*(1-n),.769-.769*(1-n),.189-.189*(1-n),.349-.349*(1-n),.686+.314*(1-n),.168-.168*(1-n),.272-.272*(1-n),.534-.534*(1-n),.131+.869*(1-n)])}saturate(n=1){this.multiply([.213+.787*n,.715-.715*n,.072-.072*n,.213-.213*n,.715+.285*n,.072-.072*n,.213-.213*n,.715-.715*n,.072+.928*n])}multiply(n){const a=this.clamp(this.r*n[0]+this.g*n[1]+this.b*n[2]),s=this.clamp(this.r*n[3]+this.g*n[4]+this.b*n[5]),l=this.clamp(this.r*n[6]+this.g*n[7]+this.b*n[8]);this.r=a,this.g=s,this.b=l}brightness(n=1){this.linear(n)}contrast(n=1){this.linear(n,-(.5*n)+.5)}linear(n=1,a=0){this.r=this.clamp(this.r*n+a*255),this.g=this.clamp(this.g*n+a*255),this.b=this.clamp(this.b*n+a*255)}invert(n=1){this.r=this.clamp((n+this.r/255*(1-2*n))*255),this.g=this.clamp((n+this.g/255*(1-2*n))*255),this.b=this.clamp((n+this.b/255*(1-2*n))*255)}hsl(){const n=this.r/255,a=this.g/255,s=this.b/255,l=Math.max(n,a,s),c=Math.min(n,a,s);let f=0,p=0,g=(l+c)/2;if(l===c)f=p=0;else{const y=l-c;switch(p=g>.5?y/(2-l-c):y/(l+c),l){case n:f=(a-s)/y+(a<s?6:0);break;case a:f=(s-n)/y+2;break;case s:f=(n-a)/y+4;break}f/=6}return{h:f*100,s:p*100,l:g*100}}clamp(n){return n>255?n=255:n<0&&(n=0),n}}class Solver{constructor(n){me(this,"target");me(this,"targetHSL");me(this,"reusedColor");this.target=n,this.targetHSL=n.hsl(),this.reusedColor=new Color(0,0,0)}solve(){const n=this.solveNarrow(this.solveWide());return{values:n.values,loss:n.loss,filter:this.css(n.values)}}solveWide(){const s=[60,180,18e3,600,1.2,1.2];let l={loss:1/0,values:[]};for(let c=0;l.loss>25&&c<3;c++){const f=[50,20,3750,50,100,100],p=this.spsa(5,s,15,f,1e3);p.loss<l.loss&&(l=p)}return l}solveNarrow(n){const a=n.loss,s=2,l=a+1,c=[.25*l,.25*l,l,.25*l,.2*l,.2*l];return this.spsa(a,c,s,n.values,500)}spsa(n,a,s,l,c){const p=.16666666666666666;let g=[],y=1/0;const b=new Array(6),h=new Array(6),d=new Array(6);for(let _=0;_<c;_++){const A=s/Math.pow(_+1,p);for(let P=0;P<6;P++)b[P]=Math.random()>.5?1:-1,h[P]=l[P]+A*b[P],d[P]=l[P]-A*b[P];const I=this.loss(h)-this.loss(d);for(let P=0;P<6;P++){const $=I/(2*A)*b[P],M=a[P]/Math.pow(n+_+1,1);l[P]=v(l[P]-M*$,P)}const R=this.loss(l);R<y&&(g=l.slice(0),y=R)}return{values:g,loss:y};function v(_,A){let I=100;return A===2?I=7500:(A===4||A===5)&&(I=200),A===3?_>I?_%=I:_<0&&(_=I+_%I):_<0?_=0:_>I&&(_=I),_}}loss(n){const a=this.reusedColor;a.set(0,0,0),a.invert(n[0]/100),a.sepia(n[1]/100),a.saturate(n[2]/100),a.hueRotate(n[3]*3.6),a.brightness(n[4]/100),a.contrast(n[5]/100);const s=a.hsl();return Math.abs(a.r-this.target.r)+Math.abs(a.g-this.target.g)+Math.abs(a.b-this.target.b)+Math.abs(s.h-this.targetHSL.h)+Math.abs(s.s-this.targetHSL.s)+Math.abs(s.l-this.targetHSL.l)}css(n){function a(s,l=1){return Math.round(n[s]*l)}return`invert(${a(0)}%) sepia(${a(1)}%) saturate(${a(2)}%) hue-rotate(${a(3,3.6)}deg) brightness(${a(4)}%) contrast(${a(5)}%)`}}function hexToRgb(i){const n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;i=i.replace(n,(s,l,c,f)=>l+l+c+c+f+f);const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);if(a)return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)];throw new Error("Error pasring hex: "+i)}function toCssFilters({someColor:i,from:n}){const a=builder({color:i}).hex(),s=hexToRgb(a),l=new Color(s[0],s[1],s[2]),f=new Solver(l).solve();return[n==="white"?"brightness(0) saturate(100%) ":"",f.filter].join("")}function clamp(i,n,a){return i<=n?n:i>=a?a:i}function isLut(i){return i!==null&&typeof i=="object"&&"color"in i&&typeof i.color=="function"&&"text"in i&&typeof i.text=="function"}function expandColors(i,n=0){if(n<=0)return i;const a=i.flatMap((s,l,c)=>{if(l===c.length-1)return[s];const f=c[l+1];return[s,s.mix(f)]});return expandColors(a,n-1)}function create$3(i,n=8){if(isLut(i))return i;const a=expandColors(i.map(l=>builder({color:l})),n),s={s12:l=>s.color(l/12),s12t:l=>s.text(l/12),color:l=>{l=clamp(l,0,1);const c=clamp(Math.floor(l*a.length),0,a.length-1);return a[c].toString()},text:l=>{const c=s.color(l);return textColor([c])}};return s}const Luts={create:create$3,expandColors};function textColor(i,n=4.5){var l;return(l=i.map(c=>_subtleTextColorContrast({color:c,threshold:n})).sort((c,f)=>{const[p,g]=c,[y,b]=f;return g===b?0:g>b?1:-1}).map(c=>c[0])[0])==null?void 0:l.toString()}function _subtleTextColorContrast({color:i,threshold:n=4.5,steps:a=12}){const s=Luts.create(["black","white"]),l=Luts.create(["white","black"]),c=builder({color:i});let f=Colors.from("black"),p=1e3;for(let b=0;b<a;b++){const h=builder({color:s.color(b/a*.5)}),d=h.contrast(c);d>n&&d<p&&(f=h,p=d)}let g=Colors.from("white"),y=1e3;for(let b=0;b<a;b++){const h=builder({color:l.color(b/a*.5)}),d=h.contrast(c);d>n&&d<y&&(g=h,y=d)}return y<p?[g,y]:[f,p]}function toCss(i,n){return builder({color:i,model:n}).hsl().string()}function toRgbInteger(i){return builder({color:i}).rgbNumber()}const Colors={from:from$1,builder,toCss,toRgbInteger,darken,desaturate,lighten,randomColor,saturate,textColor,toCssFilters,rotateHue,operateOn,opacity,palletteFrom},globalStyles=jsxRuntimeExports.jsx(GlobalStyles$1,{styles:{"::-webkit-scrollbar":{width:"12px"},"::-webkit-scrollbar-track":{background:"#2c2c2c"},"::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"10px"},"::-webkit-scrollbar-thumb:hover":{background:"#555"},"::-webkit-scrollbar-corner":{background:"#2c2c2c"},"html, body, #root":{},"*":{margin:"0",scrollbarColor:`${Colors.from("black").toString()} ${Colors.from("grey").darken(.6).toString()}`,scrollbarWidth:"thick"}}}),formatErrorDetail=i=>{const{message:n,stack:a,extra:s,cause:l}=i,c=l?`
Caused by: ${formatErrorDetail(l)}`:"",f=s?`
Extra: ${JSON.stringify(s,void 0,2)}`:"";return[n,a].filter(isDefined$1).join(`
`)+f+c},errorToText=i=>typeof i=="string"?i:i instanceof Response?`${i.url} ${i.status} ${i.statusText}`:typeof i=="object"&&i!==null&&"message"in i?formatErrorDetail(i):safe(()=>JSON.stringify(i,void 0,2))??"",errorToTextAsync=async i=>{if(typeof i=="string")return i;if(i instanceof Response){const n=await i.text();return`${i.url} ${i.status} ${i.statusText} ${n}`}return typeof i=="object"&&i!==null&&"message"in i?formatErrorDetail(i):safe(()=>JSON.stringify(i,void 0,2))??""},errorToErrorDetail=({error:i,extra:n,stack:a})=>{if(i instanceof Error){const s=isDefined$1(i.cause)?errorToErrorDetail({error:i.cause}):void 0;return{message:i.message,stack:i.stack??a,extra:n,cause:s}}return{message:errorToText(i),stack:a,extra:n}},Errors={errorToErrorDetail,errorToText,errorToTextAsync},ALGORITHM_BYTE_LENGTHS={"SHA-256":32,"SHA-512":64},ALL_ALGORITHMS=["SHA-256","SHA-512"];function toMessage(i){if(typeof i=="string")return i;const n=i();return typeof n=="string"?n:(console.error("ASSERTION FAIL VALUE",n),"Assertion Failed")}function assert$3(i,n="Assertion failed"){if(!i)throw new Error(toMessage(n))}const assertEqualElements=(i,n,a=()=>(console.error(i,n),`Assertion failed: ${JSON.stringify(i)} is not equal to ${JSON.stringify(n)}`))=>{throw new Error("assertEqualElements: Bitrotted")},assertEqual=(i,n,a=()=>(console.error(i,n),`Assertion failed: ${JSON.stringify(i)} is not equal to ${JSON.stringify(n)}`))=>Array.isArray(i)&&Array.isArray(n)?assertEqualElements(i,n,a):assert$3(i===n,a),assertNotEqual=(i,n,a=()=>(console.error(i,n),`Assertion failed: ${JSON.stringify(i)} is equal to ${JSON.stringify(n)}`))=>assert$3(i!==n,a);function assertType(i,n,a="Assertion failed: Required value is not of correct type"){if(!n(i))throw new Error(toMessage(a));return i}function assertUnreachable(i,n="Assertion failed: Reached what should be an unreachable section of code"){throw new Error(toMessage(n))}function isValue(i){return i!=null&&!Number.isNaN(i)}function assertValue(i,n="Assertion failed: Required value not defined"){return assert$3(isValue(i),n),i}const Asserts={assert:assert$3,assertUnreachable,assertValue,assertEqual,assertNotEqual,assertEqualElements,assertType},arrayToFloat64Array=i=>{const n=i.flatMap(a=>typeof a=="number"?[a]:JSON.stringify(a).split("").map(s=>s.codePointAt(0)));return new Float64Array(n.length).map((a,s)=>n[s])},toArrayBuffer=async i=>i instanceof ArrayBuffer?i:i instanceof Blob?i.arrayBuffer():typeof i=="string"?new TextEncoder().encode(i):ArrayBuffer.isView(i)?i.buffer:Array.isArray(i)?arrayToFloat64Array(i):new ArrayBuffer(0),hashOf=async({bytes:i,algorithm:n="SHA-512"})=>{const a=await toArrayBuffer(i);return crypto.subtle.digest(n,a)},encodeAsString=async(i,n=16)=>{const a=await toArrayBuffer(i);return[...new Uint8Array(a)].map(s=>s.toString(n).padStart(2,"0")).join("")},addressStringOf=async({bytes:i,algorithm:n="SHA-512",radix:a=16})=>{const s=await hashOf({bytes:i,algorithm:n}),l=await encodeAsString(s,a);return`${n}:${l}`},idStringToIdBytes=({id:i})=>{const n=i.split(":");Asserts.assert(n.length===2);const[a,s]=n,l=atob(s),c=new Uint8Array(l.length);return l.split("").map(f=>f.charCodeAt(0)).forEach((f,p)=>{c[p]=f}),c},toText=async i=>{if(typeof i=="string")return i;const n=await toArrayBuffer(i);return new TextDecoder().decode(n)},TESTS=[];TESTS.push(async()=>{const i="test",n=await toArrayBuffer(i),a=await toText(n);return Asserts.assertEqual(i,a)});TESTS.push(async()=>ALL_ALGORITHMS.map(async i=>{const n=await hashOf({bytes:"test",algorithm:i});return Asserts.assertEqual(n.byteLength,ALGORITHM_BYTE_LENGTHS[i])}));TESTS.push(async()=>{{const i=await addressStringOf({bytes:"test",algorithm:"SHA-256"});Asserts.assertEqual(i,"SHA-256:n4bQgYhMfWWaL+qgxVrQFaO/TxsrC4Is0V1sFbDwCgg=")}{const i=await addressStringOf({bytes:"test",algorithm:"SHA-512"});Asserts.assertEqual(i,"SHA-512:7iaw3Ur350mqGo7jwQrpkj9hiYB3Lkc/iBml1JQODbJ6wYX4oOHV+E+IvIh/1nsUNzLDBMxfqa2Ob1f1ACio/w==")}});TESTS.push(async()=>ALL_ALGORITHMS.map(async i=>{const n="test",a=await addressStringOf({bytes:n,algorithm:i}),s=new Uint8Array(await hashOf({bytes:n,algorithm:i})),l=idStringToIdBytes({id:a});return Asserts.assertEqualElements(l,s)}));const test=async()=>{if((await Promise.all(TESTS.map(async n=>{try{return await n(),!0}catch(a){return console.error(a),!1}}))).find(n=>n===!1))throw new Error("TESTS FAILED");return console.log("TESTS PASS"),!0};function arrayBufferToBase64(i){const n=new Uint8Array(i.slice(0));let a="";for(let s=0;s<n.length;s++)a+=String.fromCharCode(n[s]);return btoa(a)}const arrayBufferToHex=i=>{const n=new Uint8Array(i),a=[];for(let s=0;s<n.length;++s)a.push(n[s].toString(16).padStart(2,"0"));return a.join("")},arrayBufferToUtf8=i=>new TextDecoder().decode(new Uint8Array(i)),assignMediaTypeToBlob=(i,n)=>i.slice(0,i.size,n),base64ToArrayBuffer=i=>{const n=globalThis.atob(i),a=n.length,s=new Uint8Array(a);for(let l=0;l<a;l++)s[l]=n.charCodeAt(l);return s.buffer},dataUrlToBlob=i=>{if(!i)return;const n=i.split(","),s=(n[0].match(/:(.*?);/)??[])[1],l=atob(n[1]);let c=l.length;const f=new Uint8Array(c);for(;c--;)f[c]=l.charCodeAt(c);return new Blob([f],{type:s})},immediateToArrayBuffer=i=>i instanceof ArrayBuffer?i:typeof i=="string"?new TextEncoder().encode(i):ArrayBuffer.isView(i)?i.buffer:Array.isArray(i)?arrayToFloat64Array(i):new ArrayBuffer(0),immediateHashOf=async(i,n)=>{const a=immediateToArrayBuffer(i);return crypto.subtle.digest(n,a)},isImmediateByteLike=i=>{const n=i;return!!(n instanceof ArrayBuffer||typeof n=="string"||ArrayBuffer.isView(n)||Array.isArray(n))},isByteLike=i=>i instanceof Blob?!0:isImmediateByteLike(i),lengthOf=i=>{if(typeof i=="string")return i.length;if(i instanceof Blob)return i.size;if(i instanceof ArrayBuffer||ArrayBuffer.isView(i))return i.byteLength};var decoder$1;try{decoder$1=new TextDecoder}catch{}var src,srcEnd,position$3=0,currentUnpackr={},currentStructures,srcString,srcStringStart=0,srcStringEnd=0,bundledStrings$1,referenceMap,currentExtensions=[],dataView,defaultOptions$1={useRecords:!1,mapsAsObjects:!0};class C1Type{}const C1=new C1Type;C1.name="MessagePack 0xC1";var sequentialMode=!1,inlineObjectReadThreshold=2,readStruct;try{new Function("")}catch{inlineObjectReadThreshold=1/0}class Unpackr{constructor(n){n&&(n.useRecords===!1&&n.mapsAsObjects===void 0&&(n.mapsAsObjects=!0),n.sequential&&n.trusted!==!1&&(n.trusted=!0,!n.structures&&n.useRecords!=!1&&(n.structures=[],n.maxSharedStructures||(n.maxSharedStructures=0))),n.structures?n.structures.sharedLength=n.structures.length:n.getStructures&&((n.structures=[]).uninitialized=!0,n.structures.sharedLength=0),n.int64AsNumber&&(n.int64AsType="number")),Object.assign(this,n)}unpack(n,a){if(src)return saveState(()=>(clearSource(),this?this.unpack(n,a):Unpackr.prototype.unpack.call(defaultOptions$1,n,a)));!n.buffer&&n.constructor===ArrayBuffer&&(n=typeof Buffer<"u"?Buffer.from(n):new Uint8Array(n)),typeof a=="object"?(srcEnd=a.end||n.length,position$3=a.start||0):(position$3=0,srcEnd=a>-1?a:n.length),srcStringEnd=0,srcString=null,bundledStrings$1=null,src=n;try{dataView=n.dataView||(n.dataView=new DataView(n.buffer,n.byteOffset,n.byteLength))}catch(s){throw src=null,n instanceof Uint8Array?s:new Error("Source must be a Uint8Array or Buffer but was a "+(n&&typeof n=="object"?n.constructor.name:typeof n))}if(this instanceof Unpackr){if(currentUnpackr=this,this.structures)return currentStructures=this.structures,checkedRead(a);(!currentStructures||currentStructures.length>0)&&(currentStructures=[])}else currentUnpackr=defaultOptions$1,(!currentStructures||currentStructures.length>0)&&(currentStructures=[]);return checkedRead(a)}unpackMultiple(n,a){let s,l=0;try{sequentialMode=!0;let c=n.length,f=this?this.unpack(n,c):defaultUnpackr.unpack(n,c);if(a){if(a(f,l,position$3)===!1)return;for(;position$3<c;)if(l=position$3,a(checkedRead(),l,position$3)===!1)return}else{for(s=[f];position$3<c;)l=position$3,s.push(checkedRead());return s}}catch(c){throw c.lastPosition=l,c.values=s,c}finally{sequentialMode=!1,clearSource()}}_mergeStructures(n,a){n=n||[],Object.isFrozen(n)&&(n=n.map(s=>s.slice(0)));for(let s=0,l=n.length;s<l;s++){let c=n[s];c&&(c.isShared=!0,s>=32&&(c.highByte=s-32>>5))}n.sharedLength=n.length;for(let s in a||[])if(s>=0){let l=n[s],c=a[s];c&&(l&&((n.restoreStructures||(n.restoreStructures=[]))[s]=l),n[s]=c)}return this.structures=n}decode(n,a){return this.unpack(n,a)}}function checkedRead(i){try{if(!currentUnpackr.trusted&&!sequentialMode){let a=currentStructures.sharedLength||0;a<currentStructures.length&&(currentStructures.length=a)}let n;if(currentUnpackr.randomAccessStructure&&src[position$3]<64&&src[position$3]>=32&&readStruct||(n=read()),bundledStrings$1&&(position$3=bundledStrings$1.postBundlePosition,bundledStrings$1=null),sequentialMode&&(currentStructures.restoreStructures=null),position$3==srcEnd)currentStructures&&currentStructures.restoreStructures&&restoreStructures(),currentStructures=null,src=null,referenceMap&&(referenceMap=null);else{if(position$3>srcEnd)throw new Error("Unexpected end of MessagePack data");if(!sequentialMode){let a;try{a=JSON.stringify(n,(s,l)=>typeof l=="bigint"?`${l}n`:l).slice(0,100)}catch(s){a="(JSON view not available "+s+")"}throw new Error("Data read, but end of buffer not reached "+a)}}return n}catch(n){throw currentStructures&&currentStructures.restoreStructures&&restoreStructures(),clearSource(),(n instanceof RangeError||n.message.startsWith("Unexpected end of buffer")||position$3>srcEnd)&&(n.incomplete=!0),n}}function restoreStructures(){for(let i in currentStructures.restoreStructures)currentStructures[i]=currentStructures.restoreStructures[i];currentStructures.restoreStructures=null}function read(){let i=src[position$3++];if(i<160)if(i<128){if(i<64)return i;{let n=currentStructures[i&63]||currentUnpackr.getStructures&&loadStructures()[i&63];return n?(n.read||(n.read=createStructureReader(n,i&63)),n.read()):i}}else if(i<144)if(i-=128,currentUnpackr.mapsAsObjects){let n={};for(let a=0;a<i;a++){let s=readKey();s==="__proto__"&&(s="__proto_"),n[s]=read()}return n}else{let n=new Map;for(let a=0;a<i;a++)n.set(read(),read());return n}else{i-=144;let n=new Array(i);for(let a=0;a<i;a++)n[a]=read();return currentUnpackr.freezeData?Object.freeze(n):n}else if(i<192){let n=i-160;if(srcStringEnd>=position$3)return srcString.slice(position$3-srcStringStart,(position$3+=n)-srcStringStart);if(srcStringEnd==0&&srcEnd<140){let a=n<16?shortStringInJS(n):longStringInJS(n);if(a!=null)return a}return readFixedString(n)}else{let n;switch(i){case 192:return null;case 193:return bundledStrings$1?(n=read(),n>0?bundledStrings$1[1].slice(bundledStrings$1.position1,bundledStrings$1.position1+=n):bundledStrings$1[0].slice(bundledStrings$1.position0,bundledStrings$1.position0-=n)):C1;case 194:return!1;case 195:return!0;case 196:if(n=src[position$3++],n===void 0)throw new Error("Unexpected end of buffer");return readBin(n);case 197:return n=dataView.getUint16(position$3),position$3+=2,readBin(n);case 198:return n=dataView.getUint32(position$3),position$3+=4,readBin(n);case 199:return readExt(src[position$3++]);case 200:return n=dataView.getUint16(position$3),position$3+=2,readExt(n);case 201:return n=dataView.getUint32(position$3),position$3+=4,readExt(n);case 202:if(n=dataView.getFloat32(position$3),currentUnpackr.useFloat32>2){let a=mult10[(src[position$3]&127)<<1|src[position$3+1]>>7];return position$3+=4,(a*n+(n>0?.5:-.5)>>0)/a}return position$3+=4,n;case 203:return n=dataView.getFloat64(position$3),position$3+=8,n;case 204:return src[position$3++];case 205:return n=dataView.getUint16(position$3),position$3+=2,n;case 206:return n=dataView.getUint32(position$3),position$3+=4,n;case 207:return currentUnpackr.int64AsType==="number"?(n=dataView.getUint32(position$3)*4294967296,n+=dataView.getUint32(position$3+4)):currentUnpackr.int64AsType==="string"?n=dataView.getBigUint64(position$3).toString():currentUnpackr.int64AsType==="auto"?(n=dataView.getBigUint64(position$3),n<=BigInt(2)<<BigInt(52)&&(n=Number(n))):n=dataView.getBigUint64(position$3),position$3+=8,n;case 208:return dataView.getInt8(position$3++);case 209:return n=dataView.getInt16(position$3),position$3+=2,n;case 210:return n=dataView.getInt32(position$3),position$3+=4,n;case 211:return currentUnpackr.int64AsType==="number"?(n=dataView.getInt32(position$3)*4294967296,n+=dataView.getUint32(position$3+4)):currentUnpackr.int64AsType==="string"?n=dataView.getBigInt64(position$3).toString():currentUnpackr.int64AsType==="auto"?(n=dataView.getBigInt64(position$3),n>=BigInt(-2)<<BigInt(52)&&n<=BigInt(2)<<BigInt(52)&&(n=Number(n))):n=dataView.getBigInt64(position$3),position$3+=8,n;case 212:if(n=src[position$3++],n==114)return recordDefinition(src[position$3++]&63);{let a=currentExtensions[n];if(a)return a.read?(position$3++,a.read(read())):a.noBuffer?(position$3++,a()):a(src.subarray(position$3,++position$3));throw new Error("Unknown extension "+n)}case 213:return n=src[position$3],n==114?(position$3++,recordDefinition(src[position$3++]&63,src[position$3++])):readExt(2);case 214:return readExt(4);case 215:return readExt(8);case 216:return readExt(16);case 217:return n=src[position$3++],srcStringEnd>=position$3?srcString.slice(position$3-srcStringStart,(position$3+=n)-srcStringStart):readString8(n);case 218:return n=dataView.getUint16(position$3),position$3+=2,srcStringEnd>=position$3?srcString.slice(position$3-srcStringStart,(position$3+=n)-srcStringStart):readString16(n);case 219:return n=dataView.getUint32(position$3),position$3+=4,srcStringEnd>=position$3?srcString.slice(position$3-srcStringStart,(position$3+=n)-srcStringStart):readString32(n);case 220:return n=dataView.getUint16(position$3),position$3+=2,readArray(n);case 221:return n=dataView.getUint32(position$3),position$3+=4,readArray(n);case 222:return n=dataView.getUint16(position$3),position$3+=2,readMap(n);case 223:return n=dataView.getUint32(position$3),position$3+=4,readMap(n);default:if(i>=224)return i-256;if(i===void 0){let a=new Error("Unexpected end of MessagePack data");throw a.incomplete=!0,a}throw new Error("Unknown MessagePack token "+i)}}}const validName$1=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(i,n){function a(){if(a.count++>inlineObjectReadThreshold){let l=i.read=new Function("r","return function(){return "+(currentUnpackr.freezeData?"Object.freeze":"")+"({"+i.map(c=>c==="__proto__"?"__proto_:r()":validName$1.test(c)?c+":r()":"["+JSON.stringify(c)+"]:r()").join(",")+"})}")(read);return i.highByte===0&&(i.read=createSecondByteReader(n,i.read)),l()}let s={};for(let l=0,c=i.length;l<c;l++){let f=i[l];f==="__proto__"&&(f="__proto_"),s[f]=read()}return currentUnpackr.freezeData?Object.freeze(s):s}return a.count=0,i.highByte===0?createSecondByteReader(n,a):a}const createSecondByteReader=(i,n)=>function(){let a=src[position$3++];if(a===0)return n();let s=i<32?-(i+(a<<5)):i+(a<<5),l=currentStructures[s]||loadStructures()[s];if(!l)throw new Error("Record id is not defined for "+s);return l.read||(l.read=createStructureReader(l,i)),l.read()};function loadStructures(){let i=saveState(()=>(src=null,currentUnpackr.getStructures()));return currentStructures=currentUnpackr._mergeStructures(i,currentStructures)}var readFixedString=readStringJS,readString8=readStringJS,readString16=readStringJS,readString32=readStringJS;function readStringJS(i){let n;if(i<16&&(n=shortStringInJS(i)))return n;if(i>64&&decoder$1)return decoder$1.decode(src.subarray(position$3,position$3+=i));const a=position$3+i,s=[];for(n="";position$3<a;){const l=src[position$3++];if((l&128)===0)s.push(l);else if((l&224)===192){const c=src[position$3++]&63;s.push((l&31)<<6|c)}else if((l&240)===224){const c=src[position$3++]&63,f=src[position$3++]&63;s.push((l&31)<<12|c<<6|f)}else if((l&248)===240){const c=src[position$3++]&63,f=src[position$3++]&63,p=src[position$3++]&63;let g=(l&7)<<18|c<<12|f<<6|p;g>65535&&(g-=65536,s.push(g>>>10&1023|55296),g=56320|g&1023),s.push(g)}else s.push(l);s.length>=4096&&(n+=fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(n+=fromCharCode.apply(String,s)),n}function readArray(i){let n=new Array(i);for(let a=0;a<i;a++)n[a]=read();return currentUnpackr.freezeData?Object.freeze(n):n}function readMap(i){if(currentUnpackr.mapsAsObjects){let n={};for(let a=0;a<i;a++){let s=readKey();s==="__proto__"&&(s="__proto_"),n[s]=read()}return n}else{let n=new Map;for(let a=0;a<i;a++)n.set(read(),read());return n}}var fromCharCode=String.fromCharCode;function longStringInJS(i){let n=position$3,a=new Array(i);for(let s=0;s<i;s++){const l=src[position$3++];if((l&128)>0){position$3=n;return}a[s]=l}return fromCharCode.apply(String,a)}function shortStringInJS(i){if(i<4)if(i<2){if(i===0)return"";{let n=src[position$3++];if((n&128)>1){position$3-=1;return}return fromCharCode(n)}}else{let n=src[position$3++],a=src[position$3++];if((n&128)>0||(a&128)>0){position$3-=2;return}if(i<3)return fromCharCode(n,a);let s=src[position$3++];if((s&128)>0){position$3-=3;return}return fromCharCode(n,a,s)}else{let n=src[position$3++],a=src[position$3++],s=src[position$3++],l=src[position$3++];if((n&128)>0||(a&128)>0||(s&128)>0||(l&128)>0){position$3-=4;return}if(i<6){if(i===4)return fromCharCode(n,a,s,l);{let c=src[position$3++];if((c&128)>0){position$3-=5;return}return fromCharCode(n,a,s,l,c)}}else if(i<8){let c=src[position$3++],f=src[position$3++];if((c&128)>0||(f&128)>0){position$3-=6;return}if(i<7)return fromCharCode(n,a,s,l,c,f);let p=src[position$3++];if((p&128)>0){position$3-=7;return}return fromCharCode(n,a,s,l,c,f,p)}else{let c=src[position$3++],f=src[position$3++],p=src[position$3++],g=src[position$3++];if((c&128)>0||(f&128)>0||(p&128)>0||(g&128)>0){position$3-=8;return}if(i<10){if(i===8)return fromCharCode(n,a,s,l,c,f,p,g);{let y=src[position$3++];if((y&128)>0){position$3-=9;return}return fromCharCode(n,a,s,l,c,f,p,g,y)}}else if(i<12){let y=src[position$3++],b=src[position$3++];if((y&128)>0||(b&128)>0){position$3-=10;return}if(i<11)return fromCharCode(n,a,s,l,c,f,p,g,y,b);let h=src[position$3++];if((h&128)>0){position$3-=11;return}return fromCharCode(n,a,s,l,c,f,p,g,y,b,h)}else{let y=src[position$3++],b=src[position$3++],h=src[position$3++],d=src[position$3++];if((y&128)>0||(b&128)>0||(h&128)>0||(d&128)>0){position$3-=12;return}if(i<14){if(i===12)return fromCharCode(n,a,s,l,c,f,p,g,y,b,h,d);{let v=src[position$3++];if((v&128)>0){position$3-=13;return}return fromCharCode(n,a,s,l,c,f,p,g,y,b,h,d,v)}}else{let v=src[position$3++],_=src[position$3++];if((v&128)>0||(_&128)>0){position$3-=14;return}if(i<15)return fromCharCode(n,a,s,l,c,f,p,g,y,b,h,d,v,_);let A=src[position$3++];if((A&128)>0){position$3-=15;return}return fromCharCode(n,a,s,l,c,f,p,g,y,b,h,d,v,_,A)}}}}}function readOnlyJSString(){let i=src[position$3++],n;if(i<192)n=i-160;else switch(i){case 217:n=src[position$3++];break;case 218:n=dataView.getUint16(position$3),position$3+=2;break;case 219:n=dataView.getUint32(position$3),position$3+=4;break;default:throw new Error("Expected string")}return readStringJS(n)}function readBin(i){return currentUnpackr.copyBuffers?Uint8Array.prototype.slice.call(src,position$3,position$3+=i):src.subarray(position$3,position$3+=i)}function readExt(i){let n=src[position$3++];if(currentExtensions[n]){let a;return currentExtensions[n](src.subarray(position$3,a=position$3+=i),s=>{position$3=s;try{return read()}finally{position$3=a}})}else throw new Error("Unknown extension type "+n)}var keyCache=new Array(4096);function readKey(){let i=src[position$3++];if(i>=160&&i<192){if(i=i-160,srcStringEnd>=position$3)return srcString.slice(position$3-srcStringStart,(position$3+=i)-srcStringStart);if(!(srcStringEnd==0&&srcEnd<180))return readFixedString(i)}else return position$3--,asSafeString(read());let n=(i<<5^(i>1?dataView.getUint16(position$3):i>0?src[position$3]:0))&4095,a=keyCache[n],s=position$3,l=position$3+i-3,c,f=0;if(a&&a.bytes==i){for(;s<l;){if(c=dataView.getUint32(s),c!=a[f++]){s=1879048192;break}s+=4}for(l+=3;s<l;)if(c=src[s++],c!=a[f++]){s=1879048192;break}if(s===l)return position$3=s,a.string;l-=3,s=position$3}for(a=[],keyCache[n]=a,a.bytes=i;s<l;)c=dataView.getUint32(s),a.push(c),s+=4;for(l+=3;s<l;)c=src[s++],a.push(c);let p=i<16?shortStringInJS(i):longStringInJS(i);return p!=null?a.string=p:a.string=readFixedString(i)}function asSafeString(i){if(typeof i=="string")return i;if(typeof i=="number"||typeof i=="boolean"||typeof i=="bigint")return i.toString();if(i==null)return i+"";if(currentUnpackr.allowArraysInMapKeys&&Array.isArray(i)&&i.flat().every(n=>["string","number","boolean","bigint"].includes(typeof n)))return i.flat().toString();throw new Error(`Invalid property type for record: ${typeof i}`)}const recordDefinition=(i,n)=>{let a=read().map(asSafeString),s=i;n!==void 0&&(i=i<32?-((n<<5)+i):(n<<5)+i,a.highByte=n);let l=currentStructures[i];return l&&(l.isShared||sequentialMode)&&((currentStructures.restoreStructures||(currentStructures.restoreStructures=[]))[i]=l),currentStructures[i]=a,a.read=createStructureReader(a,s),a.read()};currentExtensions[0]=()=>{};currentExtensions[0].noBuffer=!0;currentExtensions[66]=i=>{let n=i.length,a=BigInt(i[0]&128?i[0]-256:i[0]);for(let s=1;s<n;s++)a<<=BigInt(8),a+=BigInt(i[s]);return a};let errors={Error,TypeError,ReferenceError};currentExtensions[101]=()=>{let i=read();return(errors[i[0]]||Error)(i[1],{cause:i[2]})};currentExtensions[105]=i=>{if(currentUnpackr.structuredClone===!1)throw new Error("Structured clone extension is disabled");let n=dataView.getUint32(position$3-4);referenceMap||(referenceMap=new Map);let a=src[position$3],s;a>=144&&a<160||a==220||a==221?s=[]:a>=128&&a<144||a==222||a==223?s=new Map:(a>=199&&a<=201||a>=212&&a<=216)&&src[position$3+1]===115?s=new Set:s={};let l={target:s};referenceMap.set(n,l);let c=read();if(l.used)Object.assign(s,c);else return l.target=c;if(s instanceof Map)for(let[f,p]of c.entries())s.set(f,p);if(s instanceof Set)for(let f of Array.from(c))s.add(f);return s};currentExtensions[112]=i=>{if(currentUnpackr.structuredClone===!1)throw new Error("Structured clone extension is disabled");let n=dataView.getUint32(position$3-4),a=referenceMap.get(n);return a.used=!0,a.target};currentExtensions[115]=()=>new Set(read());const typedArrays=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(i=>i+"Array");let glbl=typeof globalThis=="object"?globalThis:window;currentExtensions[116]=i=>{let n=i[0],a=Uint8Array.prototype.slice.call(i,1).buffer,s=typedArrays[n];if(!s){if(n===16)return a;if(n===17)return new DataView(a);throw new Error("Could not find typed array for code "+n)}return new glbl[s](a)};currentExtensions[120]=()=>{let i=read();return new RegExp(i[0],i[1])};const TEMP_BUNDLE=[];currentExtensions[98]=i=>{let n=(i[0]<<24)+(i[1]<<16)+(i[2]<<8)+i[3],a=position$3;return position$3+=n-i.length,bundledStrings$1=TEMP_BUNDLE,bundledStrings$1=[readOnlyJSString(),readOnlyJSString()],bundledStrings$1.position0=0,bundledStrings$1.position1=0,bundledStrings$1.postBundlePosition=position$3,position$3=a,read()};currentExtensions[255]=i=>i.length==4?new Date((i[0]*16777216+(i[1]<<16)+(i[2]<<8)+i[3])*1e3):i.length==8?new Date(((i[0]<<22)+(i[1]<<14)+(i[2]<<6)+(i[3]>>2))/1e6+((i[3]&3)*4294967296+i[4]*16777216+(i[5]<<16)+(i[6]<<8)+i[7])*1e3):i.length==12?new Date(((i[0]<<24)+(i[1]<<16)+(i[2]<<8)+i[3])/1e6+((i[4]&128?-281474976710656:0)+i[6]*1099511627776+i[7]*4294967296+i[8]*16777216+(i[9]<<16)+(i[10]<<8)+i[11])*1e3):new Date("invalid");function saveState(i){let n=srcEnd,a=position$3,s=srcStringStart,l=srcStringEnd,c=srcString,f=referenceMap,p=bundledStrings$1,g=new Uint8Array(src.slice(0,srcEnd)),y=currentStructures,b=currentStructures.slice(0,currentStructures.length),h=currentUnpackr,d=sequentialMode,v=i();return srcEnd=n,position$3=a,srcStringStart=s,srcStringEnd=l,srcString=c,referenceMap=f,bundledStrings$1=p,src=g,sequentialMode=d,currentStructures=y,currentStructures.splice(0,currentStructures.length,...b),currentUnpackr=h,dataView=new DataView(src.buffer,src.byteOffset,src.byteLength),v}function clearSource(){src=null,referenceMap=null,currentStructures=null}const mult10=new Array(147);for(let i=0;i<256;i++)mult10[i]=+("1e"+Math.floor(45.15-i*.30103));var defaultUnpackr=new Unpackr({useRecords:!1});defaultUnpackr.unpack;defaultUnpackr.unpackMultiple;defaultUnpackr.unpack;let f32Array=new Float32Array(1);new Uint8Array(f32Array.buffer,0,4);let textEncoder;try{textEncoder=new TextEncoder}catch{}let extensions,extensionClasses;const hasNodeBuffer=typeof Buffer<"u",ByteArrayAllocate=hasNodeBuffer?function(i){return Buffer.allocUnsafeSlow(i)}:Uint8Array,ByteArray=hasNodeBuffer?Buffer:Uint8Array,MAX_BUFFER_SIZE=hasNodeBuffer?4294967296:2144337920;let target,keysTarget,targetView,position$2=0,safeEnd,bundledStrings=null,writeStructSlots;const MAX_BUNDLE_SIZE=21760,hasNonLatin=/[\u0080-\uFFFF]/,RECORD_SYMBOL=Symbol("record-id");class Packr extends Unpackr{constructor(n){super(n),this.offset=0;let a,s,l,c,f=ByteArray.prototype.utf8Write?function(V,X){return target.utf8Write(V,X,target.byteLength-X)}:textEncoder&&textEncoder.encodeInto?function(V,X){return textEncoder.encodeInto(V,target.subarray(X)).written}:!1,p=this;n||(n={});let g=n&&n.sequential,y=n.structures||n.saveStructures,b=n.maxSharedStructures;if(b==null&&(b=y?32:0),b>8160)throw new Error("Maximum maxSharedStructure is 8160");n.structuredClone&&n.moreTypes==null&&(this.moreTypes=!0);let h=n.maxOwnStructures;h==null&&(h=y?32:64),!this.structures&&n.useRecords!=!1&&(this.structures=[]);let d=b>32||h+b>64,v=b+64,_=b+h+64;if(_>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let A=[],I=0,R=0;this.pack=this.encode=function(V,X){if(target||(target=new ByteArrayAllocate(8192),targetView=target.dataView||(target.dataView=new DataView(target.buffer,0,8192)),position$2=0),safeEnd=target.length-10,safeEnd-position$2<2048?(target=new ByteArrayAllocate(target.length),targetView=target.dataView||(target.dataView=new DataView(target.buffer,0,target.length)),safeEnd=target.length-10,position$2=0):position$2=position$2+7&2147483640,a=position$2,X&RESERVE_START_SPACE&&(position$2+=X&255),c=p.structuredClone?new Map:null,p.bundleStrings&&typeof V!="string"?(bundledStrings=[],bundledStrings.size=1/0):bundledStrings=null,l=p.structures,l){l.uninitialized&&(l=p._mergeStructures(p.getStructures()));let G=l.sharedLength||0;if(G>b)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+l.sharedLength);if(!l.transitions){l.transitions=Object.create(null);for(let te=0;te<G;te++){let ue=l[te];if(!ue)continue;let fe,K=l.transitions;for(let de=0,we=ue.length;de<we;de++){let oe=ue[de];fe=K[oe],fe||(fe=K[oe]=Object.create(null)),K=fe}K[RECORD_SYMBOL]=te+64}this.lastNamedStructuresLength=G}g||(l.nextId=G+64)}s&&(s=!1);let Q;try{p.randomAccessStructure&&V&&V.constructor&&V.constructor===Object?Z(V):M(V);let G=bundledStrings;if(bundledStrings&&writeBundles(a,M,0),c&&c.idsToInsert){let te=c.idsToInsert.sort((de,we)=>de.offset>we.offset?1:-1),ue=te.length,fe=-1;for(;G&&ue>0;){let de=te[--ue].offset+a;de<G.stringsPosition+a&&fe===-1&&(fe=0),de>G.position+a?fe>=0&&(fe+=6):(fe>=0&&(targetView.setUint32(G.position+a,targetView.getUint32(G.position+a)+fe),fe=-1),G=G.previous,ue++)}fe>=0&&G&&targetView.setUint32(G.position+a,targetView.getUint32(G.position+a)+fe),position$2+=te.length*6,position$2>safeEnd&&z(position$2),p.offset=position$2;let K=insertIds(target.subarray(a,position$2),te);return c=null,K}return p.offset=position$2,X&REUSE_BUFFER_MODE?(target.start=a,target.end=position$2,target):target.subarray(a,position$2)}catch(G){throw Q=G,G}finally{if(l&&(P(),s&&p.saveStructures)){let G=l.sharedLength||0,te=target.subarray(a,position$2),ue=prepareStructures(l,p);if(!Q)return p.saveStructures(ue,ue.isCompatible)===!1?p.pack(V,X):(p.lastNamedStructuresLength=G,target.length>1073741824&&(target=null),te)}target.length>1073741824&&(target=null),X&RESET_BUFFER_MODE&&(position$2=a)}};const P=()=>{R<10&&R++;let V=l.sharedLength||0;if(l.length>V&&!g&&(l.length=V),I>1e4)l.transitions=null,R=0,I=0,A.length>0&&(A=[]);else if(A.length>0&&!g){for(let X=0,Q=A.length;X<Q;X++)A[X][RECORD_SYMBOL]=0;A=[]}},$=V=>{var X=V.length;X<16?target[position$2++]=144|X:X<65536?(target[position$2++]=220,target[position$2++]=X>>8,target[position$2++]=X&255):(target[position$2++]=221,targetView.setUint32(position$2,X),position$2+=4);for(let Q=0;Q<X;Q++)M(V[Q])},M=V=>{position$2>safeEnd&&(target=z(position$2));var X=typeof V,Q;if(X==="string"){let G=V.length;if(bundledStrings&&G>=4&&G<4096){if((bundledStrings.size+=G)>MAX_BUNDLE_SIZE){let K,de=(bundledStrings[0]?bundledStrings[0].length*3+bundledStrings[1].length:0)+10;position$2+de>safeEnd&&(target=z(position$2+de));let we;bundledStrings.position?(we=bundledStrings,target[position$2]=200,position$2+=3,target[position$2++]=98,K=position$2-a,position$2+=4,writeBundles(a,M,0),targetView.setUint16(K+a-3,position$2-a-K)):(target[position$2++]=214,target[position$2++]=98,K=position$2-a,position$2+=4),bundledStrings=["",""],bundledStrings.previous=we,bundledStrings.size=0,bundledStrings.position=K}let fe=hasNonLatin.test(V);bundledStrings[fe?0:1]+=V,target[position$2++]=193,M(fe?-G:G);return}let te;G<32?te=1:G<256?te=2:G<65536?te=3:te=5;let ue=G*3;if(position$2+ue>safeEnd&&(target=z(position$2+ue)),G<64||!f){let fe,K,de,we=position$2+te;for(fe=0;fe<G;fe++)K=V.charCodeAt(fe),K<128?target[we++]=K:K<2048?(target[we++]=K>>6|192,target[we++]=K&63|128):(K&64512)===55296&&((de=V.charCodeAt(fe+1))&64512)===56320?(K=65536+((K&1023)<<10)+(de&1023),fe++,target[we++]=K>>18|240,target[we++]=K>>12&63|128,target[we++]=K>>6&63|128,target[we++]=K&63|128):(target[we++]=K>>12|224,target[we++]=K>>6&63|128,target[we++]=K&63|128);Q=we-position$2-te}else Q=f(V,position$2+te);Q<32?target[position$2++]=160|Q:Q<256?(te<2&&target.copyWithin(position$2+2,position$2+1,position$2+1+Q),target[position$2++]=217,target[position$2++]=Q):Q<65536?(te<3&&target.copyWithin(position$2+3,position$2+2,position$2+2+Q),target[position$2++]=218,target[position$2++]=Q>>8,target[position$2++]=Q&255):(te<5&&target.copyWithin(position$2+5,position$2+3,position$2+3+Q),target[position$2++]=219,targetView.setUint32(position$2,Q),position$2+=4),position$2+=Q}else if(X==="number")if(V>>>0===V)V<32||V<128&&this.useRecords===!1||V<64&&!this.randomAccessStructure?target[position$2++]=V:V<256?(target[position$2++]=204,target[position$2++]=V):V<65536?(target[position$2++]=205,target[position$2++]=V>>8,target[position$2++]=V&255):(target[position$2++]=206,targetView.setUint32(position$2,V),position$2+=4);else if(V>>0===V)V>=-32?target[position$2++]=256+V:V>=-128?(target[position$2++]=208,target[position$2++]=V+256):V>=-32768?(target[position$2++]=209,targetView.setInt16(position$2,V),position$2+=2):(target[position$2++]=210,targetView.setInt32(position$2,V),position$2+=4);else{let G;if((G=this.useFloat32)>0&&V<4294967296&&V>=-2147483648){target[position$2++]=202,targetView.setFloat32(position$2,V);let te;if(G<4||(te=V*mult10[(target[position$2]&127)<<1|target[position$2+1]>>7])>>0===te){position$2+=4;return}else position$2--}target[position$2++]=203,targetView.setFloat64(position$2,V),position$2+=8}else if(X==="object"||X==="function")if(!V)target[position$2++]=192;else{if(c){let te=c.get(V);if(te){if(!te.id){let ue=c.idsToInsert||(c.idsToInsert=[]);te.id=ue.push(te)}target[position$2++]=214,target[position$2++]=112,targetView.setUint32(position$2,te.id),position$2+=4;return}else c.set(V,{offset:position$2-a})}let G=V.constructor;if(G===Object)H(V);else if(G===Array)$(V);else if(G===Map)if(this.mapAsEmptyObject)target[position$2++]=128;else{Q=V.size,Q<16?target[position$2++]=128|Q:Q<65536?(target[position$2++]=222,target[position$2++]=Q>>8,target[position$2++]=Q&255):(target[position$2++]=223,targetView.setUint32(position$2,Q),position$2+=4);for(let[te,ue]of V)M(te),M(ue)}else{for(let te=0,ue=extensions.length;te<ue;te++){let fe=extensionClasses[te];if(V instanceof fe){let K=extensions[te];if(K.write){K.type&&(target[position$2++]=212,target[position$2++]=K.type,target[position$2++]=0);let Ie=K.write.call(this,V);Ie===V?Array.isArray(V)?$(V):H(V):M(Ie);return}let de=target,we=targetView,oe=position$2;target=null;let Ne;try{Ne=K.pack.call(this,V,Ie=>(target=de,de=null,position$2+=Ie,position$2>safeEnd&&z(position$2),{target,targetView,position:position$2-Ie}),M)}finally{de&&(target=de,targetView=we,position$2=oe,safeEnd=target.length-10)}Ne&&(Ne.length+position$2>safeEnd&&z(Ne.length+position$2),position$2=writeExtensionData(Ne,target,position$2,K.type));return}}if(Array.isArray(V))$(V);else{if(V.toJSON){const te=V.toJSON();if(te!==V)return M(te)}if(X==="function")return M(this.writeFunction&&this.writeFunction(V));H(V)}}}else if(X==="boolean")target[position$2++]=V?195:194;else if(X==="bigint"){if(V<9223372036854776e3&&V>=-9223372036854776e3)target[position$2++]=211,targetView.setBigInt64(position$2,V);else if(V<18446744073709552e3&&V>0)target[position$2++]=207,targetView.setBigUint64(position$2,V);else if(this.largeBigIntToFloat)target[position$2++]=203,targetView.setFloat64(position$2,Number(V));else{if(this.largeBigIntToString)return M(V.toString());if((this.useBigIntExtension||this.moreTypes)&&V<BigInt(2)**BigInt(1023)&&V>-(BigInt(2)**BigInt(1023))){target[position$2++]=199,position$2++,target[position$2++]=66;let G=[],te;do{let ue=V&BigInt(255);te=(ue&BigInt(128))===(V<BigInt(0)?BigInt(128):BigInt(0)),G.push(ue),V>>=BigInt(8)}while(!((V===BigInt(0)||V===BigInt(-1))&&te));target[position$2-2]=G.length;for(let ue=G.length;ue>0;)target[position$2++]=Number(G[--ue]);return}else throw new RangeError(V+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}position$2+=8}else if(X==="undefined")this.encodeUndefinedAsNil?target[position$2++]=192:(target[position$2++]=212,target[position$2++]=0,target[position$2++]=0);else throw new Error("Unknown type: "+X)},B=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?V=>{let X;if(this.skipValues){X=[];for(let te in V)(typeof V.hasOwnProperty!="function"||V.hasOwnProperty(te))&&!this.skipValues.includes(V[te])&&X.push(te)}else X=Object.keys(V);let Q=X.length;Q<16?target[position$2++]=128|Q:Q<65536?(target[position$2++]=222,target[position$2++]=Q>>8,target[position$2++]=Q&255):(target[position$2++]=223,targetView.setUint32(position$2,Q),position$2+=4);let G;if(this.coercibleKeyAsNumber)for(let te=0;te<Q;te++){G=X[te];let ue=Number(G);M(isNaN(ue)?G:ue),M(V[G])}else for(let te=0;te<Q;te++)M(G=X[te]),M(V[G])}:V=>{target[position$2++]=222;let X=position$2-a;position$2+=2;let Q=0;for(let G in V)(typeof V.hasOwnProperty!="function"||V.hasOwnProperty(G))&&(M(G),M(V[G]),Q++);if(Q>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');target[X+++a]=Q>>8,target[X+a]=Q&255},F=this.useRecords===!1?B:n.progressiveRecords&&!d?V=>{let X,Q=l.transitions||(l.transitions=Object.create(null)),G=position$2++-a,te;for(let ue in V)if(typeof V.hasOwnProperty!="function"||V.hasOwnProperty(ue)){if(X=Q[ue],X)Q=X;else{let fe=Object.keys(V),K=Q;Q=l.transitions;let de=0;for(let we=0,oe=fe.length;we<oe;we++){let Ne=fe[we];X=Q[Ne],X||(X=Q[Ne]=Object.create(null),de++),Q=X}G+a+1==position$2?(position$2--,L(Q,fe,de)):ee(Q,fe,G,de),te=!0,Q=K[ue]}M(V[ue])}if(!te){let ue=Q[RECORD_SYMBOL];ue?target[G+a]=ue:ee(Q,Object.keys(V),G,0)}}:V=>{let X,Q=l.transitions||(l.transitions=Object.create(null)),G=0;for(let ue in V)(typeof V.hasOwnProperty!="function"||V.hasOwnProperty(ue))&&(X=Q[ue],X||(X=Q[ue]=Object.create(null),G++),Q=X);let te=Q[RECORD_SYMBOL];te?te>=96&&d?(target[position$2++]=((te-=96)&31)+96,target[position$2++]=te>>5):target[position$2++]=te:L(Q,Q.__keys__||Object.keys(V),G);for(let ue in V)(typeof V.hasOwnProperty!="function"||V.hasOwnProperty(ue))&&M(V[ue])},q=typeof this.useRecords=="function"&&this.useRecords,H=q?V=>{q(V)?F(V):B(V)}:F,z=V=>{let X;if(V>16777216){if(V-a>MAX_BUFFER_SIZE)throw new Error("Packed buffer would be larger than maximum buffer size");X=Math.min(MAX_BUFFER_SIZE,Math.round(Math.max((V-a)*(V>67108864?1.25:2),4194304)/4096)*4096)}else X=(Math.max(V-a<<2,target.length-1)>>12)+1<<12;let Q=new ByteArrayAllocate(X);return targetView=Q.dataView||(Q.dataView=new DataView(Q.buffer,0,X)),V=Math.min(V,target.length),target.copy?target.copy(Q,0,a,V):Q.set(target.slice(a,V)),position$2-=a,a=0,safeEnd=Q.length-10,target=Q},L=(V,X,Q)=>{let G=l.nextId;G||(G=64),G<v&&this.shouldShareStructure&&!this.shouldShareStructure(X)?(G=l.nextOwnId,G<_||(G=v),l.nextOwnId=G+1):(G>=_&&(G=v),l.nextId=G+1);let te=X.highByte=G>=96&&d?G-96>>5:-1;V[RECORD_SYMBOL]=G,V.__keys__=X,l[G-64]=X,G<v?(X.isShared=!0,l.sharedLength=G-63,s=!0,te>=0?(target[position$2++]=(G&31)+96,target[position$2++]=te):target[position$2++]=G):(te>=0?(target[position$2++]=213,target[position$2++]=114,target[position$2++]=(G&31)+96,target[position$2++]=te):(target[position$2++]=212,target[position$2++]=114,target[position$2++]=G),Q&&(I+=R*Q),A.length>=h&&(A.shift()[RECORD_SYMBOL]=0),A.push(V),M(X))},ee=(V,X,Q,G)=>{let te=target,ue=position$2,fe=safeEnd,K=a;target=keysTarget,position$2=0,a=0,target||(keysTarget=target=new ByteArrayAllocate(8192)),safeEnd=target.length-10,L(V,X,G),keysTarget=target;let de=position$2;if(target=te,position$2=ue,safeEnd=fe,a=K,de>1){let we=position$2+de-1;we>safeEnd&&z(we);let oe=Q+a;target.copyWithin(oe+de,oe+1,position$2),target.set(keysTarget.slice(0,de),oe),position$2=we}else target[Q+a]=keysTarget[0]},Z=V=>{let X=writeStructSlots(V,target,a,position$2,l,z,(Q,G,te)=>{if(te)return s=!0;position$2=G;let ue=target;return M(Q),P(),ue!==target?{position:position$2,targetView,target}:position$2},this);if(X===0)return H(V);position$2=X}}useBuffer(n){target=n,target.dataView||(target.dataView=new DataView(target.buffer,target.byteOffset,target.byteLength)),position$2=0}set position(n){position$2=n}get position(){return position$2}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}extensionClasses=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,C1Type];extensions=[{pack(i,n,a){let s=i.getTime()/1e3;if((this.useTimestamp32||i.getMilliseconds()===0)&&s>=0&&s<4294967296){let{target:l,targetView:c,position:f}=n(6);l[f++]=214,l[f++]=255,c.setUint32(f,s)}else if(s>0&&s<4294967296){let{target:l,targetView:c,position:f}=n(10);l[f++]=215,l[f++]=255,c.setUint32(f,i.getMilliseconds()*4e6+(s/1e3/4294967296>>0)),c.setUint32(f+4,s)}else if(isNaN(s)){if(this.onInvalidDate)return n(0),a(this.onInvalidDate());let{target:l,targetView:c,position:f}=n(3);l[f++]=212,l[f++]=255,l[f++]=255}else{let{target:l,targetView:c,position:f}=n(15);l[f++]=199,l[f++]=12,l[f++]=255,c.setUint32(f,i.getMilliseconds()*1e6),c.setBigInt64(f+4,BigInt(Math.floor(s)))}}},{pack(i,n,a){if(this.setAsEmptyObject)return n(0),a({});let s=Array.from(i),{target:l,position:c}=n(this.moreTypes?3:0);this.moreTypes&&(l[c++]=212,l[c++]=115,l[c++]=0),a(s)}},{pack(i,n,a){let{target:s,position:l}=n(this.moreTypes?3:0);this.moreTypes&&(s[l++]=212,s[l++]=101,s[l++]=0),a([i.name,i.message,i.cause])}},{pack(i,n,a){let{target:s,position:l}=n(this.moreTypes?3:0);this.moreTypes&&(s[l++]=212,s[l++]=120,s[l++]=0),a([i.source,i.flags])}},{pack(i,n){this.moreTypes?writeExtBuffer(i,16,n):writeBuffer(hasNodeBuffer?Buffer.from(i):new Uint8Array(i),n)}},{pack(i,n){let a=i.constructor;a!==ByteArray&&this.moreTypes?writeExtBuffer(i,typedArrays.indexOf(a.name),n):writeBuffer(i,n)}},{pack(i,n){this.moreTypes?writeExtBuffer(i,17,n):writeBuffer(hasNodeBuffer?Buffer.from(i):new Uint8Array(i),n)}},{pack(i,n){let{target:a,position:s}=n(1);a[s]=193}}];function writeExtBuffer(i,n,a,s){let l=i.byteLength;if(l+1<256){var{target:c,position:f}=a(4+l);c[f++]=199,c[f++]=l+1}else if(l+1<65536){var{target:c,position:f}=a(5+l);c[f++]=200,c[f++]=l+1>>8,c[f++]=l+1&255}else{var{target:c,position:f,targetView:p}=a(7+l);c[f++]=201,p.setUint32(f,l+1),f+=4}c[f++]=116,c[f++]=n,i.buffer||(i=new Uint8Array(i)),c.set(new Uint8Array(i.buffer,i.byteOffset,i.byteLength),f)}function writeBuffer(i,n){let a=i.byteLength;var s,l;if(a<256){var{target:s,position:l}=n(a+2);s[l++]=196,s[l++]=a}else if(a<65536){var{target:s,position:l}=n(a+3);s[l++]=197,s[l++]=a>>8,s[l++]=a&255}else{var{target:s,position:l,targetView:c}=n(a+5);s[l++]=198,c.setUint32(l,a),l+=4}s.set(i,l)}function writeExtensionData(i,n,a,s){let l=i.length;switch(l){case 1:n[a++]=212;break;case 2:n[a++]=213;break;case 4:n[a++]=214;break;case 8:n[a++]=215;break;case 16:n[a++]=216;break;default:l<256?(n[a++]=199,n[a++]=l):l<65536?(n[a++]=200,n[a++]=l>>8,n[a++]=l&255):(n[a++]=201,n[a++]=l>>24,n[a++]=l>>16&255,n[a++]=l>>8&255,n[a++]=l&255)}return n[a++]=s,n.set(i,a),a+=l,a}function insertIds(i,n){let a,s=n.length*6,l=i.length-s;for(;a=n.pop();){let c=a.offset,f=a.id;i.copyWithin(c+s,c,l),s-=6;let p=c+s;i[p++]=214,i[p++]=105,i[p++]=f>>24,i[p++]=f>>16&255,i[p++]=f>>8&255,i[p++]=f&255,l=c}return i}function writeBundles(i,n,a){if(bundledStrings.length>0){targetView.setUint32(bundledStrings.position+i,position$2+a-bundledStrings.position-i),bundledStrings.stringsPosition=position$2-i;let s=bundledStrings;bundledStrings=null,n(s[0]),n(s[1])}}function prepareStructures(i,n){return i.isCompatible=a=>{let s=!a||(n.lastNamedStructuresLength||0)===a.length;return s||n._mergeStructures(a),s},i}let defaultPackr=new Packr({useRecords:!1});defaultPackr.pack;defaultPackr.pack;const REUSE_BUFFER_MODE=512,RESET_BUFFER_MODE=1024,RESERVE_START_SPACE=2048,msgPackToObject=i=>new Packr({structuredClone:!0}).unpack(new Uint8Array(i));function toBase64(i){return isImmediateByteLike(i)?immediateToBase64(i):eventualToBase64(i)}async function eventualToBase64(i){const n=await toArrayBuffer(i);return arrayBufferToBase64(n)}function immediateToBase64(i){const n=immediateToArrayBuffer(i);return arrayBufferToBase64(n)}const toBlob=(i,n="application/octet-stream")=>i instanceof Blob?i:i instanceof ArrayBuffer?new Blob([i],{type:n}):typeof i=="string"?new Blob([i],{type:n}):ArrayBuffer.isView(i)?new Blob([i],{type:n}):Array.isArray(i)?new Blob([arrayToFloat64Array(i)],{type:n}):new Blob([]),toDataUrl=async i=>{const n=toBlob(i),a=new FileReader;return new Promise((s,l)=>{const c=f=>typeof f=="string"?s(f):(console.log({bytes:i}),l("Unable to convert to data URL"));a.onload=function(f){var p;c((p=f.target)==null?void 0:p.result)},a.readAsDataURL(n)})},toMsgPack=i=>{const n=new Packr({structuredClone:!0});return new Uint8Array(n.encode(i))},typeOfBytes=i=>{if(i instanceof Blob)return"Blob";if(i instanceof ArrayBuffer)return"ArrayBuffer";if(typeof i=="string")return"string";if(ArrayBuffer.isView(i))return"ArrayBufferView";if(Array.isArray(i))return"Array"},utf8ToUint8Array=i=>new TextEncoder().encode(i),Bytes={toMsgPack,msgPackToObject,typeOfBytes,toDataUrl,dataUrlToBlob,lengthOf,isByteLike,isImmediateByteLike,hashOf,immediateHashOf,addressStringOf,toArrayBuffer,immediateToArrayBuffer,toBlob,toText,toBase64,encodeAsString,test,assignMediaTypeToBlob,utf8ToUint8Array,base64ToArrayBuffer,arrayBufferToHex,arrayBufferToUtf8,arrayBufferToBase64,ALL_ALGORITHMS,ALGORITHM_BYTE_LENGTHS},connectEventListenerToSubjectRoot=async({connection:i,subjectRoot:n,listener:a,options:s={},env:l={},signal:c,onError:f=p=>{var g;(g=s==null?void 0:s.log)==null||g.call(s,p)}})=>{const{log:p=()=>{},queue:g,maxMessages:y,timeout:b}=s;p("connectEventListenerToSubject: subjectRoot: ",n);const h=i.subscribe(`${n}.>`,{queue:g,max:y,timeout:b});if(isDefined$1(c)){if(c.aborted)throw h.unsubscribe(),new Error("Signal already in aborted state");c.addEventListener("abort",()=>{console.log(`aborting subscription: ${h.getID()}`),h.unsubscribe()})}else console.warn("signal is undefined! listener is forever");for await(const d of h)try{const v=Bytes.msgPackToObject(d.data),_=A=>h.unsubscribe(A);if(isDefined$1(v.error)){f(v.error);continue}await a({detail:v.value,env:l,signal:c,unsubscribe:_,subject:d.subject})}catch(v){f(v)}},Empty=new Uint8Array(0),TE=new TextEncoder,TD=new TextDecoder;function concat(...i){let n=0;for(let l=0;l<i.length;l++)n+=i[l].length;const a=new Uint8Array(n);let s=0;for(let l=0;l<i.length;l++)a.set(i[l],s),s+=i[l].length;return a}function encode(...i){const n=[];for(let a=0;a<i.length;a++)n.push(TE.encode(i[a]));return n.length===0?Empty:n.length===1?n[0]:concat(...n)}function decode$1(i){return!i||i.length===0?"":TD.decode(i)}const digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",base=36,maxSeq=0xcfd41b9100000,minInc=33,maxInc=333,totalLen=22;function _getRandomValues(i){for(let n=0;n<i.length;n++)i[n]=Math.floor(Math.random()*255)}function fillRandom(i){var n;(n=globalThis==null?void 0:globalThis.crypto)!=null&&n.getRandomValues?globalThis.crypto.getRandomValues(i):_getRandomValues(i)}class Nuid{constructor(){me(this,"buf");me(this,"seq");me(this,"inc");me(this,"inited");this.buf=new Uint8Array(totalLen),this.inited=!1}init(){this.inited=!0,this.setPre(),this.initSeqAndInc(),this.fillSeq()}initSeqAndInc(){this.seq=Math.floor(Math.random()*maxSeq),this.inc=Math.floor(Math.random()*(maxInc-minInc)+minInc)}setPre(){const n=new Uint8Array(12);fillRandom(n);for(let a=0;a<12;a++){const s=n[a]%36;this.buf[a]=digits.charCodeAt(s)}}fillSeq(){let n=this.seq;for(let a=totalLen-1;a>=12;a--)this.buf[a]=digits.charCodeAt(n%base),n=Math.floor(n/base)}next(){return this.inited||this.init(),this.seq+=this.inc,this.seq>0xcfd41b9100000&&(this.setPre(),this.initSeqAndInc()),this.fillSeq(),String.fromCharCode.apply(String,this.buf)}reset(){this.init()}}const nuid=new Nuid;var Events;(function(i){i.Disconnect="disconnect",i.Reconnect="reconnect",i.Update="update",i.LDM="ldm",i.Error="error"})(Events||(Events={}));var DebugEvents;(function(i){i.Reconnecting="reconnecting",i.PingTimer="pingTimer",i.StaleConnection="staleConnection",i.ClientInitiatedReconnect="client initiated reconnect"})(DebugEvents||(DebugEvents={}));var ErrorCode;(function(i){i.ApiError="BAD API",i.BadAuthentication="BAD_AUTHENTICATION",i.BadCreds="BAD_CREDS",i.BadHeader="BAD_HEADER",i.BadJson="BAD_JSON",i.BadPayload="BAD_PAYLOAD",i.BadSubject="BAD_SUBJECT",i.Cancelled="CANCELLED",i.ConnectionClosed="CONNECTION_CLOSED",i.ConnectionDraining="CONNECTION_DRAINING",i.ConnectionRefused="CONNECTION_REFUSED",i.ConnectionTimeout="CONNECTION_TIMEOUT",i.Disconnect="DISCONNECT",i.InvalidOption="INVALID_OPTION",i.InvalidPayload="INVALID_PAYLOAD",i.MaxPayloadExceeded="MAX_PAYLOAD_EXCEEDED",i.NoResponders="503",i.NotFunction="NOT_FUNC",i.RequestError="REQUEST_ERROR",i.ServerOptionNotAvailable="SERVER_OPT_NA",i.SubClosed="SUB_CLOSED",i.SubDraining="SUB_DRAINING",i.Timeout="TIMEOUT",i.Tls="TLS",i.Unknown="UNKNOWN_ERROR",i.WssRequired="WSS_REQUIRED",i.JetStreamInvalidAck="JESTREAM_INVALID_ACK",i.JetStream404NoMessages="404",i.JetStream408RequestTimeout="408",i.JetStream409MaxAckPendingExceeded="409",i.JetStream409="409",i.JetStreamNotEnabled="503",i.JetStreamIdleHeartBeat="IDLE_HEARTBEAT",i.AuthorizationViolation="AUTHORIZATION_VIOLATION",i.AuthenticationExpired="AUTHENTICATION_EXPIRED",i.ProtocolError="NATS_PROTOCOL_ERR",i.PermissionsViolation="PERMISSIONS_VIOLATION",i.AuthenticationTimeout="AUTHENTICATION_TIMEOUT",i.AccountExpired="ACCOUNT_EXPIRED"})(ErrorCode||(ErrorCode={}));function isNatsError(i){return typeof i.code=="string"}let Messages$1=class{constructor(){me(this,"messages");this.messages=new Map,this.messages.set(ErrorCode.InvalidPayload,"Invalid payload type - payloads can be 'binary', 'string', or 'json'"),this.messages.set(ErrorCode.BadJson,"Bad JSON"),this.messages.set(ErrorCode.WssRequired,"TLS is required, therefore a secure websocket connection is also required")}static getMessage(n){return messages$2.getMessage(n)}getMessage(n){return this.messages.get(n)||n}};const messages$2=new Messages$1;class NatsError extends Error{constructor(a,s,l){super(a);me(this,"name");me(this,"message");me(this,"code");me(this,"permissionContext");me(this,"chainedError");me(this,"api_error");this.name="NatsError",this.message=a,this.code=s,this.chainedError=l}static errorForCode(a,s){const l=Messages$1.getMessage(a);return new NatsError(l,a,s)}isAuthError(){return this.code===ErrorCode.AuthenticationExpired||this.code===ErrorCode.AuthorizationViolation||this.code===ErrorCode.AccountExpired}isAuthTimeout(){return this.code===ErrorCode.AuthenticationTimeout}isPermissionError(){return this.code===ErrorCode.PermissionsViolation}isProtocolError(){return this.code===ErrorCode.ProtocolError}isJetStreamError(){return this.api_error!==void 0}jsError(){return this.api_error?this.api_error:null}}var Match;(function(i){i[i.Exact=0]="Exact",i[i.CanonicalMIME=1]="CanonicalMIME",i[i.IgnoreCase=2]="IgnoreCase"})(Match||(Match={}));var RequestStrategy;(function(i){i.Timer="timer",i.Count="count",i.JitterTimer="jitterTimer",i.SentinelMsg="sentinelMsg"})(RequestStrategy||(RequestStrategy={}));var ServiceResponseType;(function(i){i.STATS="io.nats.micro.v1.stats_response",i.INFO="io.nats.micro.v1.info_response",i.PING="io.nats.micro.v1.ping_response"})(ServiceResponseType||(ServiceResponseType={}));const ServiceErrorHeader="Nats-Service-Error",ServiceErrorCodeHeader="Nats-Service-Error-Code";class ServiceError extends Error{constructor(a,s){super(s);me(this,"code");this.code=a}static isServiceError(a){return ServiceError.toServiceError(a)!==null}static toServiceError(a){var l,c;const s=((l=a==null?void 0:a.headers)==null?void 0:l.get(ServiceErrorCodeHeader))||"";if(s!==""){const f=parseInt(s)||400,p=((c=a==null?void 0:a.headers)==null?void 0:c.get(ServiceErrorHeader))||"";return new ServiceError(f,p.length?p:s)}return null}}function createInbox(i=""){if(i=i||"_INBOX",typeof i!="string")throw new Error("prefix must be a string");return i.split(".").forEach(n=>{if(n==="*"||n===">")throw new Error(`inbox prefixes cannot have wildcards '${i}'`)}),`${i}.${nuid.next()}`}const DEFAULT_HOST="127.0.0.1";var ServiceVerb;(function(i){i.PING="PING",i.STATS="STATS",i.INFO="INFO"})(ServiceVerb||(ServiceVerb={}));function extend$2(i,...n){for(let a=0;a<n.length;a++){const s=n[a];Object.keys(s).forEach(function(l){i[l]=s[l]})}return i}function render(i){return TD.decode(i).replace(/\n/g,"␊").replace(/\r/g,"␍")}function timeout(i,n=!0){const a=n?NatsError.errorForCode(ErrorCode.Timeout):null;let s,l;const c=new Promise((f,p)=>{s={cancel:()=>{l&&clearTimeout(l)}},l=setTimeout(()=>{p(a===null?NatsError.errorForCode(ErrorCode.Timeout):a)},i)});return Object.assign(c,s)}function delay(i=0){let n;const a=new Promise(s=>{const l=setTimeout(()=>{s()},i);n={cancel:()=>{l&&clearTimeout(l)}}});return Object.assign(a,n)}function deferred(){let i={};const n=new Promise((a,s)=>{i={resolve:a,reject:s}});return Object.assign(n,i)}function shuffle(i){for(let n=i.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[i[n],i[a]]=[i[a],i[n]]}return i}function jitter(i){return i===0?0:Math.floor(i/2+Math.random()*i)}function backoff(i=[0,250,250,500,500,3e3,5e3]){Array.isArray(i)||(i=[0,250,250,500,500,3e3,5e3]);const n=i.length-1;return{backoff(a){return jitter(a>n?i[n]:i[a])}}}function nanos(i){return i*1e6}function millis(i){return Math.floor(i/1e6)}function canonicalMIMEHeaderKey(i){let s=!0;const l=new Array(i.length);for(let c=0;c<i.length;c++){let f=i.charCodeAt(c);if(f===58||f<33||f>126)throw new NatsError(`'${i[c]}' is not a valid character for a header key`,ErrorCode.BadHeader);s&&97<=f&&f<=122?f-=32:!s&&65<=f&&f<=90&&(f+=32),l[c]=f,s=f==45}return String.fromCharCode(...l)}function headers(i=0,n=""){if(i===0&&n!==""||i>0&&n==="")throw new Error("setting status requires both code and description");return new MsgHdrsImpl(i,n)}const HEADER="NATS/1.0";class MsgHdrsImpl{constructor(n=0,a=""){me(this,"_code");me(this,"headers");me(this,"_description");this._code=n,this._description=a,this.headers=new Map}[Symbol.iterator](){return this.headers.entries()}size(){return this.headers.size}equals(n){if(n&&this.headers.size===n.headers.size&&this._code===n._code){for(const[a,s]of this.headers){const l=n.values(a);if(s.length!==l.length)return!1;const c=[...s].sort(),f=[...l].sort();for(let p=0;p<c.length;p++)if(c[p]!==f[p])return!1}return!0}return!1}static decode(n){const a=new MsgHdrsImpl,l=TD.decode(n).split(`\r
`),c=l[0];if(c!==HEADER){let f=c.replace(HEADER,"").trim();if(f.length>0){a._code=parseInt(f,10),isNaN(a._code)&&(a._code=0);const p=a._code.toString();f=f.replace(p,""),a._description=f.trim()}}return l.length>=1&&l.slice(1).map(f=>{if(f){const p=f.indexOf(":");if(p>-1){const g=f.slice(0,p),y=f.slice(p+1).trim();a.append(g,y)}}}),a}toString(){if(this.headers.size===0&&this._code===0)return"";let n=HEADER;this._code>0&&this._description!==""&&(n+=` ${this._code} ${this._description}`);for(const[a,s]of this.headers)for(let l=0;l<s.length;l++)n=`${n}\r
${a}: ${s[l]}`;return`${n}\r
\r
`}encode(){return TE.encode(this.toString())}static validHeaderValue(n){if(/[\r\n]/.test(n))throw new NatsError("invalid header value - \\r and \\n are not allowed.",ErrorCode.BadHeader);return n.trim()}keys(){const n=[];for(const a of this.headers.keys())n.push(a);return n}findKeys(n,a=Match.Exact){const s=this.keys();switch(a){case Match.Exact:return s.filter(l=>l===n);case Match.CanonicalMIME:return n=canonicalMIMEHeaderKey(n),s.filter(l=>l===n);default:{const l=n.toLowerCase();return s.filter(c=>l===c.toLowerCase())}}}get(n,a=Match.Exact){const s=this.findKeys(n,a);if(s.length){const l=this.headers.get(s[0]);if(l)return Array.isArray(l)?l[0]:l}return""}last(n,a=Match.Exact){const s=this.findKeys(n,a);if(s.length){const l=this.headers.get(s[0]);if(l)return Array.isArray(l)?l[l.length-1]:l}return""}has(n,a=Match.Exact){return this.findKeys(n,a).length>0}set(n,a,s=Match.Exact){this.delete(n,s),this.append(n,a,s)}append(n,a,s=Match.Exact){const l=canonicalMIMEHeaderKey(n);s===Match.CanonicalMIME&&(n=l);const c=this.findKeys(n,s);n=c.length>0?c[0]:n;const f=MsgHdrsImpl.validHeaderValue(a);let p=this.headers.get(n);p||(p=[],this.headers.set(n,p)),p.push(f)}values(n,a=Match.Exact){const s=[];return this.findKeys(n,a).forEach(c=>{const f=this.headers.get(c);f&&s.push(...f)}),s}delete(n,a=Match.Exact){this.findKeys(n,a).forEach(l=>{this.headers.delete(l)})}get hasError(){return this._code>=300}get status(){return`${this._code} ${this._description}`.trim()}toRecord(){const n={};return this.keys().forEach(a=>{n[a]=this.values(a)}),n}get code(){return this._code}get description(){return this._description}static fromRecord(n){const a=new MsgHdrsImpl;for(const s in n)a.headers.set(s,n[s]);return a}}function StringCodec(){return{encode(i){return TE.encode(i)},decode(i){return TD.decode(i)}}}function JSONCodec(i){return{encode(n){try{return n===void 0&&(n=null),TE.encode(JSON.stringify(n))}catch(a){throw NatsError.errorForCode(ErrorCode.BadJson,a)}},decode(n){try{return JSON.parse(TD.decode(n),i)}catch(a){throw NatsError.errorForCode(ErrorCode.BadJson,a)}}}}function isRequestError(i){var n;return i&&i.data.length===0&&((n=i.headers)==null?void 0:n.code)===503?NatsError.errorForCode(ErrorCode.NoResponders):null}class MsgImpl{constructor(n,a,s){me(this,"_headers");me(this,"_msg");me(this,"_rdata");me(this,"_reply");me(this,"_subject");me(this,"publisher");this._msg=n,this._rdata=a,this.publisher=s}get subject(){return this._subject?this._subject:(this._subject=TD.decode(this._msg.subject),this._subject)}get reply(){return this._reply?this._reply:(this._reply=TD.decode(this._msg.reply),this._reply)}get sid(){return this._msg.sid}get headers(){if(this._msg.hdr>-1&&!this._headers){const n=this._rdata.subarray(0,this._msg.hdr);this._headers=MsgHdrsImpl.decode(n)}return this._headers}get data(){return this._rdata?this._msg.hdr>-1?this._rdata.subarray(this._msg.hdr):this._rdata:new Uint8Array(0)}respond(n=Empty,a){return this.reply?(this.publisher.publish(this.reply,n,a),!0):!1}size(){var l;const n=this._msg.subject.length,a=((l=this._msg.reply)==null?void 0:l.length)||0,s=this._msg.size===-1?0:this._msg.size;return n+a+s}json(n){return JSONCodec(n).decode(this.data)}string(){return TD.decode(this.data)}requestInfo(){var a;const n=(a=this.headers)==null?void 0:a.get("Nats-Request-Info");return n?JSON.parse(n,function(s,l){return(s==="start"||s==="stop")&&l!==""?new Date(Date.parse(l)):l}):null}}me(MsgImpl,"jc");function validateDurableName(i){return minValidation("durable",i)}function validateStreamName(i){return minValidation("stream",i)}function minValidation(i,n=""){if(n==="")throw Error(`${i} name required`);return[".","*",">","/","\\"," ","	",`
`,"\r"].forEach(s=>{if(n.indexOf(s)!==-1){switch(s){case`
`:s="\\n";break;case"\r":s="\\r";break;case"	":s="\\t";break}throw Error(`invalid ${i} name - ${i} name cannot contain '${s}'`)}}),""}function validateName(i,n=""){if(n==="")throw Error(`${i} name required`);const a=validName(n);if(a.length)throw new Error(`invalid ${i} name - ${i} name ${a}`)}function validName(i=""){if(i==="")throw Error("name required");const n=/^[-\w]+$/g;if(i.match(n)===null){for(const s of i.split(""))if(s.match(n)===null)return`cannot contain '${s}'`}return""}function isFlowControlMsg(i){if(i.data.length>0)return!1;const n=i.headers;return n?n.code>=100&&n.code<200:!1}function isHeartbeatMsg(i){var n;return isFlowControlMsg(i)&&((n=i.headers)==null?void 0:n.description)==="Idle Heartbeat"}function newJsErrorMsg(i,n,a){const s=headers(i,n),l={hdr:1,sid:0,size:0},c=new MsgImpl(l,Empty,{});return c._headers=s,c._subject=a,c}function checkJsError(i){if(i.data.length!==0)return null;const n=i.headers;return n?checkJsErrorCode(n.code,n.description):null}var Js409Errors;(function(i){i.MaxBatchExceeded="exceeded maxrequestbatch of",i.MaxExpiresExceeded="exceeded maxrequestexpires of",i.MaxBytesExceeded="exceeded maxrequestmaxbytes of",i.MaxMessageSizeExceeded="message size exceeds maxbytes",i.PushConsumer="consumer is push based",i.MaxWaitingExceeded="exceeded maxwaiting",i.IdleHeartbeatMissed="idle heartbeats missed",i.ConsumerDeleted="consumer deleted"})(Js409Errors||(Js409Errors={}));function isTerminal409(i){return i.code!==ErrorCode.JetStream409?!1:[Js409Errors.MaxBatchExceeded,Js409Errors.MaxExpiresExceeded,Js409Errors.MaxBytesExceeded,Js409Errors.MaxMessageSizeExceeded,Js409Errors.PushConsumer,Js409Errors.IdleHeartbeatMissed,Js409Errors.ConsumerDeleted].find(a=>i.message.indexOf(a)!==-1)!==void 0}function checkJsErrorCode(i,n=""){if(i<300)return null;switch(n=n.toLowerCase(),i){case 404:return new NatsError(n,ErrorCode.JetStream404NoMessages);case 408:return new NatsError(n,ErrorCode.JetStream408RequestTimeout);case 409:{const a=n.startsWith(Js409Errors.IdleHeartbeatMissed)?ErrorCode.JetStreamIdleHeartBeat:ErrorCode.JetStream409;return new NatsError(n,a)}case 503:return NatsError.errorForCode(ErrorCode.JetStreamNotEnabled,new Error(n));default:return n===""&&(n=ErrorCode.Unknown),new NatsError(n,`${i}`)}}class QueuedIteratorImpl{constructor(){me(this,"inflight");me(this,"processed");me(this,"received");me(this,"noIterator");me(this,"iterClosed");me(this,"done");me(this,"signal");me(this,"yields");me(this,"filtered");me(this,"pendingFiltered");me(this,"ingestionFilterFn");me(this,"protocolFilterFn");me(this,"dispatchedFn");me(this,"ctx");me(this,"_data");me(this,"err");me(this,"time");me(this,"yielding");this.inflight=0,this.filtered=0,this.pendingFiltered=0,this.processed=0,this.received=0,this.noIterator=!1,this.done=!1,this.signal=deferred(),this.yields=[],this.iterClosed=deferred(),this.time=0,this.yielding=!1}[Symbol.asyncIterator](){return this.iterate()}push(n){if(this.done)return;if(typeof n=="function"){this.yields.push(n),this.signal.resolve();return}const{ingest:a,protocol:s}=this.ingestionFilterFn?this.ingestionFilterFn(n,this.ctx||this):{ingest:!0,protocol:!1};a&&(s&&(this.filtered++,this.pendingFiltered++),this.yields.push(n),this.signal.resolve())}async*iterate(){if(this.noIterator)throw new NatsError("unsupported iterator",ErrorCode.ApiError);if(this.yielding)throw new NatsError("already yielding",ErrorCode.ApiError);this.yielding=!0;try{for(;;){if(this.yields.length===0&&await this.signal,this.err)throw this.err;const n=this.yields;this.inflight=n.length,this.yields=[];for(let a=0;a<n.length;a++){if(typeof n[a]=="function"){const l=n[a];try{l()}catch(c){throw c}if(this.err)throw this.err;continue}if(this.protocolFilterFn?this.protocolFilterFn(n[a]):!0){this.processed++;const l=Date.now();yield n[a],this.time=Date.now()-l,this.dispatchedFn&&n[a]&&this.dispatchedFn(n[a])}else this.pendingFiltered--;this.inflight--}if(this.done)break;this.yields.length===0&&(n.length=0,this.yields=n,this.signal=deferred())}}finally{this.stop()}}stop(n){this.done||(this.err=n,this.done=!0,this.signal.resolve(),this.iterClosed.resolve(n))}getProcessed(){return this.noIterator?this.received:this.processed}getPending(){return this.yields.length+this.inflight-this.pendingFiltered}getReceived(){return this.received-this.filtered}}class IdleHeartbeatMonitor{constructor(n,a,s={maxOut:2}){me(this,"interval");me(this,"maxOut");me(this,"cancelAfter");me(this,"timer");me(this,"autoCancelTimer");me(this,"last");me(this,"missed");me(this,"count");me(this,"callback");this.interval=n,this.maxOut=(s==null?void 0:s.maxOut)||2,this.cancelAfter=(s==null?void 0:s.cancelAfter)||0,this.last=Date.now(),this.missed=0,this.count=0,this.callback=a,this._schedule()}cancel(){this.autoCancelTimer&&clearTimeout(this.autoCancelTimer),this.timer&&clearInterval(this.timer),this.timer=0,this.autoCancelTimer=0,this.missed=0}work(){this.last=Date.now(),this.missed=0}_change(n,a=0,s=2){this.interval=n,this.maxOut=s,this.cancelAfter=a,this.restart()}restart(){this.cancel(),this._schedule()}_schedule(){this.cancelAfter>0&&(this.autoCancelTimer=setTimeout(()=>{this.cancel()},this.cancelAfter)),this.timer=setInterval(()=>{if(this.count++,Date.now()-this.last>this.interval&&this.missed++,this.missed>=this.maxOut)try{this.callback(this.missed)===!0&&this.cancel()}catch(n){console.log(n)}},this.interval)}}var RetentionPolicy;(function(i){i.Limits="limits",i.Interest="interest",i.Workqueue="workqueue"})(RetentionPolicy||(RetentionPolicy={}));var DiscardPolicy;(function(i){i.Old="old",i.New="new"})(DiscardPolicy||(DiscardPolicy={}));var StorageType;(function(i){i.File="file",i.Memory="memory"})(StorageType||(StorageType={}));var DeliverPolicy;(function(i){i.All="all",i.Last="last",i.New="new",i.StartSequence="by_start_sequence",i.StartTime="by_start_time",i.LastPerSubject="last_per_subject"})(DeliverPolicy||(DeliverPolicy={}));var AckPolicy;(function(i){i.None="none",i.All="all",i.Explicit="explicit",i.NotSet=""})(AckPolicy||(AckPolicy={}));var ReplayPolicy;(function(i){i.Instant="instant",i.Original="original"})(ReplayPolicy||(ReplayPolicy={}));var StoreCompression;(function(i){i.None="none",i.S2="s2"})(StoreCompression||(StoreCompression={}));var ConsumerApiAction;(function(i){i.CreateOrUpdate="",i.Update="update",i.Create="create"})(ConsumerApiAction||(ConsumerApiAction={}));function defaultConsumer(i,n={}){return Object.assign({name:i,deliver_policy:DeliverPolicy.All,ack_policy:AckPolicy.Explicit,ack_wait:nanos(30*1e3),replay_policy:ReplayPolicy.Instant},n)}var AdvisoryKind;(function(i){i.API="api_audit",i.StreamAction="stream_action",i.ConsumerAction="consumer_action",i.SnapshotCreate="snapshot_create",i.SnapshotComplete="snapshot_complete",i.RestoreCreate="restore_create",i.RestoreComplete="restore_complete",i.MaxDeliver="max_deliver",i.Terminated="terminated",i.Ack="consumer_ack",i.StreamLeaderElected="stream_leader_elected",i.StreamQuorumLost="stream_quorum_lost",i.ConsumerLeaderElected="consumer_leader_elected",i.ConsumerQuorumLost="consumer_quorum_lost"})(AdvisoryKind||(AdvisoryKind={}));var JsHeaders;(function(i){i.StreamSourceHdr="Nats-Stream-Source",i.LastConsumerSeqHdr="Nats-Last-Consumer",i.LastStreamSeqHdr="Nats-Last-Stream",i.ConsumerStalledHdr="Nats-Consumer-Stalled",i.MessageSizeHdr="Nats-Msg-Size",i.RollupHdr="Nats-Rollup",i.RollupValueSubject="sub",i.RollupValueAll="all",i.PendingMessagesHdr="Nats-Pending-Messages",i.PendingBytesHdr="Nats-Pending-Bytes"})(JsHeaders||(JsHeaders={}));var KvWatchInclude;(function(i){i.LastValue="",i.AllHistory="history",i.UpdatesOnly="updates"})(KvWatchInclude||(KvWatchInclude={}));var DirectMsgHeaders;(function(i){i.Stream="Nats-Stream",i.Sequence="Nats-Sequence",i.TimeStamp="Nats-Time-Stamp",i.Subject="Nats-Subject"})(DirectMsgHeaders||(DirectMsgHeaders={}));var RepublishHeaders;(function(i){i.Stream="Nats-Stream",i.Subject="Nats-Subject",i.Sequence="Nats-Sequence",i.LastSequence="Nats-Last-Sequence",i.Size="Nats-Msg-Size"})(RepublishHeaders||(RepublishHeaders={}));const kvPrefix="KV_";class ConsumerOptsBuilderImpl{constructor(n){me(this,"config");me(this,"ordered");me(this,"mack");me(this,"stream");me(this,"callbackFn");me(this,"max");me(this,"qname");me(this,"isBind");me(this,"filters");this.stream="",this.mack=!1,this.ordered=!1,this.config=defaultConsumer("",n||{})}getOpts(){var a;const n={};if(n.config=Object.assign({},this.config),n.config.filter_subject&&(this.filterSubject(n.config.filter_subject),n.config.filter_subject=void 0),n.config.filter_subjects&&((a=n.config.filter_subjects)==null||a.forEach(s=>{this.filterSubject(s)}),n.config.filter_subjects=void 0),n.mack=this.mack,n.stream=this.stream,n.callbackFn=this.callbackFn,n.max=this.max,n.queue=this.qname,n.ordered=this.ordered,n.config.ack_policy=n.ordered?AckPolicy.None:n.config.ack_policy,n.isBind=n.isBind||!1,this.filters)switch(this.filters.length){case 0:break;case 1:n.config.filter_subject=this.filters[0];break;default:n.config.filter_subjects=this.filters}return n}description(n){return this.config.description=n,this}deliverTo(n){return this.config.deliver_subject=n,this}durable(n){return validateDurableName(n),this.config.durable_name=n,this}startSequence(n){if(n<=0)throw new Error("sequence must be greater than 0");return this.config.deliver_policy=DeliverPolicy.StartSequence,this.config.opt_start_seq=n,this}startTime(n){return this.config.deliver_policy=DeliverPolicy.StartTime,this.config.opt_start_time=n.toISOString(),this}deliverAll(){return this.config.deliver_policy=DeliverPolicy.All,this}deliverLastPerSubject(){return this.config.deliver_policy=DeliverPolicy.LastPerSubject,this}deliverLast(){return this.config.deliver_policy=DeliverPolicy.Last,this}deliverNew(){return this.config.deliver_policy=DeliverPolicy.New,this}startAtTimeDelta(n){return this.startTime(new Date(Date.now()-n)),this}headersOnly(){return this.config.headers_only=!0,this}ackNone(){return this.config.ack_policy=AckPolicy.None,this}ackAll(){return this.config.ack_policy=AckPolicy.All,this}ackExplicit(){return this.config.ack_policy=AckPolicy.Explicit,this}ackWait(n){return this.config.ack_wait=nanos(n),this}maxDeliver(n){return this.config.max_deliver=n,this}filterSubject(n){return this.filters=this.filters||[],this.filters.push(n),this}replayInstantly(){return this.config.replay_policy=ReplayPolicy.Instant,this}replayOriginal(){return this.config.replay_policy=ReplayPolicy.Original,this}sample(n){if(n=Math.trunc(n),n<0||n>100)throw new Error("value must be between 0-100");return this.config.sample_freq=`${n}%`,this}limit(n){return this.config.rate_limit_bps=n,this}maxWaiting(n){return this.config.max_waiting=n,this}maxAckPending(n){return this.config.max_ack_pending=n,this}idleHeartbeat(n){return this.config.idle_heartbeat=nanos(n),this}flowControl(){return this.config.flow_control=!0,this}deliverGroup(n){return this.queue(n),this}manualAck(){return this.mack=!0,this}maxMessages(n){return this.max=n,this}callback(n){return this.callbackFn=n,this}queue(n){return this.qname=n,this.config.deliver_group=n,this}orderedConsumer(){return this.ordered=!0,this}bind(n,a){return this.stream=n,this.config.durable_name=a,this.isBind=!0,this}bindStream(n){return this.stream=n,this}inactiveEphemeralThreshold(n){return this.config.inactive_threshold=nanos(n),this}maxPullBatch(n){return this.config.max_batch=n,this}maxPullRequestExpires(n){return this.config.max_expires=nanos(n),this}memory(){return this.config.mem_storage=!0,this}numReplicas(n){return this.config.num_replicas=n,this}consumerName(n){return this.config.name=n,this}}function consumerOpts(i){return new ConsumerOptsBuilderImpl(i)}function isConsumerOptsBuilder(i){return typeof i.getOpts=="function"}class Base64Codec{static encode(n){if(typeof n=="string")return btoa(n);const a=Array.from(n);return btoa(String.fromCharCode(...a))}static decode(n,a=!1){const s=atob(n);return a?Uint8Array.from(s,l=>l.charCodeAt(0)):s}}class Base64UrlPaddedCodec{static encode(n){return Base64UrlPaddedCodec.toB64URLEncoding(Base64Codec.encode(n))}static decode(n,a=!1){return Base64UrlPaddedCodec.decode(Base64UrlPaddedCodec.fromB64URLEncoding(n),a)}static toB64URLEncoding(n){return n.replace(/\+/g,"-").replace(/\//g,"_")}static fromB64URLEncoding(n){return n.replace(/_/g,"/").replace(/-/g,"+")}}class DataBuffer{constructor(){me(this,"buffers");me(this,"byteLength");this.buffers=[],this.byteLength=0}static concat(...n){let a=0;for(let c=0;c<n.length;c++)a+=n[c].length;const s=new Uint8Array(a);let l=0;for(let c=0;c<n.length;c++)s.set(n[c],l),l+=n[c].length;return s}static fromAscii(n){return n||(n=""),TE.encode(n)}static toAscii(n){return TD.decode(n)}reset(){this.buffers.length=0,this.byteLength=0}pack(){if(this.buffers.length>1){const n=new Uint8Array(this.byteLength);let a=0;for(let s=0;s<this.buffers.length;s++)n.set(this.buffers[s],a),a+=this.buffers[s].length;this.buffers.length=0,this.buffers.push(n)}}shift(){if(this.buffers.length){const n=this.buffers.shift();if(n)return this.byteLength-=n.length,n}return new Uint8Array(0)}drain(n){if(this.buffers.length){this.pack();const a=this.buffers.pop();if(a){const s=this.byteLength;(n===void 0||n>s)&&(n=s);const l=a.subarray(0,n);return s>n&&this.buffers.push(a.subarray(n)),this.byteLength=s-n,l}}return new Uint8Array(0)}fill(n,...a){n&&(this.buffers.push(n),this.byteLength+=n.length);for(let s=0;s<a.length;s++)a[s]&&a[s].length&&(this.buffers.push(a[s]),this.byteLength+=a[s].length)}peek(){return this.buffers.length?(this.pack(),this.buffers[0]):new Uint8Array(0)}size(){return this.byteLength}length(){return this.buffers.length}}function t(i,n){return n.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(s){if(s!=="default"&&!(s in i)){var l=Object.getOwnPropertyDescriptor(a,s);Object.defineProperty(i,s,l.get?l:{enumerable:!0,get:function(){return a[s]}})}})}),Object.freeze(i)}var e=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},m=e.performance||{};m.now||m.mozNow||m.msNow||m.oNow||m.webkitNow;var E={versions:{}},S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T(i){if(i.__esModule)return i;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(i).forEach(function(a){var s=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return i[a]}})}),n}var k,x$1={exports:{}},j={},N=T(t({__proto__:null,default:j},[j]));k=x$1,function(){var i="input is invalid type",n=typeof window=="object",a=n?window:{};a.JS_SHA256_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",l=!a.JS_SHA256_NO_NODE_JS&&E.versions&&E.versions.node;l?a=S:s&&(a=self);var c=!a.JS_SHA256_NO_COMMON_JS&&k.exports,f=!a.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),g=[-2147483648,8388608,32768,128],y=[24,16,8,0],b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=["hex","array","digest","arrayBuffer"],d=[];!a.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),!f||!a.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var v=function(B,F){return function(q){return new P(F,!0).update(q)[B]()}},_=function(B){var F=v("hex",B);l&&(F=A(F,B)),F.create=function(){return new P(B)},F.update=function(z){return F.create().update(z)};for(var q=0;q<h.length;++q){var H=h[q];F[H]=v(H,B)}return F},A=function(B,F){var q,H=N,z=N.Buffer,L=F?"sha224":"sha256";return q=z.from&&!a.JS_SHA256_NO_BUFFER_FROM?z.from:function(ee){return new z(ee)},function(ee){if(typeof ee=="string")return H.createHash(L).update(ee,"utf8").digest("hex");if(ee==null)throw new Error(i);return ee.constructor===ArrayBuffer&&(ee=new Uint8Array(ee)),Array.isArray(ee)||ArrayBuffer.isView(ee)||ee.constructor===z?H.createHash(L).update(q(ee)).digest("hex"):B(ee)}},I=function(B,F){return function(q,H){return new $(q,F,!0).update(H)[B]()}},R=function(B){var F=I("hex",B);F.create=function(z){return new $(z,B)},F.update=function(z,L){return F.create(z).update(L)};for(var q=0;q<h.length;++q){var H=h[q];F[H]=I(H,B)}return F};function P(B,F){F?(d[0]=d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,this.blocks=d):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}function $(B,F,q){var H,z=typeof B;if(z==="string"){var L,ee=[],Z=B.length,V=0;for(H=0;H<Z;++H)(L=B.charCodeAt(H))<128?ee[V++]=L:L<2048?(ee[V++]=192|L>>>6,ee[V++]=128|63&L):L<55296||L>=57344?(ee[V++]=224|L>>>12,ee[V++]=128|L>>>6&63,ee[V++]=128|63&L):(L=65536+((1023&L)<<10|1023&B.charCodeAt(++H)),ee[V++]=240|L>>>18,ee[V++]=128|L>>>12&63,ee[V++]=128|L>>>6&63,ee[V++]=128|63&L);B=ee}else{if(z!=="object")throw new Error(i);if(B===null)throw new Error(i);if(f&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!(Array.isArray(B)||f&&ArrayBuffer.isView(B)))throw new Error(i)}B.length>64&&(B=new P(F,!0).update(B).array());var X=[],Q=[];for(H=0;H<64;++H){var G=B[H]||0;X[H]=92^G,Q[H]=54^G}P.call(this,F,q),this.update(Q),this.oKeyPad=X,this.inner=!0,this.sharedMemory=q}P.prototype.update=function(B){if(!this.finalized){var F,q=typeof B;if(q!=="string"){if(q!=="object")throw new Error(i);if(B===null)throw new Error(i);if(f&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!(Array.isArray(B)||f&&ArrayBuffer.isView(B)))throw new Error(i);F=!0}for(var H,z,L=0,ee=B.length,Z=this.blocks;L<ee;){if(this.hashed&&(this.hashed=!1,Z[0]=this.block,this.block=Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),F)for(z=this.start;L<ee&&z<64;++L)Z[z>>>2]|=B[L]<<y[3&z++];else for(z=this.start;L<ee&&z<64;++L)(H=B.charCodeAt(L))<128?Z[z>>>2]|=H<<y[3&z++]:H<2048?(Z[z>>>2]|=(192|H>>>6)<<y[3&z++],Z[z>>>2]|=(128|63&H)<<y[3&z++]):H<55296||H>=57344?(Z[z>>>2]|=(224|H>>>12)<<y[3&z++],Z[z>>>2]|=(128|H>>>6&63)<<y[3&z++],Z[z>>>2]|=(128|63&H)<<y[3&z++]):(H=65536+((1023&H)<<10|1023&B.charCodeAt(++L)),Z[z>>>2]|=(240|H>>>18)<<y[3&z++],Z[z>>>2]|=(128|H>>>12&63)<<y[3&z++],Z[z>>>2]|=(128|H>>>6&63)<<y[3&z++],Z[z>>>2]|=(128|63&H)<<y[3&z++]);this.lastByteIndex=z,this.bytes+=z-this.start,z>=64?(this.block=Z[16],this.start=z-64,this.hash(),this.hashed=!0):this.start=z}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,F=this.lastByteIndex;B[16]=this.block,B[F>>>2]|=g[3&F],this.block=B[16],F>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},P.prototype.hash=function(){var B,F,q,H,z,L,ee,Z,V,X=this.h0,Q=this.h1,G=this.h2,te=this.h3,ue=this.h4,fe=this.h5,K=this.h6,de=this.h7,we=this.blocks;for(B=16;B<64;++B)F=((z=we[B-15])>>>7|z<<25)^(z>>>18|z<<14)^z>>>3,q=((z=we[B-2])>>>17|z<<15)^(z>>>19|z<<13)^z>>>10,we[B]=we[B-16]+F+we[B-7]+q|0;for(V=Q&G,B=0;B<64;B+=4)this.first?(this.is224?(L=300032,de=(z=we[0]-1413257819)-150054599|0,te=z+24177077|0):(L=704751109,de=(z=we[0]-210244248)-1521486534|0,te=z+143694565|0),this.first=!1):(F=(X>>>2|X<<30)^(X>>>13|X<<19)^(X>>>22|X<<10),H=(L=X&Q)^X&G^V,de=te+(z=de+(q=(ue>>>6|ue<<26)^(ue>>>11|ue<<21)^(ue>>>25|ue<<7))+(ue&fe^~ue&K)+b[B]+we[B])|0,te=z+(F+H)|0),F=(te>>>2|te<<30)^(te>>>13|te<<19)^(te>>>22|te<<10),H=(ee=te&X)^te&Q^L,K=G+(z=K+(q=(de>>>6|de<<26)^(de>>>11|de<<21)^(de>>>25|de<<7))+(de&ue^~de&fe)+b[B+1]+we[B+1])|0,F=((G=z+(F+H)|0)>>>2|G<<30)^(G>>>13|G<<19)^(G>>>22|G<<10),H=(Z=G&te)^G&X^ee,fe=Q+(z=fe+(q=(K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))+(K&de^~K&ue)+b[B+2]+we[B+2])|0,F=((Q=z+(F+H)|0)>>>2|Q<<30)^(Q>>>13|Q<<19)^(Q>>>22|Q<<10),H=(V=Q&G)^Q&te^Z,ue=X+(z=ue+(q=(fe>>>6|fe<<26)^(fe>>>11|fe<<21)^(fe>>>25|fe<<7))+(fe&K^~fe&de)+b[B+3]+we[B+3])|0,X=z+(F+H)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+X|0,this.h1=this.h1+Q|0,this.h2=this.h2+G|0,this.h3=this.h3+te|0,this.h4=this.h4+ue|0,this.h5=this.h5+fe|0,this.h6=this.h6+K|0,this.h7=this.h7+de|0},P.prototype.hex=function(){this.finalize();var B=this.h0,F=this.h1,q=this.h2,H=this.h3,z=this.h4,L=this.h5,ee=this.h6,Z=this.h7,V=p[B>>>28&15]+p[B>>>24&15]+p[B>>>20&15]+p[B>>>16&15]+p[B>>>12&15]+p[B>>>8&15]+p[B>>>4&15]+p[15&B]+p[F>>>28&15]+p[F>>>24&15]+p[F>>>20&15]+p[F>>>16&15]+p[F>>>12&15]+p[F>>>8&15]+p[F>>>4&15]+p[15&F]+p[q>>>28&15]+p[q>>>24&15]+p[q>>>20&15]+p[q>>>16&15]+p[q>>>12&15]+p[q>>>8&15]+p[q>>>4&15]+p[15&q]+p[H>>>28&15]+p[H>>>24&15]+p[H>>>20&15]+p[H>>>16&15]+p[H>>>12&15]+p[H>>>8&15]+p[H>>>4&15]+p[15&H]+p[z>>>28&15]+p[z>>>24&15]+p[z>>>20&15]+p[z>>>16&15]+p[z>>>12&15]+p[z>>>8&15]+p[z>>>4&15]+p[15&z]+p[L>>>28&15]+p[L>>>24&15]+p[L>>>20&15]+p[L>>>16&15]+p[L>>>12&15]+p[L>>>8&15]+p[L>>>4&15]+p[15&L]+p[ee>>>28&15]+p[ee>>>24&15]+p[ee>>>20&15]+p[ee>>>16&15]+p[ee>>>12&15]+p[ee>>>8&15]+p[ee>>>4&15]+p[15&ee];return this.is224||(V+=p[Z>>>28&15]+p[Z>>>24&15]+p[Z>>>20&15]+p[Z>>>16&15]+p[Z>>>12&15]+p[Z>>>8&15]+p[Z>>>4&15]+p[15&Z]),V},P.prototype.toString=P.prototype.hex,P.prototype.digest=function(){this.finalize();var B=this.h0,F=this.h1,q=this.h2,H=this.h3,z=this.h4,L=this.h5,ee=this.h6,Z=this.h7,V=[B>>>24&255,B>>>16&255,B>>>8&255,255&B,F>>>24&255,F>>>16&255,F>>>8&255,255&F,q>>>24&255,q>>>16&255,q>>>8&255,255&q,H>>>24&255,H>>>16&255,H>>>8&255,255&H,z>>>24&255,z>>>16&255,z>>>8&255,255&z,L>>>24&255,L>>>16&255,L>>>8&255,255&L,ee>>>24&255,ee>>>16&255,ee>>>8&255,255&ee];return this.is224||V.push(Z>>>24&255,Z>>>16&255,Z>>>8&255,255&Z),V},P.prototype.array=P.prototype.digest,P.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),F=new DataView(B);return F.setUint32(0,this.h0),F.setUint32(4,this.h1),F.setUint32(8,this.h2),F.setUint32(12,this.h3),F.setUint32(16,this.h4),F.setUint32(20,this.h5),F.setUint32(24,this.h6),this.is224||F.setUint32(28,this.h7),B},$.prototype=new P,$.prototype.finalize=function(){if(P.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();P.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),P.prototype.finalize.call(this)}};var M=_();M.sha256=M,M.sha224=_(!0),M.sha256.hmac=R(),M.sha224.hmac=R(!0),c?k.exports=M:(a.sha256=M.sha256,a.sha224=M.sha224)}();x$1.exports;x$1.exports.sha224;var J=x$1.exports.sha256;function parseSha256(i){return toByteArray(i)}function isHex(i){if(!/^[0-9A-Fa-f]+$/.test(i))return!1;const a=/^[0-9A-F]+$/.test(i),s=/^[0-9a-f]+$/.test(i);return a||s?i.length%2===0:!1}function isBase64(i){return/^[A-Za-z0-9\-_]*(={0,2})?$/.test(i)||/^[A-Za-z0-9+/]*(={0,2})?$/.test(i)}function detectEncoding(i){return isHex(i)?"hex":isBase64(i)?"b64":""}function hexToByteArray(i){if(i.length%2!==0)throw new Error("hex string must have an even length");const n=new Uint8Array(i.length/2);for(let a=0;a<i.length;a+=2)n[a/2]=parseInt(i.substring(a,a+2),16);return n}function base64ToByteArray(i){i=i.replace(/-/g,"+"),i=i.replace(/_/g,"/");const n=atob(i);return Uint8Array.from(n,a=>a.charCodeAt(0))}function toByteArray(i){switch(detectEncoding(i)){case"hex":return hexToByteArray(i);case"b64":return base64ToByteArray(i)}return null}function checkSha256(i,n){const a=typeof i=="string"?parseSha256(i):i,s=typeof n=="string"?parseSha256(n):n;if(a===null||s===null||a.length!==s.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==s[l])return!1;return!0}class BaseRequest{constructor(n,a,s=!0){me(this,"token");me(this,"received");me(this,"ctx");me(this,"requestSubject");me(this,"mux");this.mux=n,this.requestSubject=a,this.received=0,this.token=nuid.next(),s&&(this.ctx=new Error)}}class RequestMany extends BaseRequest{constructor(a,s,l={maxWait:1e3}){super(a,s);me(this,"callback");me(this,"done");me(this,"timer");me(this,"max");me(this,"opts");if(this.opts=l,typeof this.opts.callback!="function")throw new Error("callback is required");this.callback=this.opts.callback,this.max=typeof l.maxMessages=="number"&&l.maxMessages>0?l.maxMessages:-1,this.done=deferred(),this.done.then(()=>{this.callback(null,null)}),this.timer=setTimeout(()=>{this.cancel()},l.maxWait)}cancel(a){a&&this.callback(a,null),clearTimeout(this.timer),this.mux.cancel(this),this.done.resolve()}resolver(a,s){a?(this.ctx&&(a.stack+=`

${this.ctx.stack}`),this.cancel(a)):(this.callback(null,s),this.opts.strategy===RequestStrategy.Count&&(this.max--,this.max===0&&this.cancel()),this.opts.strategy===RequestStrategy.JitterTimer&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.cancel()},this.opts.jitter||300)),this.opts.strategy===RequestStrategy.SentinelMsg&&s&&s.data.length===0&&this.cancel())}}class RequestOne extends BaseRequest{constructor(a,s,l={timeout:1e3},c=!0){super(a,s,c);me(this,"deferred");me(this,"timer");this.deferred=deferred(),this.timer=timeout(l.timeout,c)}resolver(a,s){this.timer&&this.timer.cancel(),a?(this.ctx&&(a.stack+=`

${this.ctx.stack}`),this.deferred.reject(a)):this.deferred.resolve(s),this.cancel()}cancel(a){this.timer&&this.timer.cancel(),this.mux.cancel(this),this.deferred.reject(a||NatsError.errorForCode(ErrorCode.Cancelled))}}const defaultPrefix="$JS.API";function defaultJsOptions(i){return i=i||{},i.domain&&(i.apiPrefix=`$JS.${i.domain}.API`,delete i.domain),extend$2({apiPrefix:defaultPrefix,timeout:5e3},i)}class BaseApiClient{constructor(n,a){me(this,"nc");me(this,"opts");me(this,"prefix");me(this,"timeout");me(this,"jc");this.nc=n,this.opts=defaultJsOptions(a),this._parseOpts(),this.prefix=this.opts.apiPrefix,this.timeout=this.opts.timeout,this.jc=JSONCodec()}getOptions(){return Object.assign({},this.opts)}_parseOpts(){let n=this.opts.apiPrefix;if(!n||n.length===0)throw new Error("invalid empty prefix");n[n.length-1]==="."&&(n=n.substr(0,n.length-1)),this.opts.apiPrefix=n}async _request(n,a=null,s){s=s||{},s.timeout=this.timeout;let l=Empty;a&&(l=this.jc.encode(a));let{retries:c}=s;c=c||1,c=c===-1?Number.MAX_SAFE_INTEGER:c;const f=backoff();for(let p=0;p<c;p++)try{const g=await this.nc.request(n,l,s);return this.parseJsResponse(g)}catch(g){const y=g;if((y.code==="503"||y.code===ErrorCode.Timeout)&&p+1<c)await delay(f.backoff(p));else throw g}}async findStream(n){const a={subject:n},l=await this._request(`${this.prefix}.STREAM.NAMES`,a);if(!l.streams||l.streams.length!==1)throw new Error("no stream matches subject");return l.streams[0]}getConnection(){return this.nc}parseJsResponse(n){const a=this.jc.decode(n.data),s=a;if(s.error){const l=checkJsErrorCode(s.error.code,s.error.description);if(l!==null)throw l.api_error=s.error,l}return a}}class ListerImpl{constructor(n,a,s,l){me(this,"err");me(this,"offset");me(this,"pageInfo");me(this,"subject");me(this,"jsm");me(this,"filter");me(this,"payload");if(!n)throw new Error("subject is required");this.subject=n,this.jsm=s,this.offset=0,this.pageInfo={},this.filter=a,this.payload=l||{}}async next(){if(this.err)return[];if(this.pageInfo&&this.offset>=this.pageInfo.total)return[];const n={offset:this.offset};this.payload&&Object.assign(n,this.payload);try{const a=await this.jsm._request(this.subject,n,{timeout:this.jsm.timeout});this.pageInfo=a;const s=this.countResponse(a);return s===0?[]:(this.offset+=s,this.filter(a))}catch(a){throw this.err=a,a}}countResponse(n){var a,s,l;switch(n==null?void 0:n.type){case"io.nats.jetstream.api.v1.stream_names_response":case"io.nats.jetstream.api.v1.stream_list_response":return((a=n.streams)==null?void 0:a.length)||0;case"io.nats.jetstream.api.v1.consumer_list_response":return((s=n.consumers)==null?void 0:s.length)||0;default:return console.error(`jslister.ts: unknown API response for paged output: ${n==null?void 0:n.type}`),((l=n.streams)==null?void 0:l.length)||0}return 0}async*[Symbol.asyncIterator](){let n=await this.next();for(;n.length>0;){for(const a of n)yield a;n=await this.next()}}}function parseSemVer(i=""){const n=i.match(/(\d+).(\d+).(\d+)/);if(n)return{major:parseInt(n[1]),minor:parseInt(n[2]),micro:parseInt(n[3])};throw new Error(`'${i}' is not a semver value`)}function compare(i,n){return i.major<n.major?-1:i.major>n.major?1:i.minor<n.minor?-1:i.minor>n.minor?1:i.micro<n.micro?-1:i.micro>n.micro?1:0}var Feature;(function(i){i.JS_KV="js_kv",i.JS_OBJECTSTORE="js_objectstore",i.JS_PULL_MAX_BYTES="js_pull_max_bytes",i.JS_NEW_CONSUMER_CREATE_API="js_new_consumer_create",i.JS_ALLOW_DIRECT="js_allow_direct",i.JS_MULTIPLE_CONSUMER_FILTER="js_multiple_consumer_filter",i.JS_SIMPLIFICATION="js_simplification",i.JS_STREAM_CONSUMER_METADATA="js_stream_consumer_metadata",i.JS_CONSUMER_FILTER_SUBJECTS="js_consumer_filter_subjects",i.JS_STREAM_FIRST_SEQ="js_stream_first_seq",i.JS_STREAM_SUBJECT_TRANSFORM="js_stream_subject_transform",i.JS_STREAM_SOURCE_SUBJECT_TRANSFORM="js_stream_source_subject_transform",i.JS_STREAM_COMPRESSION="js_stream_compression",i.JS_DEFAULT_CONSUMER_LIMITS="js_default_consumer_limits",i.JS_BATCH_DIRECT_GET="js_batch_direct_get"})(Feature||(Feature={}));class Features{constructor(n){me(this,"server");me(this,"features");me(this,"disabled");this.features=new Map,this.disabled=[],this.update(n)}resetDisabled(){this.disabled.length=0,this.update(this.server)}disable(n){this.disabled.push(n),this.update(this.server)}isDisabled(n){return this.disabled.indexOf(n)!==-1}update(n){typeof n=="string"&&(n=parseSemVer(n)),this.server=n,this.set(Feature.JS_KV,"2.6.2"),this.set(Feature.JS_OBJECTSTORE,"2.6.3"),this.set(Feature.JS_PULL_MAX_BYTES,"2.8.3"),this.set(Feature.JS_NEW_CONSUMER_CREATE_API,"2.9.0"),this.set(Feature.JS_ALLOW_DIRECT,"2.9.0"),this.set(Feature.JS_MULTIPLE_CONSUMER_FILTER,"2.10.0"),this.set(Feature.JS_SIMPLIFICATION,"2.9.4"),this.set(Feature.JS_STREAM_CONSUMER_METADATA,"2.10.0"),this.set(Feature.JS_CONSUMER_FILTER_SUBJECTS,"2.10.0"),this.set(Feature.JS_STREAM_FIRST_SEQ,"2.10.0"),this.set(Feature.JS_STREAM_SUBJECT_TRANSFORM,"2.10.0"),this.set(Feature.JS_STREAM_SOURCE_SUBJECT_TRANSFORM,"2.10.0"),this.set(Feature.JS_STREAM_COMPRESSION,"2.10.0"),this.set(Feature.JS_DEFAULT_CONSUMER_LIMITS,"2.10.0"),this.set(Feature.JS_BATCH_DIRECT_GET,"2.11.0"),this.disabled.forEach(a=>{this.features.delete(a)})}set(n,a){this.features.set(n,{min:a,ok:compare(this.server,parseSemVer(a))>=0})}get(n){return this.features.get(n)||{min:"unknown",ok:!1}}supports(n){var a;return((a=this.get(n))==null?void 0:a.ok)||!1}require(n){return typeof n=="string"&&(n=parseSemVer(n)),compare(this.server,n)>=0}}class ConsumerAPIImpl extends BaseApiClient{constructor(n,a){super(n,a)}async add(n,a,s=ConsumerApiAction.Create){if(validateStreamName(n),a.deliver_group&&a.flow_control)throw new Error("jetstream flow control is not supported with queue groups");if(a.deliver_group&&a.idle_heartbeat)throw new Error("jetstream idle heartbeat is not supported with queue groups");const l={};l.config=a,l.stream_name=n,l.action=s,l.config.durable_name&&validateDurableName(l.config.durable_name);const c=this.nc;let{min:f,ok:p}=c.features.get(Feature.JS_NEW_CONSUMER_CREATE_API);const g=a.name===""?void 0:a.name;if(g&&!p)throw new Error(`consumer 'name' requires server ${f}`);if(g)try{minValidation("name",g)}catch(d){const v=d.message,_=v.indexOf("cannot contain");throw _!==-1?new Error(`consumer 'name' ${v.substring(_)}`):d}let y,b="";if(Array.isArray(a.filter_subjects)){const{min:d,ok:v}=c.features.get(Feature.JS_MULTIPLE_CONSUMER_FILTER);if(!v)throw new Error(`consumer 'filter_subjects' requires server ${d}`);p=!1}if(a.metadata){const{min:d,ok:v}=c.features.get(Feature.JS_STREAM_CONSUMER_METADATA);if(!v)throw new Error(`consumer 'metadata' requires server ${d}`)}if(p&&(b=a.name??a.durable_name??""),b!==""){let d=a.filter_subject??void 0;d===">"&&(d=void 0),y=d!==void 0?`${this.prefix}.CONSUMER.CREATE.${n}.${b}.${d}`:`${this.prefix}.CONSUMER.CREATE.${n}.${b}`}else y=a.durable_name?`${this.prefix}.CONSUMER.DURABLE.CREATE.${n}.${a.durable_name}`:`${this.prefix}.CONSUMER.CREATE.${n}`;return await this._request(y,l)}async update(n,a,s){const l=await this.info(n,a),c=s;return this.add(n,Object.assign(l.config,c),ConsumerApiAction.Update)}async info(n,a){return validateStreamName(n),validateDurableName(a),await this._request(`${this.prefix}.CONSUMER.INFO.${n}.${a}`)}async delete(n,a){return validateStreamName(n),validateDurableName(a),(await this._request(`${this.prefix}.CONSUMER.DELETE.${n}.${a}`)).success}list(n){validateStreamName(n);const a=l=>l.consumers,s=`${this.prefix}.CONSUMER.LIST.${n}`;return new ListerImpl(s,a,this)}pause(n,a,s){const l=`${this.prefix}.CONSUMER.PAUSE.${n}.${a}`,c={pause_until:s.toISOString()};return this._request(l,c)}resume(n,a){return this.pause(n,a,new Date(0))}}function checkFn(i,n,a=!1){if(a===!0&&!i)throw NatsError.errorForCode(ErrorCode.ApiError,new Error(`${n} is not a function`));if(i&&typeof i!="function")throw NatsError.errorForCode(ErrorCode.ApiError,new Error(`${n} is not a function`))}class TypedSubscription extends QueuedIteratorImpl{constructor(a,s,l){super();me(this,"sub");me(this,"adapter");me(this,"subIterDone");checkFn(l.adapter,"adapter",!0),this.adapter=l.adapter,l.callback&&checkFn(l.callback,"callback"),this.noIterator=typeof l.callback=="function",l.ingestionFilterFn&&(checkFn(l.ingestionFilterFn,"ingestionFilterFn"),this.ingestionFilterFn=l.ingestionFilterFn),l.protocolFilterFn&&(checkFn(l.protocolFilterFn,"protocolFilterFn"),this.protocolFilterFn=l.protocolFilterFn),l.dispatchedFn&&(checkFn(l.dispatchedFn,"dispatchedFn"),this.dispatchedFn=l.dispatchedFn),l.cleanupFn&&checkFn(l.cleanupFn,"cleanupFn");let c=(b,h)=>{this.callback(b,h)};if(l.callback){const b=l.callback;c=(h,d)=>{const[v,_]=this.adapter(h,d);if(v){b(v,null);return}const{ingest:A}=this.ingestionFilterFn?this.ingestionFilterFn(_,this):{ingest:!0};A&&(!this.protocolFilterFn||this.protocolFilterFn(_))&&(b(v,_),this.dispatchedFn&&_&&this.dispatchedFn(_))}}const{max:f,queue:p,timeout:g}=l,y={queue:p,timeout:g,callback:c};f&&f>0&&(y.max=f),this.sub=a.subscribe(s,y),l.cleanupFn&&(this.sub.cleanupFn=l.cleanupFn),this.noIterator||this.iterClosed.then(()=>{this.unsubscribe()}),this.subIterDone=deferred(),Promise.all([this.sub.closed,this.iterClosed]).then(()=>{this.subIterDone.resolve()}).catch(()=>{this.subIterDone.resolve()}),(async b=>{await b.closed,this.stop()})(this.sub).then().catch()}unsubscribe(a){this.sub.unsubscribe(a)}drain(){return this.sub.drain()}isDraining(){return this.sub.isDraining()}isClosed(){return this.sub.isClosed()}callback(a,s){this.sub.cancelTimeout();const[l,c]=this.adapter(a,s);l&&this.stop(l),c&&this.push(c)}getSubject(){return this.sub.getSubject()}getReceived(){return this.sub.getReceived()}getProcessed(){return this.sub.getProcessed()}getPending(){return this.sub.getPending()}getID(){return this.sub.getID()}getMax(){return this.sub.getMax()}get closed(){return this.sub.closed}}let transportConfig;function setTransportFactory(i){transportConfig=i}function defaultPort(){return transportConfig!==void 0&&transportConfig.defaultPort!==void 0?transportConfig.defaultPort:4222}function getUrlParseFn(){return transportConfig!==void 0&&transportConfig.urlParseFn?transportConfig.urlParseFn:void 0}function newTransport(){if(!transportConfig||typeof transportConfig.factory!="function")throw new Error("transport fn is not set");return transportConfig.factory()}function getResolveFn(){return transportConfig!==void 0&&transportConfig.dnsResolveFn?transportConfig.dnsResolveFn:void 0}const CR_LF=`\r
`,CRLF=DataBuffer.fromAscii(CR_LF),CR=new Uint8Array(CRLF)[0],LF=new Uint8Array(CRLF)[1];function protoLen(i){for(let n=0;n<i.length;n++){const a=n+1;if(i.byteLength>a&&i[n]===CR&&i[a]===LF)return a+1}return 0}function extractProtocolMessage(i){const n=protoLen(i);if(n>0){const s=new Uint8Array(i).slice(0,n);return TD.decode(s)}return""}const IPv4LEN=4,ASCII0=48,ASCIIA=65,ASCIIa=97;function ipV4(i,n,a,s){const l=new Uint8Array(16);return[0,0,0,0,0,0,0,0,0,0,255,255].forEach((f,p)=>{l[p]=f}),l[12]=i,l[13]=n,l[14]=a,l[15]=s,l}function isIP(i){return parseIP(i)!==void 0}function parseIP(i){for(let n=0;n<i.length;n++)switch(i[n]){case".":return parseIPv4(i);case":":return parseIPv6(i)}}function parseIPv4(i){const n=new Uint8Array(4);for(let a=0;a<4;a++){if(i.length===0)return;if(a>0){if(i[0]!==".")return;i=i.substring(1)}const{n:s,c:l,ok:c}=dtoi(i);if(!c||s>255)return;i=i.substring(l),n[a]=s}return ipV4(n[0],n[1],n[2],n[3])}function parseIPv6(i){const n=new Uint8Array(16);let a=-1;if(i.length>=2&&i[0]===":"&&i[1]===":"&&(a=0,i=i.substring(2),i.length===0))return n;let s=0;for(;s<16;){const{n:l,c,ok:f}=xtoi(i);if(!f||l>65535)return;if(c<i.length&&i[c]==="."){if(a<0&&s!=12||s+4>16)return;const p=parseIPv4(i);if(p===void 0)return;n[s]=p[12],n[s+1]=p[13],n[s+2]=p[14],n[s+3]=p[15],i="",s+=IPv4LEN;break}if(n[s]=l>>8,n[s+1]=l,s+=2,i=i.substring(c),i.length===0)break;if(i[0]!==":"||i.length==1)return;if(i=i.substring(1),i[0]===":"){if(a>=0)return;if(a=s,i=i.substring(1),i.length===0)break}}if(i.length===0){if(s<16){if(a<0)return;const l=16-s;for(let c=s-1;c>=a;c--)n[c+l]=n[c];for(let c=a+l-1;c>=a;c--)n[c]=0}else if(a>=0)return;return n}}function dtoi(i){let n=0,a=0;for(n=0;n<i.length&&48<=i.charCodeAt(n)&&i.charCodeAt(n)<=57;n++)if(a=a*10+(i.charCodeAt(n)-ASCII0),a>=16777215)return{n:16777215,c:n,ok:!1};return n===0?{n:0,c:0,ok:!1}:{n:a,c:n,ok:!0}}function xtoi(i){let n=0,a=0;for(a=0;a<i.length;a++){if(48<=i.charCodeAt(a)&&i.charCodeAt(a)<=57)n*=16,n+=i.charCodeAt(a)-ASCII0;else if(97<=i.charCodeAt(a)&&i.charCodeAt(a)<=102)n*=16,n+=i.charCodeAt(a)-ASCIIa+10;else if(65<=i.charCodeAt(a)&&i.charCodeAt(a)<=70)n*=16,n+=i.charCodeAt(a)-ASCIIA+10;else break;if(n>=16777215)return{n:0,c:a,ok:!1}}return a===0?{n:0,c:a,ok:!1}:{n,c:a,ok:!0}}function isIPV4OrHostname(i){return i.indexOf("[")!==-1||i.indexOf("::")!==-1?!1:i.indexOf(".")!==-1||i.split(":").length<=2}function isIPV6(i){return!isIPV4OrHostname(i)}function filterIpv6MappedToIpv4(i){const n="::FFFF:",a=i.toUpperCase().indexOf(n);if(a!==-1&&i.indexOf(".")!==-1){let s=i.substring(a+n.length);return s=s.replace("[",""),s.replace("]","")}return i}function hostPort(i){i=i.trim(),i.match(/^(.*:\/\/)(.*)/m)&&(i=i.replace(/^(.*:\/\/)(.*)/gm,"$2")),i=filterIpv6MappedToIpv4(i),isIPV6(i)&&i.indexOf("[")===-1&&(i=`[${i}]`);const n=isIPV6(i)?i.match(/(]:)(\d+)/):i.match(/(:)(\d+)/),a=n&&n.length===3&&n[1]&&n[2]?parseInt(n[2]):4222,s=a===80?"https":"http",l=new URL(`${s}://${i}`);l.port=`${a}`;let c=l.hostname;return c.charAt(0)==="["&&(c=c.substring(1,c.length-1)),{listen:l.host,hostname:c,port:a}}class ServerImpl{constructor(n,a=!1){me(this,"src");me(this,"listen");me(this,"hostname");me(this,"port");me(this,"didConnect");me(this,"reconnects");me(this,"lastConnect");me(this,"gossiped");me(this,"tlsName");me(this,"resolves");this.src=n,this.tlsName="";const s=hostPort(n);this.listen=s.listen,this.hostname=s.hostname,this.port=s.port,this.didConnect=!1,this.reconnects=0,this.lastConnect=0,this.gossiped=a}toString(){return this.listen}async resolve(n){if(!n.fn||n.resolve===!1)return[this];const a=[];if(isIP(this.hostname))return[this];{const s=await n.fn(this.hostname);n.debug&&console.log(`resolve ${this.hostname} = ${s.join(",")}`);for(const l of s){const c=this.port===80?"https":"http",f=new URL(`${c}://${isIPV6(l)?"["+l+"]":l}`);f.port=`${this.port}`;const p=new ServerImpl(f.host,!1);p.tlsName=this.hostname,a.push(p)}}return n.randomize&&shuffle(a),this.resolves=a,a}}class Servers{constructor(n=[],a={}){me(this,"firstSelect");me(this,"servers");me(this,"currentServer");me(this,"tlsName");me(this,"randomize");this.firstSelect=!0,this.servers=[],this.tlsName="",this.randomize=a.randomize||!1;const s=getUrlParseFn();n&&(n.forEach(l=>{l=s?s(l):l,this.servers.push(new ServerImpl(l))}),this.randomize&&(this.servers=shuffle(this.servers))),this.servers.length===0&&this.addServer(`${DEFAULT_HOST}:${defaultPort()}`,!1),this.currentServer=this.servers[0]}clear(){this.servers.length=0}updateTLSName(){const n=this.getCurrentServer();isIP(n.hostname)||(this.tlsName=n.hostname,this.servers.forEach(a=>{a.gossiped&&(a.tlsName=this.tlsName)}))}getCurrentServer(){return this.currentServer}addServer(n,a=!1){const s=getUrlParseFn();n=s?s(n):n;const l=new ServerImpl(n,a);isIP(l.hostname)&&(l.tlsName=this.tlsName),this.servers.push(l)}selectServer(){if(this.firstSelect)return this.firstSelect=!1,this.currentServer;const n=this.servers.shift();return n&&(this.servers.push(n),this.currentServer=n),n}removeCurrentServer(){this.removeServer(this.currentServer)}removeServer(n){if(n){const a=this.servers.indexOf(n);this.servers.splice(a,1)}}length(){return this.servers.length}next(){return this.servers.length?this.servers[0]:void 0}getServers(){return this.servers}update(n,a){const s=[];let l=[];const c=getUrlParseFn(),f=new Map;n.connect_urls&&n.connect_urls.length>0&&n.connect_urls.forEach(g=>{g=c?c(g,a):g;const y=new ServerImpl(g,!0);f.set(g,y)});const p=[];return this.servers.forEach((g,y)=>{const b=g.listen;g.gossiped&&this.currentServer.listen!==b&&f.get(b)===void 0&&p.push(y),f.delete(b)}),p.reverse(),p.forEach(g=>{const y=this.servers.splice(g,1);l=l.concat(y[0].listen)}),f.forEach((g,y)=>{this.servers.push(g),s.push(y)}),{added:s,deleted:l}}}class MuxSubscription{constructor(){me(this,"baseInbox");me(this,"reqs");this.reqs=new Map}size(){return this.reqs.size}init(n){return this.baseInbox=`${createInbox(n)}.`,this.baseInbox}add(n){isNaN(n.received)||(n.received=0),this.reqs.set(n.token,n)}get(n){return this.reqs.get(n)}cancel(n){this.reqs.delete(n.token)}getToken(n){const a=n.subject||"";return a.indexOf(this.baseInbox)===0?a.substring(this.baseInbox.length):null}all(){return Array.from(this.reqs.values())}handleError(n,a){if(a&&a.permissionContext){if(n)return this.all().forEach(l=>{l.resolver(a,{})}),!0;const s=a.permissionContext;if(s.operation==="publish"){const l=this.all().find(c=>c.requestSubject===s.subject);if(l)return l.resolver(a,{}),!0}}return!1}dispatcher(){return(n,a)=>{const s=this.getToken(a);if(s){const l=this.get(s);l&&(n===null&&a.headers&&(n=isRequestError(a)),l.resolver(n,a))}}}close(){const n=NatsError.errorForCode(ErrorCode.Timeout);this.reqs.forEach(a=>{a.resolver(n,{})})}}class Heartbeat{constructor(n,a,s){me(this,"ph");me(this,"interval");me(this,"maxOut");me(this,"timer");me(this,"pendings");this.ph=n,this.interval=a,this.maxOut=s,this.pendings=[]}start(){this.cancel(),this._schedule()}cancel(n){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this._reset(),n&&this.ph.disconnect()}_schedule(){this.timer=setTimeout(()=>{if(this.ph.dispatchStatus({type:DebugEvents.PingTimer,data:`${this.pendings.length+1}`}),this.pendings.length===this.maxOut){this.cancel(!0);return}const n=deferred();this.ph.flush(n).then(()=>{this._reset()}).catch(()=>{this.cancel()}),this.pendings.push(n),this._schedule()},this.interval)}_reset(){this.pendings=this.pendings.filter(n=>(n.resolve(),!1))}}class AssertionError extends Error{constructor(n){super(n),this.name="AssertionError"}}function assert$2(i,n="Assertion failed."){if(!i)throw new AssertionError(n)}const MIN_READ=32*1024,MAX_SIZE=2**32-2;function copy(i,n,a=0){const s=n.byteLength-a;return i.byteLength>s&&(i=i.subarray(0,s)),n.set(i,a),i.byteLength}class DenoBuffer{constructor(n){me(this,"_buf");me(this,"_off");if(this._off=0,n==null){this._buf=new Uint8Array(0);return}this._buf=new Uint8Array(n)}bytes(n={copy:!0}){return n.copy===!1?this._buf.subarray(this._off):this._buf.slice(this._off)}empty(){return this._buf.byteLength<=this._off}get length(){return this._buf.byteLength-this._off}get capacity(){return this._buf.buffer.byteLength}truncate(n){if(n===0){this.reset();return}if(n<0||n>this.length)throw Error("bytes.Buffer: truncation out of range");this._reslice(this._off+n)}reset(){this._reslice(0),this._off=0}_tryGrowByReslice(n){const a=this._buf.byteLength;return n<=this.capacity-a?(this._reslice(a+n),a):-1}_reslice(n){assert$2(n<=this._buf.buffer.byteLength),this._buf=new Uint8Array(this._buf.buffer,0,n)}readByte(){const n=new Uint8Array(1);return this.read(n)?n[0]:null}read(n){if(this.empty())return this.reset(),n.byteLength===0?0:null;const a=copy(this._buf.subarray(this._off),n);return this._off+=a,a}writeByte(n){return this.write(Uint8Array.of(n))}writeString(n){return this.write(TE.encode(n))}write(n){const a=this._grow(n.byteLength);return copy(n,this._buf,a)}_grow(n){const a=this.length;a===0&&this._off!==0&&this.reset();const s=this._tryGrowByReslice(n);if(s>=0)return s;const l=this.capacity;if(n<=Math.floor(l/2)-a)copy(this._buf.subarray(this._off),this._buf);else{if(l+n>MAX_SIZE)throw new Error("The buffer cannot be grown beyond the maximum size.");{const c=new Uint8Array(Math.min(2*l+n,MAX_SIZE));copy(this._buf.subarray(this._off),c),this._buf=c}}return this._off=0,this._reslice(Math.min(a+n,MAX_SIZE)),a}grow(n){if(n<0)throw Error("Buffer._grow: negative count");const a=this._grow(n);this._reslice(a)}readFrom(n){let a=0;const s=new Uint8Array(MIN_READ);for(;;){const l=this.capacity-this.length<MIN_READ,c=l?s:new Uint8Array(this._buf.buffer,this.length),f=n.read(c);if(f===null)return a;l?this.write(c.subarray(0,f)):this._reslice(this.length+f),a+=f}}}var Kind;(function(i){i[i.OK=0]="OK",i[i.ERR=1]="ERR",i[i.MSG=2]="MSG",i[i.INFO=3]="INFO",i[i.PING=4]="PING",i[i.PONG=5]="PONG"})(Kind||(Kind={}));function newMsgArg(){const i={};return i.sid=-1,i.hdr=-1,i.size=-1,i}const ASCII_0=48;class Parser{constructor(n){me(this,"dispatcher");me(this,"state");me(this,"as");me(this,"drop");me(this,"hdr");me(this,"ma");me(this,"argBuf");me(this,"msgBuf");this.dispatcher=n,this.state=State$1.OP_START,this.as=0,this.drop=0,this.hdr=0}parse(n){let a;for(a=0;a<n.length;a++){const s=n[a];switch(this.state){case State$1.OP_START:switch(s){case cc.M:case cc.m:this.state=State$1.OP_M,this.hdr=-1,this.ma=newMsgArg();break;case cc.H:case cc.h:this.state=State$1.OP_H,this.hdr=0,this.ma=newMsgArg();break;case cc.P:case cc.p:this.state=State$1.OP_P;break;case cc.PLUS:this.state=State$1.OP_PLUS;break;case cc.MINUS:this.state=State$1.OP_MINUS;break;case cc.I:case cc.i:this.state=State$1.OP_I;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_H:switch(s){case cc.M:case cc.m:this.state=State$1.OP_M;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_M:switch(s){case cc.S:case cc.s:this.state=State$1.OP_MS;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_MS:switch(s){case cc.G:case cc.g:this.state=State$1.OP_MSG;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_MSG:switch(s){case cc.SPACE:case cc.TAB:this.state=State$1.OP_MSG_SPC;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_MSG_SPC:switch(s){case cc.SPACE:case cc.TAB:continue;default:this.state=State$1.MSG_ARG,this.as=a}break;case State$1.MSG_ARG:switch(s){case cc.CR:this.drop=1;break;case cc.NL:{const l=this.argBuf?this.argBuf.bytes():n.subarray(this.as,a-this.drop);this.processMsgArgs(l),this.drop=0,this.as=a+1,this.state=State$1.MSG_PAYLOAD,a=this.as+this.ma.size-1;break}default:this.argBuf&&this.argBuf.writeByte(s)}break;case State$1.MSG_PAYLOAD:if(this.msgBuf)if(this.msgBuf.length>=this.ma.size){const l=this.msgBuf.bytes({copy:!1});this.dispatcher.push({kind:Kind.MSG,msg:this.ma,data:l}),this.argBuf=void 0,this.msgBuf=void 0,this.state=State$1.MSG_END}else{let l=this.ma.size-this.msgBuf.length;const c=n.length-a;c<l&&(l=c),l>0?(this.msgBuf.write(n.subarray(a,a+l)),a=a+l-1):this.msgBuf.writeByte(s)}else a-this.as>=this.ma.size&&(this.dispatcher.push({kind:Kind.MSG,msg:this.ma,data:n.subarray(this.as,a)}),this.argBuf=void 0,this.msgBuf=void 0,this.state=State$1.MSG_END);break;case State$1.MSG_END:switch(s){case cc.NL:this.drop=0,this.as=a+1,this.state=State$1.OP_START;break;default:continue}break;case State$1.OP_PLUS:switch(s){case cc.O:case cc.o:this.state=State$1.OP_PLUS_O;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_PLUS_O:switch(s){case cc.K:case cc.k:this.state=State$1.OP_PLUS_OK;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_PLUS_OK:switch(s){case cc.NL:this.dispatcher.push({kind:Kind.OK}),this.drop=0,this.state=State$1.OP_START;break}break;case State$1.OP_MINUS:switch(s){case cc.E:case cc.e:this.state=State$1.OP_MINUS_E;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_MINUS_E:switch(s){case cc.R:case cc.r:this.state=State$1.OP_MINUS_ER;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_MINUS_ER:switch(s){case cc.R:case cc.r:this.state=State$1.OP_MINUS_ERR;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_MINUS_ERR:switch(s){case cc.SPACE:case cc.TAB:this.state=State$1.OP_MINUS_ERR_SPC;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_MINUS_ERR_SPC:switch(s){case cc.SPACE:case cc.TAB:continue;default:this.state=State$1.MINUS_ERR_ARG,this.as=a}break;case State$1.MINUS_ERR_ARG:switch(s){case cc.CR:this.drop=1;break;case cc.NL:{let l;this.argBuf?(l=this.argBuf.bytes(),this.argBuf=void 0):l=n.subarray(this.as,a-this.drop),this.dispatcher.push({kind:Kind.ERR,data:l}),this.drop=0,this.as=a+1,this.state=State$1.OP_START;break}default:this.argBuf&&this.argBuf.write(Uint8Array.of(s))}break;case State$1.OP_P:switch(s){case cc.I:case cc.i:this.state=State$1.OP_PI;break;case cc.O:case cc.o:this.state=State$1.OP_PO;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_PO:switch(s){case cc.N:case cc.n:this.state=State$1.OP_PON;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_PON:switch(s){case cc.G:case cc.g:this.state=State$1.OP_PONG;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_PONG:switch(s){case cc.NL:this.dispatcher.push({kind:Kind.PONG}),this.drop=0,this.state=State$1.OP_START;break}break;case State$1.OP_PI:switch(s){case cc.N:case cc.n:this.state=State$1.OP_PIN;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_PIN:switch(s){case cc.G:case cc.g:this.state=State$1.OP_PING;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_PING:switch(s){case cc.NL:this.dispatcher.push({kind:Kind.PING}),this.drop=0,this.state=State$1.OP_START;break}break;case State$1.OP_I:switch(s){case cc.N:case cc.n:this.state=State$1.OP_IN;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_IN:switch(s){case cc.F:case cc.f:this.state=State$1.OP_INF;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_INF:switch(s){case cc.O:case cc.o:this.state=State$1.OP_INFO;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_INFO:switch(s){case cc.SPACE:case cc.TAB:this.state=State$1.OP_INFO_SPC;break;default:throw this.fail(n.subarray(a))}break;case State$1.OP_INFO_SPC:switch(s){case cc.SPACE:case cc.TAB:continue;default:this.state=State$1.INFO_ARG,this.as=a}break;case State$1.INFO_ARG:switch(s){case cc.CR:this.drop=1;break;case cc.NL:{let l;this.argBuf?(l=this.argBuf.bytes(),this.argBuf=void 0):l=n.subarray(this.as,a-this.drop),this.dispatcher.push({kind:Kind.INFO,data:l}),this.drop=0,this.as=a+1,this.state=State$1.OP_START;break}default:this.argBuf&&this.argBuf.writeByte(s)}break;default:throw this.fail(n.subarray(a))}}(this.state===State$1.MSG_ARG||this.state===State$1.MINUS_ERR_ARG||this.state===State$1.INFO_ARG)&&!this.argBuf&&(this.argBuf=new DenoBuffer(n.subarray(this.as,a-this.drop))),this.state===State$1.MSG_PAYLOAD&&!this.msgBuf&&(this.argBuf||this.cloneMsgArg(),this.msgBuf=new DenoBuffer(n.subarray(this.as)))}cloneMsgArg(){const n=this.ma.subject.length,a=this.ma.reply?this.ma.reply.length:0,s=new Uint8Array(n+a);s.set(this.ma.subject),this.ma.reply&&s.set(this.ma.reply,n),this.argBuf=new DenoBuffer(s),this.ma.subject=s.subarray(0,n),this.ma.reply&&(this.ma.reply=s.subarray(n))}processMsgArgs(n){if(this.hdr>=0)return this.processHeaderMsgArgs(n);const a=[];let s=-1;for(let l=0;l<n.length;l++)switch(n[l]){case cc.SPACE:case cc.TAB:case cc.CR:case cc.NL:s>=0&&(a.push(n.subarray(s,l)),s=-1);break;default:s<0&&(s=l)}switch(s>=0&&a.push(n.subarray(s)),a.length){case 3:this.ma.subject=a[0],this.ma.sid=this.protoParseInt(a[1]),this.ma.reply=void 0,this.ma.size=this.protoParseInt(a[2]);break;case 4:this.ma.subject=a[0],this.ma.sid=this.protoParseInt(a[1]),this.ma.reply=a[2],this.ma.size=this.protoParseInt(a[3]);break;default:throw this.fail(n,"processMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(n,"processMsgArgs Bad or Missing Sid Error");if(this.ma.size<0)throw this.fail(n,"processMsgArgs Bad or Missing Size Error")}fail(n,a=""){return a?a=`${a} [${this.state}]`:a=`parse error [${this.state}]`,new Error(`${a}: ${TD.decode(n)}`)}processHeaderMsgArgs(n){const a=[];let s=-1;for(let l=0;l<n.length;l++)switch(n[l]){case cc.SPACE:case cc.TAB:case cc.CR:case cc.NL:s>=0&&(a.push(n.subarray(s,l)),s=-1);break;default:s<0&&(s=l)}switch(s>=0&&a.push(n.subarray(s)),a.length){case 4:this.ma.subject=a[0],this.ma.sid=this.protoParseInt(a[1]),this.ma.reply=void 0,this.ma.hdr=this.protoParseInt(a[2]),this.ma.size=this.protoParseInt(a[3]);break;case 5:this.ma.subject=a[0],this.ma.sid=this.protoParseInt(a[1]),this.ma.reply=a[2],this.ma.hdr=this.protoParseInt(a[3]),this.ma.size=this.protoParseInt(a[4]);break;default:throw this.fail(n,"processHeaderMsgArgs Parse Error")}if(this.ma.sid<0)throw this.fail(n,"processHeaderMsgArgs Bad or Missing Sid Error");if(this.ma.hdr<0||this.ma.hdr>this.ma.size)throw this.fail(n,"processHeaderMsgArgs Bad or Missing Header Size Error");if(this.ma.size<0)throw this.fail(n,"processHeaderMsgArgs Bad or Missing Size Error")}protoParseInt(n){if(n.length===0)return-1;let a=0;for(let s=0;s<n.length;s++){if(n[s]<48||n[s]>57)return-1;a=a*10+(n[s]-ASCII_0)}return a}}var State$1;(function(i){i[i.OP_START=0]="OP_START",i[i.OP_PLUS=1]="OP_PLUS",i[i.OP_PLUS_O=2]="OP_PLUS_O",i[i.OP_PLUS_OK=3]="OP_PLUS_OK",i[i.OP_MINUS=4]="OP_MINUS",i[i.OP_MINUS_E=5]="OP_MINUS_E",i[i.OP_MINUS_ER=6]="OP_MINUS_ER",i[i.OP_MINUS_ERR=7]="OP_MINUS_ERR",i[i.OP_MINUS_ERR_SPC=8]="OP_MINUS_ERR_SPC",i[i.MINUS_ERR_ARG=9]="MINUS_ERR_ARG",i[i.OP_M=10]="OP_M",i[i.OP_MS=11]="OP_MS",i[i.OP_MSG=12]="OP_MSG",i[i.OP_MSG_SPC=13]="OP_MSG_SPC",i[i.MSG_ARG=14]="MSG_ARG",i[i.MSG_PAYLOAD=15]="MSG_PAYLOAD",i[i.MSG_END=16]="MSG_END",i[i.OP_H=17]="OP_H",i[i.OP_P=18]="OP_P",i[i.OP_PI=19]="OP_PI",i[i.OP_PIN=20]="OP_PIN",i[i.OP_PING=21]="OP_PING",i[i.OP_PO=22]="OP_PO",i[i.OP_PON=23]="OP_PON",i[i.OP_PONG=24]="OP_PONG",i[i.OP_I=25]="OP_I",i[i.OP_IN=26]="OP_IN",i[i.OP_INF=27]="OP_INF",i[i.OP_INFO=28]="OP_INFO",i[i.OP_INFO_SPC=29]="OP_INFO_SPC",i[i.INFO_ARG=30]="INFO_ARG"})(State$1||(State$1={}));var cc;(function(i){i[i.CR=13]="CR",i[i.E=69]="E",i[i.e=101]="e",i[i.F=70]="F",i[i.f=102]="f",i[i.G=71]="G",i[i.g=103]="g",i[i.H=72]="H",i[i.h=104]="h",i[i.I=73]="I",i[i.i=105]="i",i[i.K=75]="K",i[i.k=107]="k",i[i.M=77]="M",i[i.m=109]="m",i[i.MINUS=45]="MINUS",i[i.N=78]="N",i[i.n=110]="n",i[i.NL=10]="NL",i[i.O=79]="O",i[i.o=111]="o",i[i.P=80]="P",i[i.p=112]="p",i[i.PLUS=43]="PLUS",i[i.R=82]="R",i[i.r=114]="r",i[i.S=83]="S",i[i.s=115]="s",i[i.SPACE=32]="SPACE",i[i.TAB=9]="TAB"})(cc||(cc={}));(function(i){var n=function(se,xe){this.hi=se|0,this.lo=xe|0},a=function(se){var xe,ye=new Float64Array(16);if(se)for(xe=0;xe<se.length;xe++)ye[xe]=se[xe];return ye},s=function(){throw new Error("no PRNG")},l=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var f=a(),p=a([1]),g=a([56129,1]),y=a([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),b=a([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=a([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=a([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=a([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(se,xe){return se<<xe|se>>>32-xe}function A(se,xe){var ye=se[xe+3]&255;return ye=ye<<8|se[xe+2]&255,ye=ye<<8|se[xe+1]&255,ye<<8|se[xe+0]&255}function I(se,xe){var ye=se[xe]<<24|se[xe+1]<<16|se[xe+2]<<8|se[xe+3],Ce=se[xe+4]<<24|se[xe+5]<<16|se[xe+6]<<8|se[xe+7];return new n(ye,Ce)}function R(se,xe,ye){var Ce;for(Ce=0;Ce<4;Ce++)se[xe+Ce]=ye&255,ye>>>=8}function P(se,xe,ye){se[xe]=ye.hi>>24&255,se[xe+1]=ye.hi>>16&255,se[xe+2]=ye.hi>>8&255,se[xe+3]=ye.hi&255,se[xe+4]=ye.lo>>24&255,se[xe+5]=ye.lo>>16&255,se[xe+6]=ye.lo>>8&255,se[xe+7]=ye.lo&255}function $(se,xe,ye,Ce,Pe){var ve,tt=0;for(ve=0;ve<Pe;ve++)tt|=se[xe+ve]^ye[Ce+ve];return(1&tt-1>>>8)-1}function M(se,xe,ye,Ce){return $(se,xe,ye,Ce,16)}function B(se,xe,ye,Ce){return $(se,xe,ye,Ce,32)}function F(se,xe,ye,Ce,Pe){var ve=new Uint32Array(16),tt=new Uint32Array(16),ht=new Uint32Array(16),et=new Uint32Array(4),yt,Ft,Qt;for(yt=0;yt<4;yt++)tt[5*yt]=A(Ce,4*yt),tt[1+yt]=A(ye,4*yt),tt[6+yt]=A(xe,4*yt),tt[11+yt]=A(ye,16+4*yt);for(yt=0;yt<16;yt++)ht[yt]=tt[yt];for(yt=0;yt<20;yt++){for(Ft=0;Ft<4;Ft++){for(Qt=0;Qt<4;Qt++)et[Qt]=tt[(5*Ft+4*Qt)%16];for(et[1]^=_(et[0]+et[3]|0,7),et[2]^=_(et[1]+et[0]|0,9),et[3]^=_(et[2]+et[1]|0,13),et[0]^=_(et[3]+et[2]|0,18),Qt=0;Qt<4;Qt++)ve[4*Ft+(Ft+Qt)%4]=et[Qt]}for(Qt=0;Qt<16;Qt++)tt[Qt]=ve[Qt]}if(Pe){for(yt=0;yt<16;yt++)tt[yt]=tt[yt]+ht[yt]|0;for(yt=0;yt<4;yt++)tt[5*yt]=tt[5*yt]-A(Ce,4*yt)|0,tt[6+yt]=tt[6+yt]-A(xe,4*yt)|0;for(yt=0;yt<4;yt++)R(se,4*yt,tt[5*yt]),R(se,16+4*yt,tt[6+yt])}else for(yt=0;yt<16;yt++)R(se,4*yt,tt[yt]+ht[yt]|0)}function q(se,xe,ye,Ce){return F(se,xe,ye,Ce,!1),0}function H(se,xe,ye,Ce){return F(se,xe,ye,Ce,!0),0}var z=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function L(se,xe,ye,Ce,Pe,ve,tt){var ht=new Uint8Array(16),et=new Uint8Array(64),yt,Ft;if(!Pe)return 0;for(Ft=0;Ft<16;Ft++)ht[Ft]=0;for(Ft=0;Ft<8;Ft++)ht[Ft]=ve[Ft];for(;Pe>=64;){for(q(et,ht,tt,z),Ft=0;Ft<64;Ft++)se[xe+Ft]=(ye?ye[Ce+Ft]:0)^et[Ft];for(yt=1,Ft=8;Ft<16;Ft++)yt=yt+(ht[Ft]&255)|0,ht[Ft]=yt&255,yt>>>=8;Pe-=64,xe+=64,ye&&(Ce+=64)}if(Pe>0)for(q(et,ht,tt,z),Ft=0;Ft<Pe;Ft++)se[xe+Ft]=(ye?ye[Ce+Ft]:0)^et[Ft];return 0}function ee(se,xe,ye,Ce,Pe){return L(se,xe,null,0,ye,Ce,Pe)}function Z(se,xe,ye,Ce,Pe){var ve=new Uint8Array(32);return H(ve,Ce,Pe,z),ee(se,xe,ye,Ce.subarray(16),ve)}function V(se,xe,ye,Ce,Pe,ve,tt){var ht=new Uint8Array(32);return H(ht,ve,tt,z),L(se,xe,ye,Ce,Pe,ve.subarray(16),ht)}function X(se,xe){var ye,Ce=0;for(ye=0;ye<17;ye++)Ce=Ce+(se[ye]+xe[ye]|0)|0,se[ye]=Ce&255,Ce>>>=8}var Q=new Uint32Array([5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,252]);function G(se,xe,ye,Ce,Pe,ve){var tt,ht,et,yt,Ft=new Uint32Array(17),Qt=new Uint32Array(17),gr=new Uint32Array(17),xr=new Uint32Array(17),Wr=new Uint32Array(17);for(et=0;et<17;et++)Qt[et]=gr[et]=0;for(et=0;et<16;et++)Qt[et]=ve[et];for(Qt[3]&=15,Qt[4]&=252,Qt[7]&=15,Qt[8]&=252,Qt[11]&=15,Qt[12]&=252,Qt[15]&=15;Pe>0;){for(et=0;et<17;et++)xr[et]=0;for(et=0;et<16&&et<Pe;++et)xr[et]=ye[Ce+et];for(xr[et]=1,Ce+=et,Pe-=et,X(gr,xr),ht=0;ht<17;ht++)for(Ft[ht]=0,et=0;et<17;et++)Ft[ht]=Ft[ht]+gr[et]*(et<=ht?Qt[ht-et]:320*Qt[ht+17-et]|0)|0|0;for(ht=0;ht<17;ht++)gr[ht]=Ft[ht];for(yt=0,et=0;et<16;et++)yt=yt+gr[et]|0,gr[et]=yt&255,yt>>>=8;for(yt=yt+gr[16]|0,gr[16]=yt&3,yt=5*(yt>>>2)|0,et=0;et<16;et++)yt=yt+gr[et]|0,gr[et]=yt&255,yt>>>=8;yt=yt+gr[16]|0,gr[16]=yt}for(et=0;et<17;et++)Wr[et]=gr[et];for(X(gr,Q),tt=-(gr[16]>>>7)|0,et=0;et<17;et++)gr[et]^=tt&(Wr[et]^gr[et]);for(et=0;et<16;et++)xr[et]=ve[et+16];for(xr[16]=0,X(gr,xr),et=0;et<16;et++)se[xe+et]=gr[et];return 0}function te(se,xe,ye,Ce,Pe,ve){var tt=new Uint8Array(16);return G(tt,0,ye,Ce,Pe,ve),M(se,xe,tt,0)}function ue(se,xe,ye,Ce,Pe){var ve;if(ye<32)return-1;for(V(se,0,xe,0,ye,Ce,Pe),G(se,16,se,32,ye-32,se),ve=0;ve<16;ve++)se[ve]=0;return 0}function fe(se,xe,ye,Ce,Pe){var ve,tt=new Uint8Array(32);if(ye<32||(Z(tt,0,32,Ce,Pe),te(xe,16,xe,32,ye-32,tt)!==0))return-1;for(V(se,0,xe,0,ye,Ce,Pe),ve=0;ve<32;ve++)se[ve]=0;return 0}function K(se,xe){var ye;for(ye=0;ye<16;ye++)se[ye]=xe[ye]|0}function de(se){var xe,ye;for(ye=0;ye<16;ye++)se[ye]+=65536,xe=Math.floor(se[ye]/65536),se[(ye+1)*(ye<15?1:0)]+=xe-1+37*(xe-1)*(ye===15?1:0),se[ye]-=xe*65536}function we(se,xe,ye){for(var Ce,Pe=~(ye-1),ve=0;ve<16;ve++)Ce=Pe&(se[ve]^xe[ve]),se[ve]^=Ce,xe[ve]^=Ce}function oe(se,xe){var ye,Ce,Pe,ve=a(),tt=a();for(ye=0;ye<16;ye++)tt[ye]=xe[ye];for(de(tt),de(tt),de(tt),Ce=0;Ce<2;Ce++){for(ve[0]=tt[0]-65517,ye=1;ye<15;ye++)ve[ye]=tt[ye]-65535-(ve[ye-1]>>16&1),ve[ye-1]&=65535;ve[15]=tt[15]-32767-(ve[14]>>16&1),Pe=ve[15]>>16&1,ve[14]&=65535,we(tt,ve,1-Pe)}for(ye=0;ye<16;ye++)se[2*ye]=tt[ye]&255,se[2*ye+1]=tt[ye]>>8}function Ne(se,xe){var ye=new Uint8Array(32),Ce=new Uint8Array(32);return oe(ye,se),oe(Ce,xe),B(ye,0,Ce,0)}function Ie(se){var xe=new Uint8Array(32);return oe(xe,se),xe[0]&1}function Le(se,xe){var ye;for(ye=0;ye<16;ye++)se[ye]=xe[2*ye]+(xe[2*ye+1]<<8);se[15]&=32767}function ut(se,xe,ye){var Ce;for(Ce=0;Ce<16;Ce++)se[Ce]=xe[Ce]+ye[Ce]|0}function mt(se,xe,ye){var Ce;for(Ce=0;Ce<16;Ce++)se[Ce]=xe[Ce]-ye[Ce]|0}function vt(se,xe,ye){var Ce,Pe,ve=new Float64Array(31);for(Ce=0;Ce<31;Ce++)ve[Ce]=0;for(Ce=0;Ce<16;Ce++)for(Pe=0;Pe<16;Pe++)ve[Ce+Pe]+=xe[Ce]*ye[Pe];for(Ce=0;Ce<15;Ce++)ve[Ce]+=38*ve[Ce+16];for(Ce=0;Ce<16;Ce++)se[Ce]=ve[Ce];de(se),de(se)}function it(se,xe){vt(se,xe,xe)}function pt(se,xe){var ye=a(),Ce;for(Ce=0;Ce<16;Ce++)ye[Ce]=xe[Ce];for(Ce=253;Ce>=0;Ce--)it(ye,ye),Ce!==2&&Ce!==4&&vt(ye,ye,xe);for(Ce=0;Ce<16;Ce++)se[Ce]=ye[Ce]}function xt(se,xe){var ye=a(),Ce;for(Ce=0;Ce<16;Ce++)ye[Ce]=xe[Ce];for(Ce=250;Ce>=0;Ce--)it(ye,ye),Ce!==1&&vt(ye,ye,xe);for(Ce=0;Ce<16;Ce++)se[Ce]=ye[Ce]}function kt(se,xe,ye){var Ce=new Uint8Array(32),Pe=new Float64Array(80),ve,tt,ht=a(),et=a(),yt=a(),Ft=a(),Qt=a(),gr=a();for(tt=0;tt<31;tt++)Ce[tt]=xe[tt];for(Ce[31]=xe[31]&127|64,Ce[0]&=248,Le(Pe,ye),tt=0;tt<16;tt++)et[tt]=Pe[tt],Ft[tt]=ht[tt]=yt[tt]=0;for(ht[0]=Ft[0]=1,tt=254;tt>=0;--tt)ve=Ce[tt>>>3]>>>(tt&7)&1,we(ht,et,ve),we(yt,Ft,ve),ut(Qt,ht,yt),mt(ht,ht,yt),ut(yt,et,Ft),mt(et,et,Ft),it(Ft,Qt),it(gr,ht),vt(ht,yt,ht),vt(yt,et,Qt),ut(Qt,ht,yt),mt(ht,ht,yt),it(et,ht),mt(yt,Ft,gr),vt(ht,yt,g),ut(ht,ht,Ft),vt(yt,yt,ht),vt(ht,Ft,gr),vt(Ft,et,Pe),it(et,Qt),we(ht,et,ve),we(yt,Ft,ve);for(tt=0;tt<16;tt++)Pe[tt+16]=ht[tt],Pe[tt+32]=yt[tt],Pe[tt+48]=et[tt],Pe[tt+64]=Ft[tt];var xr=Pe.subarray(32),Wr=Pe.subarray(16);return pt(xr,xr),vt(Wr,Wr,xr),oe(se,Wr),0}function _t(se,xe){return kt(se,xe,c)}function Nt(se,xe){return s(xe,32),_t(se,xe)}function Vt(se,xe,ye){var Ce=new Uint8Array(32);return kt(Ce,ye,xe),H(se,l,Ce,z)}var Mt=ue,$t=fe;function Ht(se,xe,ye,Ce,Pe,ve){var tt=new Uint8Array(32);return Vt(tt,Pe,ve),Mt(se,xe,ye,Ce,tt)}function Bt(se,xe,ye,Ce,Pe,ve){var tt=new Uint8Array(32);return Vt(tt,Pe,ve),$t(se,xe,ye,Ce,tt)}function Ut(){var se=0,xe=0,ye=0,Ce=0,Pe=65535,ve,tt,ht;for(ht=0;ht<arguments.length;ht++)ve=arguments[ht].lo,tt=arguments[ht].hi,se+=ve&Pe,xe+=ve>>>16,ye+=tt&Pe,Ce+=tt>>>16;return xe+=se>>>16,ye+=xe>>>16,Ce+=ye>>>16,new n(ye&Pe|Ce<<16,se&Pe|xe<<16)}function St(se,xe){return new n(se.hi>>>xe,se.lo>>>xe|se.hi<<32-xe)}function Lt(){var se=0,xe=0,ye;for(ye=0;ye<arguments.length;ye++)se^=arguments[ye].lo,xe^=arguments[ye].hi;return new n(xe,se)}function st(se,xe){var ye,Ce,Pe=32-xe;return xe<32?(ye=se.hi>>>xe|se.lo<<Pe,Ce=se.lo>>>xe|se.hi<<Pe):xe<64&&(ye=se.lo>>>xe|se.hi<<Pe,Ce=se.hi>>>xe|se.lo<<Pe),new n(ye,Ce)}function at(se,xe,ye){var Ce=se.hi&xe.hi^~se.hi&ye.hi,Pe=se.lo&xe.lo^~se.lo&ye.lo;return new n(Ce,Pe)}function Ue(se,xe,ye){var Ce=se.hi&xe.hi^se.hi&ye.hi^xe.hi&ye.hi,Pe=se.lo&xe.lo^se.lo&ye.lo^xe.lo&ye.lo;return new n(Ce,Pe)}function nt(se){return Lt(st(se,28),st(se,34),st(se,39))}function Ct(se){return Lt(st(se,14),st(se,18),st(se,41))}function ce(se){return Lt(st(se,1),st(se,8),St(se,7))}function He(se){return Lt(st(se,19),st(se,61),St(se,6))}var Je=[new n(1116352408,3609767458),new n(1899447441,602891725),new n(3049323471,3964484399),new n(3921009573,2173295548),new n(961987163,4081628472),new n(1508970993,3053834265),new n(2453635748,2937671579),new n(2870763221,3664609560),new n(3624381080,2734883394),new n(310598401,1164996542),new n(607225278,1323610764),new n(1426881987,3590304994),new n(1925078388,4068182383),new n(2162078206,991336113),new n(2614888103,633803317),new n(3248222580,3479774868),new n(3835390401,2666613458),new n(4022224774,944711139),new n(264347078,2341262773),new n(604807628,2007800933),new n(770255983,1495990901),new n(1249150122,1856431235),new n(1555081692,3175218132),new n(1996064986,2198950837),new n(2554220882,3999719339),new n(2821834349,766784016),new n(2952996808,2566594879),new n(3210313671,3203337956),new n(3336571891,1034457026),new n(3584528711,2466948901),new n(113926993,3758326383),new n(338241895,168717936),new n(666307205,1188179964),new n(773529912,1546045734),new n(1294757372,1522805485),new n(1396182291,2643833823),new n(1695183700,2343527390),new n(1986661051,1014477480),new n(2177026350,1206759142),new n(2456956037,344077627),new n(2730485921,1290863460),new n(2820302411,3158454273),new n(3259730800,3505952657),new n(3345764771,106217008),new n(3516065817,3606008344),new n(3600352804,1432725776),new n(4094571909,1467031594),new n(275423344,851169720),new n(430227734,3100823752),new n(506948616,1363258195),new n(659060556,3750685593),new n(883997877,3785050280),new n(958139571,3318307427),new n(1322822218,3812723403),new n(1537002063,2003034995),new n(1747873779,3602036899),new n(1955562222,1575990012),new n(2024104815,1125592928),new n(2227730452,2716904306),new n(2361852424,442776044),new n(2428436474,593698344),new n(2756734187,3733110249),new n(3204031479,2999351573),new n(3329325298,3815920427),new n(3391569614,3928383900),new n(3515267271,566280711),new n(3940187606,3454069534),new n(4118630271,4000239992),new n(116418474,1914138554),new n(174292421,2731055270),new n(289380356,3203993006),new n(460393269,320620315),new n(685471733,587496836),new n(852142971,1086792851),new n(1017036298,365543100),new n(1126000580,2618297676),new n(1288033470,3409855158),new n(1501505948,4234509866),new n(1607167915,987167468),new n(1816402316,1246189591)];function gt(se,xe,ye){var Ce=[],Pe=[],ve=[],tt=[],ht,et,yt;for(et=0;et<8;et++)Ce[et]=ve[et]=I(se,8*et);for(var Ft=0;ye>=128;){for(et=0;et<16;et++)tt[et]=I(xe,8*et+Ft);for(et=0;et<80;et++){for(yt=0;yt<8;yt++)Pe[yt]=ve[yt];for(ht=Ut(ve[7],Ct(ve[4]),at(ve[4],ve[5],ve[6]),Je[et],tt[et%16]),Pe[7]=Ut(ht,nt(ve[0]),Ue(ve[0],ve[1],ve[2])),Pe[3]=Ut(Pe[3],ht),yt=0;yt<8;yt++)ve[(yt+1)%8]=Pe[yt];if(et%16===15)for(yt=0;yt<16;yt++)tt[yt]=Ut(tt[yt],tt[(yt+9)%16],ce(tt[(yt+1)%16]),He(tt[(yt+14)%16]))}for(et=0;et<8;et++)ve[et]=Ut(ve[et],Ce[et]),Ce[et]=ve[et];Ft+=128,ye-=128}for(et=0;et<8;et++)P(se,8*et,Ce[et]);return ye}var Et=new Uint8Array([106,9,230,103,243,188,201,8,187,103,174,133,132,202,167,59,60,110,243,114,254,148,248,43,165,79,245,58,95,29,54,241,81,14,82,127,173,230,130,209,155,5,104,140,43,62,108,31,31,131,217,171,251,65,189,107,91,224,205,25,19,126,33,121]);function lt(se,xe,ye){var Ce=new Uint8Array(64),Pe=new Uint8Array(256),ve,tt=ye;for(ve=0;ve<64;ve++)Ce[ve]=Et[ve];for(gt(Ce,xe,ye),ye%=128,ve=0;ve<256;ve++)Pe[ve]=0;for(ve=0;ve<ye;ve++)Pe[ve]=xe[tt-ye+ve];for(Pe[ye]=128,ye=256-128*(ye<112?1:0),Pe[ye-9]=0,P(Pe,ye-8,new n(tt/536870912|0,tt<<3)),gt(Ce,Pe,ye),ve=0;ve<64;ve++)se[ve]=Ce[ve];return 0}function Se(se,xe){var ye=a(),Ce=a(),Pe=a(),ve=a(),tt=a(),ht=a(),et=a(),yt=a(),Ft=a();mt(ye,se[1],se[0]),mt(Ft,xe[1],xe[0]),vt(ye,ye,Ft),ut(Ce,se[0],se[1]),ut(Ft,xe[0],xe[1]),vt(Ce,Ce,Ft),vt(Pe,se[3],xe[3]),vt(Pe,Pe,b),vt(ve,se[2],xe[2]),ut(ve,ve,ve),mt(tt,Ce,ye),mt(ht,ve,Pe),ut(et,ve,Pe),ut(yt,Ce,ye),vt(se[0],tt,ht),vt(se[1],yt,et),vt(se[2],et,ht),vt(se[3],tt,yt)}function ze(se,xe,ye){var Ce;for(Ce=0;Ce<4;Ce++)we(se[Ce],xe[Ce],ye)}function le(se,xe){var ye=a(),Ce=a(),Pe=a();pt(Pe,xe[2]),vt(ye,xe[0],Pe),vt(Ce,xe[1],Pe),oe(se,Ce),se[31]^=Ie(ye)<<7}function ae(se,xe,ye){var Ce,Pe;for(K(se[0],f),K(se[1],p),K(se[2],p),K(se[3],f),Pe=255;Pe>=0;--Pe)Ce=ye[Pe/8|0]>>(Pe&7)&1,ze(se,xe,Ce),Se(xe,se),Se(se,se),ze(se,xe,Ce)}function _e(se,xe){var ye=[a(),a(),a(),a()];K(ye[0],h),K(ye[1],d),K(ye[2],p),vt(ye[3],h,d),ae(se,ye,xe)}function Oe(se,xe,ye){var Ce=new Uint8Array(64),Pe=[a(),a(),a(),a()],ve;for(ye||s(xe,32),lt(Ce,xe,32),Ce[0]&=248,Ce[31]&=127,Ce[31]|=64,_e(Pe,Ce),le(se,Pe),ve=0;ve<32;ve++)xe[ve+32]=se[ve];return 0}var We=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function je(se,xe){var ye,Ce,Pe,ve;for(Ce=63;Ce>=32;--Ce){for(ye=0,Pe=Ce-32,ve=Ce-12;Pe<ve;++Pe)xe[Pe]+=ye-16*xe[Ce]*We[Pe-(Ce-32)],ye=Math.floor((xe[Pe]+128)/256),xe[Pe]-=ye*256;xe[Pe]+=ye,xe[Ce]=0}for(ye=0,Pe=0;Pe<32;Pe++)xe[Pe]+=ye-(xe[31]>>4)*We[Pe],ye=xe[Pe]>>8,xe[Pe]&=255;for(Pe=0;Pe<32;Pe++)xe[Pe]-=ye*We[Pe];for(Ce=0;Ce<32;Ce++)xe[Ce+1]+=xe[Ce]>>8,se[Ce]=xe[Ce]&255}function Ye(se){var xe=new Float64Array(64),ye;for(ye=0;ye<64;ye++)xe[ye]=se[ye];for(ye=0;ye<64;ye++)se[ye]=0;je(se,xe)}function Te(se,xe,ye,Ce){var Pe=new Uint8Array(64),ve=new Uint8Array(64),tt=new Uint8Array(64),ht,et,yt=new Float64Array(64),Ft=[a(),a(),a(),a()];lt(Pe,Ce,32),Pe[0]&=248,Pe[31]&=127,Pe[31]|=64;var Qt=ye+64;for(ht=0;ht<ye;ht++)se[64+ht]=xe[ht];for(ht=0;ht<32;ht++)se[32+ht]=Pe[32+ht];for(lt(tt,se.subarray(32),ye+32),Ye(tt),_e(Ft,tt),le(se,Ft),ht=32;ht<64;ht++)se[ht]=Ce[ht];for(lt(ve,se,ye+64),Ye(ve),ht=0;ht<64;ht++)yt[ht]=0;for(ht=0;ht<32;ht++)yt[ht]=tt[ht];for(ht=0;ht<32;ht++)for(et=0;et<32;et++)yt[ht+et]+=ve[ht]*Pe[et];return je(se.subarray(32),yt),Qt}function Me(se,xe){var ye=a(),Ce=a(),Pe=a(),ve=a(),tt=a(),ht=a(),et=a();return K(se[2],p),Le(se[1],xe),it(Pe,se[1]),vt(ve,Pe,y),mt(Pe,Pe,se[2]),ut(ve,se[2],ve),it(tt,ve),it(ht,tt),vt(et,ht,tt),vt(ye,et,Pe),vt(ye,ye,ve),xt(ye,ye),vt(ye,ye,Pe),vt(ye,ye,ve),vt(ye,ye,ve),vt(se[0],ye,ve),it(Ce,se[0]),vt(Ce,Ce,ve),Ne(Ce,Pe)&&vt(se[0],se[0],v),it(Ce,se[0]),vt(Ce,Ce,ve),Ne(Ce,Pe)?-1:(Ie(se[0])===xe[31]>>7&&mt(se[0],f,se[0]),vt(se[3],se[0],se[1]),0)}function Kt(se,xe,ye,Ce){var Pe,ve=new Uint8Array(32),tt=new Uint8Array(64),ht=[a(),a(),a(),a()],et=[a(),a(),a(),a()];if(ye<64||Me(et,Ce))return-1;for(Pe=0;Pe<ye;Pe++)se[Pe]=xe[Pe];for(Pe=0;Pe<32;Pe++)se[Pe+32]=Ce[Pe];if(lt(tt,se,ye),Ye(tt),ae(ht,et,tt),_e(et,xe.subarray(32)),Se(ht,et),le(ve,ht),ye-=64,B(xe,0,ve,0)){for(Pe=0;Pe<ye;Pe++)se[Pe]=0;return-1}for(Pe=0;Pe<ye;Pe++)se[Pe]=xe[Pe+64];return ye}var Rt=32,Y=24,Ke=32,be=16,$e=32,Fe=32,Ot=32,Dt=32,Pt=32,dr=Y,Wt=Ke,Jt=be,ir=64,pe=32,Ae=64,De=32,qe=64;i.lowlevel={crypto_core_hsalsa20:H,crypto_stream_xor:V,crypto_stream:Z,crypto_stream_salsa20_xor:L,crypto_stream_salsa20:ee,crypto_onetimeauth:G,crypto_onetimeauth_verify:te,crypto_verify_16:M,crypto_verify_32:B,crypto_secretbox:ue,crypto_secretbox_open:fe,crypto_scalarmult:kt,crypto_scalarmult_base:_t,crypto_box_beforenm:Vt,crypto_box_afternm:Mt,crypto_box:Ht,crypto_box_open:Bt,crypto_box_keypair:Nt,crypto_hash:lt,crypto_sign:Te,crypto_sign_keypair:Oe,crypto_sign_open:Kt,crypto_secretbox_KEYBYTES:Rt,crypto_secretbox_NONCEBYTES:Y,crypto_secretbox_ZEROBYTES:Ke,crypto_secretbox_BOXZEROBYTES:be,crypto_scalarmult_BYTES:$e,crypto_scalarmult_SCALARBYTES:Fe,crypto_box_PUBLICKEYBYTES:Ot,crypto_box_SECRETKEYBYTES:Dt,crypto_box_BEFORENMBYTES:Pt,crypto_box_NONCEBYTES:dr,crypto_box_ZEROBYTES:Wt,crypto_box_BOXZEROBYTES:Jt,crypto_sign_BYTES:ir,crypto_sign_PUBLICKEYBYTES:pe,crypto_sign_SECRETKEYBYTES:Ae,crypto_sign_SEEDBYTES:De,crypto_hash_BYTES:qe,gf:a,D:y,L:We,pack25519:oe,unpack25519:Le,M:vt,A:ut,S:it,Z:mt,pow2523:xt,add:Se,set25519:K,modL:je,scalarmult:ae,scalarbase:_e};function Ge(se,xe){if(se.length!==Rt)throw new Error("bad key size");if(xe.length!==Y)throw new Error("bad nonce size")}function dt(se,xe){if(se.length!==Ot)throw new Error("bad public key size");if(xe.length!==Dt)throw new Error("bad secret key size")}function Tt(){for(var se=0;se<arguments.length;se++)if(!(arguments[se]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function jt(se){for(var xe=0;xe<se.length;xe++)se[xe]=0}i.randomBytes=function(se){var xe=new Uint8Array(se);return s(xe,se),xe},i.secretbox=function(se,xe,ye){Tt(se,xe,ye),Ge(ye,xe);for(var Ce=new Uint8Array(Ke+se.length),Pe=new Uint8Array(Ce.length),ve=0;ve<se.length;ve++)Ce[ve+Ke]=se[ve];return ue(Pe,Ce,Ce.length,xe,ye),Pe.subarray(be)},i.secretbox.open=function(se,xe,ye){Tt(se,xe,ye),Ge(ye,xe);for(var Ce=new Uint8Array(be+se.length),Pe=new Uint8Array(Ce.length),ve=0;ve<se.length;ve++)Ce[ve+be]=se[ve];return Ce.length<32||fe(Pe,Ce,Ce.length,xe,ye)!==0?null:Pe.subarray(Ke)},i.secretbox.keyLength=Rt,i.secretbox.nonceLength=Y,i.secretbox.overheadLength=be,i.scalarMult=function(se,xe){if(Tt(se,xe),se.length!==Fe)throw new Error("bad n size");if(xe.length!==$e)throw new Error("bad p size");var ye=new Uint8Array($e);return kt(ye,se,xe),ye},i.scalarMult.base=function(se){if(Tt(se),se.length!==Fe)throw new Error("bad n size");var xe=new Uint8Array($e);return _t(xe,se),xe},i.scalarMult.scalarLength=Fe,i.scalarMult.groupElementLength=$e,i.box=function(se,xe,ye,Ce){var Pe=i.box.before(ye,Ce);return i.secretbox(se,xe,Pe)},i.box.before=function(se,xe){Tt(se,xe),dt(se,xe);var ye=new Uint8Array(Pt);return Vt(ye,se,xe),ye},i.box.after=i.secretbox,i.box.open=function(se,xe,ye,Ce){var Pe=i.box.before(ye,Ce);return i.secretbox.open(se,xe,Pe)},i.box.open.after=i.secretbox.open,i.box.keyPair=function(){var se=new Uint8Array(Ot),xe=new Uint8Array(Dt);return Nt(se,xe),{publicKey:se,secretKey:xe}},i.box.keyPair.fromSecretKey=function(se){if(Tt(se),se.length!==Dt)throw new Error("bad secret key size");var xe=new Uint8Array(Ot);return _t(xe,se),{publicKey:xe,secretKey:new Uint8Array(se)}},i.box.publicKeyLength=Ot,i.box.secretKeyLength=Dt,i.box.sharedKeyLength=Pt,i.box.nonceLength=dr,i.box.overheadLength=i.secretbox.overheadLength,i.sign=function(se,xe){if(Tt(se,xe),xe.length!==Ae)throw new Error("bad secret key size");var ye=new Uint8Array(ir+se.length);return Te(ye,se,se.length,xe),ye},i.sign.open=function(se,xe){if(Tt(se,xe),xe.length!==pe)throw new Error("bad public key size");var ye=new Uint8Array(se.length),Ce=Kt(ye,se,se.length,xe);if(Ce<0)return null;for(var Pe=new Uint8Array(Ce),ve=0;ve<Pe.length;ve++)Pe[ve]=ye[ve];return Pe},i.sign.detached=function(se,xe){for(var ye=i.sign(se,xe),Ce=new Uint8Array(ir),Pe=0;Pe<Ce.length;Pe++)Ce[Pe]=ye[Pe];return Ce},i.sign.detached.verify=function(se,xe,ye){if(Tt(se,xe,ye),xe.length!==ir)throw new Error("bad signature size");if(ye.length!==pe)throw new Error("bad public key size");var Ce=new Uint8Array(ir+se.length),Pe=new Uint8Array(ir+se.length),ve;for(ve=0;ve<ir;ve++)Ce[ve]=xe[ve];for(ve=0;ve<se.length;ve++)Ce[ve+ir]=se[ve];return Kt(Pe,Ce,Ce.length,ye)>=0},i.sign.keyPair=function(){var se=new Uint8Array(pe),xe=new Uint8Array(Ae);return Oe(se,xe),{publicKey:se,secretKey:xe}},i.sign.keyPair.fromSecretKey=function(se){if(Tt(se),se.length!==Ae)throw new Error("bad secret key size");for(var xe=new Uint8Array(pe),ye=0;ye<xe.length;ye++)xe[ye]=se[32+ye];return{publicKey:xe,secretKey:new Uint8Array(se)}},i.sign.keyPair.fromSeed=function(se){if(Tt(se),se.length!==De)throw new Error("bad seed size");for(var xe=new Uint8Array(pe),ye=new Uint8Array(Ae),Ce=0;Ce<32;Ce++)ye[Ce]=se[Ce];return Oe(xe,ye,!0),{publicKey:xe,secretKey:ye}},i.sign.publicKeyLength=pe,i.sign.secretKeyLength=Ae,i.sign.seedLength=De,i.sign.signatureLength=ir,i.hash=function(se){Tt(se);var xe=new Uint8Array(qe);return lt(xe,se,se.length),xe},i.hash.hashLength=qe,i.verify=function(se,xe){return Tt(se,xe),se.length===0||xe.length===0||se.length!==xe.length?!1:$(se,0,xe,0,se.length)===0},i.setPRNG=function(se){s=se},function(){var se=typeof globalThis<"u"?globalThis.crypto||globalThis.msCrypto:null;if(se&&se.getRandomValues){var xe=65536;i.setPRNG(function(ye,Ce){var Pe,ve=new Uint8Array(Ce);for(Pe=0;Pe<Ce;Pe+=xe)se.getRandomValues(ve.subarray(Pe,Pe+Math.min(Ce-Pe,xe)));for(Pe=0;Pe<Ce;Pe++)ye[Pe]=ve[Pe];jt(ve)})}else typeof require<"u"&&(se=require("crypto"),se&&se.randomBytes&&i.setPRNG(function(ye,Ce){var Pe,ve=se.randomBytes(Ce);for(Pe=0;Pe<Ce;Pe++)ye[Pe]=ve[Pe];jt(ve)}))}()})(typeof module<"u"&&module.exports?module.exports:globalThis.nacl=globalThis.nacl||{});const nacl=typeof module<"u"&&module.exports?module.exports:globalThis.nacl,denoHelper={fromSeed:nacl.sign.keyPair.fromSeed,sign:nacl.sign.detached,verify:nacl.sign.detached.verify,randomBytes:nacl.randomBytes};let helper;function setEd25519Helper(i){helper=i}function getEd25519Helper(){return helper}const crc16tab=new Uint16Array([0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920]);class crc16{static checksum(n){let a=0;for(let s=0;s<n.byteLength;s++){let l=n[s];a=a<<8&65535^crc16tab[(a>>8^l)&255]}return a}static validate(n,a){return crc16.checksum(n)==a}}const b32Alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";class base32{static encode(n){let a=0,s=0,l=new Uint8Array(n),c=new Uint8Array(n.byteLength*2),f=0;for(let p=0;p<l.byteLength;p++)for(s=s<<8|l[p],a+=8;a>=5;){let g=s>>>a-5&31;c[f++]=b32Alphabet.charAt(g).charCodeAt(0),a-=5}if(a>0){let p=s<<5-a&31;c[f++]=b32Alphabet.charAt(p).charCodeAt(0)}return c.slice(0,f)}static decode(n){let a=0,s=0,l=0,c=new Uint8Array(n),f=new Uint8Array(c.byteLength*5/8|0);for(let p=0;p<c.byteLength;p++){let g=String.fromCharCode(c[p]),y=b32Alphabet.indexOf(g);if(y===-1)throw new Error("Illegal Base32 character: "+c[p]);s=s<<5|y,a+=5,a>=8&&(f[l++]=s>>>a-8&255,a-=8)}return f.slice(0,l)}}class NKeysError extends Error{constructor(a,s){super(a);me(this,"name");me(this,"code");me(this,"chainedError");this.name="NKeysError",this.code=a,this.chainedError=s}}function createOperator(){return createPair(Prefix.Operator)}function createAccount(){return createPair(Prefix.Account)}function createUser(){return createPair(Prefix.User)}var NKeysErrorCode;(function(i){i.InvalidPrefixByte="nkeys: invalid prefix byte",i.InvalidKey="nkeys: invalid key",i.InvalidPublicKey="nkeys: invalid public key",i.InvalidSeedLen="nkeys: invalid seed length",i.InvalidSeed="nkeys: invalid seed",i.InvalidEncoding="nkeys: invalid encoded key",i.InvalidSignature="nkeys: signature verification failed",i.CannotSign="nkeys: cannot sign, no private key available",i.PublicKeyOnly="nkeys: no seed or private key available",i.InvalidChecksum="nkeys: invalid checksum",i.SerializationError="nkeys: serialization error",i.ApiError="nkeys: api error",i.ClearedPair="nkeys: pair is cleared"})(NKeysErrorCode||(NKeysErrorCode={}));var Prefix;(function(i){i[i.Seed=144]="Seed",i[i.Private=120]="Private",i[i.Operator=112]="Operator",i[i.Server=104]="Server",i[i.Cluster=16]="Cluster",i[i.Account=0]="Account",i[i.User=160]="User"})(Prefix||(Prefix={}));class Prefixes{static isValidPublicPrefix(n){return n==Prefix.Server||n==Prefix.Operator||n==Prefix.Cluster||n==Prefix.Account||n==Prefix.User}static startsWithValidPrefix(n){let a=n[0];return a=="S"||a=="P"||a=="O"||a=="N"||a=="C"||a=="A"||a=="U"}static isValidPrefix(n){return this.parsePrefix(n)!=-1}static parsePrefix(n){switch(n){case Prefix.Seed:return Prefix.Seed;case Prefix.Private:return Prefix.Private;case Prefix.Operator:return Prefix.Operator;case Prefix.Server:return Prefix.Server;case Prefix.Cluster:return Prefix.Cluster;case Prefix.Account:return Prefix.Account;case Prefix.User:return Prefix.User;default:return-1}}}class Codec{static encode(n,a){if(!a||!(a instanceof Uint8Array))throw new NKeysError(NKeysErrorCode.SerializationError);if(!Prefixes.isValidPrefix(n))throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);return Codec._encode(!1,n,a)}static encodeSeed(n,a){if(!a)throw new NKeysError(NKeysErrorCode.ApiError);if(!Prefixes.isValidPublicPrefix(n))throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);if(a.byteLength!==32)throw new NKeysError(NKeysErrorCode.InvalidSeedLen);return Codec._encode(!0,n,a)}static decode(n,a){if(!Prefixes.isValidPrefix(n))throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);const s=Codec._decode(a);if(s[0]!==n)throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);return s.slice(1)}static decodeSeed(n){const a=Codec._decode(n),s=Codec._decodePrefix(a);if(s[0]!=Prefix.Seed)throw new NKeysError(NKeysErrorCode.InvalidSeed);if(!Prefixes.isValidPublicPrefix(s[1]))throw new NKeysError(NKeysErrorCode.InvalidPrefixByte);return{buf:a.slice(2),prefix:s[1]}}static _encode(n,a,s){const l=n?2:1,c=s.byteLength,f=l+c+2,p=l+c,g=new Uint8Array(f);if(n){const h=Codec._encodePrefix(Prefix.Seed,a);g.set(h)}else g[0]=a;g.set(s,l);const y=crc16.checksum(g.slice(0,p));return new DataView(g.buffer).setUint16(p,y,!0),base32.encode(g)}static _decode(n){if(n.byteLength<4)throw new NKeysError(NKeysErrorCode.InvalidEncoding);let a;try{a=base32.decode(n)}catch(p){throw new NKeysError(NKeysErrorCode.InvalidEncoding,p)}const s=a.byteLength-2,c=new DataView(a.buffer).getUint16(s,!0),f=a.slice(0,s);if(!crc16.validate(f,c))throw new NKeysError(NKeysErrorCode.InvalidChecksum);return f}static _encodePrefix(n,a){const s=n|a>>5,l=(a&31)<<3;return new Uint8Array([s,l])}static _decodePrefix(n){const a=n[0]&248,s=(n[0]&7)<<5|(n[1]&248)>>3;return new Uint8Array([a,s])}}class KP{constructor(n){me(this,"seed");this.seed=n}getRawSeed(){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);return Codec.decodeSeed(this.seed).buf}getSeed(){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);return this.seed}getPublicKey(){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);const n=Codec.decodeSeed(this.seed),a=getEd25519Helper().fromSeed(this.getRawSeed()),s=Codec.encode(n.prefix,a.publicKey);return new TextDecoder().decode(s)}getPrivateKey(){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);const n=getEd25519Helper().fromSeed(this.getRawSeed());return Codec.encode(Prefix.Private,n.secretKey)}sign(n){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);const a=getEd25519Helper().fromSeed(this.getRawSeed());return getEd25519Helper().sign(n,a.secretKey)}verify(n,a){if(!this.seed)throw new NKeysError(NKeysErrorCode.ClearedPair);const s=getEd25519Helper().fromSeed(this.getRawSeed());return getEd25519Helper().verify(n,a,s.publicKey)}clear(){this.seed&&(this.seed.fill(0),this.seed=void 0)}}function createPair(i){const n=getEd25519Helper().randomBytes(32);let a=Codec.encodeSeed(i,new Uint8Array(n));return new KP(a)}class PublicKey{constructor(n){me(this,"publicKey");this.publicKey=n}getPublicKey(){if(!this.publicKey)throw new NKeysError(NKeysErrorCode.ClearedPair);return new TextDecoder().decode(this.publicKey)}getPrivateKey(){throw this.publicKey?new NKeysError(NKeysErrorCode.PublicKeyOnly):new NKeysError(NKeysErrorCode.ClearedPair)}getSeed(){throw this.publicKey?new NKeysError(NKeysErrorCode.PublicKeyOnly):new NKeysError(NKeysErrorCode.ClearedPair)}sign(n){throw this.publicKey?new NKeysError(NKeysErrorCode.CannotSign):new NKeysError(NKeysErrorCode.ClearedPair)}verify(n,a){if(!this.publicKey)throw new NKeysError(NKeysErrorCode.ClearedPair);let s=Codec._decode(this.publicKey);return getEd25519Helper().verify(n,a,s.slice(1))}clear(){this.publicKey&&(this.publicKey.fill(0),this.publicKey=void 0)}}function fromPublic(i){const n=new TextEncoder().encode(i),a=Codec._decode(n),s=Prefixes.parsePrefix(a[0]);if(Prefixes.isValidPublicPrefix(s))return new PublicKey(n);throw new NKeysError(NKeysErrorCode.InvalidPublicKey)}function fromSeed(i){return Codec.decodeSeed(i),new KP(i)}function encode1(i){return btoa(String.fromCharCode(...i))}function decode1(i){const n=atob(i),a=new Uint8Array(n.length);for(let s=0;s<n.length;s++)a[s]=n.charCodeAt(s);return a}setEd25519Helper(denoHelper);const mod={createAccount,createOperator,createPair,createUser,fromPublic,fromSeed,NKeysError,NKeysErrorCode,Prefix,decode:decode1,encode:encode1};function multiAuthenticator(i){return n=>{let a={};return i.forEach(s=>{const l=s(n)||{};a=Object.assign(a,l)}),a}}function noAuthFn(){return()=>{}}function usernamePasswordAuthenticator(i,n){return()=>{const a=typeof i=="function"?i():i,s=typeof n=="function"?n():n;return{user:a,pass:s}}}function tokenAuthenticator(i){return()=>({auth_token:typeof i=="function"?i():i})}function nkeyAuthenticator(i){return n=>{const a=typeof i=="function"?i():i,s=a?mod.fromSeed(a):void 0,l=s?s.getPublicKey():"",c=TE.encode(n||""),f=s!==void 0&&n?s.sign(c):void 0,p=f?mod.encode(f):"";return{nkey:l,sig:p}}}function jwtAuthenticator(i,n){return a=>{const s=typeof i=="function"?i():i,l=nkeyAuthenticator(n),{nkey:c,sig:f}=l(a);return{jwt:s,nkey:c,sig:f}}}function credsAuthenticator(i){const n=typeof i!="function"?()=>i:i,a=()=>{const c=/\s*(?:(?:[-]{3,}[^\n]*[-]{3,}\n)(.+)(?:\n\s*[-]{3,}[^\n]*[-]{3,}\n))/ig,f=TD.decode(n());let p=c.exec(f);if(!p)throw NatsError.errorForCode(ErrorCode.BadCreds);const g=p[1].trim();if(p=c.exec(f),!p||!p)throw NatsError.errorForCode(ErrorCode.BadCreds);const y=TE.encode(p[1].trim());return{jwt:g,seed:y}};return jwtAuthenticator(()=>{const{jwt:c}=a();return c},()=>{const{seed:c}=a();return c})}const DEFAULT_PING_INTERVAL=2*60*1e3,DEFAULT_MAX_PING_OUT=2,DEFAULT_RECONNECT_TIME_WAIT=2*1e3;function defaultOptions(){return{maxPingOut:2,maxReconnectAttempts:10,noRandomize:!1,pedantic:!1,pingInterval:DEFAULT_PING_INTERVAL,reconnect:!0,reconnectJitter:100,reconnectJitterTLS:1e3,reconnectTimeWait:DEFAULT_RECONNECT_TIME_WAIT,tls:void 0,verbose:!1,waitOnFirstConnect:!1,ignoreAuthErrorAbort:!1}}function buildAuthenticator(i){const n=[];return typeof i.authenticator=="function"&&n.push(i.authenticator),Array.isArray(i.authenticator)&&n.push(...i.authenticator),i.token&&n.push(tokenAuthenticator(i.token)),i.user&&n.push(usernamePasswordAuthenticator(i.user,i.pass)),n.length===0?noAuthFn():multiAuthenticator(n)}function parseOptions(i){const n=`${DEFAULT_HOST}:${defaultPort()}`;if(i=i||{servers:[n]},i.servers=i.servers||[],typeof i.servers=="string"&&(i.servers=[i.servers]),i.servers.length>0&&i.port)throw new NatsError("port and servers options are mutually exclusive",ErrorCode.InvalidOption);i.servers.length===0&&i.port&&(i.servers=[`${DEFAULT_HOST}:${i.port}`]),i.servers&&i.servers.length===0&&(i.servers=[n]);const a=extend$2(defaultOptions(),i);if(a.authenticator=buildAuthenticator(a),["reconnectDelayHandler","authenticator"].forEach(s=>{if(a[s]&&typeof a[s]!="function")throw new NatsError(`${s} option should be a function`,ErrorCode.NotFunction)}),a.reconnectDelayHandler||(a.reconnectDelayHandler=()=>{let s=a.tls?a.reconnectJitterTLS:a.reconnectJitter;return s&&(s++,s=Math.floor(Math.random()*s)),a.reconnectTimeWait+s}),a.inboxPrefix)try{createInbox(a.inboxPrefix)}catch(s){throw new NatsError(s.message,ErrorCode.ApiError)}if(a.resolve===void 0&&(a.resolve=typeof getResolveFn()=="function"),a.resolve&&typeof getResolveFn()!="function")throw new NatsError("'resolve' is not supported on this client",ErrorCode.InvalidOption);return a}function checkOptions(i,n){const{proto:a,tls_required:s,tls_available:l}=i;if((a===void 0||a<1)&&n.noEcho)throw new NatsError("noEcho",ErrorCode.ServerOptionNotAvailable);const c=s||l||!1;if(n.tls&&!c)throw new NatsError("tls",ErrorCode.ServerOptionNotAvailable)}const FLUSH_THRESHOLD=1024*32,INFO=/^INFO\s+([^\r\n]+)\r\n/i,PONG_CMD=encode(`PONG\r
`),PING_CMD=encode(`PING\r
`);class Connect{constructor(n,a,s){me(this,"echo");me(this,"no_responders");me(this,"protocol");me(this,"verbose");me(this,"pedantic");me(this,"jwt");me(this,"nkey");me(this,"sig");me(this,"user");me(this,"pass");me(this,"auth_token");me(this,"tls_required");me(this,"name");me(this,"lang");me(this,"version");me(this,"headers");this.protocol=1,this.version=n.version,this.lang=n.lang,this.echo=a.noEcho?!1:void 0,this.verbose=a.verbose,this.pedantic=a.pedantic,this.tls_required=a.tls?!0:void 0,this.name=a.name;const l=(a&&typeof a.authenticator=="function"?a.authenticator(s):{})||{};extend$2(this,l)}}class SubscriptionImpl extends QueuedIteratorImpl{constructor(a,s,l={}){var f;super();me(this,"sid");me(this,"queue");me(this,"draining");me(this,"max");me(this,"subject");me(this,"drained");me(this,"protocol");me(this,"timer");me(this,"info");me(this,"cleanupFn");me(this,"closed");me(this,"requestSubject");extend$2(this,l),this.protocol=a,this.subject=s,this.draining=!1,this.noIterator=typeof l.callback=="function",this.closed=deferred();const c=!((f=a.options)!=null&&f.noAsyncTraces);l.timeout&&(this.timer=timeout(l.timeout,c),this.timer.then(()=>{this.timer=void 0}).catch(p=>{this.stop(p),this.noIterator&&this.callback(p,{})})),this.noIterator||this.iterClosed.then(()=>{this.closed.resolve(),this.unsubscribe()})}setPrePostHandlers(a){if(this.noIterator){const s=this.callback,l=a.ingestionFilterFn?a.ingestionFilterFn:()=>({ingest:!0,protocol:!1}),c=a.protocolFilterFn?a.protocolFilterFn:()=>!0,f=a.dispatchedFn?a.dispatchedFn:()=>{};this.callback=(p,g)=>{const{ingest:y}=l(g);y&&c(g)&&(s(p,g),f(g))}}else this.protocolFilterFn=a.protocolFilterFn,this.dispatchedFn=a.dispatchedFn}callback(a,s){this.cancelTimeout(),a?this.stop(a):this.push(s)}close(){if(!this.isClosed()){this.cancelTimeout();const a=()=>{if(this.stop(),this.cleanupFn)try{this.cleanupFn(this,this.info)}catch{}this.closed.resolve()};this.noIterator?a():this.push(a)}}unsubscribe(a){this.protocol.unsubscribe(this,a)}cancelTimeout(){this.timer&&(this.timer.cancel(),this.timer=void 0)}drain(){return this.protocol.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionClosed)):this.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.SubClosed)):(this.drained||(this.draining=!0,this.protocol.unsub(this),this.drained=this.protocol.flush(deferred()).then(()=>{this.protocol.subscriptions.cancel(this)}).catch(()=>{this.protocol.subscriptions.cancel(this)})),this.drained)}isDraining(){return this.draining}isClosed(){return this.done}getSubject(){return this.subject}getMax(){return this.max}getID(){return this.sid}}class Subscriptions{constructor(){me(this,"mux");me(this,"subs");me(this,"sidCounter");this.sidCounter=0,this.mux=null,this.subs=new Map}size(){return this.subs.size}add(n){return this.sidCounter++,n.sid=this.sidCounter,this.subs.set(n.sid,n),n}setMux(n){return this.mux=n,n}getMux(){return this.mux}get(n){return this.subs.get(n)}resub(n){return this.sidCounter++,this.subs.delete(n.sid),n.sid=this.sidCounter,this.subs.set(n.sid,n),n}all(){return Array.from(this.subs.values())}cancel(n){n&&(n.close(),this.subs.delete(n.sid))}handleError(n){if(n&&n.permissionContext){const a=n.permissionContext,s=this.all();let l;if(a.operation==="subscription"&&(l=s.find(c=>c.subject===a.subject&&c.queue===a.queue)),a.operation==="publish"&&(l=s.find(c=>c.requestSubject===a.subject)),l)return l.callback(n,{}),l.close(),this.subs.delete(l.sid),l!==this.mux}return!1}close(){this.subs.forEach(n=>{n.close()})}}class ProtocolHandler{constructor(n,a){me(this,"connected");me(this,"connectedOnce");me(this,"infoReceived");me(this,"info");me(this,"muxSubscriptions");me(this,"options");me(this,"outbound");me(this,"pongs");me(this,"subscriptions");me(this,"transport");me(this,"noMorePublishing");me(this,"connectError");me(this,"publisher");me(this,"_closed");me(this,"closed");me(this,"listeners");me(this,"heartbeats");me(this,"parser");me(this,"outMsgs");me(this,"inMsgs");me(this,"outBytes");me(this,"inBytes");me(this,"pendingLimit");me(this,"lastError");me(this,"abortReconnect");me(this,"whyClosed");me(this,"servers");me(this,"server");me(this,"features");me(this,"connectPromise");this._closed=!1,this.connected=!1,this.connectedOnce=!1,this.infoReceived=!1,this.noMorePublishing=!1,this.abortReconnect=!1,this.listeners=[],this.pendingLimit=FLUSH_THRESHOLD,this.outMsgs=0,this.inMsgs=0,this.outBytes=0,this.inBytes=0,this.options=n,this.publisher=a,this.subscriptions=new Subscriptions,this.muxSubscriptions=new MuxSubscription,this.outbound=new DataBuffer,this.pongs=[],this.whyClosed="",this.pendingLimit=n.pendingLimit||this.pendingLimit,this.features=new Features({major:0,minor:0,micro:0}),this.connectPromise=null;const s=typeof n.servers=="string"?[n.servers]:n.servers;this.servers=new Servers(s,{randomize:!n.noRandomize}),this.closed=deferred(),this.parser=new Parser(this),this.heartbeats=new Heartbeat(this,this.options.pingInterval||DEFAULT_PING_INTERVAL,this.options.maxPingOut||DEFAULT_MAX_PING_OUT)}resetOutbound(){this.outbound.reset();const n=this.pongs;this.pongs=[];const a=NatsError.errorForCode(ErrorCode.Disconnect);a.stack="",n.forEach(s=>{s.reject(a)}),this.parser=new Parser(this),this.infoReceived=!1}dispatchStatus(n){this.listeners.forEach(a=>{a.push(n)})}status(){const n=new QueuedIteratorImpl;return this.listeners.push(n),n}prepare(){this.transport&&this.transport.discard(),this.info=void 0,this.resetOutbound();const n=deferred();return n.catch(()=>{}),this.pongs.unshift(n),this.connectError=a=>{n.reject(a)},this.transport=newTransport(),this.transport.closed().then(async a=>{if(this.connected=!1,!this.isClosed()){await this.disconnected(this.transport.closeError||this.lastError);return}}),n}disconnect(){this.dispatchStatus({type:DebugEvents.StaleConnection,data:""}),this.transport.disconnect()}reconnect(){return this.connected&&(this.dispatchStatus({type:DebugEvents.ClientInitiatedReconnect,data:""}),this.transport.disconnect()),Promise.resolve()}async disconnected(n){this.dispatchStatus({type:Events.Disconnect,data:this.servers.getCurrentServer().toString()}),this.options.reconnect?await this.dialLoop().then(()=>{var a;this.dispatchStatus({type:Events.Reconnect,data:this.servers.getCurrentServer().toString()}),((a=this.lastError)==null?void 0:a.code)===ErrorCode.AuthenticationExpired&&(this.lastError=void 0)}).catch(a=>{this._close(a)}):await this._close(n)}async dial(n){const a=this.prepare();let s;try{s=timeout(this.options.timeout||2e4);const l=this.transport.connect(n,this.options);await Promise.race([l,s]),(async()=>{try{for await(const c of this.transport)this.parser.parse(c)}catch(c){console.log("reader closed",c)}})().then()}catch(l){a.reject(l)}try{await Promise.race([s,a]),s&&s.cancel(),this.connected=!0,this.connectError=void 0,this.sendSubscriptions(),this.connectedOnce=!0,this.server.didConnect=!0,this.server.reconnects=0,this.flushPending(),this.heartbeats.start()}catch(l){throw s&&s.cancel(),await this.transport.close(l),l}}async _doDial(n){const{resolve:a}=this.options,s=await n.resolve({fn:getResolveFn(),debug:this.options.debug,randomize:!this.options.noRandomize,resolve:a});let l=null;for(const c of s)try{l=null,this.dispatchStatus({type:DebugEvents.Reconnecting,data:c.toString()}),await this.dial(c);return}catch(f){l=f}throw l}dialLoop(){return this.connectPromise===null&&(this.connectPromise=this.dodialLoop(),this.connectPromise.then(()=>{}).catch(()=>{}).finally(()=>{this.connectPromise=null})),this.connectPromise}async dodialLoop(){let n;for(;;){this._closed&&this.servers.clear();const a=this.options.reconnectDelayHandler?this.options.reconnectDelayHandler():DEFAULT_RECONNECT_TIME_WAIT;let s=a;const l=this.selectServer();if(!l||this.abortReconnect)throw n||(this.lastError?this.lastError:NatsError.errorForCode(ErrorCode.ConnectionRefused));const c=Date.now();if(l.lastConnect===0||l.lastConnect+a<=c){l.lastConnect=Date.now();try{await this._doDial(l);break}catch(f){if(n=f,!this.connectedOnce){if(this.options.waitOnFirstConnect)continue;this.servers.removeCurrentServer()}l.reconnects++;const p=this.options.maxReconnectAttempts||0;p!==-1&&l.reconnects>=p&&this.servers.removeCurrentServer()}}else s=Math.min(s,l.lastConnect+a-c),await delay(s)}}static async connect(n,a){const s=new ProtocolHandler(n,a);return await s.dialLoop(),s}static toError(n){const a=n?n.toLowerCase():"";if(a.indexOf("permissions violation")!==-1){const s=new NatsError(n,ErrorCode.PermissionsViolation),l=n.match(/(Publish|Subscription) to "(\S+)"/);if(l){s.permissionContext={operation:l[1].toLowerCase(),subject:l[2],queue:void 0};const c=n.match(/using queue "(\S+)"/);c&&(s.permissionContext.queue=c[1])}return s}else return a.indexOf("authorization violation")!==-1?new NatsError(n,ErrorCode.AuthorizationViolation):a.indexOf("user authentication expired")!==-1?new NatsError(n,ErrorCode.AuthenticationExpired):a.indexOf("account authentication expired")!=-1?new NatsError(n,ErrorCode.AccountExpired):a.indexOf("authentication timeout")!==-1?new NatsError(n,ErrorCode.AuthenticationTimeout):new NatsError(n,ErrorCode.ProtocolError)}processMsg(n,a){if(this.inMsgs++,this.inBytes+=a.length,!this.subscriptions.sidCounter)return;const s=this.subscriptions.get(n.sid);s&&(s.received+=1,s.callback&&s.callback(null,new MsgImpl(n,a,this)),s.max!==void 0&&s.received>=s.max&&s.unsubscribe())}processError(n){const a=decode$1(n),s=ProtocolHandler.toError(a),l={type:Events.Error,data:s.code};if(s.isPermissionError()){let c=!1;if(s.permissionContext){l.permissionContext=s.permissionContext;const f=this.subscriptions.getMux();c=(f==null?void 0:f.subject)===s.permissionContext.subject}this.subscriptions.handleError(s),this.muxSubscriptions.handleError(c,s),c&&this.subscriptions.setMux(null)}this.dispatchStatus(l),this.handleError(s)}handleError(n){n.isAuthError()?this.handleAuthError(n):n.isProtocolError()?this.lastError=n:n.isAuthTimeout()&&(this.lastError=n),n.isPermissionError()||(this.lastError=n)}handleAuthError(n){this.lastError&&n.code===this.lastError.code&&this.options.ignoreAuthErrorAbort===!1&&(this.abortReconnect=!0),this.connectError?this.connectError(n):this.disconnect()}processPing(){this.transport.send(PONG_CMD)}processPong(){const n=this.pongs.shift();n&&n.resolve()}processInfo(n){const a=JSON.parse(decode$1(n));this.info=a;const s=this.options&&this.options.ignoreClusterUpdates?void 0:this.servers.update(a,this.transport.isEncrypted());if(!this.infoReceived){this.features.update(parseSemVer(a.version)),this.infoReceived=!0,this.transport.isEncrypted()&&this.servers.updateTLSName();const{version:c,lang:f}=this.transport;try{const p=new Connect({version:c,lang:f},this.options,a.nonce);a.headers&&(p.headers=!0,p.no_responders=!0);const g=JSON.stringify(p);this.transport.send(encode(`CONNECT ${g}${CR_LF}`)),this.transport.send(PING_CMD)}catch(p){this._close(p)}}s&&this.dispatchStatus({type:Events.Update,data:s}),(a.ldm!==void 0?a.ldm:!1)&&this.dispatchStatus({type:Events.LDM,data:this.servers.getCurrentServer().toString()})}push(n){switch(n.kind){case Kind.MSG:{const{msg:a,data:s}=n;this.processMsg(a,s);break}case Kind.OK:break;case Kind.ERR:this.processError(n.data);break;case Kind.PING:this.processPing();break;case Kind.PONG:this.processPong();break;case Kind.INFO:this.processInfo(n.data);break}}sendCommand(n,...a){const s=this.outbound.length();let l;typeof n=="string"?l=encode(n):l=n,this.outbound.fill(l,...a),s===0?queueMicrotask(()=>{this.flushPending()}):this.outbound.size()>=this.pendingLimit&&this.flushPending()}publish(n,a=Empty,s){let l;if(a instanceof Uint8Array)l=a;else if(typeof a=="string")l=TE.encode(a);else throw NatsError.errorForCode(ErrorCode.BadPayload);let c=l.length;s=s||{},s.reply=s.reply||"";let f=Empty,p=0;if(s.headers){if(this.info&&!this.info.headers)throw new NatsError("headers",ErrorCode.ServerOptionNotAvailable);f=s.headers.encode(),p=f.length,c=l.length+p}if(this.info&&c>this.info.max_payload)throw NatsError.errorForCode(ErrorCode.MaxPayloadExceeded);this.outBytes+=c,this.outMsgs++;let g;s.headers?(s.reply?g=`HPUB ${n} ${s.reply} ${p} ${c}\r
`:g=`HPUB ${n} ${p} ${c}\r
`,this.sendCommand(g,f,l,CRLF)):(s.reply?g=`PUB ${n} ${s.reply} ${c}\r
`:g=`PUB ${n} ${c}\r
`,this.sendCommand(g,l,CRLF))}request(n){return this.initMux(),this.muxSubscriptions.add(n),n}subscribe(n){return this.subscriptions.add(n),this._subunsub(n),n}_sub(n){n.queue?this.sendCommand(`SUB ${n.subject} ${n.queue} ${n.sid}\r
`):this.sendCommand(`SUB ${n.subject} ${n.sid}\r
`)}_subunsub(n){return this._sub(n),n.max&&this.unsubscribe(n,n.max),n}unsubscribe(n,a){this.unsub(n,a),(n.max===void 0||n.received>=n.max)&&this.subscriptions.cancel(n)}unsub(n,a){!n||this.isClosed()||(a?this.sendCommand(`UNSUB ${n.sid} ${a}\r
`):this.sendCommand(`UNSUB ${n.sid}\r
`),n.max=a)}resub(n,a){!n||this.isClosed()||(this.unsub(n),n.subject=a,this.subscriptions.resub(n),this._sub(n))}flush(n){return n||(n=deferred()),this.pongs.push(n),this.outbound.fill(PING_CMD),this.flushPending(),n}sendSubscriptions(){const n=[];this.subscriptions.all().forEach(a=>{const s=a;s.queue?n.push(`SUB ${s.subject} ${s.queue} ${s.sid}${CR_LF}`):n.push(`SUB ${s.subject} ${s.sid}${CR_LF}`)}),n.length&&this.transport.send(encode(n.join("")))}async _close(n){this._closed||(this.whyClosed=new Error("close trace").stack||"",this.heartbeats.cancel(),this.connectError&&(this.connectError(n),this.connectError=void 0),this.muxSubscriptions.close(),this.subscriptions.close(),this.listeners.forEach(a=>{a.stop()}),this._closed=!0,await this.transport.close(n),await this.closed.resolve(n))}close(){return this._close()}isClosed(){return this._closed}drain(){const n=this.subscriptions.all(),a=[];return n.forEach(s=>{a.push(s.drain())}),Promise.all(a).then(async()=>(this.noMorePublishing=!0,await this.flush(),this.close())).catch(()=>{})}flushPending(){if(!(!this.infoReceived||!this.connected)&&this.outbound.size()){const n=this.outbound.drain();this.transport.send(n)}}initMux(){if(!this.subscriptions.getMux()){const a=this.muxSubscriptions.init(this.options.inboxPrefix),s=new SubscriptionImpl(this,`${a}*`);s.callback=this.muxSubscriptions.dispatcher(),this.subscriptions.setMux(s),this.subscribe(s)}}selectServer(){const n=this.servers.selectServer();if(n!==void 0)return this.server=n,this.server}getServer(){return this.server}}const ServiceApiPrefix="$SRV";class ServiceMsgImpl{constructor(n){me(this,"msg");this.msg=n}get data(){return this.msg.data}get sid(){return this.msg.sid}get subject(){return this.msg.subject}get reply(){return this.msg.reply||""}get headers(){return this.msg.headers}respond(n,a){return this.msg.respond(n,a)}respondError(n,a,s,l){var c,f;return l=l||{},l.headers=l.headers||headers(),(c=l.headers)==null||c.set(ServiceErrorCodeHeader,`${n}`),(f=l.headers)==null||f.set(ServiceErrorHeader,a),this.msg.respond(s,l)}json(n){return this.msg.json(n)}string(){return this.msg.string()}}class ServiceGroupImpl{constructor(n,a="",s=""){me(this,"subject");me(this,"queue");me(this,"srv");a!==""&&validInternalToken("service group",a);let l="";if(n instanceof ServiceImpl)this.srv=n,l="";else if(n instanceof ServiceGroupImpl){const c=n;this.srv=c.srv,s===""&&c.queue!==""&&(s=c.queue),l=c.subject}else throw new Error("unknown ServiceGroup type");this.subject=this.calcSubject(l,a),this.queue=s}calcSubject(n,a=""){return a===""?n:n!==""?`${n}.${a}`:a}addEndpoint(n="",a){a=a||{subject:n};const s=typeof a=="function"?{handler:a,subject:n}:a;validateName("endpoint",n);let{subject:l,handler:c,metadata:f,queue:p}=s;l=l||n,p=p||this.queue,validSubjectName("endpoint subject",l),l=this.calcSubject(this.subject,l);const g={name:n,subject:l,queue:p,handler:c,metadata:f};return this.srv._addEndpoint(g)}addGroup(n="",a=""){return new ServiceGroupImpl(this,n,a)}}function validSubjectName(i,n){if(n==="")throw new Error(`${i} cannot be empty`);if(n.indexOf(" ")!==-1)throw new Error(`${i} cannot contain spaces: '${n}'`);const a=n.split(".");a.forEach((s,l)=>{if(s===">"&&l!==a.length-1)throw new Error(`${i} cannot have internal '>': '${n}'`)})}function validInternalToken(i,n){if(n.indexOf(" ")!==-1)throw new Error(`${i} cannot contain spaces: '${n}'`);n.split(".").forEach(s=>{if(s===">")throw new Error(`${i} name cannot contain internal '>': '${n}'`)})}class ServiceImpl{constructor(n,a={name:"",version:""}){me(this,"nc");me(this,"_id");me(this,"config");me(this,"handlers");me(this,"internal");me(this,"_stopped");me(this,"_done");me(this,"started");this.nc=n,this.config=Object.assign({},a),this.config.queue||(this.config.queue="q"),validateName("name",this.config.name),validateName("queue",this.config.queue),parseSemVer(this.config.version),this._id=nuid.next(),this.internal=[],this._done=deferred(),this._stopped=!1,this.handlers=[],this.started=new Date().toISOString(),this.reset(),this.nc.closed().then(()=>{this.close().catch()}).catch(s=>{this.close(s).catch()})}static controlSubject(n,a="",s="",l){const c=l??ServiceApiPrefix;return a===""&&s===""?`${c}.${n}`:(validateName("control subject name",a),s!==""?(validateName("control subject id",s),`${c}.${n}.${a}.${s}`):`${c}.${n}.${a}`)}get subjects(){return this.handlers.filter(n=>n.internal===!1).map(n=>n.subject)}get id(){return this._id}get name(){return this.config.name}get description(){return this.config.description??""}get version(){return this.config.version}get metadata(){return this.config.metadata}errorToHeader(n){const a=headers();if(n instanceof ServiceError){const s=n;a.set(ServiceErrorHeader,s.message),a.set(ServiceErrorCodeHeader,`${s.code}`)}else a.set(ServiceErrorHeader,n.message),a.set(ServiceErrorCodeHeader,"500");return a}setupHandler(n,a=!1){const s=a?"":n.queue?n.queue:this.config.queue,{name:l,subject:c,handler:f}=n,p=n;p.internal=a,a&&this.internal.push(p),p.stats=new NamedEndpointStatsImpl(l,c,s),p.queue=s;const g=f?(y,b)=>{if(y){this.close(y);return}const h=Date.now();try{f(y,new ServiceMsgImpl(b))}catch(d){p.stats.countError(d),b==null||b.respond(Empty,{headers:this.errorToHeader(d)})}finally{p.stats.countLatency(h)}}:void 0;return p.sub=this.nc.subscribe(c,{callback:g,queue:s}),p.sub.closed.then(()=>{this._stopped||this.close(new Error(`required subscription ${n.subject} stopped`)).catch()}).catch(y=>{if(!this._stopped){const b=new Error(`required subscription ${n.subject} errored: ${y.message}`);b.stack=y.stack,this.close(b).catch()}}),p}info(){return{type:ServiceResponseType.INFO,name:this.name,id:this.id,version:this.version,description:this.description,metadata:this.metadata,endpoints:this.endpoints()}}endpoints(){return this.handlers.map(n=>{const{subject:a,metadata:s,name:l,queue:c}=n;return{subject:a,metadata:s,name:l,queue_group:c}})}async stats(){const n=[];for(const a of this.handlers){if(typeof this.config.statsHandler=="function")try{a.stats.data=await this.config.statsHandler(a)}catch(s){a.stats.countError(s)}n.push(a.stats.stats(a.qi))}return{type:ServiceResponseType.STATS,name:this.name,id:this.id,version:this.version,started:this.started,metadata:this.metadata,endpoints:n}}addInternalHandler(n,a){const s=`${n}`.toUpperCase();this._doAddInternalHandler(`${s}-all`,n,a),this._doAddInternalHandler(`${s}-kind`,n,a,this.name),this._doAddInternalHandler(`${s}`,n,a,this.name,this.id)}_doAddInternalHandler(n,a,s,l="",c=""){const f={};f.name=n,f.subject=ServiceImpl.controlSubject(a,l,c),f.handler=s,this.setupHandler(f,!0)}start(){const n=JSONCodec(),a=(f,p)=>f?(this.close(f),Promise.reject(f)):this.stats().then(g=>(p==null||p.respond(n.encode(g)),Promise.resolve())),s=(f,p)=>f?(this.close(f),Promise.reject(f)):(p==null||p.respond(n.encode(this.info())),Promise.resolve()),l=n.encode(this.ping()),c=(f,p)=>f?(this.close(f).then().catch(),Promise.reject(f)):(p.respond(l),Promise.resolve());return this.addInternalHandler(ServiceVerb.PING,c),this.addInternalHandler(ServiceVerb.STATS,a),this.addInternalHandler(ServiceVerb.INFO,s),this.handlers.forEach(f=>{const{subject:p}=f;typeof p=="string"&&f.handler!==null&&this.setupHandler(f)}),Promise.resolve(this)}close(n){if(this._stopped)return this._done;this._stopped=!0;let a=[];return this.nc.isClosed()||(a=this.handlers.concat(this.internal).map(s=>s.sub.drain())),Promise.allSettled(a).then(()=>{this._done.resolve(n||null)}),this._done}get stopped(){return this._done}get isStopped(){return this._stopped}stop(n){return this.close(n)}ping(){return{type:ServiceResponseType.PING,name:this.name,id:this.id,version:this.version,metadata:this.metadata}}reset(){if(this.started=new Date().toISOString(),this.handlers)for(const n of this.handlers)n.stats.reset(n.qi)}addGroup(n,a){return new ServiceGroupImpl(this,n,a)}addEndpoint(n,a){return new ServiceGroupImpl(this).addEndpoint(n,a)}_addEndpoint(n){const a=new QueuedIteratorImpl;a.noIterator=typeof n.handler=="function",a.noIterator||(n.handler=(l,c)=>{l?this.stop(l).catch():a.push(new ServiceMsgImpl(c))},a.iterClosed.then(()=>{this.close().catch()}));const s=this.setupHandler(n,!1);return s.qi=a,this.handlers.push(s),a}}class NamedEndpointStatsImpl{constructor(n,a,s=""){me(this,"name");me(this,"subject");me(this,"average_processing_time");me(this,"num_requests");me(this,"processing_time");me(this,"num_errors");me(this,"last_error");me(this,"data");me(this,"metadata");me(this,"queue");this.name=n,this.subject=a,this.average_processing_time=0,this.num_errors=0,this.num_requests=0,this.processing_time=0,this.queue=s}reset(n){this.num_requests=0,this.processing_time=0,this.average_processing_time=0,this.num_errors=0,this.last_error=void 0,this.data=void 0;const a=n;a&&(a.time=0,a.processed=0)}countLatency(n){this.num_requests++,this.processing_time+=nanos(Date.now()-n),this.average_processing_time=Math.round(this.processing_time/this.num_requests)}countError(n){this.num_errors++,this.last_error=n.message}_stats(){const{name:n,subject:a,average_processing_time:s,num_errors:l,num_requests:c,processing_time:f,last_error:p,data:g,queue:y}=this;return{name:n,subject:a,average_processing_time:s,num_errors:l,num_requests:c,processing_time:f,last_error:p,data:g,queue_group:y}}stats(n){const a=n;return(a==null?void 0:a.noIterator)===!1&&(this.processing_time=nanos(a.time),this.num_requests=a.processed,this.average_processing_time=this.processing_time>0&&this.num_requests>0?this.processing_time/this.num_requests:0),this._stats()}}class ServiceClientImpl{constructor(n,a={strategy:RequestStrategy.JitterTimer,maxWait:2e3},s){me(this,"nc");me(this,"prefix");me(this,"opts");this.nc=n,this.prefix=s,this.opts=a}ping(n="",a=""){return this.q(ServiceVerb.PING,n,a)}stats(n="",a=""){return this.q(ServiceVerb.STATS,n,a)}info(n="",a=""){return this.q(ServiceVerb.INFO,n,a)}async q(n,a="",s=""){const l=new QueuedIteratorImpl,c=JSONCodec(),f=ServiceImpl.controlSubject(n,a,s,this.prefix),p=await this.nc.requestMany(f,Empty,this.opts);return(async()=>{for await(const g of p)try{const y=c.decode(g.data);l.push(y)}catch(y){l.push(()=>{l.stop(y)})}l.push(()=>{l.stop()})})().catch(g=>{l.stop(g)}),l}}function NoopKvCodecs(){return{key:{encode(i){return i},decode(i){return i}},value:{encode(i){return i},decode(i){return i}}}}function defaultBucketOpts(){return{replicas:1,history:1,timeout:2e3,max_bytes:-1,maxValueSize:-1,codec:NoopKvCodecs(),storage:StorageType.File}}const kvOperationHdr="KV-Operation",kvSubjectPrefix="$KV",validKeyRe=/^[-/=.\w]+$/,validSearchKey=/^[-/=.>*\w]+$/,validBucketRe=/^[-\w]+$/;function validateKey(i){if(i.startsWith(".")||i.endsWith(".")||!validKeyRe.test(i))throw new Error(`invalid key: ${i}`)}function validateSearchKey(i){if(i.startsWith(".")||i.endsWith(".")||!validSearchKey.test(i))throw new Error(`invalid key: ${i}`)}function hasWildcards(i){if(i.startsWith(".")||i.endsWith("."))throw new Error(`invalid key: ${i}`);const n=i.split(".");let a=!1;for(let s=0;s<n.length;s++)switch(n[s]){case"*":a=!0;break;case">":if(s!==n.length-1)throw new Error(`invalid key: ${i}`);a=!0;break}return a}function validateBucket(i){if(!validBucketRe.test(i))throw new Error(`invalid bucket name: ${i}`)}var PubHeaders;(function(i){i.MsgIdHdr="Nats-Msg-Id",i.ExpectedStreamHdr="Nats-Expected-Stream",i.ExpectedLastSeqHdr="Nats-Expected-Last-Sequence",i.ExpectedLastMsgIdHdr="Nats-Expected-Last-Msg-Id",i.ExpectedLastSubjectSequenceHdr="Nats-Expected-Last-Subject-Sequence"})(PubHeaders||(PubHeaders={}));class Bucket{constructor(n,a,s){me(this,"js");me(this,"jsm");me(this,"stream");me(this,"bucket");me(this,"direct");me(this,"codec");me(this,"prefix");me(this,"editPrefix");me(this,"useJsPrefix");me(this,"_prefixLen");me(this,"validateKey",validateKey);me(this,"validateSearchKey",validateSearchKey);me(this,"hasWildcards",hasWildcards);validateBucket(n),this.js=a,this.jsm=s,this.bucket=n,this.prefix=kvSubjectPrefix,this.editPrefix="",this.useJsPrefix=!1,this._prefixLen=0}static async create(n,a,s={}){validateBucket(a);const l=await n.jetstreamManager(),c=new Bucket(a,n,l);return await c.init(s),c}static async bind(n,a,s={}){const l=await n.jetstreamManager(),c={config:{allow_direct:s.allow_direct}};validateBucket(a);const f=new Bucket(a,n,l);return c.config.name=s.streamName??f.bucketName(),Object.assign(f,c),f.stream=c.config.name,f.codec=s.codec||NoopKvCodecs(),f.direct=c.config.allow_direct??!1,f.initializePrefixes(c),f}async init(n={}){const a=Object.assign(defaultBucketOpts(),n);this.codec=a.codec;const s={};this.stream=s.name=n.streamName??this.bucketName(),s.retention=RetentionPolicy.Limits,s.max_msgs_per_subject=a.history,a.maxBucketSize&&(a.max_bytes=a.maxBucketSize),a.max_bytes&&(s.max_bytes=a.max_bytes),s.max_msg_size=a.maxValueSize,s.storage=a.storage;const l=n.placementCluster??"";if(l&&(n.placement={},n.placement.cluster=l,n.placement.tags=[]),n.placement&&(s.placement=n.placement),n.republish&&(s.republish=n.republish),n.description&&(s.description=n.description),n.mirror){const h=Object.assign({},n.mirror);h.name.startsWith(kvPrefix)||(h.name=`${kvPrefix}${h.name}`),s.mirror=h,s.mirror_direct=!0}else if(n.sources){const h=n.sources.map(d=>{const v=Object.assign({},d),_=v.name.startsWith(kvPrefix)?v.name.substring(kvPrefix.length):v.name;return v.name.startsWith(kvPrefix)||(v.name=`${kvPrefix}${v.name}`),!d.external&&_!==this.bucket&&(v.subject_transforms=[{src:`$KV.${_}.>`,dest:`$KV.${this.bucket}.>`}]),v});s.sources=h,s.subjects=[this.subjectForBucket()]}else s.subjects=[this.subjectForBucket()];n.metadata&&(s.metadata=n.metadata),typeof n.compression=="boolean"&&(s.compression=n.compression?StoreCompression.S2:StoreCompression.None);const c=this.js.nc,f=c.getServerVersion(),p=f?compare(f,parseSemVer("2.7.2"))>=0:!1;s.discard=p?DiscardPolicy.New:DiscardPolicy.Old;const{ok:g,min:y}=c.features.get(Feature.JS_ALLOW_DIRECT);if(!g&&n.allow_direct===!0){const h=f?`${f.major}.${f.minor}.${f.micro}`:"unknown";return Promise.reject(new Error(`allow_direct is not available on server version ${h} - requires ${y}`))}n.allow_direct=typeof n.allow_direct=="boolean"?n.allow_direct:g,s.allow_direct=n.allow_direct,this.direct=s.allow_direct,s.num_replicas=a.replicas,a.ttl&&(s.max_age=nanos(a.ttl)),s.allow_rollup_hdrs=!0;let b;try{b=await this.jsm.streams.info(s.name),!b.config.allow_direct&&this.direct===!0&&(this.direct=!1)}catch(h){if(h.message==="stream not found")b=await this.jsm.streams.add(s);else throw h}this.initializePrefixes(b)}initializePrefixes(n){this._prefixLen=0,this.prefix=`$KV.${this.bucket}`,this.useJsPrefix=this.js.apiPrefix!=="$JS.API";const{mirror:a}=n.config;if(a){let s=a.name;if(s.startsWith(kvPrefix)&&(s=s.substring(kvPrefix.length)),a.external&&a.external.api!==""){const l=a.name.substring(kvPrefix.length);this.useJsPrefix=!1,this.prefix=`$KV.${l}`,this.editPrefix=`${a.external.api}.$KV.${s}`}else this.editPrefix=this.prefix}}bucketName(){return this.stream??`${kvPrefix}${this.bucket}`}subjectForBucket(){return`${this.prefix}.${this.bucket}.>`}subjectForKey(n,a=!1){const s=[];return a?(this.useJsPrefix&&s.push(this.js.apiPrefix),this.editPrefix!==""?s.push(this.editPrefix):s.push(this.prefix)):this.prefix&&s.push(this.prefix),s.push(n),s.join(".")}fullKeyName(n){return this.prefix!==""?`${this.prefix}.${n}`:`${kvSubjectPrefix}.${this.bucket}.${n}`}get prefixLen(){return this._prefixLen===0&&(this._prefixLen=this.prefix.length+1),this._prefixLen}encodeKey(n){const a=[];for(const s of n.split("."))switch(s){case">":case"*":a.push(s);break;default:a.push(this.codec.key.encode(s));break}return a.join(".")}decodeKey(n){const a=[];for(const s of n.split("."))switch(s){case">":case"*":a.push(s);break;default:a.push(this.codec.key.decode(s));break}return a.join(".")}close(){return Promise.resolve()}dataLen(n,a){const s=a&&a.get(JsHeaders.MessageSizeHdr)||"";return s!==""?parseInt(s,10):n.length}smToEntry(n){return new KvStoredEntryImpl(this.bucket,this.prefixLen,n)}jmToEntry(n){const a=this.decodeKey(n.subject.substring(this.prefixLen));return new KvJsMsgEntryImpl(this.bucket,a,n)}async create(n,a){var c;let s;try{const f=await this.put(n,a,{previousSeq:0});return Promise.resolve(f)}catch(f){if(s=f,((c=f==null?void 0:f.api_error)==null?void 0:c.err_code)!==10071)return Promise.reject(f)}let l=0;try{const f=await this.get(n);return(f==null?void 0:f.operation)==="DEL"||(f==null?void 0:f.operation)==="PURGE"?(l=f!==null?f.revision:0,this.update(n,a,l)):Promise.reject(s)}catch(f){return Promise.reject(f)}}update(n,a,s){if(s<=0)throw new Error("version must be greater than 0");return this.put(n,a,{previousSeq:s})}async put(n,a,s={}){var f,p;const l=this.encodeKey(n);this.validateKey(l);const c={};if(s.previousSeq!==void 0){const g=headers();c.headers=g,g.set(PubHeaders.ExpectedLastSubjectSequenceHdr,`${s.previousSeq}`)}try{return(await this.js.publish(this.subjectForKey(l,!0),a,c)).seq}catch(g){const y=g;return y.isJetStreamError()?(y.message=(f=y.api_error)==null?void 0:f.description,y.code=`${(p=y.api_error)==null?void 0:p.code}`,Promise.reject(y)):Promise.reject(g)}}async get(n,a){const s=this.encodeKey(n);this.validateKey(s);let l={last_by_subj:this.subjectForKey(s)};a&&a.revision>0&&(l={seq:a.revision});let c;try{this.direct?c=await this.jsm.direct.getMessage(this.bucketName(),l):c=await this.jsm.streams.getMessage(this.bucketName(),l);const f=this.smToEntry(c);return f.key!==s?null:f}catch(f){if(f.code===ErrorCode.JetStream404NoMessages)return null;throw f}}purge(n,a){return this._deleteOrPurge(n,"PURGE",a)}delete(n,a){return this._deleteOrPurge(n,"DEL",a)}async purgeDeletes(n=30*60*1e3){const a=deferred(),s=[],l=await this.watch({key:">",initializedFn:()=>{a.resolve()}});(async()=>{for await(const g of l)(g.operation==="DEL"||g.operation==="PURGE")&&s.push(g)})().then(),await a,l.stop();const c=Date.now()-n,f=s.map(g=>{const y=this.subjectForKey(g.key);return g.created.getTime()>=c?this.jsm.streams.purge(this.stream,{filter:y,keep:1}):this.jsm.streams.purge(this.stream,{filter:y,keep:0})}),p=await Promise.all(f);return p.unshift({success:!0,purged:0}),p.reduce((g,y)=>(g.purged+=y.purged,g))}async _deleteOrPurge(n,a,s){if(!this.hasWildcards(n))return this._doDeleteOrPurge(n,a,s);const l=await this.keys(n),c=[];for await(const f of l)c.push(this._doDeleteOrPurge(f,a)),c.length===100&&(await Promise.all(c),c.length=0);c.length>0&&await Promise.all(c)}async _doDeleteOrPurge(n,a,s){const l=this.encodeKey(n);this.validateKey(l);const c=headers();c.set(kvOperationHdr,a),a==="PURGE"&&c.set(JsHeaders.RollupHdr,JsHeaders.RollupValueSubject),s!=null&&s.previousSeq&&c.set(PubHeaders.ExpectedLastSubjectSequenceHdr,`${s.previousSeq}`),await this.js.publish(this.subjectForKey(l,!0),Empty,{headers:c})}_buildCC(n,a,s={}){let c=(Array.isArray(n)?n:[n]).map(g=>{const y=this.encodeKey(g);return this.validateSearchKey(g),this.fullKeyName(y)}),f=DeliverPolicy.LastPerSubject;a===KvWatchInclude.AllHistory&&(f=DeliverPolicy.All),a===KvWatchInclude.UpdatesOnly&&(f=DeliverPolicy.New);let p;return c.length===1&&(p=c[0],c=void 0),Object.assign({deliver_policy:f,ack_policy:AckPolicy.None,filter_subjects:c,filter_subject:p,flow_control:!0,idle_heartbeat:nanos(5*1e3)},s)}remove(n){return this.purge(n)}async history(n={}){const a=n.key??">",s=new QueuedIteratorImpl,l={};l.headers_only=n.headers_only||!1;let c;c=()=>{s.stop()};let f=0;const p=this._buildCC(a,KvWatchInclude.AllHistory,l),g=p.filter_subject,y=consumerOpts(p);y.bindStream(this.stream),y.orderedConsumer(),y.callback((h,d)=>{if(h){s.stop(h);return}if(d){const v=this.jmToEntry(d);s.push(v),s.received++,(c&&f>0&&s.received>=f||d.info.pending===0)&&(s.push(c),c=void 0)}});const b=await this.js.subscribe(g,y);if(c){const{info:{last:h}}=b,d=h.num_pending+h.delivered.consumer_seq;if(d===0||s.received>=d)try{c()}catch(v){s.stop(v)}finally{c=void 0}else f=d}return s._data=b,s.iterClosed.then(()=>{b.unsubscribe()}),b.closed.then(()=>{s.stop()}).catch(h=>{s.stop(h)}),s}canSetWatcherName(){const a=this.js.nc,{ok:s}=a.features.get(Feature.JS_NEW_CONSUMER_CREATE_API);return s}async watch(n={}){const a=n.key??">",s=new QueuedIteratorImpl,l={};l.headers_only=n.headers_only||!1;let c=KvWatchInclude.LastValue;n.include===KvWatchInclude.AllHistory?c=KvWatchInclude.AllHistory:n.include===KvWatchInclude.UpdatesOnly&&(c=KvWatchInclude.UpdatesOnly);const f=n.ignoreDeletes===!0;let p=n.initializedFn,g=0;const y=this._buildCC(a,c,l),b=y.filter_subject,h=consumerOpts(y);this.canSetWatcherName()&&h.consumerName(nuid.next()),h.bindStream(this.stream),n.resumeFromRevision&&n.resumeFromRevision>0&&h.startSequence(n.resumeFromRevision),h.orderedConsumer(),h.callback((v,_)=>{if(v){s.stop(v);return}if(_){const A=this.jmToEntry(_);if(f&&A.operation==="DEL")return;s.push(A),s.received++,p&&(g>0&&s.received>=g||_.info.pending===0)&&(s.push(p),p=void 0)}});const d=await this.js.subscribe(b,h);if(p){const{info:{last:v}}=d,_=v.num_pending+v.delivered.consumer_seq;if(_===0||s.received>=_)try{p()}catch(A){s.stop(A)}finally{p=void 0}else g=_}return s._data=d,s.iterClosed.then(()=>{d.unsubscribe()}),d.closed.then(()=>{s.stop()}).catch(v=>{s.stop(v)}),s}async keys(n=">"){const a=new QueuedIteratorImpl,s=this._buildCC(n,KvWatchInclude.LastValue,{headers_only:!0}),l=Array.isArray(n)?">":s.filter_subject,c=consumerOpts(s);c.bindStream(this.stream),c.orderedConsumer();const f=await this.js.subscribe(l,c);return(async()=>{var g;for await(const y of f){const b=(g=y.headers)==null?void 0:g.get(kvOperationHdr);if(b!=="DEL"&&b!=="PURGE"){const h=this.decodeKey(y.subject.substring(this.prefixLen));a.push(h)}y.info.pending===0&&f.unsubscribe()}})().then(()=>{a.stop()}).catch(g=>{a.stop(g)}),f.info.last.num_pending===0&&f.unsubscribe(),a}purgeBucket(n){return this.jsm.streams.purge(this.bucketName(),n)}destroy(){return this.jsm.streams.delete(this.bucketName())}async status(){var c;const a=((c=this.js.nc.info)==null?void 0:c.cluster)??"",s=this.bucketName(),l=await this.jsm.streams.info(s);return new KvStatusImpl(l,a)}}class KvStatusImpl{constructor(n,a=""){me(this,"si");me(this,"cluster");this.si=n,this.cluster=a}get bucket(){return this.si.config.name.startsWith(kvPrefix)?this.si.config.name.substring(kvPrefix.length):this.si.config.name}get values(){return this.si.state.messages}get history(){return this.si.config.max_msgs_per_subject}get ttl(){return millis(this.si.config.max_age)}get bucket_location(){return this.cluster}get backingStore(){return this.si.config.storage}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get description(){return this.si.config.description??""}get maxBucketSize(){return this.si.config.max_bytes}get maxValueSize(){return this.si.config.max_msg_size}get max_bytes(){return this.si.config.max_bytes}get placement(){return this.si.config.placement||{cluster:"",tags:[]}}get placementCluster(){var n;return((n=this.si.config.placement)==null?void 0:n.cluster)??""}get republish(){return this.si.config.republish??{src:"",dest:""}}get streamInfo(){return this.si}get size(){return this.si.state.bytes}get metadata(){return this.si.config.metadata??{}}get compression(){return this.si.config.compression?this.si.config.compression!==StoreCompression.None:!1}}const osPrefix="OBJ_",digestType="SHA-256=";function objectStoreStreamName(i){return validateBucket(i),`${osPrefix}${i}`}function objectStoreBucketName(i){return i.startsWith(osPrefix)?i.substring(4):i}class ObjectStoreStatusImpl{constructor(n){me(this,"si");me(this,"backingStore");this.si=n,this.backingStore="JetStream"}get bucket(){return objectStoreBucketName(this.si.config.name)}get description(){return this.si.config.description??""}get ttl(){return this.si.config.max_age}get storage(){return this.si.config.storage}get replicas(){return this.si.config.num_replicas}get sealed(){return this.si.config.sealed}get size(){return this.si.state.bytes}get streamInfo(){return this.si}get metadata(){return this.si.config.metadata}get compression(){return this.si.config.compression?this.si.config.compression!==StoreCompression.None:!1}}function convertStreamSourceDomain(i){if(i===void 0)return;const{domain:n}=i;if(n===void 0)return i;const a=Object.assign({},i);if(delete a.domain,n==="")return a;if(a.external)throw new Error("domain and external are both set");return a.external={api:`$JS.${n}.API`},a}var PullConsumerType;(function(i){i[i.Unset=-1]="Unset",i[i.Consume=0]="Consume",i[i.Fetch=1]="Fetch"})(PullConsumerType||(PullConsumerType={}));var ConsumerEvents;(function(i){i.HeartbeatsMissed="heartbeats_missed",i.ConsumerNotFound="consumer_not_found",i.StreamNotFound="stream_not_found",i.ConsumerDeleted="consumer_deleted",i.OrderedConsumerRecreated="ordered_consumer_recreated",i.NoResponders="no_responders"})(ConsumerEvents||(ConsumerEvents={}));var ConsumerDebugEvents;(function(i){i.DebugEvent="debug",i.Discard="discard",i.Reset="reset",i.Next="next"})(ConsumerDebugEvents||(ConsumerDebugEvents={}));const ACK=Uint8Array.of(43,65,67,75),NAK=Uint8Array.of(45,78,65,75),WPI=Uint8Array.of(43,87,80,73),NXT=Uint8Array.of(43,78,88,84),TERM=Uint8Array.of(43,84,69,82,77),SPACE=Uint8Array.of(32);function toJsMsg(i,n=5e3){return new JsMsgImpl(i,n)}class PullConsumerMessagesImpl extends QueuedIteratorImpl{constructor(a,s,l=!1){super();me(this,"consumer");me(this,"opts");me(this,"sub");me(this,"monitor");me(this,"pending");me(this,"inbox");me(this,"refilling");me(this,"pong");me(this,"callback");me(this,"timeout");me(this,"cleanupHandler");me(this,"listeners");me(this,"statusIterator");me(this,"forOrderedConsumer");me(this,"resetHandler");me(this,"abortOnMissingResource");me(this,"bind");me(this,"inBackOff");this.consumer=a;const c=s;this.opts=this.parseOptions(s,l),this.callback=c.callback||null,this.noIterator=typeof this.callback=="function",this.monitor=null,this.pong=null,this.pending={msgs:0,bytes:0,requests:0},this.refilling=l,this.timeout=null,this.inbox=createInbox(a.api.nc.options.inboxPrefix),this.listeners=[],this.forOrderedConsumer=!1,this.abortOnMissingResource=c.abort_on_missing_resource===!0,this.bind=c.bind===!0,this.inBackOff=!1,this.start()}start(){const{max_messages:a,max_bytes:s,idle_heartbeat:l,threshold_bytes:c,threshold_messages:f}=this.opts;this.closed().then(g=>{if(this.cleanupHandler)try{this.cleanupHandler(g)}catch{}});const{sub:p}=this;p&&p.unsubscribe(),this.sub=this.consumer.api.nc.subscribe(this.inbox,{callback:(g,y)=>{var h,d,v,_;if(g){this.stop(g);return}if((h=this.monitor)==null||h.work(),y.subject===this.inbox){if(isHeartbeatMsg(y))return;const A=(d=y.headers)==null?void 0:d.code,I=((_=(v=y.headers)==null?void 0:v.description)==null?void 0:_.toLowerCase())||"unknown",{msgsLeft:R,bytesLeft:P}=this.parseDiscard(y.headers);if(R>0||P>0)this.pending.msgs-=R,this.pending.bytes-=P,this.pending.requests--,this.notify(ConsumerDebugEvents.Discard,{msgsLeft:R,bytesLeft:P});else if(A===400){this.stop(new NatsError(I,`${A}`));return}else if(A===409&&I==="consumer deleted"){if(this.notify(ConsumerEvents.ConsumerDeleted,`${A} ${I}`),!this.refilling||this.abortOnMissingResource){const $=new NatsError(I,`${A}`);this.stop($);return}}else if(A===503){if(this.notify(ConsumerEvents.NoResponders,`${A} No Responders`),!this.refilling||this.abortOnMissingResource){const $=new NatsError("no responders",`${A}`);this.stop($);return}}else this.notify(ConsumerDebugEvents.DebugEvent,`${A} ${I}`)}else this._push(toJsMsg(y,this.consumer.api.timeout)),this.received++,this.pending.msgs&&this.pending.msgs--,this.pending.bytes&&(this.pending.bytes-=y.size());if(this.pending.msgs===0&&this.pending.bytes===0&&(this.pending.requests=0),this.refilling){if(a&&this.pending.msgs<=f||s&&this.pending.bytes<=c){const A=this.pullOptions();this.pull(A)}}else this.pending.requests===0&&this._push(()=>{this.stop()})}}),this.sub.closed.then(()=>{this.sub.draining&&this._push(()=>{this.stop()})}),l&&(this.monitor=new IdleHeartbeatMonitor(l,g=>(this.notify(ConsumerEvents.HeartbeatsMissed,g),this.resetPending().then(()=>{}).catch(()=>{}),!1),{maxOut:2})),(async()=>{var y;const g=this.consumer.api.nc.status();this.statusIterator=g;for await(const b of g)switch(b.type){case Events.Disconnect:(y=this.monitor)==null||y.cancel();break;case Events.Reconnect:this.resetPending().then(h=>{var d;h&&((d=this.monitor)==null||d.restart())}).catch(()=>{});break}})(),this.pull(this.pullOptions())}_push(a){if(!this.callback)super.push(a);else{const s=typeof a=="function"?a:null;try{s?s():this.callback(a)}catch(l){this.stop(l)}}}notify(a,s){this.listeners.length>0&&this.listeners.forEach(l=>{l.done||l.push({type:a,data:s})})}resetPending(){return this.bind?this.resetPendingNoInfo():this.resetPendingWithInfo()}resetPendingNoInfo(){return this.pending.msgs=0,this.pending.bytes=0,this.pending.requests=0,this.pull(this.pullOptions()),Promise.resolve(!0)}async resetPendingWithInfo(){if(this.inBackOff)return!1;let a=0,s=0;const l=backoff([this.opts.expires]);let c=0;for(;;){if(this.done)return!1;if(this.consumer.api.nc.isClosed())return console.error("aborting resetPending - connection is closed"),!1;try{return await this.consumer.info(),this.inBackOff=!1,a=0,this.pending.msgs=0,this.pending.bytes=0,this.pending.requests=0,this.pull(this.pullOptions()),!0}catch(f){if(f.message==="stream not found"){if(s++,this.notify(ConsumerEvents.StreamNotFound,s),!this.refilling||this.abortOnMissingResource)return this.stop(f),!1}else if(f.message==="consumer not found"){if(a++,this.notify(ConsumerEvents.ConsumerNotFound,a),this.resetHandler)try{this.resetHandler()}catch{}if(!this.refilling||this.abortOnMissingResource)return this.stop(f),!1;if(this.forOrderedConsumer)return!1}else a=0,s=0;this.inBackOff=!0;const p=l.backoff(c),g=delay(p);await Promise.race([g,this.consumer.api.nc.closed()]),g.cancel(),c++}}}pull(a){this.pending.bytes+=a.max_bytes??0,this.pending.msgs+=a.batch??0,this.pending.requests++;const s=this.consumer.api.nc;this._push(()=>{s.publish(`${this.consumer.api.prefix}.CONSUMER.MSG.NEXT.${this.consumer.stream}.${this.consumer.name}`,this.consumer.api.jc.encode(a),{reply:this.inbox}),this.notify(ConsumerDebugEvents.Next,a)})}pullOptions(){const a=this.opts.max_messages-this.pending.msgs,s=this.opts.max_bytes-this.pending.bytes,l=nanos(this.opts.idle_heartbeat),c=nanos(this.opts.expires);return{batch:a,max_bytes:s,idle_heartbeat:l,expires:c}}parseDiscard(a){const s={msgsLeft:0,bytesLeft:0},l=a==null?void 0:a.get(JsHeaders.PendingMessagesHdr);l&&(s.msgsLeft=parseInt(l));const c=a==null?void 0:a.get(JsHeaders.PendingBytesHdr);return c&&(s.bytesLeft=parseInt(c)),s}trackTimeout(a){this.timeout=a}close(){return this.stop(),this.iterClosed}closed(){return this.iterClosed}clearTimers(){var a,s;(a=this.monitor)==null||a.cancel(),this.monitor=null,(s=this.timeout)==null||s.cancel(),this.timeout=null}setCleanupHandler(a){this.cleanupHandler=a}stop(a){var s,l;this.done||((s=this.sub)==null||s.unsubscribe(),this.clearTimers(),(l=this.statusIterator)==null||l.stop(),this._push(()=>{super.stop(a),this.listeners.forEach(c=>{c.stop()})}))}parseOptions(a,s=!1){const l=a||{};if(l.max_messages=l.max_messages||0,l.max_bytes=l.max_bytes||0,l.max_messages!==0&&l.max_bytes!==0)throw new Error("only specify one of max_messages or max_bytes");if(l.max_messages===0&&(l.max_messages=100),l.expires=l.expires||3e4,l.expires<1e3)throw new Error("expires should be at least 1000ms");if(l.idle_heartbeat=l.idle_heartbeat||l.expires/2,l.idle_heartbeat=l.idle_heartbeat>3e4?3e4:l.idle_heartbeat,s){const c=Math.round(l.max_messages*.75)||1;l.threshold_messages=l.threshold_messages||c;const f=Math.round(l.max_bytes*.75)||1;l.threshold_bytes=l.threshold_bytes||f}return l}status(){const a=new QueuedIteratorImpl;return this.listeners.push(a),Promise.resolve(a)}}class OrderedConsumerMessages extends QueuedIteratorImpl{constructor(){super();me(this,"src");me(this,"listeners");this.listeners=[]}setSource(a){this.src&&(this.src.resetHandler=void 0,this.src.setCleanupHandler(),this.src.stop()),this.src=a,this.src.setCleanupHandler(s=>{this.stop(s||void 0)}),(async()=>{const s=await this.src.status();for await(const l of s)this.notify(l.type,l.data)})().catch(()=>{})}notify(a,s){this.listeners.length>0&&this.listeners.forEach(l=>{l.done||l.push({type:a,data:s})})}stop(a){var s;this.done||((s=this.src)==null||s.stop(a),super.stop(a),this.listeners.forEach(l=>{l.stop()}))}close(){return this.stop(),this.iterClosed}closed(){return this.iterClosed}status(){const a=new QueuedIteratorImpl;return this.listeners.push(a),Promise.resolve(a)}}class PullConsumerImpl{constructor(n,a){me(this,"api");me(this,"_info");me(this,"stream");me(this,"name");this.api=n,this._info=a,this.stream=a.stream_name,this.name=a.name}consume(n={max_messages:100,expires:3e4}){return Promise.resolve(new PullConsumerMessagesImpl(this,n,!0))}fetch(n={max_messages:100,expires:3e4}){const a=new PullConsumerMessagesImpl(this,n,!1),s=Math.round(a.opts.expires*1.05),l=timeout(s);return a.closed().catch(()=>{}).finally(()=>{l.cancel()}),l.catch(()=>{a.close().catch()}),a.trackTimeout(l),Promise.resolve(a)}next(n={expires:3e4}){const a=deferred(),s=n;s.max_messages=1;const l=new PullConsumerMessagesImpl(this,s,!1),c=Math.round(l.opts.expires*1.05);c>=6e4&&(async()=>{for await(const p of await l.status())if(p.type===ConsumerEvents.HeartbeatsMissed&&p.data>=2){a.reject(new Error("consumer missed heartbeats"));break}})().catch(),(async()=>{for await(const p of l){a.resolve(p);break}})().catch(()=>{});const f=timeout(c);return l.closed().then(p=>{p?a.reject(p):a.resolve(null)}).catch(p=>{a.reject(p)}).finally(()=>{f.cancel()}),f.catch(p=>{a.resolve(null),l.close().catch()}),l.trackTimeout(f),a}delete(){const{stream_name:n,name:a}=this._info;return this.api.delete(n,a)}info(n=!1){if(n)return Promise.resolve(this._info);const{stream_name:a,name:s}=this._info;return this.api.info(a,s).then(l=>(this._info=l,this._info))}}class OrderedPullConsumerImpl{constructor(n,a,s={}){me(this,"api");me(this,"consumerOpts");me(this,"consumer");me(this,"opts");me(this,"cursor");me(this,"stream");me(this,"namePrefix");me(this,"serial");me(this,"currentConsumer");me(this,"userCallback");me(this,"iter");me(this,"type");me(this,"startSeq");me(this,"maxInitialReset");this.api=n,this.stream=a,this.cursor={stream_seq:1,deliver_seq:0},this.namePrefix=nuid.next(),typeof s.name_prefix=="string"&&(minValidation("name_prefix",s.name_prefix),this.namePrefix=s.name_prefix+this.namePrefix),this.serial=0,this.currentConsumer=null,this.userCallback=null,this.iter=null,this.type=PullConsumerType.Unset,this.consumerOpts=s,this.maxInitialReset=30,this.startSeq=this.consumerOpts.opt_start_seq||0,this.cursor.stream_seq=this.startSeq>0?this.startSeq-1:0}getConsumerOpts(n){this.serial++;const a=`${this.namePrefix}_${this.serial}`;n=n===0?1:n;const s={name:a,deliver_policy:DeliverPolicy.StartSequence,opt_start_seq:n,ack_policy:AckPolicy.None,inactive_threshold:nanos(5*60*1e3),num_replicas:1};return this.consumerOpts.headers_only===!0&&(s.headers_only=!0),Array.isArray(this.consumerOpts.filterSubjects)&&(s.filter_subjects=this.consumerOpts.filterSubjects),typeof this.consumerOpts.filterSubjects=="string"&&(s.filter_subject=this.consumerOpts.filterSubjects),this.consumerOpts.replay_policy&&(s.replay_policy=this.consumerOpts.replay_policy),n===this.startSeq+1&&(s.deliver_policy=this.consumerOpts.deliver_policy||DeliverPolicy.StartSequence,(this.consumerOpts.deliver_policy===DeliverPolicy.LastPerSubject||this.consumerOpts.deliver_policy===DeliverPolicy.New||this.consumerOpts.deliver_policy===DeliverPolicy.Last)&&(delete s.opt_start_seq,s.deliver_policy=this.consumerOpts.deliver_policy),s.deliver_policy===DeliverPolicy.LastPerSubject&&typeof s.filter_subjects>"u"&&typeof s.filter_subject>"u"&&(s.filter_subject=">"),this.consumerOpts.opt_start_time&&(delete s.opt_start_seq,s.deliver_policy=DeliverPolicy.StartTime,s.opt_start_time=this.consumerOpts.opt_start_time),this.consumerOpts.inactive_threshold&&(s.inactive_threshold=nanos(this.consumerOpts.inactive_threshold))),s}async resetConsumer(n=0){var f,p,g,y,b;nuid.next();const a=this.serial===0;(f=this.consumer)==null||f.delete().catch(()=>{}),n=n===0?1:n,this.cursor.deliver_seq=0;const s=this.getConsumerOpts(n);s.max_deliver=1,s.mem_storage=!0;const l=backoff([((p=this.opts)==null?void 0:p.expires)||3e4]);let c;for(let h=0;;h++)try{c=await this.api.add(this.stream,s),(g=this.iter)==null||g.notify(ConsumerEvents.OrderedConsumerRecreated,c.name);break}catch(d){if(d.message==="stream not found"&&((y=this.iter)==null||y.notify(ConsumerEvents.StreamNotFound,h),this.type===PullConsumerType.Fetch||this.opts.abort_on_missing_resource===!0))return(b=this.iter)==null||b.stop(d),Promise.reject(d);if(a&&h>=this.maxInitialReset)throw d;await delay(l.backoff(h+1))}return c}internalHandler(n){return a=>{var l;if(this.serial!==n)return;const s=a.info.deliverySequence;if(s!==this.cursor.deliver_seq+1){this.notifyOrderedResetAndReset();return}this.cursor.deliver_seq=s,this.cursor.stream_seq=a.info.streamSequence,this.userCallback?this.userCallback(a):(l=this.iter)==null||l.push(a)}}async reset(n={max_messages:100,expires:3e4},a){var g,y;a=a||{};const s=a.fromFetch||!1,l=a.orderedReset||!1;if(this.type===PullConsumerType.Fetch&&l){(g=this.iter)==null||g.src.stop(),await((y=this.iter)==null?void 0:y.closed()),this.currentConsumer=null;return}(this.currentConsumer===null||l)&&(this.currentConsumer=await this.resetConsumer(this.cursor.stream_seq+1)),(this.iter===null||s)&&(this.iter=new OrderedConsumerMessages),this.consumer=new PullConsumerImpl(this.api,this.currentConsumer);const c=n;c.callback=this.internalHandler(this.serial);let f=null;this.type===PullConsumerType.Fetch&&s?f=await this.consumer.fetch(n):this.type===PullConsumerType.Consume&&(f=await this.consumer.consume(n));const p=f;p.forOrderedConsumer=!0,p.resetHandler=()=>{this.notifyOrderedResetAndReset()},this.iter.setSource(p)}notifyOrderedResetAndReset(){var n;(n=this.iter)==null||n.notify(ConsumerDebugEvents.Reset,""),this.reset(this.opts,{orderedReset:!0})}async consume(n={max_messages:100,expires:3e4}){if(n.bind)return Promise.reject(new Error("bind is not supported"));if(this.type===PullConsumerType.Fetch)return Promise.reject(new Error("ordered consumer initialized as fetch"));if(this.type===PullConsumerType.Consume)return Promise.reject(new Error("ordered consumer doesn't support concurrent consume"));const{callback:s}=n;return s&&(this.userCallback=s),this.type=PullConsumerType.Consume,this.opts=n,await this.reset(n),this.iter}async fetch(n={max_messages:100,expires:3e4}){var l;if(n.bind)return Promise.reject(new Error("bind is not supported"));if(this.type===PullConsumerType.Consume)return Promise.reject(new Error("ordered consumer already initialized as consume"));if(((l=this.iter)==null?void 0:l.done)===!1)return Promise.reject(new Error("ordered consumer doesn't support concurrent fetch"));const{callback:s}=n;return s&&(this.userCallback=s),this.type=PullConsumerType.Fetch,this.opts=n,await this.reset(n,{fromFetch:!0}),this.iter}async next(n={expires:3e4}){const a=n;if(a.bind)return Promise.reject(new Error("bind is not supported"));a.max_messages=1;const s=deferred();return a.callback=c=>{this.userCallback=null,s.resolve(c)},(await this.fetch(a)).iterClosed.then(c=>{c&&s.reject(c),s.resolve(null)}).catch(c=>{s.reject(c)}),s}delete(){return this.currentConsumer?this.api.delete(this.stream,this.currentConsumer.name).then(n=>Promise.resolve(n)).catch(n=>Promise.reject(n)).finally(()=>{this.currentConsumer=null}):Promise.resolve(!1)}async info(n){return this.currentConsumer==null?(this.currentConsumer=await this.resetConsumer(this.startSeq),Promise.resolve(this.currentConsumer)):n&&this.currentConsumer?Promise.resolve(this.currentConsumer):this.api.info(this.stream,this.currentConsumer.name)}}class ConsumersImpl{constructor(n){me(this,"api");me(this,"notified");this.api=n,this.notified=!1}checkVersion(){const n=this.api.nc.features.get(Feature.JS_SIMPLIFICATION);return n.ok?Promise.resolve():Promise.reject(new Error(`consumers framework is only supported on servers ${n.min} or better`))}getPullConsumerFor(n){if(n.config.deliver_subject!==void 0)throw new Error("push consumer not supported");return new PullConsumerImpl(this.api,n)}async get(n,a={}){return typeof a=="object"?this.ordered(n,a):(await this.checkVersion(),this.api.info(n,a).then(s=>s.config.deliver_subject!==void 0?Promise.reject(new Error("push consumer not supported")):new PullConsumerImpl(this.api,s)).catch(s=>Promise.reject(s)))}async ordered(n,a){await this.checkVersion();const s=this.api;return new StreamAPIImpl(s.nc,s.opts).info(n).then(c=>Promise.resolve(new OrderedPullConsumerImpl(this.api,n,a))).catch(c=>Promise.reject(c))}}class StreamImpl{constructor(n,a){me(this,"api");me(this,"_info");this.api=n,this._info=a}get name(){return this._info.config.name}alternates(){return this.info().then(n=>n.alternates?n.alternates:[])}async best(){if(await this.info(),this._info.alternates){const n=await this.api.info(this._info.alternates[0].name);return new StreamImpl(this.api,n)}else return this}info(n=!1,a){return n?Promise.resolve(this._info):this.api.info(this.name,a).then(s=>(this._info=s,this._info))}getConsumerFromInfo(n){return new ConsumersImpl(new ConsumerAPIImpl(this.api.nc,this.api.opts)).getPullConsumerFor(n)}getConsumer(n){return new ConsumersImpl(new ConsumerAPIImpl(this.api.nc,this.api.opts)).get(this.name,n)}getMessage(n){return this.api.getMessage(this.name,n)}deleteMessage(n,a){return this.api.deleteMessage(this.name,n,a)}}class StreamAPIImpl extends BaseApiClient{constructor(n,a){super(n,a)}checkStreamConfigVersions(n){const a=this.nc;if(n.metadata){const{min:l,ok:c}=a.features.get(Feature.JS_STREAM_CONSUMER_METADATA);if(!c)throw new Error(`stream 'metadata' requires server ${l}`)}if(n.first_seq){const{min:l,ok:c}=a.features.get(Feature.JS_STREAM_FIRST_SEQ);if(!c)throw new Error(`stream 'first_seq' requires server ${l}`)}if(n.subject_transform){const{min:l,ok:c}=a.features.get(Feature.JS_STREAM_SUBJECT_TRANSFORM);if(!c)throw new Error(`stream 'subject_transform' requires server ${l}`)}if(n.compression){const{min:l,ok:c}=a.features.get(Feature.JS_STREAM_COMPRESSION);if(!c)throw new Error(`stream 'compression' requires server ${l}`)}if(n.consumer_limits){const{min:l,ok:c}=a.features.get(Feature.JS_DEFAULT_CONSUMER_LIMITS);if(!c)throw new Error(`stream 'consumer_limits' requires server ${l}`)}function s(l,c){var p;if((((p=c==null?void 0:c.subject_transforms)==null?void 0:p.length)||0)>0){const{min:g,ok:y}=a.features.get(Feature.JS_STREAM_SOURCE_SUBJECT_TRANSFORM);if(!y)throw new Error(`${l} 'subject_transforms' requires server ${g}`)}}n.sources&&n.sources.forEach(l=>{s("stream sources",l)}),n.mirror&&s("stream mirror",n.mirror)}async add(n={}){var l;this.checkStreamConfigVersions(n),validateStreamName(n.name),n.mirror=convertStreamSourceDomain(n.mirror),n.sources=(l=n.sources)==null?void 0:l.map(convertStreamSourceDomain);const s=await this._request(`${this.prefix}.STREAM.CREATE.${n.name}`,n);return this._fixInfo(s),s}async delete(n){return validateStreamName(n),(await this._request(`${this.prefix}.STREAM.DELETE.${n}`)).success}async update(n,a={}){var p;if(typeof n=="object"){const g=n;n=g.name,a=g,console.trace("\x1B[33m >> streams.update(config: StreamConfig) api changed to streams.update(name: string, config: StreamUpdateConfig) - this shim will be removed - update your code.  \x1B[0m")}this.checkStreamConfigVersions(a),validateStreamName(n);const s=await this.info(n),l=Object.assign(s.config,a);l.mirror=convertStreamSourceDomain(l.mirror),l.sources=(p=l.sources)==null?void 0:p.map(convertStreamSourceDomain);const f=await this._request(`${this.prefix}.STREAM.UPDATE.${n}`,l);return this._fixInfo(f),f}async info(n,a){validateStreamName(n);const s=`${this.prefix}.STREAM.INFO.${n}`;let c=await this._request(s,a),{total:f,limit:p}=c,g=c.state.subjects?Object.getOwnPropertyNames(c.state.subjects).length:1;if(f&&f>g){const y=[c],b=a||{};let h=0;for(;f>g;){h++,b.offset=p*h;const v=await this._request(s,b);f=v.total,y.push(v);const _=Object.getOwnPropertyNames(v.state.subjects).length;if(g+=_,_<p)break}let d={};for(let v=0;v<y.length;v++)c=y[v],c.state.subjects&&(d=Object.assign(d,c.state.subjects));c.offset=0,c.total=0,c.limit=0,c.state.subjects=d}return this._fixInfo(c),c}list(n=""){const a=n!=null&&n.length?{subject:n}:{},s=c=>{const f=c;return f.streams.forEach(p=>{this._fixInfo(p)}),f.streams},l=`${this.prefix}.STREAM.LIST`;return new ListerImpl(l,s,this,a)}_fixInfo(n){n.config.sealed=n.config.sealed||!1,n.config.deny_delete=n.config.deny_delete||!1,n.config.deny_purge=n.config.deny_purge||!1,n.config.allow_rollup_hdrs=n.config.allow_rollup_hdrs||!1}async purge(n,a){if(a){const{keep:l,seq:c}=a;if(typeof l=="number"&&typeof c=="number")throw new Error("can specify one of keep or seq")}return validateStreamName(n),await this._request(`${this.prefix}.STREAM.PURGE.${n}`,a)}async deleteMessage(n,a,s=!0){validateStreamName(n);const l={seq:a};return s||(l.no_erase=!0),(await this._request(`${this.prefix}.STREAM.MSG.DELETE.${n}`,l)).success}async getMessage(n,a){validateStreamName(n);const l=await this._request(`${this.prefix}.STREAM.MSG.GET.${n}`,a);return new StoredMsgImpl(l)}find(n){return this.findStream(n)}listKvs(){const n=s=>{var g;const c=s.streams.filter(y=>y.config.name.startsWith(kvPrefix));c.forEach(y=>{this._fixInfo(y)});let f="";return c.length&&(f=((g=this.nc.info)==null?void 0:g.cluster)??""),c.map(y=>new KvStatusImpl(y,f))},a=`${this.prefix}.STREAM.LIST`;return new ListerImpl(a,n,this)}listObjectStores(){const n=s=>{const c=s.streams.filter(p=>p.config.name.startsWith(osPrefix));return c.forEach(p=>{this._fixInfo(p)}),c.map(p=>new ObjectStoreStatusImpl(p))},a=`${this.prefix}.STREAM.LIST`;return new ListerImpl(a,n,this)}names(n=""){const a=n!=null&&n.length?{subject:n}:{},s=c=>c.streams,l=`${this.prefix}.STREAM.NAMES`;return new ListerImpl(l,s,this,a)}async get(n){const a=await this.info(n);return Promise.resolve(new StreamImpl(this,a))}}class DirectStreamAPIImpl extends BaseApiClient{constructor(n,a){super(n,a)}async getMessage(n,a){validateStreamName(n);let s=a;const{last_by_subj:l}=s;l&&(s=null);const c=s?this.jc.encode(s):Empty,f=this.opts.apiPrefix||"$JS.API",p=l?`${f}.DIRECT.GET.${n}.${l}`:`${f}.DIRECT.GET.${n}`,g=await this.nc.request(p,c,{timeout:this.timeout}),y=checkJsError(g);if(y)return Promise.reject(y);const b=new DirectMsgImpl(g);return Promise.resolve(b)}async getBatch(n,a){validateStreamName(n);const l=`${this.opts.apiPrefix||"$JS.API"}.DIRECT.GET.${n}`;if(!Array.isArray(a.multi_last)||a.multi_last.length===0)return Promise.reject("multi_last is required");const c=JSON.stringify(a,(g,y)=>g==="up_to_time"&&y instanceof Date?y.toISOString():y),f=new QueuedIteratorImpl,p=await this.nc.requestMany(l,c,{strategy:RequestStrategy.SentinelMsg});return(async()=>{var h,d,v;let g=!1,y=!1,b;for await(const _ of p){if(!g){g=!0;const A=((h=_.headers)==null?void 0:h.code)||0;if(A!==0&&A<200||A>299){b=(d=_.headers)==null?void 0:d.description.toLowerCase();break}if(((v=_.headers)==null?void 0:v.get("Nats-Num-Pending"))===""){y=!0;break}}if(_.data.length===0)break;f.push(new DirectMsgImpl(_))}f.push(()=>{if(y)throw new Error("batch direct get not supported by the server");if(b)throw new Error(`bad request: ${b}`);f.stop()})})(),Promise.resolve(f)}}class DirectMsgImpl{constructor(n){me(this,"data");me(this,"header");if(!n.headers)throw new Error("headers expected");this.data=n.data,this.header=n.headers}get subject(){return this.header.last(DirectMsgHeaders.Subject)}get seq(){const n=this.header.last(DirectMsgHeaders.Sequence);return typeof n=="string"?parseInt(n):0}get time(){return new Date(Date.parse(this.timestamp))}get timestamp(){return this.header.last(DirectMsgHeaders.TimeStamp)}get stream(){return this.header.last(DirectMsgHeaders.Stream)}json(n){return JSONCodec(n).decode(this.data)}string(){return TD.decode(this.data)}}me(DirectMsgImpl,"jc");class JetStreamManagerImpl extends BaseApiClient{constructor(a,s){super(a,s);me(this,"streams");me(this,"consumers");me(this,"direct");this.streams=new StreamAPIImpl(a,s),this.consumers=new ConsumerAPIImpl(a,s),this.direct=new DirectStreamAPIImpl(a,s)}async getAccountInfo(){return await this._request(`${this.prefix}.INFO`)}jetstream(){return this.nc.jetstream(this.getOptions())}advisories(){const a=new QueuedIteratorImpl;return this.nc.subscribe("$JS.EVENT.ADVISORY.>",{callback:(s,l)=>{if(s)throw s;try{const c=this.parseJsResponse(l),f=c.type.split("."),p=f[f.length-1];a.push({kind:p,data:c})}catch(c){a.stop(c)}}}),a}}class StoredMsgImpl{constructor(n){me(this,"_header");me(this,"smr");this.smr=n}get subject(){return this.smr.message.subject}get seq(){return this.smr.message.seq}get timestamp(){return this.smr.message.time}get time(){return new Date(Date.parse(this.timestamp))}get data(){return this.smr.message.data?this._parse(this.smr.message.data):Empty}get header(){if(!this._header)if(this.smr.message.hdrs){const n=this._parse(this.smr.message.hdrs);this._header=MsgHdrsImpl.decode(n)}else this._header=headers();return this._header}_parse(n){const a=atob(n),s=a.length,l=new Uint8Array(s);for(let c=0;c<s;c++)l[c]=a.charCodeAt(c);return l}json(n){return JSONCodec(n).decode(this.data)}string(){return TD.decode(this.data)}}me(StoredMsgImpl,"jc");class StreamsImpl{constructor(n){me(this,"api");this.api=n}get(n){return this.api.info(n).then(a=>new StreamImpl(this.api,a))}}class ObjectInfoImpl{constructor(n){me(this,"info");me(this,"hdrs");this.info=n}get name(){return this.info.name}get description(){return this.info.description??""}get headers(){return this.hdrs||(this.hdrs=MsgHdrsImpl.fromRecord(this.info.headers||{})),this.hdrs}get options(){return this.info.options}get bucket(){return this.info.bucket}get chunks(){return this.info.chunks}get deleted(){return this.info.deleted??!1}get digest(){return this.info.digest}get mtime(){return this.info.mtime}get nuid(){return this.info.nuid}get size(){return this.info.size}get revision(){return this.info.revision}get metadata(){return this.info.metadata||{}}isLink(){var n,a;return((n=this.info.options)==null?void 0:n.link)!==void 0&&((a=this.info.options)==null?void 0:a.link)!==null}}function toServerObjectStoreMeta(i){const n={name:i.name,description:i.description??"",options:i.options,metadata:i.metadata};if(i.headers){const a=i.headers;n.headers=a.toRecord()}return n}function emptyReadableStream(){return new ReadableStream({pull(i){i.enqueue(new Uint8Array(0)),i.close()}})}class ObjectStoreImpl{constructor(n,a,s){me(this,"jsm");me(this,"js");me(this,"stream");me(this,"name");this.name=n,this.jsm=a,this.js=s}_checkNotEmpty(n){return!n||n.length===0?{name:n,error:new Error("name cannot be empty")}:{name:n}}async info(n){const a=await this.rawInfo(n);return a?new ObjectInfoImpl(a):null}async list(){const n=[],a=await this.watch({ignoreDeletes:!0,includeHistory:!0});for await(const s of a){if(s===null)break;n.push(s)}return Promise.resolve(n)}async rawInfo(n){const{name:a,error:s}=this._checkNotEmpty(n);if(s)return Promise.reject(s);const l=this._metaSubject(a);try{const c=await this.jsm.streams.getMessage(this.stream,{last_by_subj:l}),p=JSONCodec().decode(c.data);return p.revision=c.seq,p}catch(c){return c.code==="404"?null:Promise.reject(c)}}async _si(n){try{return await this.jsm.streams.info(this.stream,n)}catch(a){return a.code==="404"?null:Promise.reject(a)}}async seal(){let n=await this._si();return n===null?Promise.reject(new Error("object store not found")):(n.config.sealed=!0,n=await this.jsm.streams.update(this.stream,n.config),Promise.resolve(new ObjectStoreStatusImpl(n)))}async status(n){const a=await this._si(n);return a===null?Promise.reject(new Error("object store not found")):Promise.resolve(new ObjectStoreStatusImpl(a))}destroy(){return this.jsm.streams.delete(this.stream)}async _put(n,a,s){var M;const l=this.js.getOptions();s=s||{timeout:l.timeout},s.timeout=s.timeout||l.timeout,s.previousRevision=s.previousRevision??void 0;const{timeout:c,previousRevision:f}=s,p=this.js.nc.info,g=(p==null?void 0:p.max_payload)||1024;n=n||{},n.options=n.options||{};let y=((M=n.options)==null?void 0:M.max_chunk_size)||128*1024;y=y>g?g:y,n.options.max_chunk_size=y;const b=await this.info(n.name),{name:h,error:d}=this._checkNotEmpty(n.name);if(d)return Promise.reject(d);const v=nuid.next(),_=this._chunkSubject(v),A=this._metaSubject(h),I=Object.assign({bucket:this.name,nuid:v,size:0,chunks:0},toServerObjectStoreMeta(n)),R=deferred(),P=[],$=new DataBuffer;try{const B=a?a.getReader():null,F=J.create();for(;;){const{done:q,value:H}=B?await B.read():{done:!0,value:void 0};if(q){if($.size()>0){const Z=$.drain();F.update(Z),I.chunks++,I.size+=Z.length,P.push(this.js.publish(_,Z,{timeout:c}))}await Promise.all(P),P.length=0,I.mtime=new Date().toISOString();const z=Base64UrlPaddedCodec.encode(F.digest());I.digest=`${digestType}${z}`,I.deleted=!1;const L=headers();typeof f=="number"&&L.set(PubHeaders.ExpectedLastSubjectSequenceHdr,`${f}`),L.set(JsHeaders.RollupHdr,JsHeaders.RollupValueSubject);const ee=await this.js.publish(A,JSONCodec().encode(I),{headers:L,timeout:c});if(I.revision=ee.seq,b)try{await this.jsm.streams.purge(this.stream,{filter:`$O.${this.name}.C.${b.nuid}`})}catch{}R.resolve(new ObjectInfoImpl(I));break}if(H)for($.fill(H);$.size()>y;){I.chunks++,I.size+=y;const z=$.drain(n.options.max_chunk_size);F.update(z),P.push(this.js.publish(_,z,{timeout:c}))}}}catch(B){await this.jsm.streams.purge(this.stream,{filter:_}),R.reject(B)}return R}putBlob(n,a,s){function l(c){return new ReadableStream({pull(f){f.enqueue(c),f.close()}})}return a===null&&(a=new Uint8Array(0)),this.put(n,l(a),s)}put(n,a,s){var l;return(l=n==null?void 0:n.options)!=null&&l.link?Promise.reject(new Error("link cannot be set when putting the object in bucket")):this._put(n,a,s)}async getBlob(n){async function a(c){const f=new DataBuffer,p=c.getReader();for(;;){const{done:g,value:y}=await p.read();if(g)return f.drain();y&&y.length&&f.fill(y)}}const s=await this.get(n);if(s===null)return Promise.resolve(null);const l=await Promise.all([s.error,a(s.data)]);return l[0]?Promise.reject(l[0]):Promise.resolve(l[1])}async get(n){const a=await this.rawInfo(n);if(a===null||a.deleted)return Promise.resolve(null);if(a.options&&a.options.link){const h=a.options.link.name||"";if(h==="")throw new Error("link is a bucket");return(a.options.link.bucket!==this.name?await ObjectStoreImpl.create(this.js,a.options.link.bucket):this).get(h)}if(!a.digest.startsWith(digestType))return Promise.reject(new Error(`unknown digest type: ${a.digest}`));const s=parseSha256(a.digest.substring(8));if(s===null)return Promise.reject(new Error(`unable to parse digest: ${a.digest}`));const l=deferred(),c={info:new ObjectInfoImpl(a),error:l};if(a.size===0)return c.data=emptyReadableStream(),l.resolve(null),Promise.resolve(c);let f;const p=consumerOpts();p.orderedConsumer();const g=J.create(),y=`$O.${this.name}.C.${a.nuid}`,b=await this.js.subscribe(y,p);return(async()=>{for await(const h of b)h.data.length>0&&(g.update(h.data),f.enqueue(h.data)),h.info.pending===0&&(checkSha256(s,g.digest())?f.close():f.error(new Error(`received a corrupt object, digests do not match received: ${a.digest} calculated ${s}`)),b.unsubscribe())})().then(()=>{l.resolve()}).catch(h=>{f.error(h),l.reject(h)}),c.data=new ReadableStream({start(h){f=h},cancel(){b.unsubscribe()}}),c}linkStore(n,a){if(!(a instanceof ObjectStoreImpl))return Promise.reject("bucket required");const s=a,{name:l,error:c}=this._checkNotEmpty(n);if(c)return Promise.reject(c);const f={name:l,options:{link:{bucket:s.name}}};return this._put(f,null)}async link(n,a){const{name:s,error:l}=this._checkNotEmpty(n);if(l)return Promise.reject(l);if(a.deleted)return Promise.reject(new Error("src object is deleted"));if(a.isLink())return Promise.reject(new Error("src object is a link"));const c=await this.rawInfo(n);if(c!==null&&!c.deleted)return Promise.reject(new Error("an object already exists with that name"));const f={bucket:a.bucket,name:a.name},p={name:s,bucket:a.bucket,options:{link:f}};await this.js.publish(this._metaSubject(n),JSON.stringify(p));const g=await this.info(n);return Promise.resolve(g)}async delete(n){const a=await this.rawInfo(n);if(a===null)return Promise.resolve({purged:0,success:!1});a.deleted=!0,a.size=0,a.chunks=0,a.digest="";const s=JSONCodec(),l=headers();return l.set(JsHeaders.RollupHdr,JsHeaders.RollupValueSubject),await this.js.publish(this._metaSubject(a.name),s.encode(a),{headers:l}),this.jsm.streams.purge(this.stream,{filter:this._chunkSubject(a.nuid)})}async update(n,a={}){const s=await this.rawInfo(n);if(s===null)return Promise.reject(new Error("object not found"));if(s.deleted)return Promise.reject(new Error("cannot update meta for a deleted object"));a.name=a.name??s.name;const{name:l,error:c}=this._checkNotEmpty(a.name);if(c)return Promise.reject(c);if(n!==a.name){const g=await this.info(a.name);if(g&&!g.deleted)return Promise.reject(new Error("an object already exists with that name"))}a.name=l;const f=Object.assign({},s,toServerObjectStoreMeta(a)),p=await this.js.publish(this._metaSubject(f.name),JSON.stringify(f));return n!==a.name&&await this.jsm.streams.purge(this.stream,{filter:this._metaSubject(n)}),Promise.resolve(p)}async watch(n={}){n.includeHistory=n.includeHistory??!1,n.ignoreDeletes=n.ignoreDeletes??!1;let a=!1;const s=new QueuedIteratorImpl,l=this._metaSubjectAll();try{await this.jsm.streams.getMessage(this.stream,{last_by_subj:l})}catch(g){g.code==="404"?(s.push(null),a=!0):s.stop(g)}const c=JSONCodec(),f=consumerOpts();f.orderedConsumer(),n.includeHistory?f.deliverLastPerSubject():(a=!0,f.deliverNew()),f.callback((g,y)=>{var b;if(g){s.stop(g);return}if(y!==null){const h=c.decode(y.data);h.deleted&&n.ignoreDeletes===!0||s.push(h),((b=y.info)==null?void 0:b.pending)===0&&!a&&(a=!0,s.push(null))}});const p=await this.js.subscribe(l,f);return s._data=p,s.iterClosed.then(()=>{p.unsubscribe()}),p.closed.then(()=>{s.stop()}).catch(g=>{s.stop(g)}),s}_chunkSubject(n){return`$O.${this.name}.C.${n}`}_metaSubject(n){return`$O.${this.name}.M.${Base64UrlPaddedCodec.encode(n)}`}_metaSubjectAll(){return`$O.${this.name}.M.>`}async init(n={}){try{this.stream=objectStoreStreamName(this.name)}catch(l){return Promise.reject(l)}const a=(n==null?void 0:n.ttl)||0;delete n.ttl;const s=Object.assign({max_age:a},n);s.name=this.stream,s.num_replicas=n.replicas??1,s.allow_direct=!0,s.allow_rollup_hdrs=!0,s.discard=DiscardPolicy.New,s.subjects=[`$O.${this.name}.C.>`,`$O.${this.name}.M.>`],n.placement&&(s.placement=n.placement),n.metadata&&(s.metadata=n.metadata),typeof n.compression=="boolean"&&(s.compression=n.compression?StoreCompression.S2:StoreCompression.None);try{await this.jsm.streams.info(s.name)}catch(l){l.message==="stream not found"&&await this.jsm.streams.add(s)}}static async create(n,a,s={}){const l=await n.jetstreamManager(),c=new ObjectStoreImpl(a,l,n);return await c.init(s),Promise.resolve(c)}}class ViewsImpl{constructor(n){me(this,"js");this.js=n}kv(n,a={}){const s=this.js,{ok:l,min:c}=s.nc.features.get(Feature.JS_KV);return l?a.bindOnly?Bucket.bind(this.js,n,a):Bucket.create(this.js,n,a):Promise.reject(new Error(`kv is only supported on servers ${c} or better`))}os(n,a={}){var f;if(typeof((f=crypto==null?void 0:crypto.subtle)==null?void 0:f.digest)!="function")return Promise.reject(new Error("objectstore: unable to calculate hashes - crypto.subtle.digest with sha256 support is required"));const s=this.js,{ok:l,min:c}=s.nc.features.get(Feature.JS_OBJECTSTORE);return l?ObjectStoreImpl.create(this.js,n,a):Promise.reject(new Error(`objectstore is only supported on servers ${c} or better`))}}class JetStreamClientImpl extends BaseApiClient{constructor(a,s){super(a,s);me(this,"consumers");me(this,"streams");me(this,"consumerAPI");me(this,"streamAPI");this.consumerAPI=new ConsumerAPIImpl(a,s),this.streamAPI=new StreamAPIImpl(a,s),this.consumers=new ConsumersImpl(this.consumerAPI),this.streams=new StreamsImpl(this.streamAPI)}jetstreamManager(a){a===void 0&&(a=this.opts.checkAPI);const s=Object.assign({},this.opts,{checkAPI:a});return this.nc.jetstreamManager(s)}get apiPrefix(){return this.prefix}get views(){return new ViewsImpl(this)}async publish(a,s=Empty,l){l=l||{},l.expect=l.expect||{};const c=(l==null?void 0:l.headers)||headers();l&&(l.msgID&&c.set(PubHeaders.MsgIdHdr,l.msgID),l.expect.lastMsgID&&c.set(PubHeaders.ExpectedLastMsgIdHdr,l.expect.lastMsgID),l.expect.streamName&&c.set(PubHeaders.ExpectedStreamHdr,l.expect.streamName),typeof l.expect.lastSequence=="number"&&c.set(PubHeaders.ExpectedLastSeqHdr,`${l.expect.lastSequence}`),typeof l.expect.lastSubjectSequence=="number"&&c.set(PubHeaders.ExpectedLastSubjectSequenceHdr,`${l.expect.lastSubjectSequence}`));const f=l.timeout||this.timeout,p={};f&&(p.timeout=f),l&&(p.headers=c);let{retries:g,retry_delay:y}=l;g=g||1,y=y||250;let b;for(let d=0;d<g;d++)try{b=await this.nc.request(a,s,p);break}catch(v){if(v.code==="503"&&d+1<g)await delay(y);else throw v}const h=this.parseJsResponse(b);if(h.stream==="")throw NatsError.errorForCode(ErrorCode.JetStreamInvalidAck);return h.duplicate=h.duplicate?h.duplicate:!1,h}async pull(a,s,l=0){validateStreamName(a),validateDurableName(s);let c=this.timeout;l>c&&(c=l),l=l<0?0:nanos(l);const f={batch:1,no_wait:l===0,expires:l},p=await this.nc.request(`${this.prefix}.CONSUMER.MSG.NEXT.${a}.${s}`,this.jc.encode(f),{noMux:!0,timeout:c}),g=checkJsError(p);if(g)throw g;return toJsMsg(p,this.timeout)}fetch(a,s,l={}){validateStreamName(a),validateDurableName(s);let c=null;const f=(l.max_bytes??0)>0;let p=0;const g=f?l.max_bytes:0;let y=null;const b={};if(b.batch=l.batch||1,g){const P=this.nc.features.get(Feature.JS_PULL_MAX_BYTES);if(!P.ok)throw new Error(`max_bytes is only supported on servers ${P.min} or better`);b.max_bytes=g}b.no_wait=l.no_wait||!1,b.no_wait&&b.expires&&(b.expires=0);const h=l.expires||0;if(h&&(b.expires=nanos(h)),h===0&&b.no_wait===!1)throw new Error("expires or no_wait is required");const d=l.idle_heartbeat||0;d&&(b.idle_heartbeat=nanos(d),l.delay_heartbeat===!0&&(b.idle_heartbeat=nanos(d*4)));const v=new QueuedIteratorImpl,_=b.batch;let A=0;v.protocolFilterFn=(P,$=!1)=>isHeartbeatMsg(P.msg)?(y==null||y.work(),!1):!0,v.dispatchedFn=P=>{if(P){if(f&&(p+=P.data.length),A++,c&&P.info.pending===0)return;(v.getPending()===1&&P.info.pending===0||_===A||g>0&&p>=g)&&v.stop()}};const I=createInbox(this.nc.options.inboxPrefix),R=this.nc.subscribe(I,{max:l.batch,callback:(P,$)=>{P===null&&(P=checkJsError($)),P!==null?(c&&(c.cancel(),c=null),isNatsError(P)?v.stop(hideNonTerminalJsErrors(P)===null?void 0:P):v.stop(P)):(y==null||y.work(),v.received++,v.push(toJsMsg($,this.timeout)))}});return h&&(c=timeout(h),c.catch(()=>{R.isClosed()||(R.drain().catch(()=>{}),c=null),y&&y.cancel()})),(async()=>{try{d&&(y=new IdleHeartbeatMonitor(d,P=>(v.push(()=>{v.err=new NatsError(`${Js409Errors.IdleHeartbeatMissed}: ${P}`,ErrorCode.JetStreamIdleHeartBeat)}),!0)))}catch{}await R.closed,c!==null&&(c.cancel(),c=null),y&&y.cancel(),v.stop()})().catch(),this.nc.publish(`${this.prefix}.CONSUMER.MSG.NEXT.${a}.${s}`,this.jc.encode(b),{reply:I}),v}async pullSubscribe(a,s=consumerOpts()){const l=await this._processOptions(a,s);if(l.ordered)throw new Error("pull subscribers cannot be be ordered");if(l.config.deliver_subject)throw new Error("consumer info specifies deliver_subject - pull consumers cannot have deliver_subject set");const c=l.config.ack_policy;if(c===AckPolicy.None||c===AckPolicy.All)throw new Error("ack policy for pull consumers must be explicit");const f=this._buildTypedSubscriptionOpts(l),p=new JetStreamPullSubscriptionImpl(this,l.deliver,f);p.info=l;try{await this._maybeCreateConsumer(l)}catch(g){throw p.unsubscribe(),g}return p}async subscribe(a,s=consumerOpts()){const l=await this._processOptions(a,s);if(!l.isBind&&!l.config.deliver_subject)throw new Error("push consumer requires deliver_subject");const c=this._buildTypedSubscriptionOpts(l),f=new JetStreamSubscriptionImpl(this,l.deliver,c);f.info=l;try{await this._maybeCreateConsumer(l)}catch(p){throw f.unsubscribe(),p}return f._maybeSetupHbMonitoring(),f}async _processOptions(a,s=consumerOpts()){const l=isConsumerOptsBuilder(s)?s.getOpts():s;if(l.isBind=isConsumerOptsBuilder(s)?s.isBind:!1,l.flow_control={heartbeat_count:0,fc_count:0,consumer_restarts:0},l.ordered){if(l.ordered_consumer_sequence={stream_seq:0,delivery_seq:0},l.config.ack_policy!==AckPolicy.NotSet&&l.config.ack_policy!==AckPolicy.None)throw new NatsError("ordered consumer: ack_policy can only be set to 'none'",ErrorCode.ApiError);if(l.config.durable_name&&l.config.durable_name.length>0)throw new NatsError("ordered consumer: durable_name cannot be set",ErrorCode.ApiError);if(l.config.deliver_subject&&l.config.deliver_subject.length>0)throw new NatsError("ordered consumer: deliver_subject cannot be set",ErrorCode.ApiError);if(l.config.max_deliver!==void 0&&l.config.max_deliver>1)throw new NatsError("ordered consumer: max_deliver cannot be set",ErrorCode.ApiError);if(l.config.deliver_group&&l.config.deliver_group.length>0)throw new NatsError("ordered consumer: deliver_group cannot be set",ErrorCode.ApiError);l.config.deliver_subject=createInbox(this.nc.options.inboxPrefix),l.config.ack_policy=AckPolicy.None,l.config.max_deliver=1,l.config.flow_control=!0,l.config.idle_heartbeat=l.config.idle_heartbeat||nanos(5e3),l.config.ack_wait=nanos(22*60*60*1e3),l.config.mem_storage=!0,l.config.num_replicas=1}if(l.config.ack_policy===AckPolicy.NotSet&&(l.config.ack_policy=AckPolicy.All),l.api=this,l.config=l.config||{},l.stream=l.stream?l.stream:await this.findStream(a),l.attached=!1,l.config.durable_name)try{const c=await this.consumerAPI.info(l.stream,l.config.durable_name);if(c){if(c.config.filter_subject&&c.config.filter_subject!==a)throw new Error("subject does not match consumer");const f=l.config.deliver_group??"";if(f===""&&c.push_bound===!0)throw new Error("duplicate subscription");const p=c.config.deliver_group??"";if(f!==p)throw p===""?new Error("durable requires no queue group"):new Error(`durable requires queue group '${p}'`);l.last=c,l.config=c.config,l.attached=!0,l.config.durable_name||(l.name=c.name)}}catch(c){if(c.code!=="404")throw c}return!l.attached&&l.config.filter_subject===void 0&&l.config.filter_subjects===void 0&&(l.config.filter_subject=a),l.deliver=l.config.deliver_subject||createInbox(this.nc.options.inboxPrefix),l}_buildTypedSubscriptionOpts(a){const s={};return s.adapter=msgAdapter(a.callbackFn===void 0,this.timeout),s.ingestionFilterFn=JetStreamClientImpl.ingestionFn(a.ordered),s.protocolFilterFn=(l,c=!1)=>{const f=l;return isFlowControlMsg(f.msg)?(c||f.msg.respond(),!1):!0},!a.mack&&a.config.ack_policy!==AckPolicy.None&&(s.dispatchedFn=autoAckJsMsg),a.callbackFn&&(s.callback=a.callbackFn),s.max=a.max||0,s.queue=a.queue,s}async _maybeCreateConsumer(a){if(a.attached)return;if(a.isBind)throw new Error(`unable to bind - durable consumer ${a.config.durable_name} doesn't exist in ${a.stream}`);a.config=Object.assign({deliver_policy:DeliverPolicy.All,ack_policy:AckPolicy.Explicit,ack_wait:nanos(30*1e3),replay_policy:ReplayPolicy.Instant},a.config);const s=await this.consumerAPI.add(a.stream,a.config);if(Array.isArray(a.config.filter_subjects&&!Array.isArray(s.config.filter_subjects)))throw new Error("jetstream server doesn't support consumers with multiple filter subjects");a.name=s.name,a.config=s.config,a.last=s}static ingestionFn(a){return(s,l)=>{var g;const c=l;if(!s)return{ingest:!1,protocol:!1};const f=s;if(checkJsError(f.msg)||(g=c.monitor)==null||g.work(),isHeartbeatMsg(f.msg)){const y=a?c._checkHbOrderConsumer(f.msg):!0;return a||c.info.flow_control.heartbeat_count++,{ingest:y,protocol:!0}}else if(isFlowControlMsg(f.msg))return c.info.flow_control.fc_count++,{ingest:!0,protocol:!0};return{ingest:a?c._checkOrderedConsumer(s):!0,protocol:!1}}}}class NatsConnectionImpl{constructor(n){me(this,"options");me(this,"protocol");me(this,"draining");me(this,"listeners");me(this,"_services");this.draining=!1,this.options=parseOptions(n),this.listeners=[]}static connect(n={}){return new Promise((a,s)=>{const l=new NatsConnectionImpl(n);ProtocolHandler.connect(l.options,l).then(c=>{l.protocol=c,async function(){for await(const f of c.status())l.listeners.forEach(p=>{p.push(f)})}(),a(l)}).catch(c=>{s(c)})})}closed(){return this.protocol.closed}async close(){await this.protocol.close()}_check(n,a,s){if(this.isClosed())throw NatsError.errorForCode(ErrorCode.ConnectionClosed);if(a&&this.isDraining()||s&&this.protocol.noMorePublishing)throw NatsError.errorForCode(ErrorCode.ConnectionDraining);if(n=n||"",n.length===0)throw NatsError.errorForCode(ErrorCode.BadSubject)}publish(n,a,s){this._check(n,!1,!0),this.protocol.publish(n,a,s)}publishMessage(n){return this.publish(n.subject,n.data,{reply:n.reply,headers:n.headers})}respondMessage(n){return n.reply?(this.publish(n.reply,n.data,{reply:n.reply,headers:n.headers}),!0):!1}subscribe(n,a={}){this._check(n,!0,!1);const s=new SubscriptionImpl(this.protocol,n,a);return this.protocol.subscribe(s),s}_resub(n,a,s){this._check(a,!0,!1);const l=n;l.max=s,s&&(l.max=s+l.received),this.protocol.resub(l,a)}requestMany(n,a=Empty,s={maxWait:1e3,maxMessages:-1}){const l=!this.protocol.options.noAsyncTraces;try{this._check(n,!0,!0)}catch(g){return Promise.reject(g)}if(s.strategy=s.strategy||RequestStrategy.Timer,s.maxWait=s.maxWait||1e3,s.maxWait<1)return Promise.reject(new NatsError("timeout",ErrorCode.InvalidOption));const c=new QueuedIteratorImpl;function f(g){c.push(()=>{c.stop(g)})}function p(g,y){g||y===null?f(g===null?void 0:g):c.push(y)}if(s.noMux){const g=l?new Error().stack:null;let y=typeof s.maxMessages=="number"&&s.maxMessages>0?s.maxMessages:-1;const b=this.subscribe(createInbox(this.options.inboxPrefix),{callback:(_,A)=>{var I,R;if(((I=A==null?void 0:A.data)==null?void 0:I.length)===0&&((R=A==null?void 0:A.headers)==null?void 0:R.status)===ErrorCode.NoResponders&&(_=NatsError.errorForCode(ErrorCode.NoResponders)),_){g&&(_.stack+=`

${g}`),h(_);return}p(null,A),s.strategy===RequestStrategy.Count&&(y--,y===0&&h()),s.strategy===RequestStrategy.JitterTimer&&(v(),d=setTimeout(()=>{h()},300)),s.strategy===RequestStrategy.SentinelMsg&&A&&A.data.length===0&&h()}});b.requestSubject=n,b.closed.then(()=>{f()}).catch(_=>{c.stop(_)});const h=_=>{_&&c.push(()=>{throw _}),v(),b.drain().then(()=>{f()}).catch(A=>{f()})};c.iterClosed.then(()=>{v(),b==null||b.unsubscribe()}).catch(_=>{v(),b==null||b.unsubscribe()});try{this.publish(n,a,{reply:b.getSubject()})}catch(_){h(_)}let d=setTimeout(()=>{h()},s.maxWait);const v=()=>{d&&clearTimeout(d)}}else{const g=s;g.callback=p,c.iterClosed.then(()=>{y.cancel()}).catch(b=>{y.cancel(b)});const y=new RequestMany(this.protocol.muxSubscriptions,n,g);this.protocol.request(y);try{this.publish(n,a,{reply:`${this.protocol.muxSubscriptions.baseInbox}${y.token}`,headers:s.headers})}catch(b){y.cancel(b)}}return Promise.resolve(c)}request(n,a,s={timeout:1e3,noMux:!1}){try{this._check(n,!0,!0)}catch(c){return Promise.reject(c)}const l=!this.protocol.options.noAsyncTraces;if(s.timeout=s.timeout||1e3,s.timeout<1)return Promise.reject(new NatsError("timeout",ErrorCode.InvalidOption));if(!s.noMux&&s.reply)return Promise.reject(new NatsError("reply can only be used with noMux",ErrorCode.InvalidOption));if(s.noMux){const c=s.reply?s.reply:createInbox(this.options.inboxPrefix),f=deferred(),p=l?new Error:null,g=this.subscribe(c,{max:1,timeout:s.timeout,callback:(y,b)=>{y?(p&&y.code!==ErrorCode.Timeout&&(y.stack+=`

${p.stack}`),g.unsubscribe(),f.reject(y)):(y=isRequestError(b),y?(p&&(y.stack+=`

${p.stack}`),f.reject(y)):f.resolve(b))}});return g.requestSubject=n,this.protocol.publish(n,a,{reply:c,headers:s.headers}),f}else{const c=new RequestOne(this.protocol.muxSubscriptions,n,s,l);this.protocol.request(c);try{this.publish(n,a,{reply:`${this.protocol.muxSubscriptions.baseInbox}${c.token}`,headers:s.headers})}catch(p){c.cancel(p)}const f=Promise.race([c.timer,c.deferred]);return f.catch(()=>{c.cancel()}),f}}flush(){return this.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionClosed)):this.protocol.flush()}drain(){return this.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionClosed)):this.isDraining()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionDraining)):(this.draining=!0,this.protocol.drain())}isClosed(){return this.protocol.isClosed()}isDraining(){return this.draining}getServer(){const n=this.protocol.getServer();return n?n.listen:""}status(){const n=new QueuedIteratorImpl;return n.iterClosed.then(()=>{const a=this.listeners.indexOf(n);this.listeners.splice(a,1)}),this.listeners.push(n),n}get info(){return this.protocol.isClosed()?void 0:this.protocol.info}async context(){return(await this.request("$SYS.REQ.USER.INFO")).json((a,s)=>a==="time"?new Date(Date.parse(s)):s)}stats(){return{inBytes:this.protocol.inBytes,outBytes:this.protocol.outBytes,inMsgs:this.protocol.inMsgs,outMsgs:this.protocol.outMsgs}}async jetstreamManager(n={}){const a=new JetStreamManagerImpl(this,n);if(n.checkAPI!==!1)try{await a.getAccountInfo()}catch(s){const l=s;throw l.code===ErrorCode.NoResponders&&(l.code=ErrorCode.JetStreamNotEnabled),l}return a}jetstream(n={}){return new JetStreamClientImpl(this,n)}getServerVersion(){const n=this.info;return n?parseSemVer(n.version):void 0}async rtt(){if(!this.protocol._closed&&!this.protocol.connected)throw NatsError.errorForCode(ErrorCode.Disconnect);const n=Date.now();return await this.flush(),Date.now()-n}get features(){return this.protocol.features}get services(){return this._services||(this._services=new ServicesFactory(this)),this._services}reconnect(){return this.isClosed()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionClosed)):this.isDraining()?Promise.reject(NatsError.errorForCode(ErrorCode.ConnectionDraining)):this.protocol.reconnect()}}class ServicesFactory{constructor(n){me(this,"nc");this.nc=n}add(n){try{return new ServiceImpl(this.nc,n).start()}catch(a){return Promise.reject(a)}}client(n,a){return new ServiceClientImpl(this.nc,n,a)}}class KvStoredEntryImpl{constructor(n,a,s){me(this,"bucket");me(this,"sm");me(this,"prefixLen");this.bucket=n,this.prefixLen=a,this.sm=s}get key(){return this.sm.subject.substring(this.prefixLen)}get value(){return this.sm.data}get delta(){return 0}get created(){return this.sm.time}get revision(){return this.sm.seq}get operation(){return this.sm.header.get(kvOperationHdr)||"PUT"}get length(){const n=this.sm.header.get(JsHeaders.MessageSizeHdr)||"";return n!==""?parseInt(n,10):this.sm.data.length}json(){return this.sm.json()}string(){return this.sm.string()}}class KvJsMsgEntryImpl{constructor(n,a,s){me(this,"bucket");me(this,"key");me(this,"sm");this.bucket=n,this.key=a,this.sm=s}get value(){return this.sm.data}get created(){return new Date(millis(this.sm.info.timestampNanos))}get revision(){return this.sm.seq}get operation(){var n;return((n=this.sm.headers)==null?void 0:n.get(kvOperationHdr))||"PUT"}get delta(){return this.sm.info.pending}get length(){var a;const n=((a=this.sm.headers)==null?void 0:a.get(JsHeaders.MessageSizeHdr))||"";return n!==""?parseInt(n,10):this.sm.data.length}json(){return this.sm.json()}string(){return this.sm.string()}}class JetStreamSubscriptionImpl extends TypedSubscription{constructor(a,s,l){super(a.nc,s,l);me(this,"js");me(this,"monitor");this.js=a,this.monitor=null,this.sub.closed.then(()=>{this.monitor&&this.monitor.cancel()})}set info(a){this.sub.info=a}get info(){return this.sub.info}_resetOrderedConsumer(a){if(this.info===null||this.sub.isClosed())return;const s=createInbox(this.js.nc.options.inboxPrefix);this.js.nc._resub(this.sub,s);const c=this.info;c.config.name=nuid.next(),c.ordered_consumer_sequence.delivery_seq=0,c.flow_control.heartbeat_count=0,c.flow_control.fc_count=0,c.flow_control.consumer_restarts++,c.deliver=s,c.config.deliver_subject=s,c.config.deliver_policy=DeliverPolicy.StartSequence,c.config.opt_start_seq=a;const f={};f.stream_name=this.info.stream,f.config=c.config;const p=`${c.api.prefix}.CONSUMER.CREATE.${c.stream}`;this.js._request(p,f,{retries:-1}).then(g=>{const y=g,b=this.sub.info;b.last=y,this.info.config=y.config,this.info.name=y.name}).catch(g=>{const y=new NatsError(`unable to recreate ordered consumer ${c.stream} at seq ${a}`,ErrorCode.RequestError,g);this.sub.callback(y,{})})}_maybeSetupHbMonitoring(){var s,l;const a=((l=(s=this.info)==null?void 0:s.config)==null?void 0:l.idle_heartbeat)||0;a&&this._setupHbMonitoring(millis(a))}_setupHbMonitoring(a,s=0){const l={cancelAfter:0,maxOut:2};s&&(l.cancelAfter=s);const c=this.sub,f=p=>{var b,h,d,v;const g=newJsErrorMsg(409,`${Js409Errors.IdleHeartbeatMissed}: ${p}`,this.sub.subject);if(!((b=this.info)==null?void 0:b.ordered))this.sub.callback(null,g);else{if(!this.js.nc.protocol.connected)return!1;const _=((d=(h=this.info)==null?void 0:h.ordered_consumer_sequence)==null?void 0:d.stream_seq)||0;return this._resetOrderedConsumer(_+1),(v=this.monitor)==null||v.restart(),!1}return!c.noIterator};this.monitor=new IdleHeartbeatMonitor(a,f,l)}_checkHbOrderConsumer(a){const s=a.headers.get(JsHeaders.ConsumerStalledHdr);s!==""&&this.js.nc.publish(s);const l=parseInt(a.headers.get(JsHeaders.LastConsumerSeqHdr),10),c=this.info.ordered_consumer_sequence;return this.info.flow_control.heartbeat_count++,l!==c.delivery_seq&&this._resetOrderedConsumer(c.stream_seq+1),!1}_checkOrderedConsumer(a){const s=this.info.ordered_consumer_sequence,l=a.info.streamSequence,c=a.info.deliverySequence;return c!=s.delivery_seq+1?(this._resetOrderedConsumer(s.stream_seq+1),!1):(s.delivery_seq=c,s.stream_seq=l,!0)}async destroy(){this.isClosed()||await this.drain();const a=this.sub.info,s=a.config.durable_name||a.name,l=`${a.api.prefix}.CONSUMER.DELETE.${a.stream}.${s}`;await a.api._request(l)}async consumerInfo(){const a=this.sub.info,s=a.config.durable_name||a.name,l=`${a.api.prefix}.CONSUMER.INFO.${a.stream}.${s}`,c=await a.api._request(l);return a.last=c,c}}class JetStreamPullSubscriptionImpl extends JetStreamSubscriptionImpl{constructor(n,a,s){super(n,a,s)}pull(n={batch:1}){const{stream:a,config:s,name:l}=this.sub.info,c=s.durable_name??l,f={};if(f.batch=n.batch||1,f.no_wait=n.no_wait||!1,(n.max_bytes??0)>0){const y=this.js.nc.features.get(Feature.JS_PULL_MAX_BYTES);if(!y.ok)throw new Error(`max_bytes is only supported on servers ${y.min} or better`);f.max_bytes=n.max_bytes}let p=0;n.expires&&n.expires>0&&(p=n.expires,f.expires=nanos(p));let g=0;if(n.idle_heartbeat&&n.idle_heartbeat>0&&(g=n.idle_heartbeat,f.idle_heartbeat=nanos(g)),g&&p===0)throw new Error("idle_heartbeat requires expires");if(g>p)throw new Error("expires must be greater than idle_heartbeat");if(this.info){this.monitor&&this.monitor.cancel(),p&&g&&(this.monitor?this.monitor._change(g,p):this._setupHbMonitoring(g,p));const y=this.info.api,b=`${y.prefix}.CONSUMER.MSG.NEXT.${a}.${c}`,h=this.sub.subject;y.nc.publish(b,y.jc.encode(f),{reply:h})}}}function msgAdapter(i,n){return i?iterMsgAdapter(n):cbMsgAdapter(n)}function cbMsgAdapter(i){return(n,a)=>n?[n,null]:(n=checkJsError(a),n?[n,null]:[null,toJsMsg(a,i)])}function iterMsgAdapter(i){return(n,a)=>{if(n)return[n,null];const s=checkJsError(a);return s!==null?[hideNonTerminalJsErrors(s),null]:[null,toJsMsg(a,i)]}}function hideNonTerminalJsErrors(i){if(i!==null)switch(i.code){case ErrorCode.JetStream404NoMessages:case ErrorCode.JetStream408RequestTimeout:return null;case ErrorCode.JetStream409:return isTerminal409(i)?i:null;default:return i}return null}function autoAckJsMsg(i){i&&i.ack()}function parseInfo(i){const n=i.split(".");if(n.length===9&&n.splice(2,0,"_",""),n.length<11||n[0]!=="$JS"||n[1]!=="ACK")throw new Error("not js message");const a={};return a.domain=n[2]==="_"?"":n[2],a.account_hash=n[3],a.stream=n[4],a.consumer=n[5],a.deliveryCount=parseInt(n[6],10),a.redeliveryCount=a.deliveryCount,a.redelivered=a.deliveryCount>1,a.streamSequence=parseInt(n[7],10),a.deliverySequence=parseInt(n[8],10),a.timestampNanos=parseInt(n[9],10),a.pending=parseInt(n[10],10),a}class JsMsgImpl{constructor(n,a){me(this,"msg");me(this,"di");me(this,"didAck");me(this,"timeout");this.msg=n,this.didAck=!1,this.timeout=a}get subject(){return this.msg.subject}get sid(){return this.msg.sid}get data(){return this.msg.data}get headers(){return this.msg.headers}get info(){return this.di||(this.di=parseInfo(this.reply)),this.di}get redelivered(){return this.info.deliveryCount>1}get reply(){return this.msg.reply||""}get seq(){return this.info.streamSequence}doAck(n){this.didAck||(this.didAck=!this.isWIP(n),this.msg.respond(n))}isWIP(n){return n.length===4&&n[0]===WPI[0]&&n[1]===WPI[1]&&n[2]===WPI[2]&&n[3]===WPI[3]}async ackAck(n){var s;n=n||{},n.timeout=n.timeout||this.timeout;const a=deferred();if(this.didAck)a.resolve(!1);else if(this.didAck=!0,this.msg.reply){const c=this.msg.publisher,f=!((s=c.options)!=null&&s.noAsyncTraces),p=new RequestOne(c.muxSubscriptions,this.msg.reply,{timeout:n.timeout},f);c.request(p);try{c.publish(this.msg.reply,ACK,{reply:`${c.muxSubscriptions.baseInbox}${p.token}`})}catch(g){p.cancel(g)}try{await Promise.race([p.timer,p.deferred]),a.resolve(!0)}catch(g){p.cancel(g),a.reject(g)}}else a.resolve(!1);return a}ack(){this.doAck(ACK)}nak(n){let a=NAK;n&&(a=StringCodec().encode(`-NAK ${JSON.stringify({delay:nanos(n)})}`)),this.doAck(a)}working(){this.doAck(WPI)}next(n,a={batch:1}){const s={};s.batch=a.batch||1,s.no_wait=a.no_wait||!1,a.expires&&a.expires>0&&(s.expires=nanos(a.expires));const l=JSONCodec().encode(s),c=DataBuffer.concat(NXT,SPACE,l),f=n?{reply:n}:void 0;this.msg.respond(c,f)}term(n=""){let a=TERM;(n==null?void 0:n.length)>0&&(a=StringCodec().encode(`+TERM ${n}`)),this.doAck(a)}json(){return this.msg.json()}string(){return this.msg.string()}}const VERSION="1.30.3",LANG="nats.ws";class WsTransport{constructor(){me(this,"version");me(this,"lang");me(this,"closeError");me(this,"connected");me(this,"done");me(this,"socket");me(this,"options");me(this,"socketClosed");me(this,"encrypted");me(this,"peeked");me(this,"yields");me(this,"signal");me(this,"closedNotification");this.version=VERSION,this.lang=LANG,this.connected=!1,this.done=!1,this.socketClosed=!1,this.encrypted=!1,this.peeked=!1,this.yields=[],this.signal=deferred(),this.closedNotification=deferred()}async connect(n,a){const s=deferred();if(a.tls)return s.reject(new NatsError("tls",ErrorCode.InvalidOption)),s;this.options=a;const l=n.src;if(a.wsFactory){const{socket:c,encrypted:f}=await a.wsFactory(n.src,a);this.socket=c,this.encrypted=f}else this.encrypted=l.indexOf("wss://")===0,this.socket=new WebSocket(l);return this.socket.binaryType="arraybuffer",this.socket.onopen=()=>{this.isDiscarded()},this.socket.onmessage=c=>{if(this.isDiscarded())return;if(this.yields.push(new Uint8Array(c.data)),this.peeked){this.signal.resolve();return}const f=DataBuffer.concat(...this.yields),p=extractProtocolMessage(f);if(p!==""){const g=INFO.exec(p);if(!g){a.debug&&console.error("!!!",render(f)),s.reject(new Error("unexpected response from server"));return}try{const y=JSON.parse(g[1]);checkOptions(y,this.options),this.peeked=!0,this.connected=!0,this.signal.resolve(),s.resolve()}catch(y){s.reject(y);return}}},this.socket.onclose=c=>{if(this.isDiscarded())return;this.socketClosed=!0;let f;this.done||(c.wasClean||(f=new Error(c.reason)),this._closed(f))},this.socket.onerror=c=>{if(this.isDiscarded())return;const f=c,p=new NatsError(f.message,ErrorCode.Unknown,new Error(f.error));s.reject(p)},s}disconnect(){this._closed(void 0,!0)}async _closed(n,a=!0){if(!this.isDiscarded()&&this.connected&&!this.done){if(this.closeError=n,!n)for(;!this.socketClosed&&this.socket.bufferedAmount>0;)await delay(100);this.done=!0;try{this.socket.close(n?1002:1e3,n?n.message:void 0)}catch{}a&&this.closedNotification.resolve(n)}}get isClosed(){return this.done}[Symbol.asyncIterator](){return this.iterate()}async*iterate(){for(;;){if(this.isDiscarded())return;this.yields.length===0&&await this.signal;const n=this.yields;this.yields=[];for(let a=0;a<n.length;a++)this.options.debug&&console.info(`> ${render(n[a])}`),yield n[a];if(this.done)break;this.yields.length===0&&(n.length=0,this.yields=n,this.signal=deferred())}}isEncrypted(){return this.connected&&this.encrypted}send(n){if(!this.isDiscarded())try{this.socket.send(n.buffer),this.options.debug&&console.info(`< ${render(n)}`);return}catch(a){this.options.debug&&console.error(`!!! ${render(n)}: ${a}`)}}close(n){return this._closed(n,!1)}closed(){return this.closedNotification}isDiscarded(){return this.done?(this.discard(),!0):!1}discard(){var n;this.done=!0;try{(n=this.socket)==null||n.close()}catch{}}}function wsUrlParseFn(i,n){/^(.*:\/\/)(.*)/.test(i)||(typeof n=="boolean"?i=`${n===!0?"https":"http"}://${i}`:i=`https://${i}`);let s=new URL(i);const l=s.protocol.toLowerCase();l==="ws:"&&(n=!1),l==="wss:"&&(n=!0),l!=="https:"&&l!=="http"&&(i=i.replace(/^(.*:\/\/)(.*)/gm,"$2"),s=new URL(`http://${i}`));let c,f;const p=s.hostname,g=s.pathname,y=s.search||"";switch(l){case"http:":case"ws:":case"nats:":f=s.port||"80",c="ws:";break;case"https:":case"wss:":case"tls:":f=s.port||"443",c="wss:";break;default:f=s.port||n===!0?"443":"80",c=n===!0?"wss:":"ws:";break}return`${c}//${p}:${f}${g}${y}`}function connect(i={}){return setTransportFactory({defaultPort:443,urlParseFn:wsUrlParseFn,factory:()=>new WsTransport}),NatsConnectionImpl.connect(i)}const natsHeadersToRecord=i=>{if(isUndefined(i))return;const n=i.keys(),a={};for(const s of n)a[s]=i.get(s);return a},sendMessageError=i=>async(n,a={})=>{const s=Errors.errorToErrorDetail({error:n,extra:[i.subject]}),l=headers();if(isDefined$1(a.headers))for(const[c,f]of Object.entries(a.headers))l.set(c,f);i.respond(Bytes.toMsgPack({error:s}),{headers:l})},connectConnectionListenerToSubject=async({connection:i,subject:n,listener:a,options:s={},env:l={},signal:c})=>{const{log:f=()=>{},queue:p,maxMessages:g,timeout:y}=s;f("connectConnectionListenerToSubject: subject: ",n);const b=i.subscribe(n,{queue:p,max:g,timeout:y});if(isDefined$1(c)){if(c.aborted)throw b.unsubscribe(),new Error("Signal already in aborted state");c.addEventListener("abort",()=>{b.unsubscribe()})}for await(const h of b)try{const d=Bytes.msgPackToObject(h.data),v=natsHeadersToRecord(h.headers),_=new AbortController;if(isDefined$1(v==null?void 0:v["abort-subject"])){const M=v["abort-subject"],B=i.subscribe(M,{max:1,callback:()=>{_.abort(),B.unsubscribe(),h.respond()}})}const A=(M,B={})=>{const F=headers(B.code,B.codeDescription);if(isDefined$1(B.headers))for(const[H,z]of Object.entries(B.headers))F.set(H,z);if(isUndefined(M)){i.publish(h.reply);return}const q=Bytes.toMsgPack({value:M});h.respond(q,{headers:F})},I=async(M,B={})=>sendMessageError(h)(M,B),R=M=>b.unsubscribe(M);if(isDefined$1(d.error)){f("Error: connectListenerToSubscription: valueOrError.error",d.error);continue}const P=await a({detail:d.value,headers:v,env:l,signal:_.signal,send:A,sendError:I,unsubscribe:R}),$=h.reply;if(isUndefined($))continue;A(P)}catch(d){const v=Errors.errorToErrorDetail({error:d,extra:[h.subject]});f(v),sendMessageError(h)(d)}},msgToResponseData=async({msg:i,subject:n,request:a,log:s})=>{var c;const l=Bytes.msgPackToObject(new Uint8Array(i.data));if((c=i.headers)!=null&&c.hasError)throw s("Error: msgToResponseData: msg.headers.hasError",{headers:i.headers,responseData:l}),new Error(`Message Error on subject: ${n}`,{cause:Errors.errorToErrorDetail({error:l,extra:[a]})});if(isDefined$1(l.error))throw s("Error: msgToResponseData: responseData.error",l.error),new Error(`Error on subject: ${n}`,{cause:Errors.errorToErrorDetail({error:l.error,extra:[a]})});return l.value},recordToNatsHeaders=i=>{const n=headers();if(isUndefined(i))return n;for(const[a,s]of Object.entries(i))n.set(a,s);return n},createConnection$1=async({server:i,creds:n,token:a,subscribers:s={},options:l={},env:c={}})=>{const{log:f=()=>{}}=l;f("createConnection: server: ",i);const p=await connect({servers:[...toMany(i)],authenticator:isDefined$1(n)?credsAuthenticator(new TextEncoder().encode(n)):void 0,token:a}),g=Object.entries(s);f("createConnection: entries: ",g);for(const[y,b]of g)isUndefined(b)||connectConnectionListenerToSubject({connection:p,subject:y,listener:b,options:l,env:c});return{connection:p,requestMany:async y=>{const{request:b,subject:h,headers:d,options:v={},onResponse:_,signal:A}=y,I=Bytes.toMsgPack({value:b}),{timeoutMs:R=60*1e3}=v,P=recordToNatsHeaders(d);if(isDefined$1(A)){const M=`abort.${Date.now()}.${crypto.randomUUID()}`;P==null||P.set("abort-subject",M),A.addEventListener("abort",()=>{p.publish(M)})}const $=await p.requestMany(h,I,{maxWait:R,headers:P,strategy:RequestStrategy.SentinelMsg});for await(const M of $){if(A!=null&&A.aborted)return;if(isUndefined(M.data)||M.data.byteLength===0)break;const B=await msgToResponseData({msg:M,subject:h,request:b,log:f});await _(B)}},request:async y=>{const{request:b,subject:h,headers:d,options:v={}}=y,_=Bytes.toMsgPack({value:b}),{timeoutMs:A=60*1e3}=v,I=recordToNatsHeaders(d),R=await p.request(h,_,{timeout:A,headers:I});if(!(isUndefined(R.data)||R.data.byteLength===0))return msgToResponseData({msg:R,subject:h,request:b,log:f})},publish:async y=>{const{payload:b,subject:h,headers:d}=y,v=Bytes.toMsgPack({value:b}),_=recordToNatsHeaders(d);return p.publish(h,v,{headers:_})}}},parseSubject=i=>{const n=i.split("."),a=n.shift(),s=n.join(".");return{root:a,segments:n,subpath:s}},Messages={createConnection:createConnection$1,connectEventListenerToSubjectRoot,parseSubject},GLOBALS={mqUrl:"wss://mq.daimix.com"},useConnection=()=>{const[i,n]=reactExports.useState(void 0);return reactExports.useEffect(()=>{(async()=>n(await getConnection()))()},[]),i},getCachedObject=(i,n,a)=>{if(isUndefined(i))return;const s=n.get(i);if(isDefined$1(s))return s;if(isDefined$1(a)){const l=a();return n.set(i,l),l}},create$2=()=>{const i=new Map;let n=performance.now();const a={get:(s,l)=>getCachedObject(s,i,l),set:(s,l)=>(i.set(s,l),a),delete:s=>i.delete(s),entries:()=>Array.from(i.entries()),clear:()=>i.clear(),size:()=>i.size,findKeys:s=>Array.from(i.entries()).filter(([c,f])=>f===s).map(([c,f])=>c),lastUpdate:()=>n};return a},Caches={create:create$2},CONNECTION_CACHE=Caches.create(),createConnection=async()=>{const i=await Idbs.get(AppConfig,"config");return await Messages.createConnection({server:GLOBALS.mqUrl,options:{log:(a,...s)=>{console.log(Errors.errorToText(a),s)}},token:i==null?void 0:i.authToken})},getConnection=async()=>Asserts.assertValue(await CONNECTION_CACHE.get("connection",createConnection)),Connections={getConnection,useConnection},onEscape=async()=>{console.log("Escape"),(await getConnection()).publish({subject:"stop.all",payload:""})},AddIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),DeleteIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),EditIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");function GenericCrud({items:i,schema:n,onUpdate:a,onCreate:s,onDelete:l}){const[c,f]=reactExports.useState(!1),[p,g]=reactExports.useState(!1),[y,b]=reactExports.useState(!1),[h,d]=reactExports.useState(null),[v,_]=reactExports.useState({}),[A,I]=reactExports.useState(""),R=Z=>{d(Z),_(i[Z]),f(!0)},P=()=>{d(null),_({}),f(!0)},$=(Z,V)=>{_(X=>({...X,[Z]:V}))},M=()=>{h==null?s&&s(v):a&&a(v,h),f(!1)},B=Z=>{d(Z),g(!0)},F=()=>{h!==null&&l&&l(h),g(!1)},q=Z=>{d(Z),I(JSON.stringify(i[Z],null,2)),b(!0)},H=()=>{try{const Z=JSON.parse(A);a&&h!==null&&a(Z,h),b(!1)}catch{alert("Invalid JSON format")}},z=(Z,V)=>{const X=V[Z],Q=n[Z];return Q!=null&&Q.renderCell?Q.renderCell(X,V):String(X)},L=(Z,V)=>{const X=v[Z],Q=n[Z];return Q!=null&&Q.renderEditor?Q.renderEditor(X,G=>$(Z,G),v):typeof X=="boolean"?jsxRuntimeExports.jsx(Checkbox,{checked:X,onChange:G=>$(Z,G.target.checked)}):typeof X=="number"?jsxRuntimeExports.jsx(TextField,{type:"number",fullWidth:!0,value:X,onChange:G=>$(Z,parseFloat(G.target.value))}):X instanceof Date?jsxRuntimeExports.jsx(TextField,{type:"date",fullWidth:!0,value:X.toISOString().substring(0,10),onChange:G=>$(Z,new Date(G.target.value))}):jsxRuntimeExports.jsx(TextField,{type:"text",fullWidth:!0,multiline:!0,value:X??"",onChange:G=>$(Z,G.target.value)})},ee=Object.keys(n);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Toolbar,{children:jsxRuntimeExports.jsx(IconButton,{color:"primary",onClick:P,children:jsxRuntimeExports.jsx(AddIcon,{})})}),jsxRuntimeExports.jsxs(Table$1,{children:[jsxRuntimeExports.jsx(TableHead,{children:jsxRuntimeExports.jsxs(TableRow,{children:[ee.map(Z=>{var V;return jsxRuntimeExports.jsx(TableCell,{sx:{textTransform:"capitalize"},children:((V=n[Z])==null?void 0:V.label)??String(Z)},String(Z))}),jsxRuntimeExports.jsx(TableCell,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:i.map((Z,V)=>jsxRuntimeExports.jsxs(TableRow,{hover:!0,style:{cursor:"pointer"},onClick:()=>R(V),children:[ee.map(X=>jsxRuntimeExports.jsx(TableCell,{children:z(X,Z)},String(X))),jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx(IconButton,{color:"secondary",onClick:X=>{X.stopPropagation(),B(V)},children:jsxRuntimeExports.jsx(DeleteIcon,{})}),jsxRuntimeExports.jsx(IconButton,{color:"default",onClick:X=>{X.stopPropagation(),q(V)},children:jsxRuntimeExports.jsx(EditIcon,{})})]})]},V))})]}),jsxRuntimeExports.jsxs(Dialog,{open:c,onClose:()=>f(!1),fullWidth:!0,maxWidth:"sm",disableRestoreFocus:!0,slotProps:{paper:{sx:{width:"80vw",maxWidth:"none"}}},children:[jsxRuntimeExports.jsx(DialogTitle,{children:h==null?"Add Item":"Edit Item"}),jsxRuntimeExports.jsx(DialogContent,{dividers:!0,children:ee.map(Z=>{var V;return jsxRuntimeExports.jsxs("div",{style:{marginBottom:16},children:[jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",sx:{textTransform:"capitalize"},children:((V=n[Z])==null?void 0:V.label)??String(Z)}),jsxRuntimeExports.jsx("div",{style:{marginTop:8},children:L(Z)})]},String(Z))})}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:()=>f(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:M,variant:"contained",color:"primary",children:"Save"})]})]}),jsxRuntimeExports.jsxs(Dialog,{open:p,onClose:()=>g(!1),fullWidth:!0,maxWidth:"xs",closeAfterTransition:!1,children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Confirm Deletion"}),jsxRuntimeExports.jsx(DialogContent,{dividers:!0,children:"Are you sure you want to delete this item?"}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:()=>g(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:F,variant:"contained",color:"secondary",children:"Delete"})]})]}),jsxRuntimeExports.jsxs(Dialog,{open:y,onClose:()=>b(!1),fullWidth:!0,maxWidth:"sm",disableRestoreFocus:!0,children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit JSON"}),jsxRuntimeExports.jsx(DialogContent,{dividers:!0,children:jsxRuntimeExports.jsx(TextField,{fullWidth:!0,multiline:!0,minRows:10,value:A,onChange:Z=>I(Z.target.value)})}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:()=>b(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:H,variant:"contained",color:"primary",children:"Save"})]})]})]})}const ROOM_OBJECT_STORE={store:"room"},CONTENT_OBJECT_STORE={store:"content"},DAIMON_OBJECT_STORE={store:"daimon"},from=(i="",n="",a=crypto.randomUUID(),s=`${Date.now()}`,l=":")=>`${n}${l}${i}${l}${s}${l}${a}`,fromObjectStore=i=>{const{namespace:n,store:a}=i;return from(a,n)},parse$1=(i,n=":")=>{const a=i.split(n);if(a.length<4)return;const[s,l,c,...f]=a,p=f.join(n);return{namespace:s,type:l,timestamp:c,unique:p}},toObjectStore=i=>{const n=parse$1(i);if(!n)return;const{namespace:a,type:s}=n;return{namespace:a,store:s}},Ids={from,parse:parse$1,fromObjectStore,toObjectStore},putEntity$1=i=>n=>async a=>{const{id:s=Ids.fromObjectStore(n),...l}=a;return Datas.put(i)({value:{id:s,...l}})},get=i=>async n=>i.request({subject:"data.get",request:{body:n}}),getMany=i=>async n=>i.request({subject:"data.getMany",request:{body:n}}),put=i=>async n=>i.request({subject:"data.put",request:{body:n}}),search$1=i=>async n=>i.request({subject:"data.search",request:{body:n}}),remove=i=>async n=>i.request({subject:"data.remove",request:{body:n}}),Datas={put,get,getMany,search:search$1,remove,putEntity:putEntity$1},LINK_OBJECT_STORE={store:"link"},listDaimons=async(i="values(@)")=>await Datas.search(await getConnection())({from:DAIMON_OBJECT_STORE,query:i}),bytesToContentId=async(i,n)=>{const a=i instanceof File||i instanceof Blob?i.type:"application/octet-stream",s=await Bytes.toArrayBuffer(i),l={id:Ids.fromObjectStore(CONTENT_OBJECT_STORE),contentType:a,value:s,createdAt:Date.now(),creatorId:n,finalized:!0};return await Datas.put(await getConnection())({value:l}),l.id};var png={},assert$1={},hasRequiredAssert$1;function requireAssert$1(){if(hasRequiredAssert$1)return assert$1;hasRequiredAssert$1=1,Object.defineProperty(assert$1,"__esModule",{value:!0}),assert$1.handleWarning=assert$1.DecodeWarning=assert$1.createChunkDecodeWarning=assert$1.DecodeError=assert$1.createChunkDecodeError=assert$1.assertChunkCompressionMethod=assert$1.assertChunkMutualExclusion=assert$1.assertChunkFollows=assert$1.assertChunkPrecedes=assert$1.assertChunkDataLengthGte=assert$1.assertChunkDataLengthEquals=assert$1.assertChunkSinglular=void 0;function i(d,v){d.parsedChunks.has(v.type)&&h(d,y(v,`Multiple ${v.type} chunks not allowed`,v.offset+4))}assert$1.assertChunkSinglular=i;function n(d,v,_){if(v.dataLength!==_){const A=y(v,`Invalid data length: ${v.dataLength} !== ${_}`,v.offset);if(v.dataLength>_)h(d,A);else throw A}}assert$1.assertChunkDataLengthEquals=n;function a(d,v,_){if(v.dataLength<_)throw p(d,v,`Invalid data length: ${v.dataLength} < ${_}`,v.offset)}assert$1.assertChunkDataLengthGte=a;function s(d,v,_){d.parsedChunks.has(_)&&h(d,y(v,`Must precede ${_}`,v.offset+4))}assert$1.assertChunkPrecedes=s;function l(d,v,_){if(!d.parsedChunks.has(_))throw p(d,v,`Must follow ${_}`,v.offset+4)}assert$1.assertChunkFollows=l;function c(d,v,_){d.parsedChunks.has(_)&&h(d,y(v,`Should not be present alongside ${_}`,v.offset+4))}assert$1.assertChunkMutualExclusion=c;function f(d,v,_,A){_!==0&&h(d,y(v,`Unknown compression method "${_}"`,A))}assert$1.assertChunkCompressionMethod=f;function p(d,v,_,A){return new g(d,`${v.type}: ${_}`,A)}assert$1.createChunkDecodeError=p;class g extends Error{constructor(v,_,A){super(_),this.offset=A,this.partiallyDecodedImage={details:"header"in v&&v.header?{width:v.header.width,height:v.header.height,bitDepth:v.header.bitDepth,colorType:v.header.colorType,interlaceMethod:v.header.interlaceMethod}:void 0,info:v.info,metadata:v.metadata,rawChunks:v.rawChunks,warnings:v.warnings}}}assert$1.DecodeError=g;function y(d,v,_){return new b(`${d.type}: ${v}`,_)}assert$1.createChunkDecodeWarning=y;class b extends Error{constructor(v,_){super(v),this.offset=_}}assert$1.DecodeWarning=b;function h(d,v){if(d.options.strictMode)throw v;d.warnings.push(v)}return assert$1.handleWarning=h,assert$1}var assert={},hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert;hasRequiredAssert=1,Object.defineProperty(assert,"__esModule",{value:!0}),assert.handleWarning=assert.EncodeWarning=assert.EncodeError=void 0;class i extends Error{constructor(l,c){super(l),this.offset=c}}assert.EncodeError=i;class n extends Error{constructor(l,c){super(l),this.offset=c}}assert.EncodeWarning=n;function a(s,l){if(s.options.strictMode)throw l;s.warnings.push(l)}return assert.handleWarning=a,assert}var decoder={},array={},hasRequiredArray;function requireArray(){if(hasRequiredArray)return array;hasRequiredArray=1,Object.defineProperty(array,"__esModule",{value:!0}),array.convert16BitTo8BitData=void 0;function i(n){const a=new Uint8Array(n.buffer),s=new Uint8Array(n.length);for(let l=0;l<s.length;l++)s[l]=a[l*2+1];return s}return array.convert16BitTo8BitData=i,array}var chunk_IDAT={},pako={},deflate$1={},deflate={},trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;const i=4,n=0,a=1,s=2;function l(ce){let He=ce.length;for(;--He>=0;)ce[He]=0}const c=0,f=1,p=2,g=3,y=258,b=29,h=256,d=h+1+b,v=30,_=19,A=2*d+1,I=15,R=16,P=7,$=256,M=16,B=17,F=18,q=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),H=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),z=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ee=512,Z=new Array((d+2)*2);l(Z);const V=new Array(v*2);l(V);const X=new Array(ee);l(X);const Q=new Array(y-g+1);l(Q);const G=new Array(b);l(G);const te=new Array(v);l(te);function ue(ce,He,Je,gt,Et){this.static_tree=ce,this.extra_bits=He,this.extra_base=Je,this.elems=gt,this.max_length=Et,this.has_stree=ce&&ce.length}let fe,K,de;function we(ce,He){this.dyn_tree=ce,this.max_code=0,this.stat_desc=He}const oe=ce=>ce<256?X[ce]:X[256+(ce>>>7)],Ne=(ce,He)=>{ce.pending_buf[ce.pending++]=He&255,ce.pending_buf[ce.pending++]=He>>>8&255},Ie=(ce,He,Je)=>{ce.bi_valid>R-Je?(ce.bi_buf|=He<<ce.bi_valid&65535,Ne(ce,ce.bi_buf),ce.bi_buf=He>>R-ce.bi_valid,ce.bi_valid+=Je-R):(ce.bi_buf|=He<<ce.bi_valid&65535,ce.bi_valid+=Je)},Le=(ce,He,Je)=>{Ie(ce,Je[He*2],Je[He*2+1])},ut=(ce,He)=>{let Je=0;do Je|=ce&1,ce>>>=1,Je<<=1;while(--He>0);return Je>>>1},mt=ce=>{ce.bi_valid===16?(Ne(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):ce.bi_valid>=8&&(ce.pending_buf[ce.pending++]=ce.bi_buf&255,ce.bi_buf>>=8,ce.bi_valid-=8)},vt=(ce,He)=>{const Je=He.dyn_tree,gt=He.max_code,Et=He.stat_desc.static_tree,lt=He.stat_desc.has_stree,Se=He.stat_desc.extra_bits,ze=He.stat_desc.extra_base,le=He.stat_desc.max_length;let ae,_e,Oe,We,je,Ye,Te=0;for(We=0;We<=I;We++)ce.bl_count[We]=0;for(Je[ce.heap[ce.heap_max]*2+1]=0,ae=ce.heap_max+1;ae<A;ae++)_e=ce.heap[ae],We=Je[Je[_e*2+1]*2+1]+1,We>le&&(We=le,Te++),Je[_e*2+1]=We,!(_e>gt)&&(ce.bl_count[We]++,je=0,_e>=ze&&(je=Se[_e-ze]),Ye=Je[_e*2],ce.opt_len+=Ye*(We+je),lt&&(ce.static_len+=Ye*(Et[_e*2+1]+je)));if(Te!==0){do{for(We=le-1;ce.bl_count[We]===0;)We--;ce.bl_count[We]--,ce.bl_count[We+1]+=2,ce.bl_count[le]--,Te-=2}while(Te>0);for(We=le;We!==0;We--)for(_e=ce.bl_count[We];_e!==0;)Oe=ce.heap[--ae],!(Oe>gt)&&(Je[Oe*2+1]!==We&&(ce.opt_len+=(We-Je[Oe*2+1])*Je[Oe*2],Je[Oe*2+1]=We),_e--)}},it=(ce,He,Je)=>{const gt=new Array(I+1);let Et=0,lt,Se;for(lt=1;lt<=I;lt++)Et=Et+Je[lt-1]<<1,gt[lt]=Et;for(Se=0;Se<=He;Se++){let ze=ce[Se*2+1];ze!==0&&(ce[Se*2]=ut(gt[ze]++,ze))}},pt=()=>{let ce,He,Je,gt,Et;const lt=new Array(I+1);for(Je=0,gt=0;gt<b-1;gt++)for(G[gt]=Je,ce=0;ce<1<<q[gt];ce++)Q[Je++]=gt;for(Q[Je-1]=gt,Et=0,gt=0;gt<16;gt++)for(te[gt]=Et,ce=0;ce<1<<H[gt];ce++)X[Et++]=gt;for(Et>>=7;gt<v;gt++)for(te[gt]=Et<<7,ce=0;ce<1<<H[gt]-7;ce++)X[256+Et++]=gt;for(He=0;He<=I;He++)lt[He]=0;for(ce=0;ce<=143;)Z[ce*2+1]=8,ce++,lt[8]++;for(;ce<=255;)Z[ce*2+1]=9,ce++,lt[9]++;for(;ce<=279;)Z[ce*2+1]=7,ce++,lt[7]++;for(;ce<=287;)Z[ce*2+1]=8,ce++,lt[8]++;for(it(Z,d+1,lt),ce=0;ce<v;ce++)V[ce*2+1]=5,V[ce*2]=ut(ce,5);fe=new ue(Z,q,h+1,d,I),K=new ue(V,H,0,v,I),de=new ue(new Array(0),z,0,_,P)},xt=ce=>{let He;for(He=0;He<d;He++)ce.dyn_ltree[He*2]=0;for(He=0;He<v;He++)ce.dyn_dtree[He*2]=0;for(He=0;He<_;He++)ce.bl_tree[He*2]=0;ce.dyn_ltree[$*2]=1,ce.opt_len=ce.static_len=0,ce.sym_next=ce.matches=0},kt=ce=>{ce.bi_valid>8?Ne(ce,ce.bi_buf):ce.bi_valid>0&&(ce.pending_buf[ce.pending++]=ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0},_t=(ce,He,Je,gt)=>{const Et=He*2,lt=Je*2;return ce[Et]<ce[lt]||ce[Et]===ce[lt]&&gt[He]<=gt[Je]},Nt=(ce,He,Je)=>{const gt=ce.heap[Je];let Et=Je<<1;for(;Et<=ce.heap_len&&(Et<ce.heap_len&&_t(He,ce.heap[Et+1],ce.heap[Et],ce.depth)&&Et++,!_t(He,gt,ce.heap[Et],ce.depth));)ce.heap[Je]=ce.heap[Et],Je=Et,Et<<=1;ce.heap[Je]=gt},Vt=(ce,He,Je)=>{let gt,Et,lt=0,Se,ze;if(ce.sym_next!==0)do gt=ce.pending_buf[ce.sym_buf+lt++]&255,gt+=(ce.pending_buf[ce.sym_buf+lt++]&255)<<8,Et=ce.pending_buf[ce.sym_buf+lt++],gt===0?Le(ce,Et,He):(Se=Q[Et],Le(ce,Se+h+1,He),ze=q[Se],ze!==0&&(Et-=G[Se],Ie(ce,Et,ze)),gt--,Se=oe(gt),Le(ce,Se,Je),ze=H[Se],ze!==0&&(gt-=te[Se],Ie(ce,gt,ze)));while(lt<ce.sym_next);Le(ce,$,He)},Mt=(ce,He)=>{const Je=He.dyn_tree,gt=He.stat_desc.static_tree,Et=He.stat_desc.has_stree,lt=He.stat_desc.elems;let Se,ze,le=-1,ae;for(ce.heap_len=0,ce.heap_max=A,Se=0;Se<lt;Se++)Je[Se*2]!==0?(ce.heap[++ce.heap_len]=le=Se,ce.depth[Se]=0):Je[Se*2+1]=0;for(;ce.heap_len<2;)ae=ce.heap[++ce.heap_len]=le<2?++le:0,Je[ae*2]=1,ce.depth[ae]=0,ce.opt_len--,Et&&(ce.static_len-=gt[ae*2+1]);for(He.max_code=le,Se=ce.heap_len>>1;Se>=1;Se--)Nt(ce,Je,Se);ae=lt;do Se=ce.heap[1],ce.heap[1]=ce.heap[ce.heap_len--],Nt(ce,Je,1),ze=ce.heap[1],ce.heap[--ce.heap_max]=Se,ce.heap[--ce.heap_max]=ze,Je[ae*2]=Je[Se*2]+Je[ze*2],ce.depth[ae]=(ce.depth[Se]>=ce.depth[ze]?ce.depth[Se]:ce.depth[ze])+1,Je[Se*2+1]=Je[ze*2+1]=ae,ce.heap[1]=ae++,Nt(ce,Je,1);while(ce.heap_len>=2);ce.heap[--ce.heap_max]=ce.heap[1],vt(ce,He),it(Je,le,ce.bl_count)},$t=(ce,He,Je)=>{let gt,Et=-1,lt,Se=He[0*2+1],ze=0,le=7,ae=4;for(Se===0&&(le=138,ae=3),He[(Je+1)*2+1]=65535,gt=0;gt<=Je;gt++)lt=Se,Se=He[(gt+1)*2+1],!(++ze<le&&lt===Se)&&(ze<ae?ce.bl_tree[lt*2]+=ze:lt!==0?(lt!==Et&&ce.bl_tree[lt*2]++,ce.bl_tree[M*2]++):ze<=10?ce.bl_tree[B*2]++:ce.bl_tree[F*2]++,ze=0,Et=lt,Se===0?(le=138,ae=3):lt===Se?(le=6,ae=3):(le=7,ae=4))},Ht=(ce,He,Je)=>{let gt,Et=-1,lt,Se=He[0*2+1],ze=0,le=7,ae=4;for(Se===0&&(le=138,ae=3),gt=0;gt<=Je;gt++)if(lt=Se,Se=He[(gt+1)*2+1],!(++ze<le&&lt===Se)){if(ze<ae)do Le(ce,lt,ce.bl_tree);while(--ze!==0);else lt!==0?(lt!==Et&&(Le(ce,lt,ce.bl_tree),ze--),Le(ce,M,ce.bl_tree),Ie(ce,ze-3,2)):ze<=10?(Le(ce,B,ce.bl_tree),Ie(ce,ze-3,3)):(Le(ce,F,ce.bl_tree),Ie(ce,ze-11,7));ze=0,Et=lt,Se===0?(le=138,ae=3):lt===Se?(le=6,ae=3):(le=7,ae=4)}},Bt=ce=>{let He;for($t(ce,ce.dyn_ltree,ce.l_desc.max_code),$t(ce,ce.dyn_dtree,ce.d_desc.max_code),Mt(ce,ce.bl_desc),He=_-1;He>=3&&ce.bl_tree[L[He]*2+1]===0;He--);return ce.opt_len+=3*(He+1)+5+5+4,He},Ut=(ce,He,Je,gt)=>{let Et;for(Ie(ce,He-257,5),Ie(ce,Je-1,5),Ie(ce,gt-4,4),Et=0;Et<gt;Et++)Ie(ce,ce.bl_tree[L[Et]*2+1],3);Ht(ce,ce.dyn_ltree,He-1),Ht(ce,ce.dyn_dtree,Je-1)},St=ce=>{let He=4093624447,Je;for(Je=0;Je<=31;Je++,He>>>=1)if(He&1&&ce.dyn_ltree[Je*2]!==0)return n;if(ce.dyn_ltree[9*2]!==0||ce.dyn_ltree[10*2]!==0||ce.dyn_ltree[13*2]!==0)return a;for(Je=32;Je<h;Je++)if(ce.dyn_ltree[Je*2]!==0)return a;return n};let Lt=!1;const st=ce=>{Lt||(pt(),Lt=!0),ce.l_desc=new we(ce.dyn_ltree,fe),ce.d_desc=new we(ce.dyn_dtree,K),ce.bl_desc=new we(ce.bl_tree,de),ce.bi_buf=0,ce.bi_valid=0,xt(ce)},at=(ce,He,Je,gt)=>{Ie(ce,(c<<1)+(gt?1:0),3),kt(ce),Ne(ce,Je),Ne(ce,~Je),Je&&ce.pending_buf.set(ce.window.subarray(He,He+Je),ce.pending),ce.pending+=Je},Ue=ce=>{Ie(ce,f<<1,3),Le(ce,$,Z),mt(ce)},nt=(ce,He,Je,gt)=>{let Et,lt,Se=0;ce.level>0?(ce.strm.data_type===s&&(ce.strm.data_type=St(ce)),Mt(ce,ce.l_desc),Mt(ce,ce.d_desc),Se=Bt(ce),Et=ce.opt_len+3+7>>>3,lt=ce.static_len+3+7>>>3,lt<=Et&&(Et=lt)):Et=lt=Je+5,Je+4<=Et&&He!==-1?at(ce,He,Je,gt):ce.strategy===i||lt===Et?(Ie(ce,(f<<1)+(gt?1:0),3),Vt(ce,Z,V)):(Ie(ce,(p<<1)+(gt?1:0),3),Ut(ce,ce.l_desc.max_code+1,ce.d_desc.max_code+1,Se+1),Vt(ce,ce.dyn_ltree,ce.dyn_dtree)),xt(ce),gt&&kt(ce)},Ct=(ce,He,Je)=>(ce.pending_buf[ce.sym_buf+ce.sym_next++]=He,ce.pending_buf[ce.sym_buf+ce.sym_next++]=He>>8,ce.pending_buf[ce.sym_buf+ce.sym_next++]=Je,He===0?ce.dyn_ltree[Je*2]++:(ce.matches++,He--,ce.dyn_ltree[(Q[Je]+h+1)*2]++,ce.dyn_dtree[oe(He)*2]++),ce.sym_next===ce.sym_end);return trees._tr_init=st,trees._tr_stored_block=at,trees._tr_flush_block=nt,trees._tr_tally=Ct,trees._tr_align=Ue,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=(n,a,s,l)=>{let c=n&65535|0,f=n>>>16&65535|0,p=0;for(;s!==0;){p=s>2e3?2e3:s,s-=p;do c=c+a[l++]|0,f=f+c|0;while(--p);c%=65521,f%=65521}return c|f<<16|0}),adler32_1}var crc32_1,hasRequiredCrc32$1;function requireCrc32$1(){if(hasRequiredCrc32$1)return crc32_1;hasRequiredCrc32$1=1;const i=()=>{let s,l=[];for(var c=0;c<256;c++){s=c;for(var f=0;f<8;f++)s=s&1?3988292384^s>>>1:s>>>1;l[c]=s}return l},n=new Uint32Array(i());return crc32_1=(s,l,c,f)=>{const p=n,g=f+c;s^=-1;for(let y=f;y<g;y++)s=s>>>8^p[(s^l[y])&255];return s^-1},crc32_1}var messages$1,hasRequiredMessages$1;function requireMessages$1(){return hasRequiredMessages$1||(hasRequiredMessages$1=1,messages$1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages$1}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var hasRequiredDeflate$1;function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;const{_tr_init:i,_tr_stored_block:n,_tr_flush_block:a,_tr_tally:s,_tr_align:l}=requireTrees(),c=requireAdler32(),f=requireCrc32$1(),p=requireMessages$1(),{Z_NO_FLUSH:g,Z_PARTIAL_FLUSH:y,Z_FULL_FLUSH:b,Z_FINISH:h,Z_BLOCK:d,Z_OK:v,Z_STREAM_END:_,Z_STREAM_ERROR:A,Z_DATA_ERROR:I,Z_BUF_ERROR:R,Z_DEFAULT_COMPRESSION:P,Z_FILTERED:$,Z_HUFFMAN_ONLY:M,Z_RLE:B,Z_FIXED:F,Z_DEFAULT_STRATEGY:q,Z_UNKNOWN:H,Z_DEFLATED:z}=requireConstants(),L=9,ee=15,Z=8,Q=256+1+29,G=30,te=19,ue=2*Q+1,fe=15,K=3,de=258,we=de+K+1,oe=32,Ne=42,Ie=57,Le=69,ut=73,mt=91,vt=103,it=113,pt=666,xt=1,kt=2,_t=3,Nt=4,Vt=3,Mt=(Y,Ke)=>(Y.msg=p[Ke],Ke),$t=Y=>Y*2-(Y>4?9:0),Ht=Y=>{let Ke=Y.length;for(;--Ke>=0;)Y[Ke]=0},Bt=Y=>{let Ke,be,$e,Fe=Y.w_size;Ke=Y.hash_size,$e=Ke;do be=Y.head[--$e],Y.head[$e]=be>=Fe?be-Fe:0;while(--Ke);Ke=Fe,$e=Ke;do be=Y.prev[--$e],Y.prev[$e]=be>=Fe?be-Fe:0;while(--Ke)};let St=(Y,Ke,be)=>(Ke<<Y.hash_shift^be)&Y.hash_mask;const Lt=Y=>{const Ke=Y.state;let be=Ke.pending;be>Y.avail_out&&(be=Y.avail_out),be!==0&&(Y.output.set(Ke.pending_buf.subarray(Ke.pending_out,Ke.pending_out+be),Y.next_out),Y.next_out+=be,Ke.pending_out+=be,Y.total_out+=be,Y.avail_out-=be,Ke.pending-=be,Ke.pending===0&&(Ke.pending_out=0))},st=(Y,Ke)=>{a(Y,Y.block_start>=0?Y.block_start:-1,Y.strstart-Y.block_start,Ke),Y.block_start=Y.strstart,Lt(Y.strm)},at=(Y,Ke)=>{Y.pending_buf[Y.pending++]=Ke},Ue=(Y,Ke)=>{Y.pending_buf[Y.pending++]=Ke>>>8&255,Y.pending_buf[Y.pending++]=Ke&255},nt=(Y,Ke,be,$e)=>{let Fe=Y.avail_in;return Fe>$e&&(Fe=$e),Fe===0?0:(Y.avail_in-=Fe,Ke.set(Y.input.subarray(Y.next_in,Y.next_in+Fe),be),Y.state.wrap===1?Y.adler=c(Y.adler,Ke,Fe,be):Y.state.wrap===2&&(Y.adler=f(Y.adler,Ke,Fe,be)),Y.next_in+=Fe,Y.total_in+=Fe,Fe)},Ct=(Y,Ke)=>{let be=Y.max_chain_length,$e=Y.strstart,Fe,Ot,Dt=Y.prev_length,Pt=Y.nice_match;const dr=Y.strstart>Y.w_size-we?Y.strstart-(Y.w_size-we):0,Wt=Y.window,Jt=Y.w_mask,ir=Y.prev,pe=Y.strstart+de;let Ae=Wt[$e+Dt-1],De=Wt[$e+Dt];Y.prev_length>=Y.good_match&&(be>>=2),Pt>Y.lookahead&&(Pt=Y.lookahead);do if(Fe=Ke,!(Wt[Fe+Dt]!==De||Wt[Fe+Dt-1]!==Ae||Wt[Fe]!==Wt[$e]||Wt[++Fe]!==Wt[$e+1])){$e+=2,Fe++;do;while(Wt[++$e]===Wt[++Fe]&&Wt[++$e]===Wt[++Fe]&&Wt[++$e]===Wt[++Fe]&&Wt[++$e]===Wt[++Fe]&&Wt[++$e]===Wt[++Fe]&&Wt[++$e]===Wt[++Fe]&&Wt[++$e]===Wt[++Fe]&&Wt[++$e]===Wt[++Fe]&&$e<pe);if(Ot=de-(pe-$e),$e=pe-de,Ot>Dt){if(Y.match_start=Ke,Dt=Ot,Ot>=Pt)break;Ae=Wt[$e+Dt-1],De=Wt[$e+Dt]}}while((Ke=ir[Ke&Jt])>dr&&--be!==0);return Dt<=Y.lookahead?Dt:Y.lookahead},ce=Y=>{const Ke=Y.w_size;let be,$e,Fe;do{if($e=Y.window_size-Y.lookahead-Y.strstart,Y.strstart>=Ke+(Ke-we)&&(Y.window.set(Y.window.subarray(Ke,Ke+Ke-$e),0),Y.match_start-=Ke,Y.strstart-=Ke,Y.block_start-=Ke,Y.insert>Y.strstart&&(Y.insert=Y.strstart),Bt(Y),$e+=Ke),Y.strm.avail_in===0)break;if(be=nt(Y.strm,Y.window,Y.strstart+Y.lookahead,$e),Y.lookahead+=be,Y.lookahead+Y.insert>=K)for(Fe=Y.strstart-Y.insert,Y.ins_h=Y.window[Fe],Y.ins_h=St(Y,Y.ins_h,Y.window[Fe+1]);Y.insert&&(Y.ins_h=St(Y,Y.ins_h,Y.window[Fe+K-1]),Y.prev[Fe&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Fe,Fe++,Y.insert--,!(Y.lookahead+Y.insert<K)););}while(Y.lookahead<we&&Y.strm.avail_in!==0)},He=(Y,Ke)=>{let be=Y.pending_buf_size-5>Y.w_size?Y.w_size:Y.pending_buf_size-5,$e,Fe,Ot,Dt=0,Pt=Y.strm.avail_in;do{if($e=65535,Ot=Y.bi_valid+42>>3,Y.strm.avail_out<Ot||(Ot=Y.strm.avail_out-Ot,Fe=Y.strstart-Y.block_start,$e>Fe+Y.strm.avail_in&&($e=Fe+Y.strm.avail_in),$e>Ot&&($e=Ot),$e<be&&($e===0&&Ke!==h||Ke===g||$e!==Fe+Y.strm.avail_in)))break;Dt=Ke===h&&$e===Fe+Y.strm.avail_in?1:0,n(Y,0,0,Dt),Y.pending_buf[Y.pending-4]=$e,Y.pending_buf[Y.pending-3]=$e>>8,Y.pending_buf[Y.pending-2]=~$e,Y.pending_buf[Y.pending-1]=~$e>>8,Lt(Y.strm),Fe&&(Fe>$e&&(Fe=$e),Y.strm.output.set(Y.window.subarray(Y.block_start,Y.block_start+Fe),Y.strm.next_out),Y.strm.next_out+=Fe,Y.strm.avail_out-=Fe,Y.strm.total_out+=Fe,Y.block_start+=Fe,$e-=Fe),$e&&(nt(Y.strm,Y.strm.output,Y.strm.next_out,$e),Y.strm.next_out+=$e,Y.strm.avail_out-=$e,Y.strm.total_out+=$e)}while(Dt===0);return Pt-=Y.strm.avail_in,Pt&&(Pt>=Y.w_size?(Y.matches=2,Y.window.set(Y.strm.input.subarray(Y.strm.next_in-Y.w_size,Y.strm.next_in),0),Y.strstart=Y.w_size,Y.insert=Y.strstart):(Y.window_size-Y.strstart<=Pt&&(Y.strstart-=Y.w_size,Y.window.set(Y.window.subarray(Y.w_size,Y.w_size+Y.strstart),0),Y.matches<2&&Y.matches++,Y.insert>Y.strstart&&(Y.insert=Y.strstart)),Y.window.set(Y.strm.input.subarray(Y.strm.next_in-Pt,Y.strm.next_in),Y.strstart),Y.strstart+=Pt,Y.insert+=Pt>Y.w_size-Y.insert?Y.w_size-Y.insert:Pt),Y.block_start=Y.strstart),Y.high_water<Y.strstart&&(Y.high_water=Y.strstart),Dt?Nt:Ke!==g&&Ke!==h&&Y.strm.avail_in===0&&Y.strstart===Y.block_start?kt:(Ot=Y.window_size-Y.strstart,Y.strm.avail_in>Ot&&Y.block_start>=Y.w_size&&(Y.block_start-=Y.w_size,Y.strstart-=Y.w_size,Y.window.set(Y.window.subarray(Y.w_size,Y.w_size+Y.strstart),0),Y.matches<2&&Y.matches++,Ot+=Y.w_size,Y.insert>Y.strstart&&(Y.insert=Y.strstart)),Ot>Y.strm.avail_in&&(Ot=Y.strm.avail_in),Ot&&(nt(Y.strm,Y.window,Y.strstart,Ot),Y.strstart+=Ot,Y.insert+=Ot>Y.w_size-Y.insert?Y.w_size-Y.insert:Ot),Y.high_water<Y.strstart&&(Y.high_water=Y.strstart),Ot=Y.bi_valid+42>>3,Ot=Y.pending_buf_size-Ot>65535?65535:Y.pending_buf_size-Ot,be=Ot>Y.w_size?Y.w_size:Ot,Fe=Y.strstart-Y.block_start,(Fe>=be||(Fe||Ke===h)&&Ke!==g&&Y.strm.avail_in===0&&Fe<=Ot)&&($e=Fe>Ot?Ot:Fe,Dt=Ke===h&&Y.strm.avail_in===0&&$e===Fe?1:0,n(Y,Y.block_start,$e,Dt),Y.block_start+=$e,Lt(Y.strm)),Dt?_t:xt)},Je=(Y,Ke)=>{let be,$e;for(;;){if(Y.lookahead<we){if(ce(Y),Y.lookahead<we&&Ke===g)return xt;if(Y.lookahead===0)break}if(be=0,Y.lookahead>=K&&(Y.ins_h=St(Y,Y.ins_h,Y.window[Y.strstart+K-1]),be=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),be!==0&&Y.strstart-be<=Y.w_size-we&&(Y.match_length=Ct(Y,be)),Y.match_length>=K)if($e=s(Y,Y.strstart-Y.match_start,Y.match_length-K),Y.lookahead-=Y.match_length,Y.match_length<=Y.max_lazy_match&&Y.lookahead>=K){Y.match_length--;do Y.strstart++,Y.ins_h=St(Y,Y.ins_h,Y.window[Y.strstart+K-1]),be=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart;while(--Y.match_length!==0);Y.strstart++}else Y.strstart+=Y.match_length,Y.match_length=0,Y.ins_h=Y.window[Y.strstart],Y.ins_h=St(Y,Y.ins_h,Y.window[Y.strstart+1]);else $e=s(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++;if($e&&(st(Y,!1),Y.strm.avail_out===0))return xt}return Y.insert=Y.strstart<K-1?Y.strstart:K-1,Ke===h?(st(Y,!0),Y.strm.avail_out===0?_t:Nt):Y.sym_next&&(st(Y,!1),Y.strm.avail_out===0)?xt:kt},gt=(Y,Ke)=>{let be,$e,Fe;for(;;){if(Y.lookahead<we){if(ce(Y),Y.lookahead<we&&Ke===g)return xt;if(Y.lookahead===0)break}if(be=0,Y.lookahead>=K&&(Y.ins_h=St(Y,Y.ins_h,Y.window[Y.strstart+K-1]),be=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),Y.prev_length=Y.match_length,Y.prev_match=Y.match_start,Y.match_length=K-1,be!==0&&Y.prev_length<Y.max_lazy_match&&Y.strstart-be<=Y.w_size-we&&(Y.match_length=Ct(Y,be),Y.match_length<=5&&(Y.strategy===$||Y.match_length===K&&Y.strstart-Y.match_start>4096)&&(Y.match_length=K-1)),Y.prev_length>=K&&Y.match_length<=Y.prev_length){Fe=Y.strstart+Y.lookahead-K,$e=s(Y,Y.strstart-1-Y.prev_match,Y.prev_length-K),Y.lookahead-=Y.prev_length-1,Y.prev_length-=2;do++Y.strstart<=Fe&&(Y.ins_h=St(Y,Y.ins_h,Y.window[Y.strstart+K-1]),be=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart);while(--Y.prev_length!==0);if(Y.match_available=0,Y.match_length=K-1,Y.strstart++,$e&&(st(Y,!1),Y.strm.avail_out===0))return xt}else if(Y.match_available){if($e=s(Y,0,Y.window[Y.strstart-1]),$e&&st(Y,!1),Y.strstart++,Y.lookahead--,Y.strm.avail_out===0)return xt}else Y.match_available=1,Y.strstart++,Y.lookahead--}return Y.match_available&&($e=s(Y,0,Y.window[Y.strstart-1]),Y.match_available=0),Y.insert=Y.strstart<K-1?Y.strstart:K-1,Ke===h?(st(Y,!0),Y.strm.avail_out===0?_t:Nt):Y.sym_next&&(st(Y,!1),Y.strm.avail_out===0)?xt:kt},Et=(Y,Ke)=>{let be,$e,Fe,Ot;const Dt=Y.window;for(;;){if(Y.lookahead<=de){if(ce(Y),Y.lookahead<=de&&Ke===g)return xt;if(Y.lookahead===0)break}if(Y.match_length=0,Y.lookahead>=K&&Y.strstart>0&&(Fe=Y.strstart-1,$e=Dt[Fe],$e===Dt[++Fe]&&$e===Dt[++Fe]&&$e===Dt[++Fe])){Ot=Y.strstart+de;do;while($e===Dt[++Fe]&&$e===Dt[++Fe]&&$e===Dt[++Fe]&&$e===Dt[++Fe]&&$e===Dt[++Fe]&&$e===Dt[++Fe]&&$e===Dt[++Fe]&&$e===Dt[++Fe]&&Fe<Ot);Y.match_length=de-(Ot-Fe),Y.match_length>Y.lookahead&&(Y.match_length=Y.lookahead)}if(Y.match_length>=K?(be=s(Y,1,Y.match_length-K),Y.lookahead-=Y.match_length,Y.strstart+=Y.match_length,Y.match_length=0):(be=s(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++),be&&(st(Y,!1),Y.strm.avail_out===0))return xt}return Y.insert=0,Ke===h?(st(Y,!0),Y.strm.avail_out===0?_t:Nt):Y.sym_next&&(st(Y,!1),Y.strm.avail_out===0)?xt:kt},lt=(Y,Ke)=>{let be;for(;;){if(Y.lookahead===0&&(ce(Y),Y.lookahead===0)){if(Ke===g)return xt;break}if(Y.match_length=0,be=s(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++,be&&(st(Y,!1),Y.strm.avail_out===0))return xt}return Y.insert=0,Ke===h?(st(Y,!0),Y.strm.avail_out===0?_t:Nt):Y.sym_next&&(st(Y,!1),Y.strm.avail_out===0)?xt:kt};function Se(Y,Ke,be,$e,Fe){this.good_length=Y,this.max_lazy=Ke,this.nice_length=be,this.max_chain=$e,this.func=Fe}const ze=[new Se(0,0,0,0,He),new Se(4,4,8,4,Je),new Se(4,5,16,8,Je),new Se(4,6,32,32,Je),new Se(4,4,16,16,gt),new Se(8,16,32,32,gt),new Se(8,16,128,128,gt),new Se(8,32,128,256,gt),new Se(32,128,258,1024,gt),new Se(32,258,258,4096,gt)],le=Y=>{Y.window_size=2*Y.w_size,Ht(Y.head),Y.max_lazy_match=ze[Y.level].max_lazy,Y.good_match=ze[Y.level].good_length,Y.nice_match=ze[Y.level].nice_length,Y.max_chain_length=ze[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=K-1,Y.match_available=0,Y.ins_h=0};function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ue*2),this.dyn_dtree=new Uint16Array((2*G+1)*2),this.bl_tree=new Uint16Array((2*te+1)*2),Ht(this.dyn_ltree),Ht(this.dyn_dtree),Ht(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(fe+1),this.heap=new Uint16Array(2*Q+1),Ht(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Q+1),Ht(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const _e=Y=>{if(!Y)return 1;const Ke=Y.state;return!Ke||Ke.strm!==Y||Ke.status!==Ne&&Ke.status!==Ie&&Ke.status!==Le&&Ke.status!==ut&&Ke.status!==mt&&Ke.status!==vt&&Ke.status!==it&&Ke.status!==pt?1:0},Oe=Y=>{if(_e(Y))return Mt(Y,A);Y.total_in=Y.total_out=0,Y.data_type=H;const Ke=Y.state;return Ke.pending=0,Ke.pending_out=0,Ke.wrap<0&&(Ke.wrap=-Ke.wrap),Ke.status=Ke.wrap===2?Ie:Ke.wrap?Ne:it,Y.adler=Ke.wrap===2?0:1,Ke.last_flush=-2,i(Ke),v},We=Y=>{const Ke=Oe(Y);return Ke===v&&le(Y.state),Ke},je=(Y,Ke)=>_e(Y)||Y.state.wrap!==2?A:(Y.state.gzhead=Ke,v),Ye=(Y,Ke,be,$e,Fe,Ot)=>{if(!Y)return A;let Dt=1;if(Ke===P&&(Ke=6),$e<0?(Dt=0,$e=-$e):$e>15&&(Dt=2,$e-=16),Fe<1||Fe>L||be!==z||$e<8||$e>15||Ke<0||Ke>9||Ot<0||Ot>F||$e===8&&Dt!==1)return Mt(Y,A);$e===8&&($e=9);const Pt=new ae;return Y.state=Pt,Pt.strm=Y,Pt.status=Ne,Pt.wrap=Dt,Pt.gzhead=null,Pt.w_bits=$e,Pt.w_size=1<<Pt.w_bits,Pt.w_mask=Pt.w_size-1,Pt.hash_bits=Fe+7,Pt.hash_size=1<<Pt.hash_bits,Pt.hash_mask=Pt.hash_size-1,Pt.hash_shift=~~((Pt.hash_bits+K-1)/K),Pt.window=new Uint8Array(Pt.w_size*2),Pt.head=new Uint16Array(Pt.hash_size),Pt.prev=new Uint16Array(Pt.w_size),Pt.lit_bufsize=1<<Fe+6,Pt.pending_buf_size=Pt.lit_bufsize*4,Pt.pending_buf=new Uint8Array(Pt.pending_buf_size),Pt.sym_buf=Pt.lit_bufsize,Pt.sym_end=(Pt.lit_bufsize-1)*3,Pt.level=Ke,Pt.strategy=Ot,Pt.method=be,We(Y)},Te=(Y,Ke)=>Ye(Y,Ke,z,ee,Z,q),Me=(Y,Ke)=>{if(_e(Y)||Ke>d||Ke<0)return Y?Mt(Y,A):A;const be=Y.state;if(!Y.output||Y.avail_in!==0&&!Y.input||be.status===pt&&Ke!==h)return Mt(Y,Y.avail_out===0?R:A);const $e=be.last_flush;if(be.last_flush=Ke,be.pending!==0){if(Lt(Y),Y.avail_out===0)return be.last_flush=-1,v}else if(Y.avail_in===0&&$t(Ke)<=$t($e)&&Ke!==h)return Mt(Y,R);if(be.status===pt&&Y.avail_in!==0)return Mt(Y,R);if(be.status===Ne&&be.wrap===0&&(be.status=it),be.status===Ne){let Fe=z+(be.w_bits-8<<4)<<8,Ot=-1;if(be.strategy>=M||be.level<2?Ot=0:be.level<6?Ot=1:be.level===6?Ot=2:Ot=3,Fe|=Ot<<6,be.strstart!==0&&(Fe|=oe),Fe+=31-Fe%31,Ue(be,Fe),be.strstart!==0&&(Ue(be,Y.adler>>>16),Ue(be,Y.adler&65535)),Y.adler=1,be.status=it,Lt(Y),be.pending!==0)return be.last_flush=-1,v}if(be.status===Ie){if(Y.adler=0,at(be,31),at(be,139),at(be,8),be.gzhead)at(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),at(be,be.gzhead.time&255),at(be,be.gzhead.time>>8&255),at(be,be.gzhead.time>>16&255),at(be,be.gzhead.time>>24&255),at(be,be.level===9?2:be.strategy>=M||be.level<2?4:0),at(be,be.gzhead.os&255),be.gzhead.extra&&be.gzhead.extra.length&&(at(be,be.gzhead.extra.length&255),at(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(Y.adler=f(Y.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=Le;else if(at(be,0),at(be,0),at(be,0),at(be,0),at(be,0),at(be,be.level===9?2:be.strategy>=M||be.level<2?4:0),at(be,Vt),be.status=it,Lt(Y),be.pending!==0)return be.last_flush=-1,v}if(be.status===Le){if(be.gzhead.extra){let Fe=be.pending,Ot=(be.gzhead.extra.length&65535)-be.gzindex;for(;be.pending+Ot>be.pending_buf_size;){let Pt=be.pending_buf_size-be.pending;if(be.pending_buf.set(be.gzhead.extra.subarray(be.gzindex,be.gzindex+Pt),be.pending),be.pending=be.pending_buf_size,be.gzhead.hcrc&&be.pending>Fe&&(Y.adler=f(Y.adler,be.pending_buf,be.pending-Fe,Fe)),be.gzindex+=Pt,Lt(Y),be.pending!==0)return be.last_flush=-1,v;Fe=0,Ot-=Pt}let Dt=new Uint8Array(be.gzhead.extra);be.pending_buf.set(Dt.subarray(be.gzindex,be.gzindex+Ot),be.pending),be.pending+=Ot,be.gzhead.hcrc&&be.pending>Fe&&(Y.adler=f(Y.adler,be.pending_buf,be.pending-Fe,Fe)),be.gzindex=0}be.status=ut}if(be.status===ut){if(be.gzhead.name){let Fe=be.pending,Ot;do{if(be.pending===be.pending_buf_size){if(be.gzhead.hcrc&&be.pending>Fe&&(Y.adler=f(Y.adler,be.pending_buf,be.pending-Fe,Fe)),Lt(Y),be.pending!==0)return be.last_flush=-1,v;Fe=0}be.gzindex<be.gzhead.name.length?Ot=be.gzhead.name.charCodeAt(be.gzindex++)&255:Ot=0,at(be,Ot)}while(Ot!==0);be.gzhead.hcrc&&be.pending>Fe&&(Y.adler=f(Y.adler,be.pending_buf,be.pending-Fe,Fe)),be.gzindex=0}be.status=mt}if(be.status===mt){if(be.gzhead.comment){let Fe=be.pending,Ot;do{if(be.pending===be.pending_buf_size){if(be.gzhead.hcrc&&be.pending>Fe&&(Y.adler=f(Y.adler,be.pending_buf,be.pending-Fe,Fe)),Lt(Y),be.pending!==0)return be.last_flush=-1,v;Fe=0}be.gzindex<be.gzhead.comment.length?Ot=be.gzhead.comment.charCodeAt(be.gzindex++)&255:Ot=0,at(be,Ot)}while(Ot!==0);be.gzhead.hcrc&&be.pending>Fe&&(Y.adler=f(Y.adler,be.pending_buf,be.pending-Fe,Fe))}be.status=vt}if(be.status===vt){if(be.gzhead.hcrc){if(be.pending+2>be.pending_buf_size&&(Lt(Y),be.pending!==0))return be.last_flush=-1,v;at(be,Y.adler&255),at(be,Y.adler>>8&255),Y.adler=0}if(be.status=it,Lt(Y),be.pending!==0)return be.last_flush=-1,v}if(Y.avail_in!==0||be.lookahead!==0||Ke!==g&&be.status!==pt){let Fe=be.level===0?He(be,Ke):be.strategy===M?lt(be,Ke):be.strategy===B?Et(be,Ke):ze[be.level].func(be,Ke);if((Fe===_t||Fe===Nt)&&(be.status=pt),Fe===xt||Fe===_t)return Y.avail_out===0&&(be.last_flush=-1),v;if(Fe===kt&&(Ke===y?l(be):Ke!==d&&(n(be,0,0,!1),Ke===b&&(Ht(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),Lt(Y),Y.avail_out===0))return be.last_flush=-1,v}return Ke!==h?v:be.wrap<=0?_:(be.wrap===2?(at(be,Y.adler&255),at(be,Y.adler>>8&255),at(be,Y.adler>>16&255),at(be,Y.adler>>24&255),at(be,Y.total_in&255),at(be,Y.total_in>>8&255),at(be,Y.total_in>>16&255),at(be,Y.total_in>>24&255)):(Ue(be,Y.adler>>>16),Ue(be,Y.adler&65535)),Lt(Y),be.wrap>0&&(be.wrap=-be.wrap),be.pending!==0?v:_)},Kt=Y=>{if(_e(Y))return A;const Ke=Y.state.status;return Y.state=null,Ke===it?Mt(Y,I):v},Rt=(Y,Ke)=>{let be=Ke.length;if(_e(Y))return A;const $e=Y.state,Fe=$e.wrap;if(Fe===2||Fe===1&&$e.status!==Ne||$e.lookahead)return A;if(Fe===1&&(Y.adler=c(Y.adler,Ke,be,0)),$e.wrap=0,be>=$e.w_size){Fe===0&&(Ht($e.head),$e.strstart=0,$e.block_start=0,$e.insert=0);let dr=new Uint8Array($e.w_size);dr.set(Ke.subarray(be-$e.w_size,be),0),Ke=dr,be=$e.w_size}const Ot=Y.avail_in,Dt=Y.next_in,Pt=Y.input;for(Y.avail_in=be,Y.next_in=0,Y.input=Ke,ce($e);$e.lookahead>=K;){let dr=$e.strstart,Wt=$e.lookahead-(K-1);do $e.ins_h=St($e,$e.ins_h,$e.window[dr+K-1]),$e.prev[dr&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=dr,dr++;while(--Wt);$e.strstart=dr,$e.lookahead=K-1,ce($e)}return $e.strstart+=$e.lookahead,$e.block_start=$e.strstart,$e.insert=$e.lookahead,$e.lookahead=0,$e.match_length=$e.prev_length=K-1,$e.match_available=0,Y.next_in=Dt,Y.input=Pt,Y.avail_in=Ot,$e.wrap=Fe,v};return deflate.deflateInit=Te,deflate.deflateInit2=Ye,deflate.deflateReset=We,deflate.deflateResetKeep=Oe,deflate.deflateSetHeader=je,deflate.deflate=Me,deflate.deflateEnd=Kt,deflate.deflateSetDictionary=Rt,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;const i=(n,a)=>Object.prototype.hasOwnProperty.call(n,a);return common$1.assign=function(n){const a=Array.prototype.slice.call(arguments,1);for(;a.length;){const s=a.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const l in s)i(s,l)&&(n[l]=s[l])}}return n},common$1.flattenChunks=n=>{let a=0;for(let l=0,c=n.length;l<c;l++)a+=n[l].length;const s=new Uint8Array(a);for(let l=0,c=0,f=n.length;l<f;l++){let p=n[l];s.set(p,c),c+=p.length}return s},common$1}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;let i=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}const n=new Uint8Array(256);for(let s=0;s<256;s++)n[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;n[254]=n[254]=1,strings.string2buf=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let l,c,f,p,g,y=s.length,b=0;for(p=0;p<y;p++)c=s.charCodeAt(p),(c&64512)===55296&&p+1<y&&(f=s.charCodeAt(p+1),(f&64512)===56320&&(c=65536+(c-55296<<10)+(f-56320),p++)),b+=c<128?1:c<2048?2:c<65536?3:4;for(l=new Uint8Array(b),g=0,p=0;g<b;p++)c=s.charCodeAt(p),(c&64512)===55296&&p+1<y&&(f=s.charCodeAt(p+1),(f&64512)===56320&&(c=65536+(c-55296<<10)+(f-56320),p++)),c<128?l[g++]=c:c<2048?(l[g++]=192|c>>>6,l[g++]=128|c&63):c<65536?(l[g++]=224|c>>>12,l[g++]=128|c>>>6&63,l[g++]=128|c&63):(l[g++]=240|c>>>18,l[g++]=128|c>>>12&63,l[g++]=128|c>>>6&63,l[g++]=128|c&63);return l};const a=(s,l)=>{if(l<65534&&s.subarray&&i)return String.fromCharCode.apply(null,s.length===l?s:s.subarray(0,l));let c="";for(let f=0;f<l;f++)c+=String.fromCharCode(s[f]);return c};return strings.buf2string=(s,l)=>{const c=l||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,l));let f,p;const g=new Array(c*2);for(p=0,f=0;f<c;){let y=s[f++];if(y<128){g[p++]=y;continue}let b=n[y];if(b>4){g[p++]=65533,f+=b-1;continue}for(y&=b===2?31:b===3?15:7;b>1&&f<c;)y=y<<6|s[f++]&63,b--;if(b>1){g[p++]=65533;continue}y<65536?g[p++]=y:(y-=65536,g[p++]=55296|y>>10&1023,g[p++]=56320|y&1023)}return a(g,p)},strings.utf8border=(s,l)=>{l=l||s.length,l>s.length&&(l=s.length);let c=l-1;for(;c>=0&&(s[c]&192)===128;)c--;return c<0||c===0?l:c+n[s[c]]>l?c:l},strings}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=i,zstream}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;const i=requireDeflate$1(),n=requireCommon$1(),a=requireStrings(),s=requireMessages$1(),l=requireZstream(),c=Object.prototype.toString,{Z_NO_FLUSH:f,Z_SYNC_FLUSH:p,Z_FULL_FLUSH:g,Z_FINISH:y,Z_OK:b,Z_STREAM_END:h,Z_DEFAULT_COMPRESSION:d,Z_DEFAULT_STRATEGY:v,Z_DEFLATED:_}=requireConstants();function A($){this.options=n.assign({level:d,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:v},$||{});let M=this.options;M.raw&&M.windowBits>0?M.windowBits=-M.windowBits:M.gzip&&M.windowBits>0&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;let B=i.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(B!==b)throw new Error(s[B]);if(M.header&&i.deflateSetHeader(this.strm,M.header),M.dictionary){let F;if(typeof M.dictionary=="string"?F=a.string2buf(M.dictionary):c.call(M.dictionary)==="[object ArrayBuffer]"?F=new Uint8Array(M.dictionary):F=M.dictionary,B=i.deflateSetDictionary(this.strm,F),B!==b)throw new Error(s[B]);this._dict_set=!0}}A.prototype.push=function($,M){const B=this.strm,F=this.options.chunkSize;let q,H;if(this.ended)return!1;for(M===~~M?H=M:H=M===!0?y:f,typeof $=="string"?B.input=a.string2buf($):c.call($)==="[object ArrayBuffer]"?B.input=new Uint8Array($):B.input=$,B.next_in=0,B.avail_in=B.input.length;;){if(B.avail_out===0&&(B.output=new Uint8Array(F),B.next_out=0,B.avail_out=F),(H===p||H===g)&&B.avail_out<=6){this.onData(B.output.subarray(0,B.next_out)),B.avail_out=0;continue}if(q=i.deflate(B,H),q===h)return B.next_out>0&&this.onData(B.output.subarray(0,B.next_out)),q=i.deflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===b;if(B.avail_out===0){this.onData(B.output);continue}if(H>0&&B.next_out>0){this.onData(B.output.subarray(0,B.next_out)),B.avail_out=0;continue}if(B.avail_in===0)break}return!0},A.prototype.onData=function($){this.chunks.push($)},A.prototype.onEnd=function($){$===b&&(this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg};function I($,M){const B=new A(M);if(B.push($,!0),B.err)throw B.msg||s[B.err];return B.result}function R($,M){return M=M||{},M.raw=!0,I($,M)}function P($,M){return M=M||{},M.gzip=!0,I($,M)}return deflate$1.Deflate=A,deflate$1.deflate=I,deflate$1.deflateRaw=R,deflate$1.gzip=P,deflate$1.constants=requireConstants(),deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;const i=16209,n=16191;return inffast=function(s,l){let c,f,p,g,y,b,h,d,v,_,A,I,R,P,$,M,B,F,q,H,z,L,ee,Z;const V=s.state;c=s.next_in,ee=s.input,f=c+(s.avail_in-5),p=s.next_out,Z=s.output,g=p-(l-s.avail_out),y=p+(s.avail_out-257),b=V.dmax,h=V.wsize,d=V.whave,v=V.wnext,_=V.window,A=V.hold,I=V.bits,R=V.lencode,P=V.distcode,$=(1<<V.lenbits)-1,M=(1<<V.distbits)-1;e:do{I<15&&(A+=ee[c++]<<I,I+=8,A+=ee[c++]<<I,I+=8),B=R[A&$];t:for(;;){if(F=B>>>24,A>>>=F,I-=F,F=B>>>16&255,F===0)Z[p++]=B&65535;else if(F&16){q=B&65535,F&=15,F&&(I<F&&(A+=ee[c++]<<I,I+=8),q+=A&(1<<F)-1,A>>>=F,I-=F),I<15&&(A+=ee[c++]<<I,I+=8,A+=ee[c++]<<I,I+=8),B=P[A&M];r:for(;;){if(F=B>>>24,A>>>=F,I-=F,F=B>>>16&255,F&16){if(H=B&65535,F&=15,I<F&&(A+=ee[c++]<<I,I+=8,I<F&&(A+=ee[c++]<<I,I+=8)),H+=A&(1<<F)-1,H>b){s.msg="invalid distance too far back",V.mode=i;break e}if(A>>>=F,I-=F,F=p-g,H>F){if(F=H-F,F>d&&V.sane){s.msg="invalid distance too far back",V.mode=i;break e}if(z=0,L=_,v===0){if(z+=h-F,F<q){q-=F;do Z[p++]=_[z++];while(--F);z=p-H,L=Z}}else if(v<F){if(z+=h+v-F,F-=v,F<q){q-=F;do Z[p++]=_[z++];while(--F);if(z=0,v<q){F=v,q-=F;do Z[p++]=_[z++];while(--F);z=p-H,L=Z}}}else if(z+=v-F,F<q){q-=F;do Z[p++]=_[z++];while(--F);z=p-H,L=Z}for(;q>2;)Z[p++]=L[z++],Z[p++]=L[z++],Z[p++]=L[z++],q-=3;q&&(Z[p++]=L[z++],q>1&&(Z[p++]=L[z++]))}else{z=p-H;do Z[p++]=Z[z++],Z[p++]=Z[z++],Z[p++]=Z[z++],q-=3;while(q>2);q&&(Z[p++]=Z[z++],q>1&&(Z[p++]=Z[z++]))}}else if((F&64)===0){B=P[(B&65535)+(A&(1<<F)-1)];continue r}else{s.msg="invalid distance code",V.mode=i;break e}break}}else if((F&64)===0){B=R[(B&65535)+(A&(1<<F)-1)];continue t}else if(F&32){V.mode=n;break e}else{s.msg="invalid literal/length code",V.mode=i;break e}break}}while(c<f&&p<y);q=I>>3,c-=q,I-=q<<3,A&=(1<<I)-1,s.next_in=c,s.next_out=p,s.avail_in=c<f?5+(f-c):5-(c-f),s.avail_out=p<y?257+(y-p):257-(p-y),V.hold=A,V.bits=I},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;const i=15,n=852,a=592,s=0,l=1,c=2,f=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),p=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),g=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),y=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);return inftrees=(h,d,v,_,A,I,R,P)=>{const $=P.bits;let M=0,B=0,F=0,q=0,H=0,z=0,L=0,ee=0,Z=0,V=0,X,Q,G,te,ue,fe=null,K;const de=new Uint16Array(i+1),we=new Uint16Array(i+1);let oe=null,Ne,Ie,Le;for(M=0;M<=i;M++)de[M]=0;for(B=0;B<_;B++)de[d[v+B]]++;for(H=$,q=i;q>=1&&de[q]===0;q--);if(H>q&&(H=q),q===0)return A[I++]=1<<24|64<<16|0,A[I++]=1<<24|64<<16|0,P.bits=1,0;for(F=1;F<q&&de[F]===0;F++);for(H<F&&(H=F),ee=1,M=1;M<=i;M++)if(ee<<=1,ee-=de[M],ee<0)return-1;if(ee>0&&(h===s||q!==1))return-1;for(we[1]=0,M=1;M<i;M++)we[M+1]=we[M]+de[M];for(B=0;B<_;B++)d[v+B]!==0&&(R[we[d[v+B]]++]=B);if(h===s?(fe=oe=R,K=20):h===l?(fe=f,oe=p,K=257):(fe=g,oe=y,K=0),V=0,B=0,M=F,ue=I,z=H,L=0,G=-1,Z=1<<H,te=Z-1,h===l&&Z>n||h===c&&Z>a)return 1;for(;;){Ne=M-L,R[B]+1<K?(Ie=0,Le=R[B]):R[B]>=K?(Ie=oe[R[B]-K],Le=fe[R[B]-K]):(Ie=96,Le=0),X=1<<M-L,Q=1<<z,F=Q;do Q-=X,A[ue+(V>>L)+Q]=Ne<<24|Ie<<16|Le|0;while(Q!==0);for(X=1<<M-1;V&X;)X>>=1;if(X!==0?(V&=X-1,V+=X):V=0,B++,--de[M]===0){if(M===q)break;M=d[v+R[B]]}if(M>H&&(V&te)!==G){for(L===0&&(L=H),ue+=F,z=M-L,ee=1<<z;z+L<q&&(ee-=de[z+L],!(ee<=0));)z++,ee<<=1;if(Z+=1<<z,h===l&&Z>n||h===c&&Z>a)return 1;G=V&te,A[G]=H<<24|z<<16|ue-I|0}}return V!==0&&(A[ue+V]=M-L<<24|64<<16|0),P.bits=H,0},inftrees}var hasRequiredInflate$1;function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;const i=requireAdler32(),n=requireCrc32$1(),a=requireInffast(),s=requireInftrees(),l=0,c=1,f=2,{Z_FINISH:p,Z_BLOCK:g,Z_TREES:y,Z_OK:b,Z_STREAM_END:h,Z_NEED_DICT:d,Z_STREAM_ERROR:v,Z_DATA_ERROR:_,Z_MEM_ERROR:A,Z_BUF_ERROR:I,Z_DEFLATED:R}=requireConstants(),P=16180,$=16181,M=16182,B=16183,F=16184,q=16185,H=16186,z=16187,L=16188,ee=16189,Z=16190,V=16191,X=16192,Q=16193,G=16194,te=16195,ue=16196,fe=16197,K=16198,de=16199,we=16200,oe=16201,Ne=16202,Ie=16203,Le=16204,ut=16205,mt=16206,vt=16207,it=16208,pt=16209,xt=16210,kt=16211,_t=852,Nt=592,Mt=15,$t=Se=>(Se>>>24&255)+(Se>>>8&65280)+((Se&65280)<<8)+((Se&255)<<24);function Ht(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bt=Se=>{if(!Se)return 1;const ze=Se.state;return!ze||ze.strm!==Se||ze.mode<P||ze.mode>kt?1:0},Ut=Se=>{if(Bt(Se))return v;const ze=Se.state;return Se.total_in=Se.total_out=ze.total=0,Se.msg="",ze.wrap&&(Se.adler=ze.wrap&1),ze.mode=P,ze.last=0,ze.havedict=0,ze.flags=-1,ze.dmax=32768,ze.head=null,ze.hold=0,ze.bits=0,ze.lencode=ze.lendyn=new Int32Array(_t),ze.distcode=ze.distdyn=new Int32Array(Nt),ze.sane=1,ze.back=-1,b},St=Se=>{if(Bt(Se))return v;const ze=Se.state;return ze.wsize=0,ze.whave=0,ze.wnext=0,Ut(Se)},Lt=(Se,ze)=>{let le;if(Bt(Se))return v;const ae=Se.state;return ze<0?(le=0,ze=-ze):(le=(ze>>4)+5,ze<48&&(ze&=15)),ze&&(ze<8||ze>15)?v:(ae.window!==null&&ae.wbits!==ze&&(ae.window=null),ae.wrap=le,ae.wbits=ze,St(Se))},st=(Se,ze)=>{if(!Se)return v;const le=new Ht;Se.state=le,le.strm=Se,le.window=null,le.mode=P;const ae=Lt(Se,ze);return ae!==b&&(Se.state=null),ae},at=Se=>st(Se,Mt);let Ue=!0,nt,Ct;const ce=Se=>{if(Ue){nt=new Int32Array(512),Ct=new Int32Array(32);let ze=0;for(;ze<144;)Se.lens[ze++]=8;for(;ze<256;)Se.lens[ze++]=9;for(;ze<280;)Se.lens[ze++]=7;for(;ze<288;)Se.lens[ze++]=8;for(s(c,Se.lens,0,288,nt,0,Se.work,{bits:9}),ze=0;ze<32;)Se.lens[ze++]=5;s(f,Se.lens,0,32,Ct,0,Se.work,{bits:5}),Ue=!1}Se.lencode=nt,Se.lenbits=9,Se.distcode=Ct,Se.distbits=5},He=(Se,ze,le,ae)=>{let _e;const Oe=Se.state;return Oe.window===null&&(Oe.wsize=1<<Oe.wbits,Oe.wnext=0,Oe.whave=0,Oe.window=new Uint8Array(Oe.wsize)),ae>=Oe.wsize?(Oe.window.set(ze.subarray(le-Oe.wsize,le),0),Oe.wnext=0,Oe.whave=Oe.wsize):(_e=Oe.wsize-Oe.wnext,_e>ae&&(_e=ae),Oe.window.set(ze.subarray(le-ae,le-ae+_e),Oe.wnext),ae-=_e,ae?(Oe.window.set(ze.subarray(le-ae,le),0),Oe.wnext=ae,Oe.whave=Oe.wsize):(Oe.wnext+=_e,Oe.wnext===Oe.wsize&&(Oe.wnext=0),Oe.whave<Oe.wsize&&(Oe.whave+=_e))),0},Je=(Se,ze)=>{let le,ae,_e,Oe,We,je,Ye,Te,Me,Kt,Rt,Y,Ke,be,$e=0,Fe,Ot,Dt,Pt,dr,Wt,Jt,ir;const pe=new Uint8Array(4);let Ae,De;const qe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bt(Se)||!Se.output||!Se.input&&Se.avail_in!==0)return v;le=Se.state,le.mode===V&&(le.mode=X),We=Se.next_out,_e=Se.output,Ye=Se.avail_out,Oe=Se.next_in,ae=Se.input,je=Se.avail_in,Te=le.hold,Me=le.bits,Kt=je,Rt=Ye,ir=b;e:for(;;)switch(le.mode){case P:if(le.wrap===0){le.mode=X;break}for(;Me<16;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if(le.wrap&2&&Te===35615){le.wbits===0&&(le.wbits=15),le.check=0,pe[0]=Te&255,pe[1]=Te>>>8&255,le.check=n(le.check,pe,2,0),Te=0,Me=0,le.mode=$;break}if(le.head&&(le.head.done=!1),!(le.wrap&1)||(((Te&255)<<8)+(Te>>8))%31){Se.msg="incorrect header check",le.mode=pt;break}if((Te&15)!==R){Se.msg="unknown compression method",le.mode=pt;break}if(Te>>>=4,Me-=4,Jt=(Te&15)+8,le.wbits===0&&(le.wbits=Jt),Jt>15||Jt>le.wbits){Se.msg="invalid window size",le.mode=pt;break}le.dmax=1<<le.wbits,le.flags=0,Se.adler=le.check=1,le.mode=Te&512?ee:V,Te=0,Me=0;break;case $:for(;Me<16;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if(le.flags=Te,(le.flags&255)!==R){Se.msg="unknown compression method",le.mode=pt;break}if(le.flags&57344){Se.msg="unknown header flags set",le.mode=pt;break}le.head&&(le.head.text=Te>>8&1),le.flags&512&&le.wrap&4&&(pe[0]=Te&255,pe[1]=Te>>>8&255,le.check=n(le.check,pe,2,0)),Te=0,Me=0,le.mode=M;case M:for(;Me<32;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}le.head&&(le.head.time=Te),le.flags&512&&le.wrap&4&&(pe[0]=Te&255,pe[1]=Te>>>8&255,pe[2]=Te>>>16&255,pe[3]=Te>>>24&255,le.check=n(le.check,pe,4,0)),Te=0,Me=0,le.mode=B;case B:for(;Me<16;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}le.head&&(le.head.xflags=Te&255,le.head.os=Te>>8),le.flags&512&&le.wrap&4&&(pe[0]=Te&255,pe[1]=Te>>>8&255,le.check=n(le.check,pe,2,0)),Te=0,Me=0,le.mode=F;case F:if(le.flags&1024){for(;Me<16;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}le.length=Te,le.head&&(le.head.extra_len=Te),le.flags&512&&le.wrap&4&&(pe[0]=Te&255,pe[1]=Te>>>8&255,le.check=n(le.check,pe,2,0)),Te=0,Me=0}else le.head&&(le.head.extra=null);le.mode=q;case q:if(le.flags&1024&&(Y=le.length,Y>je&&(Y=je),Y&&(le.head&&(Jt=le.head.extra_len-le.length,le.head.extra||(le.head.extra=new Uint8Array(le.head.extra_len)),le.head.extra.set(ae.subarray(Oe,Oe+Y),Jt)),le.flags&512&&le.wrap&4&&(le.check=n(le.check,ae,Y,Oe)),je-=Y,Oe+=Y,le.length-=Y),le.length))break e;le.length=0,le.mode=H;case H:if(le.flags&2048){if(je===0)break e;Y=0;do Jt=ae[Oe+Y++],le.head&&Jt&&le.length<65536&&(le.head.name+=String.fromCharCode(Jt));while(Jt&&Y<je);if(le.flags&512&&le.wrap&4&&(le.check=n(le.check,ae,Y,Oe)),je-=Y,Oe+=Y,Jt)break e}else le.head&&(le.head.name=null);le.length=0,le.mode=z;case z:if(le.flags&4096){if(je===0)break e;Y=0;do Jt=ae[Oe+Y++],le.head&&Jt&&le.length<65536&&(le.head.comment+=String.fromCharCode(Jt));while(Jt&&Y<je);if(le.flags&512&&le.wrap&4&&(le.check=n(le.check,ae,Y,Oe)),je-=Y,Oe+=Y,Jt)break e}else le.head&&(le.head.comment=null);le.mode=L;case L:if(le.flags&512){for(;Me<16;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if(le.wrap&4&&Te!==(le.check&65535)){Se.msg="header crc mismatch",le.mode=pt;break}Te=0,Me=0}le.head&&(le.head.hcrc=le.flags>>9&1,le.head.done=!0),Se.adler=le.check=0,le.mode=V;break;case ee:for(;Me<32;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}Se.adler=le.check=$t(Te),Te=0,Me=0,le.mode=Z;case Z:if(le.havedict===0)return Se.next_out=We,Se.avail_out=Ye,Se.next_in=Oe,Se.avail_in=je,le.hold=Te,le.bits=Me,d;Se.adler=le.check=1,le.mode=V;case V:if(ze===g||ze===y)break e;case X:if(le.last){Te>>>=Me&7,Me-=Me&7,le.mode=mt;break}for(;Me<3;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}switch(le.last=Te&1,Te>>>=1,Me-=1,Te&3){case 0:le.mode=Q;break;case 1:if(ce(le),le.mode=de,ze===y){Te>>>=2,Me-=2;break e}break;case 2:le.mode=ue;break;case 3:Se.msg="invalid block type",le.mode=pt}Te>>>=2,Me-=2;break;case Q:for(Te>>>=Me&7,Me-=Me&7;Me<32;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if((Te&65535)!==(Te>>>16^65535)){Se.msg="invalid stored block lengths",le.mode=pt;break}if(le.length=Te&65535,Te=0,Me=0,le.mode=G,ze===y)break e;case G:le.mode=te;case te:if(Y=le.length,Y){if(Y>je&&(Y=je),Y>Ye&&(Y=Ye),Y===0)break e;_e.set(ae.subarray(Oe,Oe+Y),We),je-=Y,Oe+=Y,Ye-=Y,We+=Y,le.length-=Y;break}le.mode=V;break;case ue:for(;Me<14;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if(le.nlen=(Te&31)+257,Te>>>=5,Me-=5,le.ndist=(Te&31)+1,Te>>>=5,Me-=5,le.ncode=(Te&15)+4,Te>>>=4,Me-=4,le.nlen>286||le.ndist>30){Se.msg="too many length or distance symbols",le.mode=pt;break}le.have=0,le.mode=fe;case fe:for(;le.have<le.ncode;){for(;Me<3;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}le.lens[qe[le.have++]]=Te&7,Te>>>=3,Me-=3}for(;le.have<19;)le.lens[qe[le.have++]]=0;if(le.lencode=le.lendyn,le.lenbits=7,Ae={bits:le.lenbits},ir=s(l,le.lens,0,19,le.lencode,0,le.work,Ae),le.lenbits=Ae.bits,ir){Se.msg="invalid code lengths set",le.mode=pt;break}le.have=0,le.mode=K;case K:for(;le.have<le.nlen+le.ndist;){for(;$e=le.lencode[Te&(1<<le.lenbits)-1],Fe=$e>>>24,Ot=$e>>>16&255,Dt=$e&65535,!(Fe<=Me);){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if(Dt<16)Te>>>=Fe,Me-=Fe,le.lens[le.have++]=Dt;else{if(Dt===16){for(De=Fe+2;Me<De;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if(Te>>>=Fe,Me-=Fe,le.have===0){Se.msg="invalid bit length repeat",le.mode=pt;break}Jt=le.lens[le.have-1],Y=3+(Te&3),Te>>>=2,Me-=2}else if(Dt===17){for(De=Fe+3;Me<De;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}Te>>>=Fe,Me-=Fe,Jt=0,Y=3+(Te&7),Te>>>=3,Me-=3}else{for(De=Fe+7;Me<De;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}Te>>>=Fe,Me-=Fe,Jt=0,Y=11+(Te&127),Te>>>=7,Me-=7}if(le.have+Y>le.nlen+le.ndist){Se.msg="invalid bit length repeat",le.mode=pt;break}for(;Y--;)le.lens[le.have++]=Jt}}if(le.mode===pt)break;if(le.lens[256]===0){Se.msg="invalid code -- missing end-of-block",le.mode=pt;break}if(le.lenbits=9,Ae={bits:le.lenbits},ir=s(c,le.lens,0,le.nlen,le.lencode,0,le.work,Ae),le.lenbits=Ae.bits,ir){Se.msg="invalid literal/lengths set",le.mode=pt;break}if(le.distbits=6,le.distcode=le.distdyn,Ae={bits:le.distbits},ir=s(f,le.lens,le.nlen,le.ndist,le.distcode,0,le.work,Ae),le.distbits=Ae.bits,ir){Se.msg="invalid distances set",le.mode=pt;break}if(le.mode=de,ze===y)break e;case de:le.mode=we;case we:if(je>=6&&Ye>=258){Se.next_out=We,Se.avail_out=Ye,Se.next_in=Oe,Se.avail_in=je,le.hold=Te,le.bits=Me,a(Se,Rt),We=Se.next_out,_e=Se.output,Ye=Se.avail_out,Oe=Se.next_in,ae=Se.input,je=Se.avail_in,Te=le.hold,Me=le.bits,le.mode===V&&(le.back=-1);break}for(le.back=0;$e=le.lencode[Te&(1<<le.lenbits)-1],Fe=$e>>>24,Ot=$e>>>16&255,Dt=$e&65535,!(Fe<=Me);){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if(Ot&&(Ot&240)===0){for(Pt=Fe,dr=Ot,Wt=Dt;$e=le.lencode[Wt+((Te&(1<<Pt+dr)-1)>>Pt)],Fe=$e>>>24,Ot=$e>>>16&255,Dt=$e&65535,!(Pt+Fe<=Me);){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}Te>>>=Pt,Me-=Pt,le.back+=Pt}if(Te>>>=Fe,Me-=Fe,le.back+=Fe,le.length=Dt,Ot===0){le.mode=ut;break}if(Ot&32){le.back=-1,le.mode=V;break}if(Ot&64){Se.msg="invalid literal/length code",le.mode=pt;break}le.extra=Ot&15,le.mode=oe;case oe:if(le.extra){for(De=le.extra;Me<De;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}le.length+=Te&(1<<le.extra)-1,Te>>>=le.extra,Me-=le.extra,le.back+=le.extra}le.was=le.length,le.mode=Ne;case Ne:for(;$e=le.distcode[Te&(1<<le.distbits)-1],Fe=$e>>>24,Ot=$e>>>16&255,Dt=$e&65535,!(Fe<=Me);){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if((Ot&240)===0){for(Pt=Fe,dr=Ot,Wt=Dt;$e=le.distcode[Wt+((Te&(1<<Pt+dr)-1)>>Pt)],Fe=$e>>>24,Ot=$e>>>16&255,Dt=$e&65535,!(Pt+Fe<=Me);){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}Te>>>=Pt,Me-=Pt,le.back+=Pt}if(Te>>>=Fe,Me-=Fe,le.back+=Fe,Ot&64){Se.msg="invalid distance code",le.mode=pt;break}le.offset=Dt,le.extra=Ot&15,le.mode=Ie;case Ie:if(le.extra){for(De=le.extra;Me<De;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}le.offset+=Te&(1<<le.extra)-1,Te>>>=le.extra,Me-=le.extra,le.back+=le.extra}if(le.offset>le.dmax){Se.msg="invalid distance too far back",le.mode=pt;break}le.mode=Le;case Le:if(Ye===0)break e;if(Y=Rt-Ye,le.offset>Y){if(Y=le.offset-Y,Y>le.whave&&le.sane){Se.msg="invalid distance too far back",le.mode=pt;break}Y>le.wnext?(Y-=le.wnext,Ke=le.wsize-Y):Ke=le.wnext-Y,Y>le.length&&(Y=le.length),be=le.window}else be=_e,Ke=We-le.offset,Y=le.length;Y>Ye&&(Y=Ye),Ye-=Y,le.length-=Y;do _e[We++]=be[Ke++];while(--Y);le.length===0&&(le.mode=we);break;case ut:if(Ye===0)break e;_e[We++]=le.length,Ye--,le.mode=we;break;case mt:if(le.wrap){for(;Me<32;){if(je===0)break e;je--,Te|=ae[Oe++]<<Me,Me+=8}if(Rt-=Ye,Se.total_out+=Rt,le.total+=Rt,le.wrap&4&&Rt&&(Se.adler=le.check=le.flags?n(le.check,_e,Rt,We-Rt):i(le.check,_e,Rt,We-Rt)),Rt=Ye,le.wrap&4&&(le.flags?Te:$t(Te))!==le.check){Se.msg="incorrect data check",le.mode=pt;break}Te=0,Me=0}le.mode=vt;case vt:if(le.wrap&&le.flags){for(;Me<32;){if(je===0)break e;je--,Te+=ae[Oe++]<<Me,Me+=8}if(le.wrap&4&&Te!==(le.total&4294967295)){Se.msg="incorrect length check",le.mode=pt;break}Te=0,Me=0}le.mode=it;case it:ir=h;break e;case pt:ir=_;break e;case xt:return A;case kt:default:return v}return Se.next_out=We,Se.avail_out=Ye,Se.next_in=Oe,Se.avail_in=je,le.hold=Te,le.bits=Me,(le.wsize||Rt!==Se.avail_out&&le.mode<pt&&(le.mode<mt||ze!==p))&&He(Se,Se.output,Se.next_out,Rt-Se.avail_out),Kt-=Se.avail_in,Rt-=Se.avail_out,Se.total_in+=Kt,Se.total_out+=Rt,le.total+=Rt,le.wrap&4&&Rt&&(Se.adler=le.check=le.flags?n(le.check,_e,Rt,Se.next_out-Rt):i(le.check,_e,Rt,Se.next_out-Rt)),Se.data_type=le.bits+(le.last?64:0)+(le.mode===V?128:0)+(le.mode===de||le.mode===G?256:0),(Kt===0&&Rt===0||ze===p)&&ir===b&&(ir=I),ir},gt=Se=>{if(Bt(Se))return v;let ze=Se.state;return ze.window&&(ze.window=null),Se.state=null,b},Et=(Se,ze)=>{if(Bt(Se))return v;const le=Se.state;return(le.wrap&2)===0?v:(le.head=ze,ze.done=!1,b)},lt=(Se,ze)=>{const le=ze.length;let ae,_e,Oe;return Bt(Se)||(ae=Se.state,ae.wrap!==0&&ae.mode!==Z)?v:ae.mode===Z&&(_e=1,_e=i(_e,ze,le,0),_e!==ae.check)?_:(Oe=He(Se,ze,le,le),Oe?(ae.mode=xt,A):(ae.havedict=1,b))};return inflate.inflateReset=St,inflate.inflateReset2=Lt,inflate.inflateResetKeep=Ut,inflate.inflateInit=at,inflate.inflateInit2=st,inflate.inflate=Je,inflate.inflateEnd=gt,inflate.inflateGetHeader=Et,inflate.inflateSetDictionary=lt,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var gzheader,hasRequiredGzheader;function requireGzheader(){if(hasRequiredGzheader)return gzheader;hasRequiredGzheader=1;function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader=i,gzheader}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;const i=requireInflate$1(),n=requireCommon$1(),a=requireStrings(),s=requireMessages$1(),l=requireZstream(),c=requireGzheader(),f=Object.prototype.toString,{Z_NO_FLUSH:p,Z_FINISH:g,Z_OK:y,Z_STREAM_END:b,Z_NEED_DICT:h,Z_STREAM_ERROR:d,Z_DATA_ERROR:v,Z_MEM_ERROR:_}=requireConstants();function A(P){this.options=n.assign({chunkSize:1024*64,windowBits:15,to:""},P||{});const $=this.options;$.raw&&$.windowBits>=0&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),$.windowBits>=0&&$.windowBits<16&&!(P&&P.windowBits)&&($.windowBits+=32),$.windowBits>15&&$.windowBits<48&&($.windowBits&15)===0&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;let M=i.inflateInit2(this.strm,$.windowBits);if(M!==y)throw new Error(s[M]);if(this.header=new c,i.inflateGetHeader(this.strm,this.header),$.dictionary&&(typeof $.dictionary=="string"?$.dictionary=a.string2buf($.dictionary):f.call($.dictionary)==="[object ArrayBuffer]"&&($.dictionary=new Uint8Array($.dictionary)),$.raw&&(M=i.inflateSetDictionary(this.strm,$.dictionary),M!==y)))throw new Error(s[M])}A.prototype.push=function(P,$){const M=this.strm,B=this.options.chunkSize,F=this.options.dictionary;let q,H,z;if(this.ended)return!1;for($===~~$?H=$:H=$===!0?g:p,f.call(P)==="[object ArrayBuffer]"?M.input=new Uint8Array(P):M.input=P,M.next_in=0,M.avail_in=M.input.length;;){for(M.avail_out===0&&(M.output=new Uint8Array(B),M.next_out=0,M.avail_out=B),q=i.inflate(M,H),q===h&&F&&(q=i.inflateSetDictionary(M,F),q===y?q=i.inflate(M,H):q===v&&(q=h));M.avail_in>0&&q===b&&M.state.wrap>0&&P[M.next_in]!==0;)i.inflateReset(M),q=i.inflate(M,H);switch(q){case d:case v:case h:case _:return this.onEnd(q),this.ended=!0,!1}if(z=M.avail_out,M.next_out&&(M.avail_out===0||q===b))if(this.options.to==="string"){let L=a.utf8border(M.output,M.next_out),ee=M.next_out-L,Z=a.buf2string(M.output,L);M.next_out=ee,M.avail_out=B-ee,ee&&M.output.set(M.output.subarray(L,L+ee),0),this.onData(Z)}else this.onData(M.output.length===M.next_out?M.output:M.output.subarray(0,M.next_out));if(!(q===y&&z===0)){if(q===b)return q=i.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,!0;if(M.avail_in===0)break}}return!0},A.prototype.onData=function(P){this.chunks.push(P)},A.prototype.onEnd=function(P){P===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg};function I(P,$){const M=new A($);if(M.push(P),M.err)throw M.msg||s[M.err];return M.result}function R(P,$){return $=$||{},$.raw=!0,I(P,$)}return inflate$1.Inflate=A,inflate$1.inflate=I,inflate$1.inflateRaw=R,inflate$1.ungzip=I,inflate$1.constants=requireConstants(),inflate$1}var hasRequiredPako;function requirePako(){if(hasRequiredPako)return pako;hasRequiredPako=1;const{Deflate:i,deflate:n,deflateRaw:a,gzip:s}=requireDeflate(),{Inflate:l,inflate:c,inflateRaw:f,ungzip:p}=requireInflate(),g=requireConstants();return pako.Deflate=i,pako.deflate=n,pako.deflateRaw=a,pako.gzip=s,pako.Inflate=l,pako.inflate=c,pako.inflateRaw=f,pako.ungzip=p,pako.constants=g,pako}var paeth={},hasRequiredPaeth;function requirePaeth(){if(hasRequiredPaeth)return paeth;hasRequiredPaeth=1,Object.defineProperty(paeth,"__esModule",{value:!0}),paeth.paethPredicator=void 0;function i(n,a,s){const l=n+a-s,c=Math.abs(l-n),f=Math.abs(l-a),p=Math.abs(l-s);return c<=f&&c<=p?n:f<=p?a:s}return paeth.paethPredicator=i,paeth}var hasRequiredChunk_IDAT;function requireChunk_IDAT(){if(hasRequiredChunk_IDAT)return chunk_IDAT;hasRequiredChunk_IDAT=1,Object.defineProperty(chunk_IDAT,"__esModule",{value:!0}),chunk_IDAT.parseChunk=void 0;const i=requirePako(),n=requireAssert$1(),a=requirePaeth();function s(A,I,R){const P=l(A,R);let $;I.interlaceMethod===1?$=d(A,I,P):$=c(A,I,P);const M=A.metadata.find(F=>F.type==="tRNS"),B=v(A,I,$,A.palette,M);return M&&(I.colorType===0||I.colorType===2)&&_(I,B,M),B}chunk_IDAT.parseChunk=s;function l(A,I){const R=new i.Inflate;let P=0;for(const $ of I)P=$.offset+4+4,R.push(A.view.buffer.slice(A.view.byteOffset+P,A.view.byteOffset+P+$.dataLength));if(R.err)throw(0,n.createChunkDecodeError)(A,I[0],`Inflate error: ${R.msg}`,I[0].offset);if(R.result===void 0)throw new n.DecodeError(A,"IDAT: Failed to decompress data chunks",0);return R.result}function c(A,I,R,P=0,$=I.width,M=I.height){let B=0;const F=g(I),q=y(I),H=b(I,$),z=Math.ceil($*q),L=new Uint8Array(M*z),ee=new Map;for(let Z=0;Z<M;Z++){let V=P+Z*(H+1);const X=R[V++];if(!f)throw new n.DecodeError(A,`IDAT: Invalid filter type ${X}`,0);let Q=ee.get(X);Q||(Q=p(q,H,$,X),ee.set(X,Q));let G=1,te=0;switch(X){case 0:case 1:{for(;te<F;te++)L[B]=R[V+te],B++;break}case 3:{let ue=0;for(;te<F;te++)ue=B-$*F,L[B]=R[V+te]+Math.floor(0+(ue<0?0:L[ue]))/2,B++;break}case 2:{G=0;break}case 4:{for(;te<F;te++){const ue=Math.floor(B-H);L[B]=(R[V+te]+(0,a.paethPredicator)(0,ue<0?0:L[ue],0))%256,B++}break}}if(I.bitDepth>=8)for(;G<$;G++)for(let ue=0;ue<F;ue++)L[B]=Q(R,V+G*F+ue,L,B),B++;else{for(G&&(B-=G),te=G;te<H;te++)L[B+te]=Q(R,V+te,L,B+te);B+=H}}return L}function f(A){return A%1===0&&A>=0&&A<=4}function p(A,I,R,P){let $=0,M=0,B=0;switch(P){case 0:return(F,q)=>F[q];case 1:return(F,q,H,z)=>(F[q]+H[Math.floor(z-A)])%256;case 2:return(F,q,H,z)=>(M=Math.floor(z-R*A),M<0?F[q]:(F[q]+H[M])%256);case 3:return(F,q,H,z)=>($=Math.floor(z-A),M=Math.floor(z-R*A),F[q]+Math.floor(($<0?0:H[$])+(M<0?0:H[M]))/2);case 4:return(F,q,H,z)=>($=Math.floor(z-Math.ceil(A)),M=Math.floor(z-I),B=Math.floor(z-I-Math.ceil(A)),(F[q]+(0,a.paethPredicator)($<0?0:H[$],M<0?0:H[M],B<0?0:H[B]))%256)}}function g(A){return Math.ceil(y(A))}function y(A){return h(A.colorType)*A.bitDepth/8}function b(A,I){return Math.ceil(h(A.colorType)*A.bitDepth*I/8)}function h(A){switch(A){case 0:return 1;case 2:return 3;case 3:return 1;case 4:return 2;case 6:return 4}}function d(A,I,R){const P=y(I),$=Math.ceil(I.width*P),M=new Uint8Array($*I.height),B=g(I),F=8/I.bitDepth,q=(1<<I.bitDepth)-1,H=[0,4,0,2,0,1,0],z=[0,0,4,0,2,0,1],L=[8,8,4,4,2,2,1],ee=[8,8,8,4,4,2,2];let Z=0;for(let V=0;V<7;V++){const X=H[V],Q=z[V],G=L[V],te=ee[V],ue=Math.ceil((I.width-X)/G),fe=Math.ceil((I.height-Q)/te),K=Math.ceil(P*ue);if(ue===0||fe===0)continue;const de=c(A,I,R,Z,ue,fe);let we=0;for(let oe=0;oe<fe;oe++){we=(Q+oe*te)*$+X*P;for(let Ne=0;Ne<ue;Ne++){if(I.bitDepth<8){let Ie=de[oe*K+Math.floor(Ne*P)];Ie>>=(F-Ne%F-1)*I.bitDepth,Ie&=q;const Le=(F-1-we%1*F)*I.bitDepth;Ie<<=Le,M[Math.floor(we)]|=Ie}else for(let Ie=0;Ie<B;Ie++)M[we+Ie]=de[(oe*ue+Ne)*B+Ie];we+=G*P}}Z+=fe*(1+b(I,ue))}return M}function v(A,I,R,P,$){const M=new(I.bitDepth===16?Uint16Array:Uint8Array)(I.width*I.height*4);let B=0;const F=g(I),q=y(I),H=Math.ceil(I.width*q);switch(I.colorType){case 0:{switch(I.bitDepth){case 1:case 2:case 4:{const z=8/I.bitDepth,L=(1<<I.bitDepth)-1,ee=I.bitDepth/8;for(let Z=0;Z<I.height;Z++)for(let V=0;V<I.width;V++)B=(Z*I.width+V)*4,M[B]=R[Z*H+Math.floor(V*ee)],M[B]>>=(z-V%z-1)*I.bitDepth,M[B]&=L,M[B]*=255/L,M[B+1]=M[B],M[B+2]=M[B],M[B+3]=255;break}case 8:case 16:{for(let z=0;z<I.height;z++)for(let L=0;L<I.width;L++)B=(z*I.width+L)*4,I.bitDepth===16?M[B]=R[(z*I.width+L)*F]<<8|R[(z*I.width+L)*F+1]:M[B]=R[(z*I.width+L)*F],M[B+1]=M[B],M[B+2]=M[B],M[B+3]=I.bitDepth===16?65535:255;break}}break}case 4:{for(let z=0;z<I.height;z++)for(let L=0;L<I.width;L++)B=(z*I.width+L)*4,I.bitDepth===16?M[B]=R[(z*I.width+L)*F]<<8|R[(z*I.width+L)*F+1]:M[B]=R[(z*I.width+L)*F],M[B+1]=M[B],M[B+2]=M[B],I.bitDepth===16?M[B+3]=R[(z*I.width+L)*F+2]<<8|R[(z*I.width+L)*F+3]:M[B+3]=R[(z*I.width+L)*F+1];break}case 3:{if(!P)throw new n.DecodeError(A,"IDAT: Cannot decode indexed color type without a palette",0);switch(I.bitDepth){case 1:case 2:case 4:{const z=8/I.bitDepth,L=(1<<I.bitDepth)-1,ee=I.bitDepth/8;for(let Z=0;Z<I.height;Z++)for(let V=0;V<I.width;V++){B=(Z*I.width+V)*4;let X=R[Z*H+Math.floor(V*ee)];X>>=(z-V%z-1)*I.bitDepth,X&=L,P.setRgba(M,B,X),$&&$.transparency.length>X&&(M[B+3]=$.transparency[X])}break}case 8:{let z=0;for(let L=0;L<I.height;L++)for(let ee=0;ee<I.width;ee++)B=(L*I.width+ee)*4,z=R[L*I.width+ee],P.setRgba(M,B,z),$&&$.transparency.length>z&&(M[B+3]=$.transparency[z]);break}}break}case 2:{for(let z=0;z<I.height;z++)for(let L=0;L<I.width;L++)B=(z*I.width+L)*4,I.bitDepth===16?(M[B]=R[(z*I.width+L)*F]<<8|R[(z*I.width+L)*F+1],M[B+1]=R[(z*I.width+L)*F+2]<<8|R[(z*I.width+L)*F+3],M[B+2]=R[(z*I.width+L)*F+4]<<8|R[(z*I.width+L)*F+5]):(M[B]=R[(z*I.width+L)*F],M[B+1]=R[(z*I.width+L)*F+1],M[B+2]=R[(z*I.width+L)*F+2]),M[B+3]=I.bitDepth===16?65535:255;break}case 6:{for(let z=0;z<I.height;z++)for(let L=0;L<I.width;L++)B=(z*I.width+L)*4,I.bitDepth===16?(M[B]=R[(z*I.width+L)*F]<<8|R[(z*I.width+L)*F+1],M[B+1]=R[(z*I.width+L)*F+2]<<8|R[(z*I.width+L)*F+3],M[B+2]=R[(z*I.width+L)*F+4]<<8|R[(z*I.width+L)*F+5],M[B+3]=R[(z*I.width+L)*F+6]<<8|R[(z*I.width+L)*F+7]):(M[B]=R[(z*I.width+L)*F],M[B+1]=R[(z*I.width+L)*F+1],M[B+2]=R[(z*I.width+L)*F+2],M[B+3]=R[(z*I.width+L)*F+3]);break}}return M}function _(A,I,R){const P=(1<<A.bitDepth)-1,$=A.bitDepth===16?65535:255;if(A.colorType===0){const M=$/P*R.transparency;for(let B=0;B<I.length;B+=4)I[B]===M&&(I[B+3]=0);return}if(A.colorType===2){const M=[$/P*R.transparency[0],$/P*R.transparency[1],$/P*R.transparency[2]];for(let B=0;B<I.length;B+=4)I[B]===M[0]&&I[B+1]===M[1]&&I[B+2]===M[2]&&(I[B+3]=0);return}}return chunk_IDAT}var chunk_IEND={},hasRequiredChunk_IEND;function requireChunk_IEND(){if(hasRequiredChunk_IEND)return chunk_IEND;hasRequiredChunk_IEND=1,Object.defineProperty(chunk_IEND,"__esModule",{value:!0}),chunk_IEND.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkFollows)(a,l,"IDAT"),(0,i.assertChunkDataLengthEquals)(a,l,0)}return chunk_IEND.parseChunk=n,chunk_IEND}var chunk_IHDR={},validate={},hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate;hasRequiredValidate=1,Object.defineProperty(validate,"__esModule",{value:!0}),validate.isValidInterlaceMethod=validate.isValidFilterMethod=validate.isValidColorType=validate.isValidBitDepth=void 0;function i(l){return l===1||l===2||l===4||l===8||l===16}validate.isValidBitDepth=i;function n(l,c){return l===0&&c>=1&&c<=16||l===2&&c>=8&&c<=16||l===3&&c>=1&&c<=8||l===4&&c>=8&&c<=16||l===6&&c>=8&&c<=16}validate.isValidColorType=n;function a(l){return l===0}validate.isValidFilterMethod=a;function s(l){return l===0||l===1}return validate.isValidInterlaceMethod=s,validate}var hasRequiredChunk_IHDR;function requireChunk_IHDR(){if(hasRequiredChunk_IHDR)return chunk_IHDR;hasRequiredChunk_IHDR=1,Object.defineProperty(chunk_IHDR,"__esModule",{value:!0}),chunk_IHDR.parseChunk=void 0;const i=requireAssert$1(),n=requireValidate();function a(s,l){(0,i.assertChunkDataLengthEquals)(s,l,13);let c=l.offset+4+4;const f=s.view.getUint32(c);c+=4;const p=s.view.getUint32(c);c+=4;const g=s.view.getUint8(c);if(!(0,n.isValidBitDepth)(g))throw(0,i.createChunkDecodeError)(s,l,`Bit depth "${g}" is not valid`,c);c++;const y=s.view.getUint8(c);if(!(0,n.isValidColorType)(y,g))throw(0,i.createChunkDecodeError)(s,l,`Color type "${y}" is not valid with bit depth "${g}"`,c);c++;const b=s.view.getUint8(c);(0,i.assertChunkCompressionMethod)(s,l,b,c),c++;let h=s.view.getUint8(c);(0,n.isValidFilterMethod)(h)||((0,i.handleWarning)(s,(0,i.createChunkDecodeWarning)(l,`Filter method "${h}" is not valid`,c)),h=0),c++;let d=s.view.getUint8(c);return(0,n.isValidInterlaceMethod)(d)||((0,i.handleWarning)(s,(0,i.createChunkDecodeWarning)(l,`Interlace method "${d}" is not valid`,c)),d=0),c++,{width:f,height:p,bitDepth:g,colorType:y,interlaceMethod:d}}return chunk_IHDR.parseChunk=a,chunk_IHDR}var crc32={},hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32;hasRequiredCrc32=1,Object.defineProperty(crc32,"__esModule",{value:!0}),crc32.crc32=crc32.getCrcTable=void 0;let i;function n(){if(i)return i;i=[];for(let l=0;l<256;l++){let c=l;for(let f=0;f<8;f++)c&1?c=3988292384^c>>>1:c=c>>>1;i[l]=c>>>0}return i}crc32.getCrcTable=n;function a(l,c,f,p){const g=n();let y=l;for(let b=0;b<p;b++)y=g[(y^c.getUint8(f+b))&255]^y>>>8;return y}function s(l,c,f){return(a(4294967295,l,c,f)^4294967295)>>>0}return crc32.crc32=s,crc32}var chunk_bKGD={},hasRequiredChunk_bKGD;function requireChunk_bKGD(){if(hasRequiredChunk_bKGD)return chunk_bKGD;hasRequiredChunk_bKGD=1,Object.defineProperty(chunk_bKGD,"__esModule",{value:!0}),chunk_bKGD.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkPrecedes)(a,l,"IDAT");const c=l.offset+4+4;let f,p;switch(s.colorType){case 0:case 4:{f=a.view.getUint16(c),p=2;break}case 2:case 6:{f=[a.view.getUint16(c),a.view.getUint16(c+2),a.view.getUint16(c+4)],p=6;break}case 3:{f=a.view.getUint8(c),p=1;break}default:throw(0,i.createChunkDecodeWarning)(l,`Unrecognized color type "${s.colorType}"`,c)}return(0,i.assertChunkDataLengthEquals)(a,l,p),{type:"bKGD",color:f}}return chunk_bKGD.parseChunk=n,chunk_bKGD}var chunk_cHRM={},hasRequiredChunk_cHRM;function requireChunk_cHRM(){if(hasRequiredChunk_cHRM)return chunk_cHRM;hasRequiredChunk_cHRM=1,Object.defineProperty(chunk_cHRM,"__esModule",{value:!0}),chunk_cHRM.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkPrecedes)(a,l,"PLTE"),(0,i.assertChunkPrecedes)(a,l,"IDAT"),(0,i.assertChunkDataLengthEquals)(a,l,32);let c=l.offset+4+4;const f={x:a.view.getUint32(c)/1e5,y:a.view.getUint32(c+4)/1e5};if(f.x>1||f.y>1)throw(0,i.createChunkDecodeWarning)(l,`Invalid white point (${f.x},${f.y})`,c);c+=8;const p={x:a.view.getUint32(c)/1e5,y:a.view.getUint32(c+4)/1e5};if(p.x>1||p.y>1)throw(0,i.createChunkDecodeWarning)(l,`Invalid red (${p.x},${p.y})`,c);c+=8;const g={x:a.view.getUint32(c)/1e5,y:a.view.getUint32(c+4)/1e5};if(g.x>1||g.y>1)throw(0,i.createChunkDecodeWarning)(l,`Invalid green (${g.x},${g.y})`,c);c+=8;const y={x:a.view.getUint32(c)/1e5,y:a.view.getUint32(c+4)/1e5};if(y.x>1||y.y>1)throw(0,i.createChunkDecodeWarning)(l,`Invalid blue (${y.x},${y.y})`,c);return{type:"cHRM",whitePoint:f,red:p,green:g,blue:y}}return chunk_cHRM.parseChunk=n,chunk_cHRM}var chunk_eXIf={},hasRequiredChunk_eXIf;function requireChunk_eXIf(){if(hasRequiredChunk_eXIf)return chunk_eXIf;hasRequiredChunk_eXIf=1,Object.defineProperty(chunk_eXIf,"__esModule",{value:!0}),chunk_eXIf.parseChunk=void 0;function i(n,a,s){const l=s.offset+4+4;return{type:"eXIf",value:n.view.buffer.slice(n.view.byteOffset+l,n.view.byteOffset+l+s.dataLength)}}return chunk_eXIf.parseChunk=i,chunk_eXIf}var chunk_gAMA={},hasRequiredChunk_gAMA;function requireChunk_gAMA(){if(hasRequiredChunk_gAMA)return chunk_gAMA;hasRequiredChunk_gAMA=1,Object.defineProperty(chunk_gAMA,"__esModule",{value:!0}),chunk_gAMA.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkPrecedes)(a,l,"PLTE"),(0,i.assertChunkPrecedes)(a,l,"IDAT"),(0,i.assertChunkDataLengthEquals)(a,l,4);const c=l.offset+4+4,f=a.view.getUint32(c)/1e5;return f===0&&(0,i.handleWarning)(a,(0,i.createChunkDecodeWarning)(l,"A value of 0 is meaningless",c)),{type:"gAMA",value:f}}return chunk_gAMA.parseChunk=n,chunk_gAMA}var chunk_hIST={},hasRequiredChunk_hIST;function requireChunk_hIST(){if(hasRequiredChunk_hIST)return chunk_hIST;hasRequiredChunk_hIST=1,Object.defineProperty(chunk_hIST,"__esModule",{value:!0}),chunk_hIST.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkFollows)(a,l,"PLTE"),(0,i.assertChunkPrecedes)(a,l,"IDAT"),(0,i.assertChunkDataLengthEquals)(a,l,a.palette.size*2);const c=l.offset+4+4,f=[];for(let p=0;p<a.palette.size*2;p+=2)f.push(a.view.getUint16(c+p));return{type:"hIST",frequency:f}}return chunk_hIST.parseChunk=n,chunk_hIST}var chunk_iCCP={},text$6={},hasRequiredText;function requireText(){if(hasRequiredText)return text$6;hasRequiredText=1,Object.defineProperty(text$6,"__esModule",{value:!0}),text$6.readText=void 0;const i=requirePako(),n=requireAssert$1();function a(s,l,c,f,p,g,y,b){const h=[];let d=0,v=0;for(;(f===void 0||v<f)&&!(!y&&p===g);v++){try{d=s.view.getUint8(p)}catch(A){throw A instanceof Error&&A.message==="Offset is outside the bounds of the DataView"?(0,n.createChunkDecodeWarning)(l,"EOF while reading text",p):A}if(!b&&d===0)break;p++,h.push(d)}if(y&&s.view.getUint8(p)!==0)throw(0,n.createChunkDecodeWarning)(l,"No null character after text",p);let _=new Uint8Array(h);if(b){const A=new i.Inflate;if(A.push(_),A.err)throw(0,n.createChunkDecodeWarning)(l,`Inflate error: ${A.msg}`,p);_=A.result}return{text:c?c.decode(_):String.fromCharCode(...h),bytesRead:v+1}}return text$6.readText=a,text$6}var hasRequiredChunk_iCCP;function requireChunk_iCCP(){if(hasRequiredChunk_iCCP)return chunk_iCCP;hasRequiredChunk_iCCP=1,Object.defineProperty(chunk_iCCP,"__esModule",{value:!0}),chunk_iCCP.parseChunk=void 0;const i=requireAssert$1(),n=requireText();function a(s,l,c){(0,i.assertChunkSinglular)(s,c),(0,i.assertChunkMutualExclusion)(s,c,"sRGB"),(0,i.assertChunkPrecedes)(s,c,"PLTE"),(0,i.assertChunkPrecedes)(s,c,"IDAT"),(0,i.assertChunkDataLengthGte)(s,c,3);const f=c.offset+4+4,p=f+c.dataLength;let g=f;const y=new TextDecoder("latin1"),b=(0,n.readText)(s,c,y,79,g,p,!0);g+=b.bytesRead;const h=b.text,d=s.view.getUint8(g);(0,i.assertChunkCompressionMethod)(s,c,d,g),g++;const v=new Uint8Array(s.view.buffer.slice(s.view.byteOffset+g,s.view.byteOffset+p));return{type:"iCCP",name:h,data:v}}return chunk_iCCP.parseChunk=a,chunk_iCCP}var chunk_iTXt={},hasRequiredChunk_iTXt;function requireChunk_iTXt(){if(hasRequiredChunk_iTXt)return chunk_iTXt;hasRequiredChunk_iTXt=1,Object.defineProperty(chunk_iTXt,"__esModule",{value:!0}),chunk_iTXt.parseChunk=void 0;const i=requireAssert$1(),n=requireText();function a(s,l,c){(0,i.assertChunkDataLengthGte)(s,c,6);let f=c.offset+4+4;const p=f+c.dataLength,g=new TextDecoder("utf8");let y;y=(0,n.readText)(s,c,g,79,f,p,!0),f+=y.bytesRead;const b=y.text,h=s.view.getUint8(f++)===1,d=s.view.getUint8(f);h&&(0,i.assertChunkCompressionMethod)(s,c,d,f),f++,y=(0,n.readText)(s,c,g,void 0,f,p,!0),f+=y.bytesRead;const v=y.text;y=(0,n.readText)(s,c,g,void 0,f,p,!0),f+=y.bytesRead;const _=y.text;y=(0,n.readText)(s,c,g,void 0,f,p,!1,h),f+=y.bytesRead;const A=y.text;return{type:"iTXt",keyword:b,languageTag:v,translatedKeyword:_,text:A}}return chunk_iTXt.parseChunk=a,chunk_iTXt}var chunk_tIME={},hasRequiredChunk_tIME;function requireChunk_tIME(){if(hasRequiredChunk_tIME)return chunk_tIME;hasRequiredChunk_tIME=1,Object.defineProperty(chunk_tIME,"__esModule",{value:!0}),chunk_tIME.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkDataLengthEquals)(a,l,7);let c=l.offset+4+4;const f=a.view.getUint16(c);c+=2;const p=a.view.getUint8(c++),g=a.view.getUint8(c++),y=a.view.getUint8(c++),b=a.view.getUint8(c++),h=a.view.getUint8(c++);return{type:"tIME",value:new Date(f,p,g,y,b,h)}}return chunk_tIME.parseChunk=n,chunk_tIME}var chunk_oFFs={},hasRequiredChunk_oFFs;function requireChunk_oFFs(){if(hasRequiredChunk_oFFs)return chunk_oFFs;hasRequiredChunk_oFFs=1,Object.defineProperty(chunk_oFFs,"__esModule",{value:!0}),chunk_oFFs.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkPrecedes)(a,l,"IDAT"),(0,i.assertChunkDataLengthEquals)(a,l,9);let c=l.offset+4+4;const f=a.view.getInt32(c);c+=4;const p=a.view.getInt32(c);c+=4;const g=a.view.getUint8(c);let y;switch(g){case 0:y="pixel";break;case 1:y="micrometer";break;default:throw(0,i.createChunkDecodeWarning)(l,`Invalid oFFs unit type ("${g}")`,c)}return{type:"oFFs",offset:{x:f,y:p},unitType:y}}return chunk_oFFs.parseChunk=n,chunk_oFFs}var chunk_pCAL={},float={},hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,Object.defineProperty(float,"__esModule",{value:!0}),float.readFloat=void 0;const i=requireAssert$1(),n=requireText();function a(l,c,f,p,g,y){const b=(0,n.readText)(l,c,f,void 0,p,g,y);p+=b.bytesRead,s(b.text)||(0,i.handleWarning)(l,(0,i.createChunkDecodeWarning)(c,`Invalid character in floating point number ("${b.text}")`,p));const h=parseFloat(b.text);return{bytesRead:b.bytesRead,value:h}}float.readFloat=a;function s(l){return l.match(/^[+-]?[0-9]+\.[0-9]+([eE][+-]?[0-9]+)?$/)||l.match(/^[+-]?[0-9]+\.?([eE][+-]?[0-9]+)?$/)||l.match(/^[+-]?\.[0-9]+([eE][+-]?[0-9]+)?$/)}return float}var hasRequiredChunk_pCAL;function requireChunk_pCAL(){if(hasRequiredChunk_pCAL)return chunk_pCAL;hasRequiredChunk_pCAL=1,Object.defineProperty(chunk_pCAL,"__esModule",{value:!0}),chunk_pCAL.parseChunk=void 0;const i=requireAssert$1(),n=requireFloat(),a=requireText();function s(l,c,f){(0,i.assertChunkSinglular)(l,f),(0,i.assertChunkPrecedes)(l,f,"IDAT"),(0,i.assertChunkDataLengthGte)(l,f,4);const p=f.offset+4+4,g=p+f.dataLength;let y=p;const b=new TextDecoder("latin1");let h;h=(0,a.readText)(l,f,b,79,y,g,!0),y+=h.bytesRead;const d=h.text,v=l.view.getInt32(y);y+=4;const _=l.view.getInt32(y);y+=4;const A=l.view.getUint8(y++);let I;switch(A){case 0:I="linear-mapping";break;case 1:I="base-e exponential mapping";break;case 2:I="arbitrary-base exponential mapping";break;case 3:I="hyperbolic mapping";break;default:throw(0,i.createChunkDecodeWarning)(f,`Invalid equation type "${A}"`,y)}const R=l.view.getUint8(y++);h=(0,a.readText)(l,f,b,79,y,g,!0),y+=h.bytesRead;const P=h.text,$=[];let M;for(let B=0;B<R;B++)M=(0,n.readFloat)(l,f,b,y,g,B<R-1),y+=M.bytesRead,$.push(M.value);return{type:"pCAL",calibrationName:d,x0:v,x1:_,equationType:I,unitName:P,params:$}}return chunk_pCAL.parseChunk=s,chunk_pCAL}var chunk_pHYs={},hasRequiredChunk_pHYs;function requireChunk_pHYs(){if(hasRequiredChunk_pHYs)return chunk_pHYs;hasRequiredChunk_pHYs=1,Object.defineProperty(chunk_pHYs,"__esModule",{value:!0}),chunk_pHYs.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkPrecedes)(a,l,"IDAT"),(0,i.assertChunkDataLengthEquals)(a,l,9);let c=l.offset+4+4;const f=a.view.getUint32(c);c+=4;const p=a.view.getUint32(c);c+=4;const g=a.view.getUint8(c)===1?"meter":"unknown";return{type:"pHYs",pixelsPerUnit:{x:f,y:p},unitType:g}}return chunk_pHYs.parseChunk=n,chunk_pHYs}var chunk_sBIT={},hasRequiredChunk_sBIT;function requireChunk_sBIT(){if(hasRequiredChunk_sBIT)return chunk_sBIT;hasRequiredChunk_sBIT=1,Object.defineProperty(chunk_sBIT,"__esModule",{value:!0}),chunk_sBIT.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkPrecedes)(a,l,"PLTE"),(0,i.assertChunkPrecedes)(a,l,"IDAT");const c=l.offset+4+4;let f,p;switch(s.colorType){case 0:{f=a.view.getUint8(c),p=1;break}case 2:case 3:{f=[a.view.getUint8(c),a.view.getUint8(c+1),a.view.getUint8(c+2)],p=3;break}case 4:{f=[a.view.getUint8(c),a.view.getUint8(c+1)],p=2;break}case 6:{f=[a.view.getUint8(c),a.view.getUint8(c+1),a.view.getUint8(c+2),a.view.getUint8(c+3)],p=4;break}default:throw(0,i.createChunkDecodeWarning)(l,`Unrecognized color type "${s.colorType}"`,c)}return(0,i.assertChunkDataLengthEquals)(a,l,p),{type:"sBIT",value:f}}return chunk_sBIT.parseChunk=n,chunk_sBIT}var chunk_sCAL={},hasRequiredChunk_sCAL;function requireChunk_sCAL(){if(hasRequiredChunk_sCAL)return chunk_sCAL;hasRequiredChunk_sCAL=1,Object.defineProperty(chunk_sCAL,"__esModule",{value:!0}),chunk_sCAL.parseChunk=void 0;const i=requireAssert$1(),n=requireFloat();function a(s,l,c){(0,i.assertChunkSinglular)(s,c),(0,i.assertChunkPrecedes)(s,c,"IDAT"),(0,i.assertChunkDataLengthGte)(s,c,4);const f=c.offset+4+4,p=f+c.dataLength;let g=f;const y=new TextDecoder("latin1"),b=s.view.getUint8(g);let h;switch(b){case 0:h="meter";break;case 1:h="radian";break;default:throw(0,i.createChunkDecodeWarning)(c,`Invalid sCAL unit type ("${b}")`,g)}g++;let d;d=(0,n.readFloat)(s,c,y,g,p,!0),g+=d.bytesRead;const v=d.value;d=(0,n.readFloat)(s,c,y,g,p,!1),g+=d.bytesRead;const _=d.value;if(v<0||_<0)throw(0,i.createChunkDecodeWarning)(c,`Values cannot be negative (${v}, ${_})`,g);return{type:"sCAL",pixelsPerUnit:{x:v,y:_},unitType:h}}return chunk_sCAL.parseChunk=a,chunk_sCAL}var chunk_sPLT={},hasRequiredChunk_sPLT;function requireChunk_sPLT(){if(hasRequiredChunk_sPLT)return chunk_sPLT;hasRequiredChunk_sPLT=1,Object.defineProperty(chunk_sPLT,"__esModule",{value:!0}),chunk_sPLT.parseChunk=void 0;const i=requireAssert$1(),n=requireText();function a(s,l,c){(0,i.assertChunkPrecedes)(s,c,"IDAT");const f=c.offset+4+4;let p=f;const g=p+c.dataLength,y=new TextDecoder("latin1"),b=(0,n.readText)(s,c,y,void 0,p,g,!0);p+=b.bytesRead;const h=b.text,d=s.view.getUint8(p++),v=d===16?2:1,_=v*4+2,A=c.dataLength-(p-f),I=A/_;if(I%1!==0)throw(0,i.createChunkDecodeWarning)(c,`Invalid data length: ${A} should be divisible by entry size ${_}`,p);const R=[];for(let P=0;P<I;P++){const $=[];for(let B=0;B<4;B++)$.push(v===2?s.view.getUint16(p):s.view.getUint8(p)),p+=v;const M=s.view.getUint16(p);p+=2,R.push({red:$[0],green:$[1],blue:$[2],alpha:$[3],frequency:M})}return{type:"sPLT",name:h,sampleDepth:d,entries:R}}return chunk_sPLT.parseChunk=a,chunk_sPLT}var chunk_sRGB={},hasRequiredChunk_sRGB;function requireChunk_sRGB(){if(hasRequiredChunk_sRGB)return chunk_sRGB;hasRequiredChunk_sRGB=1,Object.defineProperty(chunk_sRGB,"__esModule",{value:!0}),chunk_sRGB.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkMutualExclusion)(a,l,"iCCP"),(0,i.assertChunkPrecedes)(a,l,"PLTE"),(0,i.assertChunkPrecedes)(a,l,"IDAT"),(0,i.assertChunkDataLengthEquals)(a,l,1);const c=l.offset+4+4,f=a.view.getUint8(c);let p;switch(f){case 0:case 1:case 2:case 3:p=f;break;default:throw(0,i.createChunkDecodeWarning)(l,`Invalid rendering intent "${f}"`,c)}return{type:"sRGB",renderingIntent:p}}return chunk_sRGB.parseChunk=n,chunk_sRGB}var chunk_sTER={},hasRequiredChunk_sTER;function requireChunk_sTER(){if(hasRequiredChunk_sTER)return chunk_sTER;hasRequiredChunk_sTER=1,Object.defineProperty(chunk_sTER,"__esModule",{value:!0}),chunk_sTER.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){(0,i.assertChunkSinglular)(a,l),(0,i.assertChunkPrecedes)(a,l,"IDAT"),(0,i.assertChunkDataLengthEquals)(a,l,1);const c=l.offset+4+4,f=a.view.getUint8(c);let p;switch(f){case 0:p="cross-fuse";break;case 1:p="diverging-fuse";break;default:throw(0,i.createChunkDecodeWarning)(l,`Invalid layout mode "${f}"`,c)}const g=15-(s.width-1)%16;if(g>7)throw(0,i.createChunkDecodeWarning)(l,`Invalid padding value "${g}" for image width ${s.width}`,c);const y=Math.floor((s.width-g)/2);return{type:"sTER",layoutMode:p,subimageWidth:y,padding:g}}return chunk_sTER.parseChunk=n,chunk_sTER}var chunk_tEXt={},hasRequiredChunk_tEXt;function requireChunk_tEXt(){if(hasRequiredChunk_tEXt)return chunk_tEXt;hasRequiredChunk_tEXt=1,Object.defineProperty(chunk_tEXt,"__esModule",{value:!0}),chunk_tEXt.parseChunk=void 0;const i=requireAssert$1(),n=requireText();function a(s,l,c){(0,i.assertChunkDataLengthGte)(s,c,6);const f=c.offset+4+4,p=f+c.dataLength;let g=f;const y=new TextDecoder("latin1");let b;b=(0,n.readText)(s,c,y,79,g,p,!0),g+=b.bytesRead;const h=b.text;b=(0,n.readText)(s,c,y,void 0,g,p,!1),g+=b.bytesRead;const d=b.text;return{type:"tEXt",keyword:h,text:d}}return chunk_tEXt.parseChunk=a,chunk_tEXt}var chunk_tRNS={},hasRequiredChunk_tRNS;function requireChunk_tRNS(){if(hasRequiredChunk_tRNS)return chunk_tRNS;hasRequiredChunk_tRNS=1,Object.defineProperty(chunk_tRNS,"__esModule",{value:!0}),chunk_tRNS.parseChunk=void 0;const i=requireAssert$1();function n(a,s,l){switch((0,i.assertChunkPrecedes)(a,l,"IDAT"),s.colorType){case 0:(0,i.assertChunkDataLengthEquals)(a,l,2);break;case 2:(0,i.assertChunkDataLengthEquals)(a,l,6);break;case 3:if((0,i.assertChunkFollows)(a,l,"PLTE"),l.dataLength>a.palette.size)throw(0,i.createChunkDecodeWarning)(l,`Invalid data length for color type ${s.colorType}: ${l.dataLength} > ${a.palette.size}`,l.offset+4+4);break;case 4:case 6:throw(0,i.createChunkDecodeWarning)(l,`Chunk invalid when color type has alpha (${s.colorType})`,l.offset+4+4)}const c=l.offset+4+4;let f;switch(s.colorType){case 0:f=a.view.getUint16(c);break;case 2:f=[a.view.getUint16(c),a.view.getUint16(c+2),a.view.getUint16(c+4)];break;case 3:f=[];for(let p=0;p<l.dataLength;p++)f.push(a.view.getUint8(c+p));break}return{type:"tRNS",transparency:f}}return chunk_tRNS.parseChunk=n,chunk_tRNS}var chunk_zTXt={},hasRequiredChunk_zTXt;function requireChunk_zTXt(){if(hasRequiredChunk_zTXt)return chunk_zTXt;hasRequiredChunk_zTXt=1,Object.defineProperty(chunk_zTXt,"__esModule",{value:!0}),chunk_zTXt.parseChunk=void 0;const i=requireAssert$1(),n=requireText();function a(s,l,c){(0,i.assertChunkDataLengthGte)(s,c,6);const f=c.offset+4+4,p=f+c.dataLength;let g=f;const y=new TextDecoder("latin1");let b;b=(0,n.readText)(s,c,y,79,g,p,!0),g+=b.bytesRead;const h=b.text,d=s.view.getUint8(g);(0,i.assertChunkCompressionMethod)(s,c,d,g),g++,b=(0,n.readText)(s,c,y,void 0,g,p,!1,!0),g+=b.bytesRead;const v=b.text;return{type:"zTXt",keyword:h,text:v}}return chunk_zTXt.parseChunk=a,chunk_zTXt}var chunk_PLTE={},hasRequiredChunk_PLTE;function requireChunk_PLTE(){if(hasRequiredChunk_PLTE)return chunk_PLTE;hasRequiredChunk_PLTE=1,Object.defineProperty(chunk_PLTE,"__esModule",{value:!0}),chunk_PLTE.Palette=chunk_PLTE.parseChunk=void 0;const i=requireAssert$1();function n(s,l,c){(0,i.assertChunkSinglular)(s,c),(0,i.assertChunkPrecedes)(s,c,"bKGD"),(0,i.assertChunkPrecedes)(s,c,"hIST"),(0,i.assertChunkPrecedes)(s,c,"tRNS"),(0,i.assertChunkPrecedes)(s,c,"IDAT");let f=c.offset+4;if(l.colorType===0||l.colorType===4)throw(0,i.createChunkDecodeWarning)(c,`Color type "${l.colorType}" cannot have a palette`,f);if(f+=4,c.dataLength===0)throw(0,i.createChunkDecodeWarning)(c,"Cannot have 0 entries",f);if(c.dataLength%3!==0)throw(0,i.createChunkDecodeWarning)(c,`Chunk length must be divisible by 3 (actual "${c.dataLength}")`,f);return c.dataLength/3>256&&(0,i.handleWarning)(s,(0,i.createChunkDecodeWarning)(c,`Too many entries (${c.dataLength/3} > 256)`,f)),c.dataLength/3>Math.pow(2,l.bitDepth)&&(0,i.handleWarning)(s,(0,i.createChunkDecodeWarning)(c,`Too many entries for bit depth (${c.dataLength/3} > 2^${l.bitDepth})`,f)),new a(s.view,c.offset+4+4,c.dataLength)}chunk_PLTE.parseChunk=n;class a{constructor(l,c,f){this._view=l,this._paletteOffset=c,this._length=f}get size(){return this._length/3}getRgb(l){return this._checkIndex(l),new Uint8Array(this._view.buffer.slice(this._view.byteOffset+this._paletteOffset+l*3,this._view.byteOffset+this._paletteOffset+l*3+3))}setRgba(l,c,f){this._checkIndex(f);const p=this._paletteOffset+f*3;l[c]=this._view.getUint8(p),l[c+1]=this._view.getUint8(p+1),l[c+2]=this._view.getUint8(p+2),l[c+3]=255}_checkIndex(l){if(l<0||l*3>this._length-3)throw new Error(`Palette does not contain color index "${l}"`)}}return chunk_PLTE.Palette=a,chunk_PLTE}var hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder;hasRequiredDecoder=1,Object.defineProperty(decoder,"__esModule",{value:!0}),decoder.readChunk=decoder.readChunks=decoder.decodePng=decoder.verifyPngSignature=void 0;const i=requireArray(),n=requireAssert$1(),a=requireChunk_IDAT(),s=requireChunk_IEND(),l=requireChunk_IHDR(),c=requireCrc32();function f(A){if(A.view.byteLength<7)throw new n.DecodeError(A,`Not enough bytes in file for png signature (${A.view.byteLength})`,0);if(!(A.view.getUint8(0)===137&&A.view.getUint8(1)===80&&A.view.getUint8(2)===78&&A.view.getUint8(3)===71&&A.view.getUint8(4)===13&&A.view.getUint8(5)===10&&A.view.getUint8(6)===26&&A.view.getUint8(7)===10)){const R=p(Array.from(new Uint8Array(A.view.buffer).slice(A.view.byteOffset,A.view.byteOffset+8))),P=p([137,80,78,71,13,10,26,10]);throw new n.DecodeError(A,`Png signature is not correct (${R} !== ${P})`,0)}}decoder.verifyPngSignature=f;function p(A){return`0x${A.map(I=>I.toString(16).padStart(2,"0")).join("")}`}const g=Object.freeze(["tRNS"]),y=Object.freeze(["bKGD","cHRM","eXIf","gAMA","hIST","iCCP","iTXt","tIME","oFFs","pCAL","pHYs","sBIT","sCAL","sPLT","sRGB","sTER","tEXt","tRNS","zTXt"]);function b(A){switch(A){case"bKGD":return Promise.resolve().then(()=>requireChunk_bKGD());case"cHRM":return Promise.resolve().then(()=>requireChunk_cHRM());case"eXIf":return Promise.resolve().then(()=>requireChunk_eXIf());case"gAMA":return Promise.resolve().then(()=>requireChunk_gAMA());case"hIST":return Promise.resolve().then(()=>requireChunk_hIST());case"iCCP":return Promise.resolve().then(()=>requireChunk_iCCP());case"iTXt":return Promise.resolve().then(()=>requireChunk_iTXt());case"tIME":return Promise.resolve().then(()=>requireChunk_tIME());case"oFFs":return Promise.resolve().then(()=>requireChunk_oFFs());case"pCAL":return Promise.resolve().then(()=>requireChunk_pCAL());case"pHYs":return Promise.resolve().then(()=>requireChunk_pHYs());case"sBIT":return Promise.resolve().then(()=>requireChunk_sBIT());case"sCAL":return Promise.resolve().then(()=>requireChunk_sCAL());case"sPLT":return Promise.resolve().then(()=>requireChunk_sPLT());case"sRGB":return Promise.resolve().then(()=>requireChunk_sRGB());case"sTER":return Promise.resolve().then(()=>requireChunk_sTER());case"tEXt":return Promise.resolve().then(()=>requireChunk_tEXt());case"tRNS":return Promise.resolve().then(()=>requireChunk_tRNS());case"zTXt":return Promise.resolve().then(()=>requireChunk_zTXt());default:throw new Error(`Could not get decoder for chunk type "${A}"`)}}async function h(A,I={}){const R={view:new DataView(A.buffer,A.byteOffset,A.byteLength),image:void 0,palette:void 0,metadata:[],parsedChunks:new Set,warnings:[],info:[],options:I};f(R);const P=d(R);R.rawChunks=P;const $=(0,l.parseChunk)(R,P[0]),M={...R,header:$};let B;I&&I.parseChunkTypes?I.parseChunkTypes==="*"?B=y:B=g.concat(I.parseChunkTypes):B=g;for(let F=1;F<P.length;F++){const q=P[F];switch(q.type){case"IHDR":(0,n.handleWarning)(M,(0,n.createChunkDecodeWarning)(q,"Multiple IHDR chunks not allowed",q.offset+4));break;case"IDAT":{const H=[q];for(;P.length>F+1&&P[F+1].type==="IDAT";)H.push(P[++F]);M.image={width:$.width,height:$.height,data:(0,a.parseChunk)(M,$,H)};break}case"PLTE":M.palette=(await Promise.resolve().then(()=>requireChunk_PLTE())).parseChunk(M,$,q);break;case"IEND":(0,s.parseChunk)(M,$,q);break;default:if(B.includes(q.type))try{M.metadata.push((await b(q.type)).parseChunk(M,$,q))}catch(H){if(H instanceof n.DecodeWarning)(0,n.handleWarning)(M,H);else throw H}else if(!y.includes(q.type))if(q.isAncillary)M.info.push(`Unrecognized chunk type "${q.type}"`);else throw new n.DecodeError(M,`Unrecognized critical chunk type "${q.type}"`,q.offset+4);break}M.parsedChunks.add(q.type)}if(!M.image)throw new n.DecodeError(M,"Failed to decode, no IDAT chunk",0);return I&&I.force32&&M.image.data.BYTES_PER_ELEMENT===2&&(M.image.data=(0,i.convert16BitTo8BitData)(M.image.data)),{image:M.image,details:{width:$.width,height:$.height,bitDepth:$.bitDepth,colorType:$.colorType,interlaceMethod:$.interlaceMethod},palette:M.palette,metadata:M.metadata,rawChunks:P,warnings:M.warnings,info:M.info}}decoder.decodePng=h;function d(A){const I=[];let R=8,P=!1,$=!1,M;for(;R<A.view.byteLength;){try{M=v(A,R)}catch(B){if(!$||!(B instanceof Error))throw B;(0,n.handleWarning)(A,new n.DecodeWarning("Could not parse chunk after IEND: "+B.message,R))}R+=8+M.dataLength+4,I.push(M),P||(P=M.type==="IDAT"),$||($=M.type==="IEND")}if(I[0].type!=="IHDR")throw new n.DecodeError(A,"First chunk is not IHDR",I[0].offset+4);if(I[I.length-1].type!=="IEND"&&(0,n.handleWarning)(A,new n.DecodeWarning("Last chunk is not IEND",I[I.length-1].offset+4)),!P)throw new n.DecodeError(A,"No IDAT chunk",0);return I}decoder.readChunks=d;function v(A,I){if(A.view.byteLength<I+4)throw new n.DecodeError(A,"EOF while reading chunk length",I);const R=A.view.getUint32(I);if(A.view.byteLength<I+4+4)throw new n.DecodeError(A,"EOF while reading chunk type",I);const P=String.fromCharCode(A.view.getUint8(I+4),A.view.getUint8(I+5),A.view.getUint8(I+6),A.view.getUint8(I+7));if(A.view.byteLength<I+4+4+R+4)throw new n.DecodeError(A,`EOF while reading chunk "${P}"`,I);const $=A.view.getUint32(I+4+4+R)>>>0,M=(0,c.crc32)(A.view,I+4,4+R);return $!==M&&(0,n.handleWarning)(A,new n.DecodeWarning(`CRC for chunk "${P}" at offset 0x${I.toString(16)} doesn't match (0x${$.toString(16)} !== 0x${M.toString(16)})`,I)),{offset:I,type:P,dataLength:R,isAncillary:_(P,0),isPrivate:_(P,1),isSafeToCopy:_(P,3)}}decoder.readChunk=v;function _(A,I){return!!(A.charCodeAt(I)&32)}return decoder}var encoder={},byteStream={},hasRequiredByteStream;function requireByteStream(){if(hasRequiredByteStream)return byteStream;hasRequiredByteStream=1,Object.defineProperty(byteStream,"__esModule",{value:!0}),byteStream.ByteStream=void 0;class i{constructor(a){this.offset=0,this.array=new Uint8Array(a),this.view=new DataView(this.array.buffer,this.array.byteOffset,this.array.byteLength)}writeUint8(a){this.view.setUint8(this.offset,a),this.offset+=1}writeUint16(a){this.view.setUint16(this.offset,a),this.offset+=2}writeUint32(a){this.view.setUint32(this.offset,a),this.offset+=4}writeArray(a){this.array.set(a,this.array.byteOffset+this.offset),this.offset+=a.length}assertAtEnd(){if(this.offset!==this.array.length)throw new Error("Writing finished before expected length of stream")}}return byteStream.ByteStream=i,byteStream}var IDAT_encode={},write={},hasRequiredWrite;function requireWrite(){if(hasRequiredWrite)return write;hasRequiredWrite=1,Object.defineProperty(write,"__esModule",{value:!0}),write.writeChunkDataFn=write.writeChunk=write.writeChunkType=void 0;const i=requireByteStream(),n=requireCrc32();function a(c,f){c.writeUint8(f.charCodeAt(0)),c.writeUint8(f.charCodeAt(1)),c.writeUint8(f.charCodeAt(2)),c.writeUint8(f.charCodeAt(3))}write.writeChunkType=a;function s(c,f){const p=new i.ByteStream(8+f.length+4);if(p.writeUint32(f.length),c.length!==4)throw new Error(`Cannot encode a chunk type of length ${c.length}`);return a(p,c),p.writeArray(f),p.writeUint32((0,n.crc32)(p.view,4,4+f.length)),p.assertAtEnd(),p.array}write.writeChunk=s;function l(c,f,p){const g=new i.ByteStream(8+f+4);if(g.writeUint32(f),c.length!==4)throw new Error(`Cannot encode a chunk type of length ${c.length}`);return a(g,c),p(g),g.writeUint32((0,n.crc32)(g.view,4,4+f)),g.assertAtEnd(),g.array}return write.writeChunkDataFn=l,write}var hasRequiredIDAT_encode;function requireIDAT_encode(){if(hasRequiredIDAT_encode)return IDAT_encode;hasRequiredIDAT_encode=1,Object.defineProperty(IDAT_encode,"__esModule",{value:!0}),IDAT_encode.encodeChunk=void 0;const i=requirePako(),n=requireByteStream(),a=requirePaeth(),s=requireWrite();function l(b,h){const d=c(b,h),v=new n.ByteStream(d);f(b,h,v);const _=i.deflate(v.array);return(0,s.writeChunk)("IDAT",_)}IDAT_encode.encodeChunk=l;function c(b,h){if(b.bitDepth<8)throw new Error("Only bit depth 8 and 16 is supported currently");if(h.data.BYTES_PER_ELEMENT===2&&b.bitDepth===8)throw new Error("16 to 8 bit conversion isn't supported yet");if(b.interlaceMethod!==0)throw new Error("Only interlace method 0 is supported currently");let d;switch(b.colorType){case 0:d=1;break;case 2:d=3;break;case 3:d=1;break;case 4:d=2;break;case 6:d=4;break}const v=b.bitDepth===16?2:1;return(1+d*v*h.width)*h.height}function f(b,h,d){let v=0,_=0,A=0;if(b.colorType===3){if(!b.palette)throw new Error("Cannot encode indexed file without palette");if(h.data.BYTES_PER_ELEMENT===2)throw new Error("Cannot encode indexed file from 16-bit image");for(;A<h.height;A++)for(d.writeUint8(0),_=0;_<h.width;_++)d.writeUint8(b.palette.get(h.data[v]<<24|h.data[v+1]<<16|h.data[v+2]<<8|h.data[v+3])),v+=4;return}let I;if(b.options.filterPattern){if(b.options.filterPattern.length===0)throw new Error("Filter pattern with 0 entries");I=b.options.filterPattern}const R=4*h.data.BYTES_PER_ELEMENT,P=[];for(const M of[0,1,2,3,4])P[M]=g(R,R*h.width,M);const $=y(b.colorType);for(;A<h.height;A++){const M=I?I[A%I.length]:p(b.colorType,h,A*h.width*4,P),B=new Uint8Array(h.data.buffer,h.data.byteOffset,h.data.byteLength);d.writeUint8(M);let F=0,q=0;for(_=0;_<h.width;_++){for(q of $)for(F=h.data.BYTES_PER_ELEMENT-1;F>=0;F--)d.writeUint8(P[M](B,(v+q)*h.data.BYTES_PER_ELEMENT+F,_===0));v+=4}}}function p(b,h,d,v){const _=[];4*h.data.BYTES_PER_ELEMENT;for(const R of[0,1,2,3,4]){let P=0;const $=y(b),M=new Uint8Array(h.data.buffer,h.data.byteOffset,h.data.byteLength);let B=0,F=0;for(let q=d;q<d+h.width*4;q+=4)for(B of $)for(F=h.data.BYTES_PER_ELEMENT-1;F>=0;F--)P+=v[R](M,(q+B)*h.data.BYTES_PER_ELEMENT+F,q===d);_[R]=P}let A=0,I=_[0];for(const R of[1,2,3,4])_[R]<I&&(A=R,I=_[R]);return A}function g(b,h,d){let v=0,_=0,A=0;switch(d){case 0:return(I,R)=>I[R];case 1:return(I,R,P)=>(v=P?-1:R-b,(I[R]-(v<0?0:I[R-b])+256)%256);case 2:return(I,R)=>(_=R-h,(I[R]-(_<0?0:I[_])+256)%256);case 3:return(I,R,P)=>(v=P?-1:R-b,_=R-h,(I[R]-Math.floor(((v<0?0:I[v])+(_<0?0:I[_]))/2)+256)%256);case 4:return(I,R,P)=>(v=P?-1:R-b,_=R-h,A=P?-1:R-b-h,(I[R]-(0,a.paethPredicator)(v<0?0:I[v],_<0?0:I[_],A<0?0:I[A])+256)%256)}}function y(b){switch(b){case 0:return[0];case 2:return[0,1,2];case 4:return[0,3];case 6:return[0,1,2,3]}}return IDAT_encode}var IEND_encode={},hasRequiredIEND_encode;function requireIEND_encode(){if(hasRequiredIEND_encode)return IEND_encode;hasRequiredIEND_encode=1,Object.defineProperty(IEND_encode,"__esModule",{value:!0}),IEND_encode.encodeChunk=void 0;const i=requireWrite();function n(){return(0,i.writeChunk)("IEND",new Uint8Array(0))}return IEND_encode.encodeChunk=n,IEND_encode}var IHDR_encode={},hasRequiredIHDR_encode;function requireIHDR_encode(){if(hasRequiredIHDR_encode)return IHDR_encode;hasRequiredIHDR_encode=1,Object.defineProperty(IHDR_encode,"__esModule",{value:!0}),IHDR_encode.encodeChunk=void 0;const i=requireWrite();function n(a,s){if(s.width<=0||s.height<=0)throw new Error(`Invalid dimensions ${s.width}x${s.height}`);return(0,i.writeChunkDataFn)("IHDR",13,l=>{l.writeUint32(s.width),l.writeUint32(s.height),l.writeUint8(a.bitDepth),l.writeUint8(a.colorType),l.writeUint8(0),l.writeUint8(0),l.writeUint8(a.interlaceMethod)})}return IHDR_encode.encodeChunk=n,IHDR_encode}var tRNS_encode={},hasRequiredTRNS_encode;function requireTRNS_encode(){if(hasRequiredTRNS_encode)return tRNS_encode;hasRequiredTRNS_encode=1,Object.defineProperty(tRNS_encode,"__esModule",{value:!0}),tRNS_encode.encodeChunk=void 0;const i=requireWrite();function n(a,s){switch(a.colorType){case 0:{if(a.firstTransparentColor===void 0)throw new Error("Cannot write tRNS for grayscale without any transparent colors");const l=a.firstTransparentColor;return(0,i.writeChunkDataFn)("tRNS",2,c=>{s.data.BYTES_PER_ELEMENT===2?c.writeUint16(l>>48&65535):c.writeUint16(l>>24&255)})}case 3:{if(!a.palette)throw new Error("Cannot encode tRNS chunk for indexed image without palette");return(0,i.writeChunkDataFn)("tRNS",a.palette.size,l=>{for(const c of a.colorSet)l.writeUint8(c&255)})}case 2:{if(a.firstTransparentColor===void 0)throw new Error("Cannot write tRNS for True color without any transparent colors");const l=a.firstTransparentColor;return(0,i.writeChunkDataFn)("tRNS",6,c=>{s.data.BYTES_PER_ELEMENT===2?(c.writeUint16(l>>48&65535),c.writeUint16(l>>32&65535),c.writeUint16(l>>16&65535)):(c.writeUint16(l>>24&255),c.writeUint16(l>>16&255),c.writeUint16(l>>8&255))})}default:throw new Error(`Cannot encode tRNS chunk for color type "${a.colorType}"`)}}return tRNS_encode.encodeChunk=n,tRNS_encode}var PLTE_encode={},hasRequiredPLTE_encode;function requirePLTE_encode(){if(hasRequiredPLTE_encode)return PLTE_encode;hasRequiredPLTE_encode=1,Object.defineProperty(PLTE_encode,"__esModule",{value:!0}),PLTE_encode.encodeChunk=void 0;const i=requireWrite();function n(a,s){if(a.bitDepth===16||s.data.BYTES_PER_ELEMENT===2)throw new Error("Cannot encode 16 bit images using indexed color type");if(a.colorSet.size>Math.pow(2,a.bitDepth))throw new Error(`Too many colors ${a.colorSet.size} to encode into indexed image (2^${a.bitDepth} = ${Math.pow(2,a.bitDepth)})`);const l=(0,i.writeChunkDataFn)("PLTE",a.colorSet.size*3,f=>{for(const p of a.colorSet.values())f.writeUint8(p>>24&255),f.writeUint8(p>>16&255),f.writeUint8(p>>8&255)}),c=new Map;for(const f of a.colorSet.values())c.set(f,c.size);return{chunkData:l,palette:c}}return PLTE_encode.encodeChunk=n,PLTE_encode}var tEXt_encode={},hasRequiredTEXt_encode;function requireTEXt_encode(){if(hasRequiredTEXt_encode)return tEXt_encode;hasRequiredTEXt_encode=1,Object.defineProperty(tEXt_encode,"__esModule",{value:!0}),tEXt_encode.encodeChunk=void 0;const i=requireAssert(),n=requireWrite();function a(s,l,c,f){if(c.length===0||c.length>79)throw new i.EncodeError(`tEXt: Invalid keyword length: 0 < ${c.length} < 80`,0);const p=c.length+1+f.length;return(0,n.writeChunkDataFn)("tEXt",p,g=>{let y=0;for(;y<c.length;y++)g.writeUint8(c.charCodeAt(y));for(g.writeUint8(0),y=0;y<f.length;y++)g.writeUint8(f.charCodeAt(y))})}return tEXt_encode.encodeChunk=a,tEXt_encode}var hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder;hasRequiredEncoder=1,Object.defineProperty(encoder,"__esModule",{value:!0}),encoder.encodePng=void 0;const i=requireByteStream(),n=requireIDAT_encode(),a=requireIEND_encode(),s=requireIHDR_encode(),l=requireAssert();function c(y){switch(y){case"tRNS":return Promise.resolve().then(()=>requireTRNS_encode());default:throw new Error(`Could not get encoder for chunk type "${y}"`)}}async function f(y,b={}){if(y.data.length!==y.width*y.height*4)throw new l.EncodeError(`Provided image data length (${y.data.length}) is not expected length (${y.width*y.height*4})`,Math.min(y.data.length,y.width*y.height*4)-1);const h=[];h.push(p());const d=g(y,b);if(h.push((0,s.encodeChunk)(d,y)),d.colorType===3){const I=(await Promise.resolve().then(()=>requirePLTE_encode())).encodeChunk(d,y);d.palette=I.palette,h.push(I.chunkData)}if(d.useTransparencyChunk&&h.push((await c("tRNS")).encodeChunk(d,y)),h.push((0,n.encodeChunk)(d,y)),(b==null?void 0:b.ancillaryChunks)===void 0)h.push((await Promise.resolve().then(()=>requireTEXt_encode())).encodeChunk(d,y,"Software","@lunapaint/png-codec"));else for(const I of b.ancillaryChunks)switch(I.type){case"tEXt":h.push((await Promise.resolve().then(()=>requireTEXt_encode())).encodeChunk(d,y,I.keyword,I.text));break;default:throw new Error(`Cannot encode chunk type "${I.type}"`)}h.push((0,a.encodeChunk)());const v=h.reduce((I,R)=>I+R.length,0),_=new Uint8Array(v);let A=0;for(const I of h)_.set(I,A),A+=I.length;return{data:_,warnings:d.warnings,info:d.info}}encoder.encodePng=f;function p(){const y=new i.ByteStream(8);return y.writeUint8(137),y.writeUint8(80),y.writeUint8(78),y.writeUint8(71),y.writeUint8(13),y.writeUint8(10),y.writeUint8(26),y.writeUint8(10),y.assertAtEnd(),y.array}function g(y,b={}){const h=[],d=[],_=y.width*y.height*4,A=new Set,I=new Set;let R=0;if(y.data.BYTES_PER_ELEMENT===2)for(let M=0;M<_;M+=4)R=y.data[M]<<48|y.data[M+1]<<32|y.data[M+2]<<16|y.data[M+3],y.data[M+3]<65535&&I.add(R),A.add(R);else for(let M=0;M<_;M+=4)R=y.data[M]<<24|y.data[M+1]<<16|y.data[M+2]<<8|y.data[M+3],y.data[M+3]<255&&I.add(R),A.add(R);let P=b.colorType;P===void 0&&(A.size>256||y.data.BYTES_PER_ELEMENT===2?P=2:P=3);let $;switch(P){case 0:case 2:$=I.size===1,!$&&I.size>1&&(P=P===2?6:4,b.colorType===2&&(0,l.handleWarning)({options:b,warnings:h},new l.EncodeWarning(`Cannot encode image as color type Truecolor as it contains ${I.size} transparent colors`,0)));break;case 3:$=I.size>0;break;default:$=!1}return b.colorType===void 0&&d.push(`Using color type ${P}`),{colorType:P,bitDepth:y.data.BYTES_PER_ELEMENT===2?16:8,interlaceMethod:0,colorSet:A,transparentColorCount:I.size,firstTransparentColor:I.size>0?I.values().next().value:void 0,useTransparencyChunk:$,options:b,warnings:h,info:d}}return encoder}var hasRequiredPng;function requirePng(){return hasRequiredPng||(hasRequiredPng=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.encodePng=i.decodePng=i.EncodeWarning=i.EncodeError=i.DecodeWarning=i.DecodeError=void 0;var n=requireAssert$1();Object.defineProperty(i,"DecodeError",{enumerable:!0,get:function(){return n.DecodeError}}),Object.defineProperty(i,"DecodeWarning",{enumerable:!0,get:function(){return n.DecodeWarning}});var a=requireAssert();Object.defineProperty(i,"EncodeError",{enumerable:!0,get:function(){return a.EncodeError}}),Object.defineProperty(i,"EncodeWarning",{enumerable:!0,get:function(){return a.EncodeWarning}});async function s(c,f){return(await Promise.resolve().then(()=>requireDecoder())).decodePng(c,f)}i.decodePng=s;async function l(c,f){return(await Promise.resolve().then(()=>requireEncoder())).encodePng(c,f)}i.encodePng=l}(png)),png}var pngExports=requirePng();const bytesToDecodedPng=async i=>{const n=await Bytes.toArrayBuffer(i),a=await pngExports.decodePng(new Uint8Array(n),{parseChunkTypes:"*"});console.log(a);const s=a.metadata.filter(l=>l.type==="tEXt").reduce((l,c)=>{const f=Bytes.base64ToArrayBuffer(c.text),p=Bytes.arrayBufferToUtf8(f);return l[c.keyword]=p,l},{});return{meta:a.details,textChunks:s,data:n}},isWithSpec=i=>{const n=i;return typeof n=="object"&&i!==null&&typeof n.spec=="string"},objectToDaimonCharaCard=i=>isWithSpec(i)&&i.spec==="chara_card_v2"?i:{spec:"chara_card_v2",spec_version:"2.0",data:{...i}},bytesToDaimon=async i=>{const a=(await bytesToDecodedPng(i)).textChunks.chara;if(isUndefined(a))throw new Error("No chara chunk found");const s=JSON.parse(a),l=objectToDaimonCharaCard(s),c=await bytesToContentId(i);l.data.extensions={...l.data.extensions,avatar:c};const f={chara:l,id:Ids.fromObjectStore(DAIMON_OBJECT_STORE)};return await Datas.put(await getConnection())({value:f}),f},createStoreImpl=i=>{let n;const a=new Set,s=(y,b)=>{const h=typeof y=="function"?y(n):y;if(!Object.is(h,n)){const d=n;n=b??(typeof h!="object"||h===null)?h:Object.assign({},n,h),a.forEach(v=>v(n,d))}},l=()=>n,p={setState:s,getState:l,getInitialState:()=>g,subscribe:y=>(a.add(y),()=>a.delete(y))},g=n=i(s,l,p);return p},createStore=i=>i?createStoreImpl(i):createStoreImpl,identity=i=>i;function useStore(i,n=identity){const a=React.useSyncExternalStore(i.subscribe,()=>n(i.getState()),()=>n(i.getInitialState()));return React.useDebugValue(a),a}const createImpl=i=>{const n=createStore(i),a=s=>useStore(n,s);return Object.assign(a,n),a},create$1=i=>i?createImpl(i):createImpl,useAppState=create$1(i=>({mqUrl:"",aiTextOutput:void 0,userDaimonId:void 0,setMqUrl:n=>i({mqUrl:n}),setAiTextOutput:n=>i({aiTextOutput:n}),setUserDaimonId:n=>i({userDaimonId:n}),getUrlHash:()=>{const n=window.location.hash;return n?n.substring(1):"kiosk"},setUrlHash:n=>{window.location.hash=n},activeRoomId:void 0,setActiveRoomId:n=>i({activeRoomId:n}),abortController:void 0,setAbortController:n=>i({abortController:n}),textEntryElement:void 0,setTextEntryElement:n=>i({textEntryElement:n}),topRoomId:void 0,setTopRoomId:n=>i({topRoomId:n}),selectedRoomIds:[],setSelectedRoomIds:n=>i({selectedRoomIds:n})})),CloudUploadIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");function __awaiter$1(i,n,a,s){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function p(b){try{y(s.next(b))}catch(h){f(h)}}function g(b){try{y(s.throw(b))}catch(h){f(h)}}function y(b){b.done?c(b.value):l(b.value).then(p,g)}y((s=s.apply(i,n||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(i,n,a){const s=withMimeType(i),{webkitRelativePath:l}=i,c=typeof n=="string"?n:typeof l=="string"&&l.length>0?l:`./${i.name}`;return typeof s.path!="string"&&setObjProp(s,"path",c),setObjProp(s,"relativePath",c),s}function withMimeType(i){const{name:n}=i;if(n&&n.lastIndexOf(".")!==-1&&!i.type){const s=n.split(".").pop().toLowerCase(),l=COMMON_MIME_TYPES.get(s);l&&Object.defineProperty(i,"type",{value:l,writable:!1,configurable:!1,enumerable:!0})}return i}function setObjProp(i,n,a){Object.defineProperty(i,n,{value:a,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(i){return __awaiter$1(this,void 0,void 0,function*(){return isObject(i)&&isDataTransfer(i.dataTransfer)?getDataTransferFiles(i.dataTransfer,i.type):isChangeEvt(i)?getInputFiles(i):Array.isArray(i)&&i.every(n=>"getFile"in n&&typeof n.getFile=="function")?getFsHandleFiles(i):[]})}function isDataTransfer(i){return isObject(i)}function isChangeEvt(i){return isObject(i)&&isObject(i.target)}function isObject(i){return typeof i=="object"&&i!==null}function getInputFiles(i){return fromList(i.target.files).map(n=>toFileWithPath(n))}function getFsHandleFiles(i){return __awaiter$1(this,void 0,void 0,function*(){return(yield Promise.all(i.map(a=>a.getFile()))).map(a=>toFileWithPath(a))})}function getDataTransferFiles(i,n){return __awaiter$1(this,void 0,void 0,function*(){if(i.items){const a=fromList(i.items).filter(l=>l.kind==="file");if(n!=="drop")return a;const s=yield Promise.all(a.map(toFilePromises));return noIgnoredFiles(flatten(s))}return noIgnoredFiles(fromList(i.files).map(a=>toFileWithPath(a)))})}function noIgnoredFiles(i){return i.filter(n=>FILES_TO_IGNORE.indexOf(n.name)===-1)}function fromList(i){if(i===null)return[];const n=[];for(let a=0;a<i.length;a++){const s=i[a];n.push(s)}return n}function toFilePromises(i){if(typeof i.webkitGetAsEntry!="function")return fromDataTransferItem(i);const n=i.webkitGetAsEntry();return n&&n.isDirectory?fromDirEntry(n):fromDataTransferItem(i,n)}function flatten(i){return i.reduce((n,a)=>[...n,...Array.isArray(a)?flatten(a):[a]],[])}function fromDataTransferItem(i,n){return __awaiter$1(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof i.getAsFileSystemHandle=="function"){const c=yield i.getAsFileSystemHandle();if(c===null)throw new Error(`${i} is not a File`);if(c!==void 0){const f=yield c.getFile();return f.handle=c,toFileWithPath(f)}}const s=i.getAsFile();if(!s)throw new Error(`${i} is not a File`);return toFileWithPath(s,(a=n==null?void 0:n.fullPath)!==null&&a!==void 0?a:void 0)})}function fromEntry(i){return __awaiter$1(this,void 0,void 0,function*(){return i.isDirectory?fromDirEntry(i):fromFileEntry(i)})}function fromDirEntry(i){const n=i.createReader();return new Promise((a,s)=>{const l=[];function c(){n.readEntries(f=>__awaiter$1(this,void 0,void 0,function*(){if(f.length){const p=Promise.all(f.map(fromEntry));l.push(p),c()}else try{const p=yield Promise.all(l);a(p)}catch(p){s(p)}}),f=>{s(f)})}c()})}function fromFileEntry(i){return __awaiter$1(this,void 0,void 0,function*(){return new Promise((n,a)=>{i.file(s=>{const l=toFileWithPath(s,i.fullPath);n(l)},s=>{a(s)})})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(i,n){if(i&&n){var a=Array.isArray(n)?n:n.split(",");if(a.length===0)return!0;var s=i.name||"",l=(i.type||"").toLowerCase(),c=l.replace(/\/.*$/,"");return a.some(function(f){var p=f.trim().toLowerCase();return p.charAt(0)==="."?s.toLowerCase().endsWith(p):p.endsWith("/*")?c===p.replace(/\/.*$/,""):l===p})}return!0}),es}var esExports=requireEs();const _accepts=getDefaultExportFromCjs(esExports);function _toConsumableArray$1(i){return _arrayWithoutHoles$1(i)||_iterableToArray$1(i)||_unsupportedIterableToArray$1(i)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$1(i){if(Array.isArray(i))return _arrayLikeToArray$1(i)}function ownKeys$1(i,n){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,s)}return a}function _objectSpread$1(i){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$1(Object(a),!0).forEach(function(s){_defineProperty$1(i,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):ownKeys$1(Object(a)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(a,s))})}return i}function _defineProperty$1(i,n,a){return n in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a,i}function _slicedToArray$1(i,n){return _arrayWithHoles$1(i)||_iterableToArrayLimit$1(i,n)||_unsupportedIterableToArray$1(i,n)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(i,n){if(i){if(typeof i=="string")return _arrayLikeToArray$1(i,n);var a=Object.prototype.toString.call(i).slice(8,-1);if(a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set")return Array.from(i);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray$1(i,n)}}function _arrayLikeToArray$1(i,n){(n==null||n>i.length)&&(n=i.length);for(var a=0,s=new Array(n);a<n;a++)s[a]=i[a];return s}function _iterableToArrayLimit$1(i,n){var a=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a!=null){var s=[],l=!0,c=!1,f,p;try{for(a=a.call(i);!(l=(f=a.next()).done)&&(s.push(f.value),!(n&&s.length===n));l=!0);}catch(g){c=!0,p=g}finally{try{!l&&a.return!=null&&a.return()}finally{if(c)throw p}}return s}}function _arrayWithHoles$1(i){if(Array.isArray(i))return i}var accepts=typeof _accepts=="function"?_accepts:_accepts.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=n.split(","),s=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(s)}},getTooLargeRejectionErr=function(n){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},getTooSmallRejectionErr=function(n){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(i,n){var a=i.type==="application/x-moz-file"||accepts(i,n);return[a,a?null:getInvalidTypeRejectionErr(n)]}function fileMatchSize(i,n,a){if(isDefined(i.size))if(isDefined(n)&&isDefined(a)){if(i.size>a)return[!1,getTooLargeRejectionErr(a)];if(i.size<n)return[!1,getTooSmallRejectionErr(n)]}else{if(isDefined(n)&&i.size<n)return[!1,getTooSmallRejectionErr(n)];if(isDefined(a)&&i.size>a)return[!1,getTooLargeRejectionErr(a)]}return[!0,null]}function isDefined(i){return i!=null}function allFilesAccepted(i){var n=i.files,a=i.accept,s=i.minSize,l=i.maxSize,c=i.multiple,f=i.maxFiles,p=i.validator;return!c&&n.length>1||c&&f>=1&&n.length>f?!1:n.every(function(g){var y=fileAccepted(g,a),b=_slicedToArray$1(y,1),h=b[0],d=fileMatchSize(g,s,l),v=_slicedToArray$1(d,1),_=v[0],A=p?p(g):null;return h&&_&&!A})}function isPropagationStopped(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():typeof i.cancelBubble<"u"?i.cancelBubble:!1}function isEvtWithFiles(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!i.target&&!!i.target.files}function onDocumentDragOver(i){i.preventDefault()}function isIe(i){return i.indexOf("MSIE")!==-1||i.indexOf("Trident/")!==-1}function isEdge(i){return i.indexOf("Edge/")!==-1}function isIeOrEdge(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(i)||isEdge(i)}function composeEventHandlers(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return function(s){for(var l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];return n.some(function(p){return!isPropagationStopped(s)&&p&&p.apply(void 0,[s].concat(c)),isPropagationStopped(s)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(i){if(isDefined(i)){var n=Object.entries(i).filter(function(a){var s=_slicedToArray$1(a,2),l=s[0],c=s[1],f=!0;return isMIMEType(l)||(console.warn('Skipped "'.concat(l,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),f=!1),(!Array.isArray(c)||!c.every(isExt))&&(console.warn('Skipped "'.concat(l,'" because an invalid file extension was provided.')),f=!1),f}).reduce(function(a,s){var l=_slicedToArray$1(s,2),c=l[0],f=l[1];return _objectSpread$1(_objectSpread$1({},a),{},_defineProperty$1({},c,f))},{});return[{description:"Files",accept:n}]}return i}function acceptPropAsAcceptAttr(i){if(isDefined(i))return Object.entries(i).reduce(function(n,a){var s=_slicedToArray$1(a,2),l=s[0],c=s[1];return[].concat(_toConsumableArray$1(n),[l],_toConsumableArray$1(c))},[]).filter(function(n){return isMIMEType(n)||isExt(n)}).join(",")}function isAbort(i){return i instanceof DOMException&&(i.name==="AbortError"||i.code===i.ABORT_ERR)}function isSecurityError(i){return i instanceof DOMException&&(i.name==="SecurityError"||i.code===i.SECURITY_ERR)}function isMIMEType(i){return i==="audio/*"||i==="video/*"||i==="image/*"||i==="text/*"||i==="application/*"||/\w+\/[-+.\w]+/g.test(i)}function isExt(i){return/^.*\.[\w]+$/.test(i)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(i){return _arrayWithoutHoles(i)||_iterableToArray(i)||_unsupportedIterableToArray(i)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles(i){if(Array.isArray(i))return _arrayLikeToArray(i)}function _slicedToArray(i,n){return _arrayWithHoles(i)||_iterableToArrayLimit(i,n)||_unsupportedIterableToArray(i,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(i,n){if(i){if(typeof i=="string")return _arrayLikeToArray(i,n);var a=Object.prototype.toString.call(i).slice(8,-1);if(a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set")return Array.from(i);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(i,n)}}function _arrayLikeToArray(i,n){(n==null||n>i.length)&&(n=i.length);for(var a=0,s=new Array(n);a<n;a++)s[a]=i[a];return s}function _iterableToArrayLimit(i,n){var a=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a!=null){var s=[],l=!0,c=!1,f,p;try{for(a=a.call(i);!(l=(f=a.next()).done)&&(s.push(f.value),!(n&&s.length===n));l=!0);}catch(g){c=!0,p=g}finally{try{!l&&a.return!=null&&a.return()}finally{if(c)throw p}}return s}}function _arrayWithHoles(i){if(Array.isArray(i))return i}function ownKeys(i,n){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),a.push.apply(a,s)}return a}function _objectSpread(i){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(a),!0).forEach(function(s){_defineProperty(i,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(a,s))})}return i}function _defineProperty(i,n,a){return n in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a,i}function _objectWithoutProperties(i,n){if(i==null)return{};var a=_objectWithoutPropertiesLoose(i,n),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(l=0;l<c.length;l++)s=c[l],!(n.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(a[s]=i[s])}return a}function _objectWithoutPropertiesLoose(i,n){if(i==null)return{};var a={},s=Object.keys(i),l,c;for(c=0;c<s.length;c++)l=s[c],!(n.indexOf(l)>=0)&&(a[l]=i[l]);return a}var Dropzone=reactExports.forwardRef(function(i,n){var a=i.children,s=_objectWithoutProperties(i,_excluded),l=useDropzone(s),c=l.open,f=_objectWithoutProperties(l,_excluded2);return reactExports.useImperativeHandle(n,function(){return{open:c}},[c]),React.createElement(reactExports.Fragment,null,a(_objectSpread(_objectSpread({},f),{},{open:c})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=_objectSpread(_objectSpread({},defaultProps),i),a=n.accept,s=n.disabled,l=n.getFilesFromEvent,c=n.maxSize,f=n.minSize,p=n.multiple,g=n.maxFiles,y=n.onDragEnter,b=n.onDragLeave,h=n.onDragOver,d=n.onDrop,v=n.onDropAccepted,_=n.onDropRejected,A=n.onFileDialogCancel,I=n.onFileDialogOpen,R=n.useFsAccessApi,P=n.autoFocus,$=n.preventDropOnDocument,M=n.noClick,B=n.noKeyboard,F=n.noDrag,q=n.noDragEventsBubbling,H=n.onError,z=n.validator,L=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(a)},[a]),ee=reactExports.useMemo(function(){return pickerOptionsFromAccept(a)},[a]),Z=reactExports.useMemo(function(){return typeof I=="function"?I:noop},[I]),V=reactExports.useMemo(function(){return typeof A=="function"?A:noop},[A]),X=reactExports.useRef(null),Q=reactExports.useRef(null),G=reactExports.useReducer(reducer,initialState),te=_slicedToArray(G,2),ue=te[0],fe=te[1],K=ue.isFocused,de=ue.isFileDialogActive,we=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&R&&canUseFileSystemAccessAPI()),oe=function(){!we.current&&de&&setTimeout(function(){if(Q.current){var at=Q.current.files;at.length||(fe({type:"closeDialog"}),V())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",oe,!1),function(){window.removeEventListener("focus",oe,!1)}},[Q,de,V,we]);var Ne=reactExports.useRef([]),Ie=function(at){X.current&&X.current.contains(at.target)||(at.preventDefault(),Ne.current=[])};reactExports.useEffect(function(){return $&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Ie,!1)),function(){$&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Ie))}},[X,$]),reactExports.useEffect(function(){return!s&&P&&X.current&&X.current.focus(),function(){}},[X,P,s]);var Le=reactExports.useCallback(function(st){H?H(st):console.error(st)},[H]),ut=reactExports.useCallback(function(st){st.preventDefault(),st.persist(),Bt(st),Ne.current=[].concat(_toConsumableArray(Ne.current),[st.target]),isEvtWithFiles(st)&&Promise.resolve(l(st)).then(function(at){if(!(isPropagationStopped(st)&&!q)){var Ue=at.length,nt=Ue>0&&allFilesAccepted({files:at,accept:L,minSize:f,maxSize:c,multiple:p,maxFiles:g,validator:z}),Ct=Ue>0&&!nt;fe({isDragAccept:nt,isDragReject:Ct,isDragActive:!0,type:"setDraggedFiles"}),y&&y(st)}}).catch(function(at){return Le(at)})},[l,y,Le,q,L,f,c,p,g,z]),mt=reactExports.useCallback(function(st){st.preventDefault(),st.persist(),Bt(st);var at=isEvtWithFiles(st);if(at&&st.dataTransfer)try{st.dataTransfer.dropEffect="copy"}catch{}return at&&h&&h(st),!1},[h,q]),vt=reactExports.useCallback(function(st){st.preventDefault(),st.persist(),Bt(st);var at=Ne.current.filter(function(nt){return X.current&&X.current.contains(nt)}),Ue=at.indexOf(st.target);Ue!==-1&&at.splice(Ue,1),Ne.current=at,!(at.length>0)&&(fe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(st)&&b&&b(st))},[X,b,q]),it=reactExports.useCallback(function(st,at){var Ue=[],nt=[];st.forEach(function(Ct){var ce=fileAccepted(Ct,L),He=_slicedToArray(ce,2),Je=He[0],gt=He[1],Et=fileMatchSize(Ct,f,c),lt=_slicedToArray(Et,2),Se=lt[0],ze=lt[1],le=z?z(Ct):null;if(Je&&Se&&!le)Ue.push(Ct);else{var ae=[gt,ze];le&&(ae=ae.concat(le)),nt.push({file:Ct,errors:ae.filter(function(_e){return _e})})}}),(!p&&Ue.length>1||p&&g>=1&&Ue.length>g)&&(Ue.forEach(function(Ct){nt.push({file:Ct,errors:[TOO_MANY_FILES_REJECTION]})}),Ue.splice(0)),fe({acceptedFiles:Ue,fileRejections:nt,isDragReject:nt.length>0,type:"setFiles"}),d&&d(Ue,nt,at),nt.length>0&&_&&_(nt,at),Ue.length>0&&v&&v(Ue,at)},[fe,p,L,f,c,g,d,v,_,z]),pt=reactExports.useCallback(function(st){st.preventDefault(),st.persist(),Bt(st),Ne.current=[],isEvtWithFiles(st)&&Promise.resolve(l(st)).then(function(at){isPropagationStopped(st)&&!q||it(at,st)}).catch(function(at){return Le(at)}),fe({type:"reset"})},[l,it,Le,q]),xt=reactExports.useCallback(function(){if(we.current){fe({type:"openDialog"}),Z();var st={multiple:p,types:ee};window.showOpenFilePicker(st).then(function(at){return l(at)}).then(function(at){it(at,null),fe({type:"closeDialog"})}).catch(function(at){isAbort(at)?(V(at),fe({type:"closeDialog"})):isSecurityError(at)?(we.current=!1,Q.current?(Q.current.value=null,Q.current.click()):Le(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Le(at)});return}Q.current&&(fe({type:"openDialog"}),Z(),Q.current.value=null,Q.current.click())},[fe,Z,V,R,it,Le,ee,p]),kt=reactExports.useCallback(function(st){!X.current||!X.current.isEqualNode(st.target)||(st.key===" "||st.key==="Enter"||st.keyCode===32||st.keyCode===13)&&(st.preventDefault(),xt())},[X,xt]),_t=reactExports.useCallback(function(){fe({type:"focus"})},[]),Nt=reactExports.useCallback(function(){fe({type:"blur"})},[]),Vt=reactExports.useCallback(function(){M||(isIeOrEdge()?setTimeout(xt,0):xt())},[M,xt]),Mt=function(at){return s?null:at},$t=function(at){return B?null:Mt(at)},Ht=function(at){return F?null:Mt(at)},Bt=function(at){q&&at.stopPropagation()},Ut=reactExports.useMemo(function(){return function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=st.refKey,Ue=at===void 0?"ref":at,nt=st.role,Ct=st.onKeyDown,ce=st.onFocus,He=st.onBlur,Je=st.onClick,gt=st.onDragEnter,Et=st.onDragOver,lt=st.onDragLeave,Se=st.onDrop,ze=_objectWithoutProperties(st,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:$t(composeEventHandlers(Ct,kt)),onFocus:$t(composeEventHandlers(ce,_t)),onBlur:$t(composeEventHandlers(He,Nt)),onClick:Mt(composeEventHandlers(Je,Vt)),onDragEnter:Ht(composeEventHandlers(gt,ut)),onDragOver:Ht(composeEventHandlers(Et,mt)),onDragLeave:Ht(composeEventHandlers(lt,vt)),onDrop:Ht(composeEventHandlers(Se,pt)),role:typeof nt=="string"&&nt!==""?nt:"presentation"},Ue,X),!s&&!B?{tabIndex:0}:{}),ze)}},[X,kt,_t,Nt,Vt,ut,mt,vt,pt,B,F,s]),St=reactExports.useCallback(function(st){st.stopPropagation()},[]),Lt=reactExports.useMemo(function(){return function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=st.refKey,Ue=at===void 0?"ref":at,nt=st.onChange,Ct=st.onClick,ce=_objectWithoutProperties(st,_excluded4),He=_defineProperty({accept:L,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Mt(composeEventHandlers(nt,pt)),onClick:Mt(composeEventHandlers(Ct,St)),tabIndex:-1},Ue,Q);return _objectSpread(_objectSpread({},He),ce)}},[Q,a,p,pt,s]);return _objectSpread(_objectSpread({},ue),{},{isFocused:K&&!s,getRootProps:Ut,getInputProps:Lt,rootRef:X,inputRef:Q,open:Mt(xt)})}function reducer(i,n){switch(n.type){case"focus":return _objectSpread(_objectSpread({},i),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},i),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},i),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},i),{},{isDragActive:n.isDragActive,isDragAccept:n.isDragAccept,isDragReject:n.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},i),{},{acceptedFiles:n.acceptedFiles,fileRejections:n.fileRejections,isDragReject:n.isDragReject});case"reset":return _objectSpread({},initialState);default:return i}}function noop(){}const FileUpload=({onChange:i,renderFile:n,placeholder:a})=>{const[s,l]=reactExports.useState(void 0),c=g=>{if(g.length>0){const y=g[0];l(y),i==null||i(y)}},{getRootProps:f,getInputProps:p}=useDropzone({onDrop:c,multiple:!1});return jsxRuntimeExports.jsxs(Box,{...f(),sx:{position:"relative",width:200,height:200,border:"2px dashed gray",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",overflow:"hidden","&:hover":{borderColor:"primary.main"}},children:[jsxRuntimeExports.jsx("input",{...p()}),s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[n==null?void 0:n(s),jsxRuntimeExports.jsx(IconButton,{onClick:g=>{g.stopPropagation(),l(void 0),i==null||i(void 0)},sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(255,255,255,0.8)","&:hover":{backgroundColor:"rgba(255,255,255,1)"}},children:jsxRuntimeExports.jsx(EditIcon,{})})]}):jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center",color:"gray"},children:[a||jsxRuntimeExports.jsx(CloudUploadIcon,{fontSize:"large"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:"Drag & drop or click to upload"})]})]})},putEntity=i=>n=>async a=>{const{id:s=Ids.fromObjectStore(n),...l}=a;return Datas.put(i)({value:{id:s,...l}})},putContent=async(i={})=>putEntity(await getConnection())(CONTENT_OBJECT_STORE)(i),useData=i=>{const n=useConnection(),[a,s]=reactExports.useState(void 0),l=async c=>{if(isUndefined(c)||isUndefined(Ids.parse(c))){s(void 0);return}const f=await Datas.get(await getConnection())({key:c});s(f)};return reactExports.useEffect(()=>{l(i)},[i]),reactExports.useEffect(()=>{const c=new AbortController;if(n)return Messages.connectEventListenerToSubjectRoot({connection:n.connection,subjectRoot:"object_update",signal:c.signal,listener:async f=>{const{subject:p,detail:g}=f,{subpath:y}=Messages.parseSubject(p);y===i&&s(g)}}),()=>{c.abort()}},[n,i]),a};function ok$1(){}function unreachable(){}function stringify$1(i,n){const a={};return(i[i.length-1]===""?[...i,""]:i).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$3={};function name$1(i,n){return(emptyOptions$3.jsx?nameReJsx:nameRe).test(i)}const re=/[ \t\n\f\r]/g;function whitespace(i){return typeof i=="object"?i.type==="text"?empty$1(i.value):!1:empty$1(i)}function empty$1(i){return i.replace(re,"")===""}class Schema{constructor(n,a,s){this.normal=a,this.property=n,s&&(this.space=s)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(i,n){const a={},s={};for(const l of i)Object.assign(a,l.property),Object.assign(s,l.normal);return new Schema(a,s,n)}function normalize$1(i){return i.toLowerCase()}class Info{constructor(n,a){this.attribute=a,this.property=n}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(n,a,s,l){let c=-1;if(super(n,a),mark$1(this,"space",l),typeof s=="number")for(;++c<checks.length;){const f=checks[c];mark$1(this,checks[c],(s&types[f])===types[f])}}}DefinedInfo.prototype.defined=!0;function mark$1(i,n,a){a&&(i[n]=a)}function create(i){const n={},a={};for(const[s,l]of Object.entries(i.properties)){const c=new DefinedInfo(s,i.transform(i.attributes||{},s),l,i.space);i.mustUseProperty&&i.mustUseProperty.includes(s)&&(c.mustUseProperty=!0),n[s]=c,a[normalize$1(s)]=s,a[normalize$1(c.attribute)]=s}return new Schema(n,a,i.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(i,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function caseSensitiveTransform(i,n){return n in i?i[n]:n}function caseInsensitiveTransform(i,n){return caseSensitiveTransform(i,n.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(i,n){return"xlink:"+n.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(i,n){return"xml:"+n.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(i,n){const a=normalize$1(n);let s=n,l=Info;if(a in i.normal)return i.property[i.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&valid.test(n)){if(n.charAt(4)==="-"){const c=n.slice(5).replace(dash,camelcase);s="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=n.slice(4);if(!dash.test(c)){let f=c.replace(cap$1,kebab);f.charAt(0)!=="-"&&(f="-"+f),n="data"+f}}l=DefinedInfo}return new l(s,n)}function kebab(i){return"-"+i.toLowerCase()}function camelcase(i){return i.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(i){return i.join(" ").trim()}var cjs$1={},inlineStyleParser,hasRequiredInlineStyleParser;function requireInlineStyleParser(){if(hasRequiredInlineStyleParser)return inlineStyleParser;hasRequiredInlineStyleParser=1;var i=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,a=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,f=/^[;\s]*/,p=/^\s+|\s+$/g,g=`
`,y="/",b="*",h="",d="comment",v="declaration";inlineStyleParser=function(A,I){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];I=I||{};var R=1,P=1;function $(V){var X=V.match(n);X&&(R+=X.length);var Q=V.lastIndexOf(g);P=~Q?V.length-Q:P+V.length}function M(){var V={line:R,column:P};return function(X){return X.position=new B(V),H(),X}}function B(V){this.start=V,this.end={line:R,column:P},this.source=I.source}B.prototype.content=A;function F(V){var X=new Error(I.source+":"+R+":"+P+": "+V);if(X.reason=V,X.filename=I.source,X.line=R,X.column=P,X.source=A,!I.silent)throw X}function q(V){var X=V.exec(A);if(X){var Q=X[0];return $(Q),A=A.slice(Q.length),X}}function H(){q(a)}function z(V){var X;for(V=V||[];X=L();)X!==!1&&V.push(X);return V}function L(){var V=M();if(!(y!=A.charAt(0)||b!=A.charAt(1))){for(var X=2;h!=A.charAt(X)&&(b!=A.charAt(X)||y!=A.charAt(X+1));)++X;if(X+=2,h===A.charAt(X-1))return F("End of comment missing");var Q=A.slice(2,X-2);return P+=2,$(Q),A=A.slice(X),P+=2,V({type:d,comment:Q})}}function ee(){var V=M(),X=q(s);if(X){if(L(),!q(l))return F("property missing ':'");var Q=q(c),G=V({type:v,property:_(X[0].replace(i,h)),value:Q?_(Q[0].replace(i,h)):h});return q(f),G}}function Z(){var V=[];z(V);for(var X;X=ee();)X!==!1&&(V.push(X),z(V));return V}return H(),Z()};function _(A){return A?A.replace(p,h):h}return inlineStyleParser}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$1;hasRequiredCjs$1=1;var i=cjs$1&&cjs$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(cjs$1,"__esModule",{value:!0}),cjs$1.default=a;var n=i(requireInlineStyleParser());function a(s,l){var c=null;if(!s||typeof s!="string")return c;var f=(0,n.default)(s),p=typeof l=="function";return f.forEach(function(g){if(g.type==="declaration"){var y=g.property,b=g.value;p?l(y,b,g):b&&(c=c||{},c[y]=b)}}),c}return cjs$1}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var i=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,a=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,c=function(y){return!y||a.test(y)||i.test(y)},f=function(y,b){return b.toUpperCase()},p=function(y,b){return"".concat(b,"-")},g=function(y,b){return b===void 0&&(b={}),c(y)?y:(y=y.toLowerCase(),b.reactCompat?y=y.replace(l,p):y=y.replace(s,p),y.replace(n,f))};return utilities.camelCase=g,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var i=cjs&&cjs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},n=i(requireCjs$1()),a=requireUtilities();function s(l,c){var f={};return!l||typeof l!="string"||(0,n.default)(l,function(p,g){p&&g&&(f[(0,a.camelCase)(p,c)]=g)}),f}return s.default=s,cjs=s,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(i){return n;function n(a){const s=a&&a.position&&a.position[i]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function position$1(i){const n=pointStart(i),a=pointEnd(i);if(n&&a)return{start:n,end:a}}function stringifyPosition(i){return!i||typeof i!="object"?"":"position"in i||"type"in i?position(i.position):"start"in i||"end"in i?position(i):"line"in i||"column"in i?point$1(i):""}function point$1(i){return index(i&&i.line)+":"+index(i&&i.column)}function position(i){return point$1(i&&i.start)+"-"+point$1(i&&i.end)}function index(i){return i&&typeof i=="number"?i:1}class VFileMessage extends Error{constructor(n,a,s){super(),typeof a=="string"&&(s=a,a=void 0);let l="",c={},f=!1;if(a&&("line"in a&&"column"in a?c={place:a}:"start"in a&&"end"in a?c={place:a}:"type"in a?c={ancestors:[a],place:a.position}:c={...a}),typeof n=="string"?l=n:!c.cause&&n&&(f=!0,l=n.message,c.cause=n),!c.ruleId&&!c.source&&typeof s=="string"){const g=s.indexOf(":");g===-1?c.ruleId=s:(c.source=s.slice(0,g),c.ruleId=s.slice(g+1))}if(!c.place&&c.ancestors&&c.ancestors){const g=c.ancestors[c.ancestors.length-1];g&&(c.place=g.position)}const p=c.place&&"start"in c.place?c.place.start:c.place;this.ancestors=c.ancestors||void 0,this.cause=c.cause||void 0,this.column=p?p.column:void 0,this.fatal=void 0,this.file,this.message=l,this.line=p?p.line:void 0,this.name=stringifyPosition(c.place)||"1:1",this.place=c.place||void 0,this.reason=this.message,this.ruleId=c.ruleId||void 0,this.source=c.source||void 0,this.stack=f&&c.cause&&typeof c.cause.stack=="string"?c.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(i,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=n.filePath||void 0;let s;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=developmentCreate(a,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=productionCreate(a,n.jsx,n.jsxs)}const l={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:s,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?svg:html$2,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},c=one$1(l,i,void 0);return c&&typeof c!="string"?c:l.create(i,l.Fragment,{children:c||void 0},void 0)}function one$1(i,n,a){if(n.type==="element")return element$1(i,n,a);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return mdxExpression(i,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return mdxJsxElement(i,n,a);if(n.type==="mdxjsEsm")return mdxEsm(i,n);if(n.type==="root")return root$2(i,n,a);if(n.type==="text")return text$5(i,n)}function element$1(i,n,a){const s=i.schema;let l=s;n.tagName.toLowerCase()==="svg"&&s.space==="html"&&(l=svg,i.schema=l),i.ancestors.push(n);const c=findComponentFromName(i,n.tagName,!1),f=createElementProps(i,n);let p=createChildren(i,n);return tableElements.has(n.tagName)&&(p=p.filter(function(g){return typeof g=="string"?!whitespace(g):!0})),addNode(i,f,c,n),addChildren(f,p),i.ancestors.pop(),i.schema=s,i.create(n,c,f,a)}function mdxExpression(i,n){if(n.data&&n.data.estree&&i.evaluater){const s=n.data.estree.body[0];return s.type,i.evaluater.evaluateExpression(s.expression)}crashEstree(i,n.position)}function mdxEsm(i,n){if(n.data&&n.data.estree&&i.evaluater)return i.evaluater.evaluateProgram(n.data.estree);crashEstree(i,n.position)}function mdxJsxElement(i,n,a){const s=i.schema;let l=s;n.name==="svg"&&s.space==="html"&&(l=svg,i.schema=l),i.ancestors.push(n);const c=n.name===null?i.Fragment:findComponentFromName(i,n.name,!0),f=createJsxElementProps(i,n),p=createChildren(i,n);return addNode(i,f,c,n),addChildren(f,p),i.ancestors.pop(),i.schema=s,i.create(n,c,f,a)}function root$2(i,n,a){const s={};return addChildren(s,createChildren(i,n)),i.create(n,i.Fragment,s,a)}function text$5(i,n){return n.value}function addNode(i,n,a,s){typeof a!="string"&&a!==i.Fragment&&i.passNode&&(n.node=s)}function addChildren(i,n){if(n.length>0){const a=n.length>1?n:n[0];a&&(i.children=a)}}function productionCreate(i,n,a){return s;function s(l,c,f,p){const y=Array.isArray(f.children)?a:n;return p?y(c,f,p):y(c,f)}}function developmentCreate(i,n){return a;function a(s,l,c,f){const p=Array.isArray(c.children),g=pointStart(s);return n(l,c,f,p,{columnNumber:g?g.column-1:void 0,fileName:i,lineNumber:g?g.line:void 0},void 0)}}function createElementProps(i,n){const a={};let s,l;for(l in n.properties)if(l!=="children"&&own$3.call(n.properties,l)){const c=createProperty(i,l,n.properties[l]);if(c){const[f,p]=c;i.tableCellAlignToStyle&&f==="align"&&typeof p=="string"&&tableCellElement.has(n.tagName)?s=p:a[f]=p}}if(s){const c=a.style||(a.style={});c[i.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return a}function createJsxElementProps(i,n){const a={};for(const s of n.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&i.evaluater){const c=s.data.estree.body[0];c.type;const f=c.expression;f.type;const p=f.properties[0];p.type,Object.assign(a,i.evaluater.evaluateExpression(p.argument))}else crashEstree(i,n.position);else{const l=s.name;let c;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&i.evaluater){const p=s.value.data.estree.body[0];p.type,c=i.evaluater.evaluateExpression(p.expression)}else crashEstree(i,n.position);else c=s.value===null?!0:s.value;a[l]=c}return a}function createChildren(i,n){const a=[];let s=-1;const l=i.passKeys?new Map:emptyMap;for(;++s<n.children.length;){const c=n.children[s];let f;if(i.passKeys){const g=c.type==="element"?c.tagName:c.type==="mdxJsxFlowElement"||c.type==="mdxJsxTextElement"?c.name:void 0;if(g){const y=l.get(g)||0;f=g+"-"+y,l.set(g,y+1)}}const p=one$1(i,c,f);p!==void 0&&a.push(p)}return a}function createProperty(i,n,a){const s=find(i.schema,n);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=s.commaSeparated?stringify$1(a):stringify(a)),s.property==="style"){let l=typeof a=="object"?a:parseStyle(i,String(a));return i.stylePropertyNameCase==="css"&&(l=transformStylesToCssCasing(l)),["style",l]}return[i.elementAttributeNameCase==="react"&&s.space?hastToReact[s.property]||s.property:s.attribute,a]}}function parseStyle(i,n){try{return styleToJs(n,{reactCompat:!0})}catch(a){if(i.ignoreInvalidStyle)return{};const s=a,l=new VFileMessage("Cannot parse `style` attribute",{ancestors:i.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=i.filePath||void 0,l.url=docs+"#cannot-parse-style-attribute",l}}function findComponentFromName(i,n,a){let s;if(!a)s={type:"Literal",value:n};else if(n.includes(".")){const l=n.split(".");let c=-1,f;for(;++c<l.length;){const p=name$1(l[c])?{type:"Identifier",name:l[c]}:{type:"Literal",value:l[c]};f=f?{type:"MemberExpression",object:f,property:p,computed:!!(c&&p.type==="Literal"),optional:!1}:p}s=f}else s=name$1(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(s.type==="Literal"){const l=s.value;return own$3.call(i.components,l)?i.components[l]:l}if(i.evaluater)return i.evaluater.evaluateExpression(s);crashEstree(i)}function crashEstree(i,n){const a=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:i.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=i.filePath||void 0,a.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",a}function transformStylesToCssCasing(i){const n={};let a;for(a in i)own$3.call(i,a)&&(n[transformStyleToCssCasing(a)]=i[a]);return n}function transformStyleToCssCasing(i){let n=i.replace(cap,toDash);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function toDash(i){return"-"+i.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$2={};function toString$1(i,n){const a=emptyOptions$2,s=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,l=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return one(i,s,l)}function one(i,n,a){if(node(i)){if("value"in i)return i.type==="html"&&!a?"":i.value;if(n&&"alt"in i&&i.alt)return i.alt;if("children"in i)return all(i.children,n,a)}return Array.isArray(i)?all(i,n,a):""}function all(i,n,a){const s=[];let l=-1;for(;++l<i.length;)s[l]=one(i[l],n,a);return s.join("")}function node(i){return!!(i&&typeof i=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(i){const n="&"+i+";";element.innerHTML=n;const a=element.textContent;return a.charCodeAt(a.length-1)===59&&i!=="semi"||a===n?!1:a}function splice(i,n,a,s){const l=i.length;let c=0,f;if(n<0?n=-n>l?0:l+n:n=n>l?l:n,a=a>0?a:0,s.length<1e4)f=Array.from(s),f.unshift(n,a),i.splice(...f);else for(a&&i.splice(n,a);c<s.length;)f=s.slice(c,c+1e4),f.unshift(n,0),i.splice(...f),c+=1e4,n+=1e4}function push(i,n){return i.length>0?(splice(i,i.length,0,n),i):n}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(i){const n={};let a=-1;for(;++a<i.length;)syntaxExtension(n,i[a]);return n}function syntaxExtension(i,n){let a;for(a in n){const l=(hasOwnProperty.call(i,a)?i[a]:void 0)||(i[a]={}),c=n[a];let f;if(c)for(f in c){hasOwnProperty.call(l,f)||(l[f]=[]);const p=c[f];constructs(l[f],Array.isArray(p)?p:p?[p]:[])}}}function constructs(i,n){let a=-1;const s=[];for(;++a<n.length;)(n[a].add==="after"?i:s).push(n[a]);splice(i,0,0,s)}function decodeNumericCharacterReference(i,n){const a=Number.parseInt(i,n);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"�":String.fromCodePoint(a)}function normalizeIdentifier(i){return i.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(i){return i!==null&&(i<32||i===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(i){return i!==null&&i<-2}function markdownLineEndingOrSpace(i){return i!==null&&(i<0||i===32)}function markdownSpace(i){return i===-2||i===-1||i===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(i){return n;function n(a){return a!==null&&a>-1&&i.test(String.fromCharCode(a))}}function normalizeUri(i){const n=[];let a=-1,s=0,l=0;for(;++a<i.length;){const c=i.charCodeAt(a);let f="";if(c===37&&asciiAlphanumeric(i.charCodeAt(a+1))&&asciiAlphanumeric(i.charCodeAt(a+2)))l=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(f=String.fromCharCode(c));else if(c>55295&&c<57344){const p=i.charCodeAt(a+1);c<56320&&p>56319&&p<57344?(f=String.fromCharCode(c,p),l=1):f="�"}else f=String.fromCharCode(c);f&&(n.push(i.slice(s,a),encodeURIComponent(f)),s=a+l+1,f=""),l&&(a+=l,l=0)}return n.join("")+i.slice(s)}function factorySpace(i,n,a,s){const l=s?s-1:Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return markdownSpace(g)?(i.enter(a),p(g)):n(g)}function p(g){return markdownSpace(g)&&c++<l?(i.consume(g),p):(i.exit(a),n(g))}}const content$1={tokenize:initializeContent};function initializeContent(i){const n=i.attempt(this.parser.constructs.contentInitial,s,l);let a;return n;function s(p){if(p===null){i.consume(p);return}return i.enter("lineEnding"),i.consume(p),i.exit("lineEnding"),factorySpace(i,n,"linePrefix")}function l(p){return i.enter("paragraph"),c(p)}function c(p){const g=i.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=g),a=g,f(p)}function f(p){if(p===null){i.exit("chunkText"),i.exit("paragraph"),i.consume(p);return}return markdownLineEnding(p)?(i.consume(p),i.exit("chunkText"),c):(i.consume(p),f)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(i){const n=this,a=[];let s=0,l,c,f;return p;function p($){if(s<a.length){const M=a[s];return n.containerState=M[1],i.attempt(M[0].continuation,g,y)($)}return y($)}function g($){if(s++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,l&&P();const M=n.events.length;let B=M,F;for(;B--;)if(n.events[B][0]==="exit"&&n.events[B][1].type==="chunkFlow"){F=n.events[B][1].end;break}R(s);let q=M;for(;q<n.events.length;)n.events[q][1].end={...F},q++;return splice(n.events,B+1,0,n.events.slice(M)),n.events.length=q,y($)}return p($)}function y($){if(s===a.length){if(!l)return d($);if(l.currentConstruct&&l.currentConstruct.concrete)return _($);n.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return n.containerState={},i.check(containerConstruct,b,h)($)}function b($){return l&&P(),R(s),d($)}function h($){return n.parser.lazy[n.now().line]=s!==a.length,f=n.now().offset,_($)}function d($){return n.containerState={},i.attempt(containerConstruct,v,_)($)}function v($){return s++,a.push([n.currentConstruct,n.containerState]),d($)}function _($){if($===null){l&&P(),R(0),i.consume($);return}return l=l||n.parser.flow(n.now()),i.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:c}),A($)}function A($){if($===null){I(i.exit("chunkFlow"),!0),R(0),i.consume($);return}return markdownLineEnding($)?(i.consume($),I(i.exit("chunkFlow")),s=0,n.interrupt=void 0,p):(i.consume($),A)}function I($,M){const B=n.sliceStream($);if(M&&B.push(null),$.previous=c,c&&(c.next=$),c=$,l.defineSkip($.start),l.write(B),n.parser.lazy[$.start.line]){let F=l.events.length;for(;F--;)if(l.events[F][1].start.offset<f&&(!l.events[F][1].end||l.events[F][1].end.offset>f))return;const q=n.events.length;let H=q,z,L;for(;H--;)if(n.events[H][0]==="exit"&&n.events[H][1].type==="chunkFlow"){if(z){L=n.events[H][1].end;break}z=!0}for(R(s),F=q;F<n.events.length;)n.events[F][1].end={...L},F++;splice(n.events,H+1,0,n.events.slice(q)),n.events.length=F}}function R($){let M=a.length;for(;M-- >$;){const B=a[M];n.containerState=B[1],B[0].exit.call(n,i)}a.length=$}function P(){l.write([null]),c=void 0,l=void 0,n.containerState._closeFlow=void 0}}function tokenizeContainer(i,n,a){return factorySpace(i,i.attempt(this.parser.constructs.document,n,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(i){if(i===null||markdownLineEndingOrSpace(i)||unicodeWhitespace(i))return 1;if(unicodePunctuation(i))return 2}function resolveAll(i,n,a){const s=[];let l=-1;for(;++l<i.length;){const c=i[l].resolveAll;c&&!s.includes(c)&&(n=c(n,a),s.push(c))}return n}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(i,n){let a=-1,s,l,c,f,p,g,y,b;for(;++a<i.length;)if(i[a][0]==="enter"&&i[a][1].type==="attentionSequence"&&i[a][1]._close){for(s=a;s--;)if(i[s][0]==="exit"&&i[s][1].type==="attentionSequence"&&i[s][1]._open&&n.sliceSerialize(i[s][1]).charCodeAt(0)===n.sliceSerialize(i[a][1]).charCodeAt(0)){if((i[s][1]._close||i[a][1]._open)&&(i[a][1].end.offset-i[a][1].start.offset)%3&&!((i[s][1].end.offset-i[s][1].start.offset+i[a][1].end.offset-i[a][1].start.offset)%3))continue;g=i[s][1].end.offset-i[s][1].start.offset>1&&i[a][1].end.offset-i[a][1].start.offset>1?2:1;const h={...i[s][1].end},d={...i[a][1].start};movePoint(h,-g),movePoint(d,g),f={type:g>1?"strongSequence":"emphasisSequence",start:h,end:{...i[s][1].end}},p={type:g>1?"strongSequence":"emphasisSequence",start:{...i[a][1].start},end:d},c={type:g>1?"strongText":"emphasisText",start:{...i[s][1].end},end:{...i[a][1].start}},l={type:g>1?"strong":"emphasis",start:{...f.start},end:{...p.end}},i[s][1].end={...f.start},i[a][1].start={...p.end},y=[],i[s][1].end.offset-i[s][1].start.offset&&(y=push(y,[["enter",i[s][1],n],["exit",i[s][1],n]])),y=push(y,[["enter",l,n],["enter",f,n],["exit",f,n],["enter",c,n]]),y=push(y,resolveAll(n.parser.constructs.insideSpan.null,i.slice(s+1,a),n)),y=push(y,[["exit",c,n],["enter",p,n],["exit",p,n],["exit",l,n]]),i[a][1].end.offset-i[a][1].start.offset?(b=2,y=push(y,[["enter",i[a][1],n],["exit",i[a][1],n]])):b=0,splice(i,s-1,a-s+3,y),a=s+y.length-b-2;break}}for(a=-1;++a<i.length;)i[a][1].type==="attentionSequence"&&(i[a][1].type="data");return i}function tokenizeAttention(i,n){const a=this.parser.constructs.attentionMarkers.null,s=this.previous,l=classifyCharacter(s);let c;return f;function f(g){return c=g,i.enter("attentionSequence"),p(g)}function p(g){if(g===c)return i.consume(g),p;const y=i.exit("attentionSequence"),b=classifyCharacter(g),h=!b||b===2&&l||a.includes(g),d=!l||l===2&&b||a.includes(s);return y._open=!!(c===42?h:h&&(l||!d)),y._close=!!(c===42?d:d&&(b||!h)),n(g)}}function movePoint(i,n){i.column+=n,i.offset+=n,i._bufferIndex+=n}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(i,n,a){let s=0;return l;function l(v){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(v),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),c}function c(v){return asciiAlpha(v)?(i.consume(v),f):v===64?a(v):y(v)}function f(v){return v===43||v===45||v===46||asciiAlphanumeric(v)?(s=1,p(v)):y(v)}function p(v){return v===58?(i.consume(v),s=0,g):(v===43||v===45||v===46||asciiAlphanumeric(v))&&s++<32?(i.consume(v),p):(s=0,y(v))}function g(v){return v===62?(i.exit("autolinkProtocol"),i.enter("autolinkMarker"),i.consume(v),i.exit("autolinkMarker"),i.exit("autolink"),n):v===null||v===32||v===60||asciiControl(v)?a(v):(i.consume(v),g)}function y(v){return v===64?(i.consume(v),b):asciiAtext(v)?(i.consume(v),y):a(v)}function b(v){return asciiAlphanumeric(v)?h(v):a(v)}function h(v){return v===46?(i.consume(v),s=0,b):v===62?(i.exit("autolinkProtocol").type="autolinkEmail",i.enter("autolinkMarker"),i.consume(v),i.exit("autolinkMarker"),i.exit("autolink"),n):d(v)}function d(v){if((v===45||asciiAlphanumeric(v))&&s++<63){const _=v===45?d:h;return i.consume(v),_}return a(v)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(i,n,a){return s;function s(c){return markdownSpace(c)?factorySpace(i,l,"linePrefix")(c):l(c)}function l(c){return c===null||markdownLineEnding(c)?n(c):a(c)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(i,n,a){const s=this;return l;function l(f){if(f===62){const p=s.containerState;return p.open||(i.enter("blockQuote",{_container:!0}),p.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(f),i.exit("blockQuoteMarker"),c}return a(f)}function c(f){return markdownSpace(f)?(i.enter("blockQuotePrefixWhitespace"),i.consume(f),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),n):(i.exit("blockQuotePrefix"),n(f))}}function tokenizeBlockQuoteContinuation(i,n,a){const s=this;return l;function l(f){return markdownSpace(f)?factorySpace(i,c,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f):c(f)}function c(f){return i.attempt(blockQuote,n,a)(f)}}function exit$1(i){i.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(i,n,a){return s;function s(c){return i.enter("characterEscape"),i.enter("escapeMarker"),i.consume(c),i.exit("escapeMarker"),l}function l(c){return asciiPunctuation(c)?(i.enter("characterEscapeValue"),i.consume(c),i.exit("characterEscapeValue"),i.exit("characterEscape"),n):a(c)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(i,n,a){const s=this;let l=0,c,f;return p;function p(h){return i.enter("characterReference"),i.enter("characterReferenceMarker"),i.consume(h),i.exit("characterReferenceMarker"),g}function g(h){return h===35?(i.enter("characterReferenceMarkerNumeric"),i.consume(h),i.exit("characterReferenceMarkerNumeric"),y):(i.enter("characterReferenceValue"),c=31,f=asciiAlphanumeric,b(h))}function y(h){return h===88||h===120?(i.enter("characterReferenceMarkerHexadecimal"),i.consume(h),i.exit("characterReferenceMarkerHexadecimal"),i.enter("characterReferenceValue"),c=6,f=asciiHexDigit,b):(i.enter("characterReferenceValue"),c=7,f=asciiDigit,b(h))}function b(h){if(h===59&&l){const d=i.exit("characterReferenceValue");return f===asciiAlphanumeric&&!decodeNamedCharacterReference(s.sliceSerialize(d))?a(h):(i.enter("characterReferenceMarker"),i.consume(h),i.exit("characterReferenceMarker"),i.exit("characterReference"),n)}return f(h)&&l++<c?(i.consume(h),b):a(h)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(i,n,a){const s=this,l={partial:!0,tokenize:B};let c=0,f=0,p;return g;function g(F){return y(F)}function y(F){const q=s.events[s.events.length-1];return c=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,p=F,i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),b(F)}function b(F){return F===p?(f++,i.consume(F),b):f<3?a(F):(i.exit("codeFencedFenceSequence"),markdownSpace(F)?factorySpace(i,h,"whitespace")(F):h(F))}function h(F){return F===null||markdownLineEnding(F)?(i.exit("codeFencedFence"),s.interrupt?n(F):i.check(nonLazyContinuation,A,M)(F)):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),d(F))}function d(F){return F===null||markdownLineEnding(F)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),h(F)):markdownSpace(F)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),factorySpace(i,v,"whitespace")(F)):F===96&&F===p?a(F):(i.consume(F),d)}function v(F){return F===null||markdownLineEnding(F)?h(F):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),_(F))}function _(F){return F===null||markdownLineEnding(F)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),h(F)):F===96&&F===p?a(F):(i.consume(F),_)}function A(F){return i.attempt(l,M,I)(F)}function I(F){return i.enter("lineEnding"),i.consume(F),i.exit("lineEnding"),R}function R(F){return c>0&&markdownSpace(F)?factorySpace(i,P,"linePrefix",c+1)(F):P(F)}function P(F){return F===null||markdownLineEnding(F)?i.check(nonLazyContinuation,A,M)(F):(i.enter("codeFlowValue"),$(F))}function $(F){return F===null||markdownLineEnding(F)?(i.exit("codeFlowValue"),P(F)):(i.consume(F),$)}function M(F){return i.exit("codeFenced"),n(F)}function B(F,q,H){let z=0;return L;function L(Q){return F.enter("lineEnding"),F.consume(Q),F.exit("lineEnding"),ee}function ee(Q){return F.enter("codeFencedFence"),markdownSpace(Q)?factorySpace(F,Z,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):Z(Q)}function Z(Q){return Q===p?(F.enter("codeFencedFenceSequence"),V(Q)):H(Q)}function V(Q){return Q===p?(z++,F.consume(Q),V):z>=f?(F.exit("codeFencedFenceSequence"),markdownSpace(Q)?factorySpace(F,X,"whitespace")(Q):X(Q)):H(Q)}function X(Q){return Q===null||markdownLineEnding(Q)?(F.exit("codeFencedFence"),q(Q)):H(Q)}}}function tokenizeNonLazyContinuation(i,n,a){const s=this;return l;function l(f){return f===null?a(f):(i.enter("lineEnding"),i.consume(f),i.exit("lineEnding"),c)}function c(f){return s.parser.lazy[s.now().line]?a(f):n(f)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(i,n,a){const s=this;return l;function l(y){return i.enter("codeIndented"),factorySpace(i,c,"linePrefix",5)(y)}function c(y){const b=s.events[s.events.length-1];return b&&b[1].type==="linePrefix"&&b[2].sliceSerialize(b[1],!0).length>=4?f(y):a(y)}function f(y){return y===null?g(y):markdownLineEnding(y)?i.attempt(furtherStart,f,g)(y):(i.enter("codeFlowValue"),p(y))}function p(y){return y===null||markdownLineEnding(y)?(i.exit("codeFlowValue"),f(y)):(i.consume(y),p)}function g(y){return i.exit("codeIndented"),n(y)}}function tokenizeFurtherStart(i,n,a){const s=this;return l;function l(f){return s.parser.lazy[s.now().line]?a(f):markdownLineEnding(f)?(i.enter("lineEnding"),i.consume(f),i.exit("lineEnding"),l):factorySpace(i,c,"linePrefix",5)(f)}function c(f){const p=s.events[s.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?n(f):markdownLineEnding(f)?l(f):a(f)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(i){let n=i.length-4,a=3,s,l;if((i[a][1].type==="lineEnding"||i[a][1].type==="space")&&(i[n][1].type==="lineEnding"||i[n][1].type==="space")){for(s=a;++s<n;)if(i[s][1].type==="codeTextData"){i[a][1].type="codeTextPadding",i[n][1].type="codeTextPadding",a+=2,n-=2;break}}for(s=a-1,n++;++s<=n;)l===void 0?s!==n&&i[s][1].type!=="lineEnding"&&(l=s):(s===n||i[s][1].type==="lineEnding")&&(i[l][1].type="codeTextData",s!==l+2&&(i[l][1].end=i[s-1][1].end,i.splice(l+2,s-l-2),n-=s-l-2,s=l+2),l=void 0);return i}function previous$1(i){return i!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(i,n,a){let s=0,l,c;return f;function f(h){return i.enter("codeText"),i.enter("codeTextSequence"),p(h)}function p(h){return h===96?(i.consume(h),s++,p):(i.exit("codeTextSequence"),g(h))}function g(h){return h===null?a(h):h===32?(i.enter("space"),i.consume(h),i.exit("space"),g):h===96?(c=i.enter("codeTextSequence"),l=0,b(h)):markdownLineEnding(h)?(i.enter("lineEnding"),i.consume(h),i.exit("lineEnding"),g):(i.enter("codeTextData"),y(h))}function y(h){return h===null||h===32||h===96||markdownLineEnding(h)?(i.exit("codeTextData"),g(h)):(i.consume(h),y)}function b(h){return h===96?(i.consume(h),l++,b):l===s?(i.exit("codeTextSequence"),i.exit("codeText"),n(h)):(c.type="codeTextData",y(h))}}class SpliceBuffer{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,a){const s=a??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(n,s):n>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(n,a,s){const l=a||0;this.setCursor(Math.trunc(n));const c=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return s&&chunkedPush(this.left,s),c.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),chunkedPush(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const a=this.left.splice(n,Number.POSITIVE_INFINITY);chunkedPush(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);chunkedPush(this.left,a.reverse())}}}function chunkedPush(i,n){let a=0;if(n.length<1e4)i.push(...n);else for(;a<n.length;)i.push(...n.slice(a,a+1e4)),a+=1e4}function subtokenize(i){const n={};let a=-1,s,l,c,f,p,g,y;const b=new SpliceBuffer(i);for(;++a<b.length;){for(;a in n;)a=n[a];if(s=b.get(a),a&&s[1].type==="chunkFlow"&&b.get(a-1)[1].type==="listItemPrefix"&&(g=s[1]._tokenizer.events,c=0,c<g.length&&g[c][1].type==="lineEndingBlank"&&(c+=2),c<g.length&&g[c][1].type==="content"))for(;++c<g.length&&g[c][1].type!=="content";)g[c][1].type==="chunkText"&&(g[c][1]._isInFirstContentOfListItem=!0,c++);if(s[0]==="enter")s[1].contentType&&(Object.assign(n,subcontent(b,a)),a=n[a],y=!0);else if(s[1]._container){for(c=a,l=void 0;c--;)if(f=b.get(c),f[1].type==="lineEnding"||f[1].type==="lineEndingBlank")f[0]==="enter"&&(l&&(b.get(l)[1].type="lineEndingBlank"),f[1].type="lineEnding",l=c);else if(!(f[1].type==="linePrefix"||f[1].type==="listItemIndent"))break;l&&(s[1].end={...b.get(l)[1].start},p=b.slice(l,a),p.unshift(s),b.splice(l,a-l+1,p))}}return splice(i,0,Number.POSITIVE_INFINITY,b.slice(0)),!y}function subcontent(i,n){const a=i.get(n)[1],s=i.get(n)[2];let l=n-1;const c=[];let f=a._tokenizer;f||(f=s.parser[a.contentType](a.start),a._contentTypeTextTrailing&&(f._contentTypeTextTrailing=!0));const p=f.events,g=[],y={};let b,h,d=-1,v=a,_=0,A=0;const I=[A];for(;v;){for(;i.get(++l)[1]!==v;);c.push(l),v._tokenizer||(b=s.sliceStream(v),v.next||b.push(null),h&&f.defineSkip(v.start),v._isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=!0),f.write(b),v._isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=void 0)),h=v,v=v.next}for(v=a;++d<p.length;)p[d][0]==="exit"&&p[d-1][0]==="enter"&&p[d][1].type===p[d-1][1].type&&p[d][1].start.line!==p[d][1].end.line&&(A=d+1,I.push(A),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(f.events=[],v?(v._tokenizer=void 0,v.previous=void 0):I.pop(),d=I.length;d--;){const R=p.slice(I[d],I[d+1]),P=c.pop();g.push([P,P+R.length-1]),i.splice(P,2,R)}for(g.reverse(),d=-1;++d<g.length;)y[_+g[d][0]]=_+g[d][1],_+=g[d][1]-g[d][0]-1;return y}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(i){return subtokenize(i),i}function tokenizeContent(i,n){let a;return s;function s(p){return i.enter("content"),a=i.enter("chunkContent",{contentType:"content"}),l(p)}function l(p){return p===null?c(p):markdownLineEnding(p)?i.check(continuationConstruct,f,c)(p):(i.consume(p),l)}function c(p){return i.exit("chunkContent"),i.exit("content"),n(p)}function f(p){return i.consume(p),i.exit("chunkContent"),a.next=i.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,l}}function tokenizeContinuation(i,n,a){const s=this;return l;function l(f){return i.exit("chunkContent"),i.enter("lineEnding"),i.consume(f),i.exit("lineEnding"),factorySpace(i,c,"linePrefix")}function c(f){if(f===null||markdownLineEnding(f))return a(f);const p=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?n(f):i.interrupt(s.parser.constructs.flow,a,n)(f)}}function factoryDestination(i,n,a,s,l,c,f,p,g){const y=g||Number.POSITIVE_INFINITY;let b=0;return h;function h(R){return R===60?(i.enter(s),i.enter(l),i.enter(c),i.consume(R),i.exit(c),d):R===null||R===32||R===41||asciiControl(R)?a(R):(i.enter(s),i.enter(f),i.enter(p),i.enter("chunkString",{contentType:"string"}),A(R))}function d(R){return R===62?(i.enter(c),i.consume(R),i.exit(c),i.exit(l),i.exit(s),n):(i.enter(p),i.enter("chunkString",{contentType:"string"}),v(R))}function v(R){return R===62?(i.exit("chunkString"),i.exit(p),d(R)):R===null||R===60||markdownLineEnding(R)?a(R):(i.consume(R),R===92?_:v)}function _(R){return R===60||R===62||R===92?(i.consume(R),v):v(R)}function A(R){return!b&&(R===null||R===41||markdownLineEndingOrSpace(R))?(i.exit("chunkString"),i.exit(p),i.exit(f),i.exit(s),n(R)):b<y&&R===40?(i.consume(R),b++,A):R===41?(i.consume(R),b--,A):R===null||R===32||R===40||asciiControl(R)?a(R):(i.consume(R),R===92?I:A)}function I(R){return R===40||R===41||R===92?(i.consume(R),A):A(R)}}function factoryLabel(i,n,a,s,l,c){const f=this;let p=0,g;return y;function y(v){return i.enter(s),i.enter(l),i.consume(v),i.exit(l),i.enter(c),b}function b(v){return p>999||v===null||v===91||v===93&&!g||v===94&&!p&&"_hiddenFootnoteSupport"in f.parser.constructs?a(v):v===93?(i.exit(c),i.enter(l),i.consume(v),i.exit(l),i.exit(s),n):markdownLineEnding(v)?(i.enter("lineEnding"),i.consume(v),i.exit("lineEnding"),b):(i.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===null||v===91||v===93||markdownLineEnding(v)||p++>999?(i.exit("chunkString"),b(v)):(i.consume(v),g||(g=!markdownSpace(v)),v===92?d:h)}function d(v){return v===91||v===92||v===93?(i.consume(v),p++,h):h(v)}}function factoryTitle(i,n,a,s,l,c){let f;return p;function p(d){return d===34||d===39||d===40?(i.enter(s),i.enter(l),i.consume(d),i.exit(l),f=d===40?41:d,g):a(d)}function g(d){return d===f?(i.enter(l),i.consume(d),i.exit(l),i.exit(s),n):(i.enter(c),y(d))}function y(d){return d===f?(i.exit(c),g(f)):d===null?a(d):markdownLineEnding(d)?(i.enter("lineEnding"),i.consume(d),i.exit("lineEnding"),factorySpace(i,y,"linePrefix")):(i.enter("chunkString",{contentType:"string"}),b(d))}function b(d){return d===f||d===null||markdownLineEnding(d)?(i.exit("chunkString"),y(d)):(i.consume(d),d===92?h:b)}function h(d){return d===f||d===92?(i.consume(d),b):b(d)}}function factoryWhitespace(i,n){let a;return s;function s(l){return markdownLineEnding(l)?(i.enter("lineEnding"),i.consume(l),i.exit("lineEnding"),a=!0,s):markdownSpace(l)?factorySpace(i,s,a?"linePrefix":"lineSuffix")(l):n(l)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(i,n,a){const s=this;let l;return c;function c(v){return i.enter("definition"),f(v)}function f(v){return factoryLabel.call(s,i,p,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function p(v){return l=normalizeIdentifier(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),v===58?(i.enter("definitionMarker"),i.consume(v),i.exit("definitionMarker"),g):a(v)}function g(v){return markdownLineEndingOrSpace(v)?factoryWhitespace(i,y)(v):y(v)}function y(v){return factoryDestination(i,b,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function b(v){return i.attempt(titleBefore,h,h)(v)}function h(v){return markdownSpace(v)?factorySpace(i,d,"whitespace")(v):d(v)}function d(v){return v===null||markdownLineEnding(v)?(i.exit("definition"),s.parser.defined.push(l),n(v)):a(v)}}function tokenizeTitleBefore(i,n,a){return s;function s(p){return markdownLineEndingOrSpace(p)?factoryWhitespace(i,l)(p):a(p)}function l(p){return factoryTitle(i,c,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(p)}function c(p){return markdownSpace(p)?factorySpace(i,f,"whitespace")(p):f(p)}function f(p){return p===null||markdownLineEnding(p)?n(p):a(p)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(i,n,a){return s;function s(c){return i.enter("hardBreakEscape"),i.consume(c),l}function l(c){return markdownLineEnding(c)?(i.exit("hardBreakEscape"),n(c)):a(c)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(i,n){let a=i.length-2,s=3,l,c;return i[s][1].type==="whitespace"&&(s+=2),a-2>s&&i[a][1].type==="whitespace"&&(a-=2),i[a][1].type==="atxHeadingSequence"&&(s===a-1||a-4>s&&i[a-2][1].type==="whitespace")&&(a-=s+1===a?2:4),a>s&&(l={type:"atxHeadingText",start:i[s][1].start,end:i[a][1].end},c={type:"chunkText",start:i[s][1].start,end:i[a][1].end,contentType:"text"},splice(i,s,a-s+1,[["enter",l,n],["enter",c,n],["exit",c,n],["exit",l,n]])),i}function tokenizeHeadingAtx(i,n,a){let s=0;return l;function l(b){return i.enter("atxHeading"),c(b)}function c(b){return i.enter("atxHeadingSequence"),f(b)}function f(b){return b===35&&s++<6?(i.consume(b),f):b===null||markdownLineEndingOrSpace(b)?(i.exit("atxHeadingSequence"),p(b)):a(b)}function p(b){return b===35?(i.enter("atxHeadingSequence"),g(b)):b===null||markdownLineEnding(b)?(i.exit("atxHeading"),n(b)):markdownSpace(b)?factorySpace(i,p,"whitespace")(b):(i.enter("atxHeadingText"),y(b))}function g(b){return b===35?(i.consume(b),g):(i.exit("atxHeadingSequence"),p(b))}function y(b){return b===null||b===35||markdownLineEndingOrSpace(b)?(i.exit("atxHeadingText"),p(b)):(i.consume(b),y)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(i){let n=i.length;for(;n--&&!(i[n][0]==="enter"&&i[n][1].type==="htmlFlow"););return n>1&&i[n-2][1].type==="linePrefix"&&(i[n][1].start=i[n-2][1].start,i[n+1][1].start=i[n-2][1].start,i.splice(n-2,2)),i}function tokenizeHtmlFlow(i,n,a){const s=this;let l,c,f,p,g;return y;function y(oe){return b(oe)}function b(oe){return i.enter("htmlFlow"),i.enter("htmlFlowData"),i.consume(oe),h}function h(oe){return oe===33?(i.consume(oe),d):oe===47?(i.consume(oe),c=!0,A):oe===63?(i.consume(oe),l=3,s.interrupt?n:K):asciiAlpha(oe)?(i.consume(oe),f=String.fromCharCode(oe),I):a(oe)}function d(oe){return oe===45?(i.consume(oe),l=2,v):oe===91?(i.consume(oe),l=5,p=0,_):asciiAlpha(oe)?(i.consume(oe),l=4,s.interrupt?n:K):a(oe)}function v(oe){return oe===45?(i.consume(oe),s.interrupt?n:K):a(oe)}function _(oe){const Ne="CDATA[";return oe===Ne.charCodeAt(p++)?(i.consume(oe),p===Ne.length?s.interrupt?n:Z:_):a(oe)}function A(oe){return asciiAlpha(oe)?(i.consume(oe),f=String.fromCharCode(oe),I):a(oe)}function I(oe){if(oe===null||oe===47||oe===62||markdownLineEndingOrSpace(oe)){const Ne=oe===47,Ie=f.toLowerCase();return!Ne&&!c&&htmlRawNames.includes(Ie)?(l=1,s.interrupt?n(oe):Z(oe)):htmlBlockNames.includes(f.toLowerCase())?(l=6,Ne?(i.consume(oe),R):s.interrupt?n(oe):Z(oe)):(l=7,s.interrupt&&!s.parser.lazy[s.now().line]?a(oe):c?P(oe):$(oe))}return oe===45||asciiAlphanumeric(oe)?(i.consume(oe),f+=String.fromCharCode(oe),I):a(oe)}function R(oe){return oe===62?(i.consume(oe),s.interrupt?n:Z):a(oe)}function P(oe){return markdownSpace(oe)?(i.consume(oe),P):L(oe)}function $(oe){return oe===47?(i.consume(oe),L):oe===58||oe===95||asciiAlpha(oe)?(i.consume(oe),M):markdownSpace(oe)?(i.consume(oe),$):L(oe)}function M(oe){return oe===45||oe===46||oe===58||oe===95||asciiAlphanumeric(oe)?(i.consume(oe),M):B(oe)}function B(oe){return oe===61?(i.consume(oe),F):markdownSpace(oe)?(i.consume(oe),B):$(oe)}function F(oe){return oe===null||oe===60||oe===61||oe===62||oe===96?a(oe):oe===34||oe===39?(i.consume(oe),g=oe,q):markdownSpace(oe)?(i.consume(oe),F):H(oe)}function q(oe){return oe===g?(i.consume(oe),g=null,z):oe===null||markdownLineEnding(oe)?a(oe):(i.consume(oe),q)}function H(oe){return oe===null||oe===34||oe===39||oe===47||oe===60||oe===61||oe===62||oe===96||markdownLineEndingOrSpace(oe)?B(oe):(i.consume(oe),H)}function z(oe){return oe===47||oe===62||markdownSpace(oe)?$(oe):a(oe)}function L(oe){return oe===62?(i.consume(oe),ee):a(oe)}function ee(oe){return oe===null||markdownLineEnding(oe)?Z(oe):markdownSpace(oe)?(i.consume(oe),ee):a(oe)}function Z(oe){return oe===45&&l===2?(i.consume(oe),G):oe===60&&l===1?(i.consume(oe),te):oe===62&&l===4?(i.consume(oe),de):oe===63&&l===3?(i.consume(oe),K):oe===93&&l===5?(i.consume(oe),fe):markdownLineEnding(oe)&&(l===6||l===7)?(i.exit("htmlFlowData"),i.check(blankLineBefore,we,V)(oe)):oe===null||markdownLineEnding(oe)?(i.exit("htmlFlowData"),V(oe)):(i.consume(oe),Z)}function V(oe){return i.check(nonLazyContinuationStart,X,we)(oe)}function X(oe){return i.enter("lineEnding"),i.consume(oe),i.exit("lineEnding"),Q}function Q(oe){return oe===null||markdownLineEnding(oe)?V(oe):(i.enter("htmlFlowData"),Z(oe))}function G(oe){return oe===45?(i.consume(oe),K):Z(oe)}function te(oe){return oe===47?(i.consume(oe),f="",ue):Z(oe)}function ue(oe){if(oe===62){const Ne=f.toLowerCase();return htmlRawNames.includes(Ne)?(i.consume(oe),de):Z(oe)}return asciiAlpha(oe)&&f.length<8?(i.consume(oe),f+=String.fromCharCode(oe),ue):Z(oe)}function fe(oe){return oe===93?(i.consume(oe),K):Z(oe)}function K(oe){return oe===62?(i.consume(oe),de):oe===45&&l===2?(i.consume(oe),K):Z(oe)}function de(oe){return oe===null||markdownLineEnding(oe)?(i.exit("htmlFlowData"),we(oe)):(i.consume(oe),de)}function we(oe){return i.exit("htmlFlow"),n(oe)}}function tokenizeNonLazyContinuationStart(i,n,a){const s=this;return l;function l(f){return markdownLineEnding(f)?(i.enter("lineEnding"),i.consume(f),i.exit("lineEnding"),c):a(f)}function c(f){return s.parser.lazy[s.now().line]?a(f):n(f)}}function tokenizeBlankLineBefore(i,n,a){return s;function s(l){return i.enter("lineEnding"),i.consume(l),i.exit("lineEnding"),i.attempt(blankLine,n,a)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(i,n,a){const s=this;let l,c,f;return p;function p(K){return i.enter("htmlText"),i.enter("htmlTextData"),i.consume(K),g}function g(K){return K===33?(i.consume(K),y):K===47?(i.consume(K),B):K===63?(i.consume(K),$):asciiAlpha(K)?(i.consume(K),H):a(K)}function y(K){return K===45?(i.consume(K),b):K===91?(i.consume(K),c=0,_):asciiAlpha(K)?(i.consume(K),P):a(K)}function b(K){return K===45?(i.consume(K),v):a(K)}function h(K){return K===null?a(K):K===45?(i.consume(K),d):markdownLineEnding(K)?(f=h,te(K)):(i.consume(K),h)}function d(K){return K===45?(i.consume(K),v):h(K)}function v(K){return K===62?G(K):K===45?d(K):h(K)}function _(K){const de="CDATA[";return K===de.charCodeAt(c++)?(i.consume(K),c===de.length?A:_):a(K)}function A(K){return K===null?a(K):K===93?(i.consume(K),I):markdownLineEnding(K)?(f=A,te(K)):(i.consume(K),A)}function I(K){return K===93?(i.consume(K),R):A(K)}function R(K){return K===62?G(K):K===93?(i.consume(K),R):A(K)}function P(K){return K===null||K===62?G(K):markdownLineEnding(K)?(f=P,te(K)):(i.consume(K),P)}function $(K){return K===null?a(K):K===63?(i.consume(K),M):markdownLineEnding(K)?(f=$,te(K)):(i.consume(K),$)}function M(K){return K===62?G(K):$(K)}function B(K){return asciiAlpha(K)?(i.consume(K),F):a(K)}function F(K){return K===45||asciiAlphanumeric(K)?(i.consume(K),F):q(K)}function q(K){return markdownLineEnding(K)?(f=q,te(K)):markdownSpace(K)?(i.consume(K),q):G(K)}function H(K){return K===45||asciiAlphanumeric(K)?(i.consume(K),H):K===47||K===62||markdownLineEndingOrSpace(K)?z(K):a(K)}function z(K){return K===47?(i.consume(K),G):K===58||K===95||asciiAlpha(K)?(i.consume(K),L):markdownLineEnding(K)?(f=z,te(K)):markdownSpace(K)?(i.consume(K),z):G(K)}function L(K){return K===45||K===46||K===58||K===95||asciiAlphanumeric(K)?(i.consume(K),L):ee(K)}function ee(K){return K===61?(i.consume(K),Z):markdownLineEnding(K)?(f=ee,te(K)):markdownSpace(K)?(i.consume(K),ee):z(K)}function Z(K){return K===null||K===60||K===61||K===62||K===96?a(K):K===34||K===39?(i.consume(K),l=K,V):markdownLineEnding(K)?(f=Z,te(K)):markdownSpace(K)?(i.consume(K),Z):(i.consume(K),X)}function V(K){return K===l?(i.consume(K),l=void 0,Q):K===null?a(K):markdownLineEnding(K)?(f=V,te(K)):(i.consume(K),V)}function X(K){return K===null||K===34||K===39||K===60||K===61||K===96?a(K):K===47||K===62||markdownLineEndingOrSpace(K)?z(K):(i.consume(K),X)}function Q(K){return K===47||K===62||markdownLineEndingOrSpace(K)?z(K):a(K)}function G(K){return K===62?(i.consume(K),i.exit("htmlTextData"),i.exit("htmlText"),n):a(K)}function te(K){return i.exit("htmlTextData"),i.enter("lineEnding"),i.consume(K),i.exit("lineEnding"),ue}function ue(K){return markdownSpace(K)?factorySpace(i,fe,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):fe(K)}function fe(K){return i.enter("htmlTextData"),f(K)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(i){let n=-1;const a=[];for(;++n<i.length;){const s=i[n][1];if(a.push(i[n]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const l=s.type==="labelImage"?4:2;s.type="data",n+=l}}return i.length!==a.length&&splice(i,0,i.length,a),i}function resolveToLabelEnd(i,n){let a=i.length,s=0,l,c,f,p;for(;a--;)if(l=i[a][1],c){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;i[a][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(f){if(i[a][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(c=a,l.type!=="labelLink")){s=2;break}}else l.type==="labelEnd"&&(f=a);const g={type:i[c][1].type==="labelLink"?"link":"image",start:{...i[c][1].start},end:{...i[i.length-1][1].end}},y={type:"label",start:{...i[c][1].start},end:{...i[f][1].end}},b={type:"labelText",start:{...i[c+s+2][1].end},end:{...i[f-2][1].start}};return p=[["enter",g,n],["enter",y,n]],p=push(p,i.slice(c+1,c+s+3)),p=push(p,[["enter",b,n]]),p=push(p,resolveAll(n.parser.constructs.insideSpan.null,i.slice(c+s+4,f-3),n)),p=push(p,[["exit",b,n],i[f-2],i[f-1],["exit",y,n]]),p=push(p,i.slice(f+1)),p=push(p,[["exit",g,n]]),splice(i,c,i.length,p),i}function tokenizeLabelEnd(i,n,a){const s=this;let l=s.events.length,c,f;for(;l--;)if((s.events[l][1].type==="labelImage"||s.events[l][1].type==="labelLink")&&!s.events[l][1]._balanced){c=s.events[l][1];break}return p;function p(d){return c?c._inactive?h(d):(f=s.parser.defined.includes(normalizeIdentifier(s.sliceSerialize({start:c.end,end:s.now()}))),i.enter("labelEnd"),i.enter("labelMarker"),i.consume(d),i.exit("labelMarker"),i.exit("labelEnd"),g):a(d)}function g(d){return d===40?i.attempt(resourceConstruct,b,f?b:h)(d):d===91?i.attempt(referenceFullConstruct,b,f?y:h)(d):f?b(d):h(d)}function y(d){return i.attempt(referenceCollapsedConstruct,b,h)(d)}function b(d){return n(d)}function h(d){return c._balanced=!0,a(d)}}function tokenizeResource(i,n,a){return s;function s(h){return i.enter("resource"),i.enter("resourceMarker"),i.consume(h),i.exit("resourceMarker"),l}function l(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(i,c)(h):c(h)}function c(h){return h===41?b(h):factoryDestination(i,f,p,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function f(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(i,g)(h):b(h)}function p(h){return a(h)}function g(h){return h===34||h===39||h===40?factoryTitle(i,y,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):b(h)}function y(h){return markdownLineEndingOrSpace(h)?factoryWhitespace(i,b)(h):b(h)}function b(h){return h===41?(i.enter("resourceMarker"),i.consume(h),i.exit("resourceMarker"),i.exit("resource"),n):a(h)}}function tokenizeReferenceFull(i,n,a){const s=this;return l;function l(p){return factoryLabel.call(s,i,c,f,"reference","referenceMarker","referenceString")(p)}function c(p){return s.parser.defined.includes(normalizeIdentifier(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?n(p):a(p)}function f(p){return a(p)}}function tokenizeReferenceCollapsed(i,n,a){return s;function s(c){return i.enter("reference"),i.enter("referenceMarker"),i.consume(c),i.exit("referenceMarker"),l}function l(c){return c===93?(i.enter("referenceMarker"),i.consume(c),i.exit("referenceMarker"),i.exit("reference"),n):a(c)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(i,n,a){const s=this;return l;function l(p){return i.enter("labelImage"),i.enter("labelImageMarker"),i.consume(p),i.exit("labelImageMarker"),c}function c(p){return p===91?(i.enter("labelMarker"),i.consume(p),i.exit("labelMarker"),i.exit("labelImage"),f):a(p)}function f(p){return p===94&&"_hiddenFootnoteSupport"in s.parser.constructs?a(p):n(p)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(i,n,a){const s=this;return l;function l(f){return i.enter("labelLink"),i.enter("labelMarker"),i.consume(f),i.exit("labelMarker"),i.exit("labelLink"),c}function c(f){return f===94&&"_hiddenFootnoteSupport"in s.parser.constructs?a(f):n(f)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(i,n){return a;function a(s){return i.enter("lineEnding"),i.consume(s),i.exit("lineEnding"),factorySpace(i,n,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(i,n,a){let s=0,l;return c;function c(y){return i.enter("thematicBreak"),f(y)}function f(y){return l=y,p(y)}function p(y){return y===l?(i.enter("thematicBreakSequence"),g(y)):s>=3&&(y===null||markdownLineEnding(y))?(i.exit("thematicBreak"),n(y)):a(y)}function g(y){return y===l?(i.consume(y),s++,g):(i.exit("thematicBreakSequence"),markdownSpace(y)?factorySpace(i,p,"whitespace")(y):p(y))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(i,n,a){const s=this,l=s.events[s.events.length-1];let c=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,f=0;return p;function p(v){const _=s.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!s.containerState.marker||v===s.containerState.marker:asciiDigit(v)){if(s.containerState.type||(s.containerState.type=_,i.enter(_,{_container:!0})),_==="listUnordered")return i.enter("listItemPrefix"),v===42||v===45?i.check(thematicBreak$2,a,y)(v):y(v);if(!s.interrupt||v===49)return i.enter("listItemPrefix"),i.enter("listItemValue"),g(v)}return a(v)}function g(v){return asciiDigit(v)&&++f<10?(i.consume(v),g):(!s.interrupt||f<2)&&(s.containerState.marker?v===s.containerState.marker:v===41||v===46)?(i.exit("listItemValue"),y(v)):a(v)}function y(v){return i.enter("listItemMarker"),i.consume(v),i.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||v,i.check(blankLine,s.interrupt?a:b,i.attempt(listItemPrefixWhitespaceConstruct,d,h))}function b(v){return s.containerState.initialBlankLine=!0,c++,d(v)}function h(v){return markdownSpace(v)?(i.enter("listItemPrefixWhitespace"),i.consume(v),i.exit("listItemPrefixWhitespace"),d):a(v)}function d(v){return s.containerState.size=c+s.sliceSerialize(i.exit("listItemPrefix"),!0).length,n(v)}}function tokenizeListContinuation(i,n,a){const s=this;return s.containerState._closeFlow=void 0,i.check(blankLine,l,c);function l(p){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,factorySpace(i,n,"listItemIndent",s.containerState.size+1)(p)}function c(p){return s.containerState.furtherBlankLines||!markdownSpace(p)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,f(p)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,i.attempt(indentConstruct,n,f)(p))}function f(p){return s.containerState._closeFlow=!0,s.interrupt=void 0,factorySpace(i,i.attempt(list$2,n,a),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p)}}function tokenizeIndent$1(i,n,a){const s=this;return factorySpace(i,l,"listItemIndent",s.containerState.size+1);function l(c){const f=s.events[s.events.length-1];return f&&f[1].type==="listItemIndent"&&f[2].sliceSerialize(f[1],!0).length===s.containerState.size?n(c):a(c)}}function tokenizeListEnd(i){i.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(i,n,a){const s=this;return factorySpace(i,l,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(c){const f=s.events[s.events.length-1];return!markdownSpace(c)&&f&&f[1].type==="listItemPrefixWhitespace"?n(c):a(c)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(i,n){let a=i.length,s,l,c;for(;a--;)if(i[a][0]==="enter"){if(i[a][1].type==="content"){s=a;break}i[a][1].type==="paragraph"&&(l=a)}else i[a][1].type==="content"&&i.splice(a,1),!c&&i[a][1].type==="definition"&&(c=a);const f={type:"setextHeading",start:{...i[s][1].start},end:{...i[i.length-1][1].end}};return i[l][1].type="setextHeadingText",c?(i.splice(l,0,["enter",f,n]),i.splice(c+1,0,["exit",i[s][1],n]),i[s][1].end={...i[c][1].end}):i[s][1]=f,i.push(["exit",f,n]),i}function tokenizeSetextUnderline(i,n,a){const s=this;let l;return c;function c(y){let b=s.events.length,h;for(;b--;)if(s.events[b][1].type!=="lineEnding"&&s.events[b][1].type!=="linePrefix"&&s.events[b][1].type!=="content"){h=s.events[b][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||h)?(i.enter("setextHeadingLine"),l=y,f(y)):a(y)}function f(y){return i.enter("setextHeadingLineSequence"),p(y)}function p(y){return y===l?(i.consume(y),p):(i.exit("setextHeadingLineSequence"),markdownSpace(y)?factorySpace(i,g,"lineSuffix")(y):g(y))}function g(y){return y===null||markdownLineEnding(y)?(i.exit("setextHeadingLine"),n(y)):a(y)}}const flow$1={tokenize:initializeFlow};function initializeFlow(i){const n=this,a=i.attempt(blankLine,s,i.attempt(this.parser.constructs.flowInitial,l,factorySpace(i,i.attempt(this.parser.constructs.flow,l,i.attempt(content,l)),"linePrefix")));return a;function s(c){if(c===null){i.consume(c);return}return i.enter("lineEndingBlank"),i.consume(c),i.exit("lineEndingBlank"),n.currentConstruct=void 0,a}function l(c){if(c===null){i.consume(c);return}return i.enter("lineEnding"),i.consume(c),i.exit("lineEnding"),n.currentConstruct=void 0,a}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(i){return{resolveAll:createResolver(i==="text"?resolveAllLineSuffixes:void 0),tokenize:n};function n(a){const s=this,l=this.parser.constructs[i],c=a.attempt(l,f,p);return f;function f(b){return y(b)?c(b):p(b)}function p(b){if(b===null){a.consume(b);return}return a.enter("data"),a.consume(b),g}function g(b){return y(b)?(a.exit("data"),c(b)):(a.consume(b),g)}function y(b){if(b===null)return!0;const h=l[b];let d=-1;if(h)for(;++d<h.length;){const v=h[d];if(!v.previous||v.previous.call(s,s.previous))return!0}return!1}}}function createResolver(i){return n;function n(a,s){let l=-1,c;for(;++l<=a.length;)c===void 0?a[l]&&a[l][1].type==="data"&&(c=l,l++):(!a[l]||a[l][1].type!=="data")&&(l!==c+2&&(a[c][1].end=a[l-1][1].end,a.splice(c+2,l-c-2),l=c+2),c=void 0);return i?i(a,s):a}}function resolveAllLineSuffixes(i,n){let a=0;for(;++a<=i.length;)if((a===i.length||i[a][1].type==="lineEnding")&&i[a-1][1].type==="data"){const s=i[a-1][1],l=n.sliceStream(s);let c=l.length,f=-1,p=0,g;for(;c--;){const y=l[c];if(typeof y=="string"){for(f=y.length;y.charCodeAt(f-1)===32;)p++,f--;if(f)break;f=-1}else if(y===-2)g=!0,p++;else if(y!==-1){c++;break}}if(n._contentTypeTextTrailing&&a===i.length&&(p=0),p){const y={type:a===i.length||g||p<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:c?f:s.start._bufferIndex+f,_index:s.start._index+c,line:s.end.line,column:s.end.column-p,offset:s.end.offset-p},end:{...s.end}};s.end={...y.start},s.start.offset===s.end.offset?Object.assign(s,y):(i.splice(a,0,["enter",y,n],["exit",y,n]),a+=2)}a++}return i}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(i,n,a){let s={_bufferIndex:-1,_index:0,line:a&&a.line||1,column:a&&a.column||1,offset:a&&a.offset||0};const l={},c=[];let f=[],p=[];const g={attempt:q(B),check:q(F),consume:P,enter:$,exit:M,interrupt:q(F,{interrupt:!0})},y={code:null,containerState:{},defineSkip:A,events:[],now:_,parser:i,previous:null,sliceSerialize:d,sliceStream:v,write:h};let b=n.tokenize.call(y,g);return n.resolveAll&&c.push(n),y;function h(ee){return f=push(f,ee),I(),f[f.length-1]!==null?[]:(H(n,0),y.events=resolveAll(c,y.events,y),y.events)}function d(ee,Z){return serializeChunks(v(ee),Z)}function v(ee){return sliceChunks(f,ee)}function _(){const{_bufferIndex:ee,_index:Z,line:V,column:X,offset:Q}=s;return{_bufferIndex:ee,_index:Z,line:V,column:X,offset:Q}}function A(ee){l[ee.line]=ee.column,L()}function I(){let ee;for(;s._index<f.length;){const Z=f[s._index];if(typeof Z=="string")for(ee=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===ee&&s._bufferIndex<Z.length;)R(Z.charCodeAt(s._bufferIndex));else R(Z)}}function R(ee){b=b(ee)}function P(ee){markdownLineEnding(ee)?(s.line++,s.column=1,s.offset+=ee===-3?2:1,L()):ee!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===f[s._index].length&&(s._bufferIndex=-1,s._index++)),y.previous=ee}function $(ee,Z){const V=Z||{};return V.type=ee,V.start=_(),y.events.push(["enter",V,y]),p.push(V),V}function M(ee){const Z=p.pop();return Z.end=_(),y.events.push(["exit",Z,y]),Z}function B(ee,Z){H(ee,Z.from)}function F(ee,Z){Z.restore()}function q(ee,Z){return V;function V(X,Q,G){let te,ue,fe,K;return Array.isArray(X)?we(X):"tokenize"in X?we([X]):de(X);function de(Le){return ut;function ut(mt){const vt=mt!==null&&Le[mt],it=mt!==null&&Le.null,pt=[...Array.isArray(vt)?vt:vt?[vt]:[],...Array.isArray(it)?it:it?[it]:[]];return we(pt)(mt)}}function we(Le){return te=Le,ue=0,Le.length===0?G:oe(Le[ue])}function oe(Le){return ut;function ut(mt){return K=z(),fe=Le,Le.partial||(y.currentConstruct=Le),Le.name&&y.parser.constructs.disable.null.includes(Le.name)?Ie():Le.tokenize.call(Z?Object.assign(Object.create(y),Z):y,g,Ne,Ie)(mt)}}function Ne(Le){return ee(fe,K),Q}function Ie(Le){return K.restore(),++ue<te.length?oe(te[ue]):G}}}function H(ee,Z){ee.resolveAll&&!c.includes(ee)&&c.push(ee),ee.resolve&&splice(y.events,Z,y.events.length-Z,ee.resolve(y.events.slice(Z),y)),ee.resolveTo&&(y.events=ee.resolveTo(y.events,y))}function z(){const ee=_(),Z=y.previous,V=y.currentConstruct,X=y.events.length,Q=Array.from(p);return{from:X,restore:G};function G(){s=ee,y.previous=Z,y.currentConstruct=V,y.events.length=X,p=Q,L()}}function L(){s.line in l&&s.column<2&&(s.column=l[s.line],s.offset+=l[s.line]-1)}}function sliceChunks(i,n){const a=n.start._index,s=n.start._bufferIndex,l=n.end._index,c=n.end._bufferIndex;let f;if(a===l)f=[i[a].slice(s,c)];else{if(f=i.slice(a,l),s>-1){const p=f[0];typeof p=="string"?f[0]=p.slice(s):f.shift()}c>0&&f.push(i[l].slice(0,c))}return f}function serializeChunks(i,n){let a=-1;const s=[];let l;for(;++a<i.length;){const c=i[a];let f;if(typeof c=="string")f=c;else switch(c){case-5:{f="\r";break}case-4:{f=`
`;break}case-3:{f=`\r
`;break}case-2:{f=n?" ":"	";break}case-1:{if(!n&&l)continue;f=" ";break}default:f=String.fromCharCode(c)}l=c===-2,s.push(f)}return s.join("")}function parse(i){const s={constructs:combineExtensions([defaultConstructs,...(i||{}).extensions||[]]),content:l(content$1),defined:[],document:l(document$2),flow:l(flow$1),lazy:{},string:l(string$1),text:l(text$4)};return s;function l(c){return f;function f(p){return createTokenizer(s,c,p)}}}function postprocess(i){for(;!subtokenize(i););return i}const search=/[\0\t\n\r]/g;function preprocess(){let i=1,n="",a=!0,s;return l;function l(c,f,p){const g=[];let y,b,h,d,v;for(c=n+(typeof c=="string"?c.toString():new TextDecoder(f||void 0).decode(c)),h=0,n="",a&&(c.charCodeAt(0)===65279&&h++,a=void 0);h<c.length;){if(search.lastIndex=h,y=search.exec(c),d=y&&y.index!==void 0?y.index:c.length,v=c.charCodeAt(d),!y){n=c.slice(h);break}if(v===10&&h===d&&s)g.push(-3),s=void 0;else switch(s&&(g.push(-5),s=void 0),h<d&&(g.push(c.slice(h,d)),i+=d-h),v){case 0:{g.push(65533),i++;break}case 9:{for(b=Math.ceil(i/4)*4,g.push(-2);i++<b;)g.push(-1);break}case 10:{g.push(-4),i=1;break}default:s=!0,i=1}h=d+1}return p&&(s&&g.push(-5),n&&g.push(n),g.push(null)),g}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(i){return i.replace(characterEscapeOrReference,decode)}function decode(i,n,a){if(n)return n;if(a.charCodeAt(0)===35){const l=a.charCodeAt(1),c=l===120||l===88;return decodeNumericCharacterReference(a.slice(c?2:1),c?16:10)}return decodeNamedCharacterReference(a)||i}const own$2={}.hasOwnProperty;function fromMarkdown(i,n,a){return typeof n!="string"&&(a=n,n=void 0),compiler(a)(postprocess(parse(a).document().write(preprocess()(i,n,!0))))}function compiler(i){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Ht),autolinkProtocol:z,autolinkEmail:z,atxHeading:c(Nt),blockQuote:c(it),characterEscape:z,characterReference:z,codeFenced:c(pt),codeFencedFenceInfo:f,codeFencedFenceMeta:f,codeIndented:c(pt,f),codeText:c(xt,f),codeTextData:z,data:z,codeFlowValue:z,definition:c(kt),definitionDestinationString:f,definitionLabelString:f,definitionTitleString:f,emphasis:c(_t),hardBreakEscape:c(Vt),hardBreakTrailing:c(Vt),htmlFlow:c(Mt,f),htmlFlowData:z,htmlText:c(Mt,f),htmlTextData:z,image:c($t),label:f,link:c(Ht),listItem:c(Ut),listItemValue:d,listOrdered:c(Bt,h),listUnordered:c(Bt),paragraph:c(St),reference:oe,referenceString:f,resourceDestinationString:f,resourceTitleString:f,setextHeading:c(Nt),strong:c(Lt),thematicBreak:c(at)},exit:{atxHeading:g(),atxHeadingSequence:B,autolink:g(),autolinkEmail:vt,autolinkProtocol:mt,blockQuote:g(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:Le,characterReference:ut,codeFenced:g(I),codeFencedFence:A,codeFencedFenceInfo:v,codeFencedFenceMeta:_,codeFlowValue:L,codeIndented:g(R),codeText:g(Q),codeTextData:L,data:L,definition:g(),definitionDestinationString:M,definitionLabelString:P,definitionTitleString:$,emphasis:g(),hardBreakEscape:g(Z),hardBreakTrailing:g(Z),htmlFlow:g(V),htmlFlowData:L,htmlText:g(X),htmlTextData:L,image:g(te),label:fe,labelText:ue,lineEnding:ee,link:g(G),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:Ne,resourceDestinationString:K,resourceTitleString:de,resource:we,setextHeading:g(H),setextHeadingLineSequence:q,setextHeadingText:F,strong:g(),thematicBreak:g()}};configure(n,(i||{}).mdastExtensions||[]);const a={};return s;function s(Ue){let nt={type:"root",children:[]};const Ct={stack:[nt],tokenStack:[],config:n,enter:p,exit:y,buffer:f,resume:b,data:a},ce=[];let He=-1;for(;++He<Ue.length;)if(Ue[He][1].type==="listOrdered"||Ue[He][1].type==="listUnordered")if(Ue[He][0]==="enter")ce.push(He);else{const Je=ce.pop();He=l(Ue,Je,He)}for(He=-1;++He<Ue.length;){const Je=n[Ue[He][0]];own$2.call(Je,Ue[He][1].type)&&Je[Ue[He][1].type].call(Object.assign({sliceSerialize:Ue[He][2].sliceSerialize},Ct),Ue[He][1])}if(Ct.tokenStack.length>0){const Je=Ct.tokenStack[Ct.tokenStack.length-1];(Je[1]||defaultOnError).call(Ct,void 0,Je[0])}for(nt.position={start:point(Ue.length>0?Ue[0][1].start:{line:1,column:1,offset:0}),end:point(Ue.length>0?Ue[Ue.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<n.transforms.length;)nt=n.transforms[He](nt)||nt;return nt}function l(Ue,nt,Ct){let ce=nt-1,He=-1,Je=!1,gt,Et,lt,Se;for(;++ce<=Ct;){const ze=Ue[ce];switch(ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ze[0]==="enter"?He++:He--,Se=void 0;break}case"lineEndingBlank":{ze[0]==="enter"&&(gt&&!Se&&!He&&!lt&&(lt=ce),Se=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Se=void 0}if(!He&&ze[0]==="enter"&&ze[1].type==="listItemPrefix"||He===-1&&ze[0]==="exit"&&(ze[1].type==="listUnordered"||ze[1].type==="listOrdered")){if(gt){let le=ce;for(Et=void 0;le--;){const ae=Ue[le];if(ae[1].type==="lineEnding"||ae[1].type==="lineEndingBlank"){if(ae[0]==="exit")continue;Et&&(Ue[Et][1].type="lineEndingBlank",Je=!0),ae[1].type="lineEnding",Et=le}else if(!(ae[1].type==="linePrefix"||ae[1].type==="blockQuotePrefix"||ae[1].type==="blockQuotePrefixWhitespace"||ae[1].type==="blockQuoteMarker"||ae[1].type==="listItemIndent"))break}lt&&(!Et||lt<Et)&&(gt._spread=!0),gt.end=Object.assign({},Et?Ue[Et][1].start:ze[1].end),Ue.splice(Et||ce,0,["exit",gt,ze[2]]),ce++,Ct++}if(ze[1].type==="listItemPrefix"){const le={type:"listItem",_spread:!1,start:Object.assign({},ze[1].start),end:void 0};gt=le,Ue.splice(ce,0,["enter",le,ze[2]]),ce++,Ct++,lt=void 0,Se=!0}}}return Ue[nt][1]._spread=Je,Ct}function c(Ue,nt){return Ct;function Ct(ce){p.call(this,Ue(ce),ce),nt&&nt.call(this,ce)}}function f(){this.stack.push({type:"fragment",children:[]})}function p(Ue,nt,Ct){this.stack[this.stack.length-1].children.push(Ue),this.stack.push(Ue),this.tokenStack.push([nt,Ct||void 0]),Ue.position={start:point(nt.start),end:void 0}}function g(Ue){return nt;function nt(Ct){Ue&&Ue.call(this,Ct),y.call(this,Ct)}}function y(Ue,nt){const Ct=this.stack.pop(),ce=this.tokenStack.pop();if(ce)ce[0].type!==Ue.type&&(nt?nt.call(this,Ue,ce[0]):(ce[1]||defaultOnError).call(this,Ue,ce[0]));else throw new Error("Cannot close `"+Ue.type+"` ("+stringifyPosition({start:Ue.start,end:Ue.end})+"): it’s not open");Ct.position.end=point(Ue.end)}function b(){return toString$1(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(Ue){if(this.data.expectingFirstListItemValue){const nt=this.stack[this.stack.length-2];nt.start=Number.parseInt(this.sliceSerialize(Ue),10),this.data.expectingFirstListItemValue=void 0}}function v(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.lang=Ue}function _(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.meta=Ue}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function I(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.value=Ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function R(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.value=Ue.replace(/(\r?\n|\r)$/g,"")}function P(Ue){const nt=this.resume(),Ct=this.stack[this.stack.length-1];Ct.label=nt,Ct.identifier=normalizeIdentifier(this.sliceSerialize(Ue)).toLowerCase()}function $(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.title=Ue}function M(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.url=Ue}function B(Ue){const nt=this.stack[this.stack.length-1];if(!nt.depth){const Ct=this.sliceSerialize(Ue).length;nt.depth=Ct}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function q(Ue){const nt=this.stack[this.stack.length-1];nt.depth=this.sliceSerialize(Ue).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function z(Ue){const Ct=this.stack[this.stack.length-1].children;let ce=Ct[Ct.length-1];(!ce||ce.type!=="text")&&(ce=st(),ce.position={start:point(Ue.start),end:void 0},Ct.push(ce)),this.stack.push(ce)}function L(Ue){const nt=this.stack.pop();nt.value+=this.sliceSerialize(Ue),nt.position.end=point(Ue.end)}function ee(Ue){const nt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ct=nt.children[nt.children.length-1];Ct.position.end=point(Ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(nt.type)&&(z.call(this,Ue),L.call(this,Ue))}function Z(){this.data.atHardBreak=!0}function V(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.value=Ue}function X(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.value=Ue}function Q(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.value=Ue}function G(){const Ue=this.stack[this.stack.length-1];if(this.data.inReference){const nt=this.data.referenceType||"shortcut";Ue.type+="Reference",Ue.referenceType=nt,delete Ue.url,delete Ue.title}else delete Ue.identifier,delete Ue.label;this.data.referenceType=void 0}function te(){const Ue=this.stack[this.stack.length-1];if(this.data.inReference){const nt=this.data.referenceType||"shortcut";Ue.type+="Reference",Ue.referenceType=nt,delete Ue.url,delete Ue.title}else delete Ue.identifier,delete Ue.label;this.data.referenceType=void 0}function ue(Ue){const nt=this.sliceSerialize(Ue),Ct=this.stack[this.stack.length-2];Ct.label=decodeString(nt),Ct.identifier=normalizeIdentifier(nt).toLowerCase()}function fe(){const Ue=this.stack[this.stack.length-1],nt=this.resume(),Ct=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ct.type==="link"){const ce=Ue.children;Ct.children=ce}else Ct.alt=nt}function K(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.url=Ue}function de(){const Ue=this.resume(),nt=this.stack[this.stack.length-1];nt.title=Ue}function we(){this.data.inReference=void 0}function oe(){this.data.referenceType="collapsed"}function Ne(Ue){const nt=this.resume(),Ct=this.stack[this.stack.length-1];Ct.label=nt,Ct.identifier=normalizeIdentifier(this.sliceSerialize(Ue)).toLowerCase(),this.data.referenceType="full"}function Ie(Ue){this.data.characterReferenceType=Ue.type}function Le(Ue){const nt=this.sliceSerialize(Ue),Ct=this.data.characterReferenceType;let ce;Ct?(ce=decodeNumericCharacterReference(nt,Ct==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ce=decodeNamedCharacterReference(nt);const He=this.stack[this.stack.length-1];He.value+=ce}function ut(Ue){const nt=this.stack.pop();nt.position.end=point(Ue.end)}function mt(Ue){L.call(this,Ue);const nt=this.stack[this.stack.length-1];nt.url=this.sliceSerialize(Ue)}function vt(Ue){L.call(this,Ue);const nt=this.stack[this.stack.length-1];nt.url="mailto:"+this.sliceSerialize(Ue)}function it(){return{type:"blockquote",children:[]}}function pt(){return{type:"code",lang:null,meta:null,value:""}}function xt(){return{type:"inlineCode",value:""}}function kt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _t(){return{type:"emphasis",children:[]}}function Nt(){return{type:"heading",depth:0,children:[]}}function Vt(){return{type:"break"}}function Mt(){return{type:"html",value:""}}function $t(){return{type:"image",title:null,url:"",alt:null}}function Ht(){return{type:"link",title:null,url:"",children:[]}}function Bt(Ue){return{type:"list",ordered:Ue.type==="listOrdered",start:null,spread:Ue._spread,children:[]}}function Ut(Ue){return{type:"listItem",spread:Ue._spread,checked:null,children:[]}}function St(){return{type:"paragraph",children:[]}}function Lt(){return{type:"strong",children:[]}}function st(){return{type:"text",value:""}}function at(){return{type:"thematicBreak"}}}function point(i){return{line:i.line,column:i.column,offset:i.offset}}function configure(i,n){let a=-1;for(;++a<n.length;){const s=n[a];Array.isArray(s)?configure(i,s):extension(i,s)}}function extension(i,n){let a;for(a in n)if(own$2.call(n,a))switch(a){case"canContainEols":{const s=n[a];s&&i[a].push(...s);break}case"transforms":{const s=n[a];s&&i[a].push(...s);break}case"enter":case"exit":{const s=n[a];s&&Object.assign(i[a],s);break}}}function defaultOnError(i,n){throw i?new Error("Cannot close `"+i.type+"` ("+stringifyPosition({start:i.start,end:i.end})+"): a different token (`"+n.type+"`, "+stringifyPosition({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+stringifyPosition({start:n.start,end:n.end})+") is still open")}function remarkParse(i){const n=this;n.parser=a;function a(s){return fromMarkdown(s,{...n.data("settings"),...i,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function blockquote$1(i,n){const a={type:"element",tagName:"blockquote",properties:{},children:i.wrap(i.all(n),!0)};return i.patch(n,a),i.applyData(n,a)}function hardBreak$1(i,n){const a={type:"element",tagName:"br",properties:{},children:[]};return i.patch(n,a),[i.applyData(n,a),{type:"text",value:`
`}]}function code$2(i,n){const a=n.value?n.value+`
`:"",s={};n.lang&&(s.className=["language-"+n.lang]);let l={type:"element",tagName:"code",properties:s,children:[{type:"text",value:a}]};return n.meta&&(l.data={meta:n.meta}),i.patch(n,l),l=i.applyData(n,l),l={type:"element",tagName:"pre",properties:{},children:[l]},i.patch(n,l),l}function strikethrough(i,n){const a={type:"element",tagName:"del",properties:{},children:i.all(n)};return i.patch(n,a),i.applyData(n,a)}function emphasis$1(i,n){const a={type:"element",tagName:"em",properties:{},children:i.all(n)};return i.patch(n,a),i.applyData(n,a)}function footnoteReference$1(i,n){const a=typeof i.options.clobberPrefix=="string"?i.options.clobberPrefix:"user-content-",s=String(n.identifier).toUpperCase(),l=normalizeUri(s.toLowerCase()),c=i.footnoteOrder.indexOf(s);let f,p=i.footnoteCounts.get(s);p===void 0?(p=0,i.footnoteOrder.push(s),f=i.footnoteOrder.length):f=c+1,p+=1,i.footnoteCounts.set(s,p);const g={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+l,id:a+"fnref-"+l+(p>1?"-"+p:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(f)}]};i.patch(n,g);const y={type:"element",tagName:"sup",properties:{},children:[g]};return i.patch(n,y),i.applyData(n,y)}function heading$1(i,n){const a={type:"element",tagName:"h"+n.depth,properties:{},children:i.all(n)};return i.patch(n,a),i.applyData(n,a)}function html$1(i,n){if(i.options.allowDangerousHtml){const a={type:"raw",value:n.value};return i.patch(n,a),i.applyData(n,a)}}function revert(i,n){const a=n.referenceType;let s="]";if(a==="collapsed"?s+="[]":a==="full"&&(s+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+s}];const l=i.all(n),c=l[0];c&&c.type==="text"?c.value="["+c.value:l.unshift({type:"text",value:"["});const f=l[l.length-1];return f&&f.type==="text"?f.value+=s:l.push({type:"text",value:s}),l}function imageReference$1(i,n){const a=String(n.identifier).toUpperCase(),s=i.definitionById.get(a);if(!s)return revert(i,n);const l={src:normalizeUri(s.url||""),alt:n.alt};s.title!==null&&s.title!==void 0&&(l.title=s.title);const c={type:"element",tagName:"img",properties:l,children:[]};return i.patch(n,c),i.applyData(n,c)}function image$1(i,n){const a={src:normalizeUri(n.url)};n.alt!==null&&n.alt!==void 0&&(a.alt=n.alt),n.title!==null&&n.title!==void 0&&(a.title=n.title);const s={type:"element",tagName:"img",properties:a,children:[]};return i.patch(n,s),i.applyData(n,s)}function inlineCode$1(i,n){const a={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};i.patch(n,a);const s={type:"element",tagName:"code",properties:{},children:[a]};return i.patch(n,s),i.applyData(n,s)}function linkReference$1(i,n){const a=String(n.identifier).toUpperCase(),s=i.definitionById.get(a);if(!s)return revert(i,n);const l={href:normalizeUri(s.url||"")};s.title!==null&&s.title!==void 0&&(l.title=s.title);const c={type:"element",tagName:"a",properties:l,children:i.all(n)};return i.patch(n,c),i.applyData(n,c)}function link$1(i,n){const a={href:normalizeUri(n.url)};n.title!==null&&n.title!==void 0&&(a.title=n.title);const s={type:"element",tagName:"a",properties:a,children:i.all(n)};return i.patch(n,s),i.applyData(n,s)}function listItem$1(i,n,a){const s=i.all(n),l=a?listLoose(a):listItemLoose(n),c={},f=[];if(typeof n.checked=="boolean"){const b=s[0];let h;b&&b.type==="element"&&b.tagName==="p"?h=b:(h={type:"element",tagName:"p",properties:{},children:[]},s.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let p=-1;for(;++p<s.length;){const b=s[p];(l||p!==0||b.type!=="element"||b.tagName!=="p")&&f.push({type:"text",value:`
`}),b.type==="element"&&b.tagName==="p"&&!l?f.push(...b.children):f.push(b)}const g=s[s.length-1];g&&(l||g.type!=="element"||g.tagName!=="p")&&f.push({type:"text",value:`
`});const y={type:"element",tagName:"li",properties:c,children:f};return i.patch(n,y),i.applyData(n,y)}function listLoose(i){let n=!1;if(i.type==="list"){n=i.spread||!1;const a=i.children;let s=-1;for(;!n&&++s<a.length;)n=listItemLoose(a[s])}return n}function listItemLoose(i){const n=i.spread;return n??i.children.length>1}function list$1(i,n){const a={},s=i.all(n);let l=-1;for(typeof n.start=="number"&&n.start!==1&&(a.start=n.start);++l<s.length;){const f=s[l];if(f.type==="element"&&f.tagName==="li"&&f.properties&&Array.isArray(f.properties.className)&&f.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const c={type:"element",tagName:n.ordered?"ol":"ul",properties:a,children:i.wrap(s,!0)};return i.patch(n,c),i.applyData(n,c)}function paragraph$1(i,n){const a={type:"element",tagName:"p",properties:{},children:i.all(n)};return i.patch(n,a),i.applyData(n,a)}function root$1(i,n){const a={type:"root",children:i.wrap(i.all(n))};return i.patch(n,a),i.applyData(n,a)}function strong$1(i,n){const a={type:"element",tagName:"strong",properties:{},children:i.all(n)};return i.patch(n,a),i.applyData(n,a)}function table(i,n){const a=i.all(n),s=a.shift(),l=[];if(s){const f={type:"element",tagName:"thead",properties:{},children:i.wrap([s],!0)};i.patch(n.children[0],f),l.push(f)}if(a.length>0){const f={type:"element",tagName:"tbody",properties:{},children:i.wrap(a,!0)},p=pointStart(n.children[1]),g=pointEnd(n.children[n.children.length-1]);p&&g&&(f.position={start:p,end:g}),l.push(f)}const c={type:"element",tagName:"table",properties:{},children:i.wrap(l,!0)};return i.patch(n,c),i.applyData(n,c)}function tableRow(i,n,a){const s=a?a.children:void 0,c=(s?s.indexOf(n):1)===0?"th":"td",f=a&&a.type==="table"?a.align:void 0,p=f?f.length:n.children.length;let g=-1;const y=[];for(;++g<p;){const h=n.children[g],d={},v=f?f[g]:void 0;v&&(d.align=v);let _={type:"element",tagName:c,properties:d,children:[]};h&&(_.children=i.all(h),i.patch(h,_),_=i.applyData(h,_)),y.push(_)}const b={type:"element",tagName:"tr",properties:{},children:i.wrap(y,!0)};return i.patch(n,b),i.applyData(n,b)}function tableCell(i,n){const a={type:"element",tagName:"td",properties:{},children:i.all(n)};return i.patch(n,a),i.applyData(n,a)}const tab=9,space=32;function trimLines(i){const n=String(i),a=/\r?\n|\r/g;let s=a.exec(n),l=0;const c=[];for(;s;)c.push(trimLine(n.slice(l,s.index),l>0,!0),s[0]),l=s.index+s[0].length,s=a.exec(n);return c.push(trimLine(n.slice(l),l>0,!1)),c.join("")}function trimLine(i,n,a){let s=0,l=i.length;if(n){let c=i.codePointAt(s);for(;c===tab||c===space;)s++,c=i.codePointAt(s)}if(a){let c=i.codePointAt(l-1);for(;c===tab||c===space;)l--,c=i.codePointAt(l-1)}return l>s?i.slice(s,l):""}function text$2(i,n){const a={type:"text",value:trimLines(String(n.value))};return i.patch(n,a),i.applyData(n,a)}function thematicBreak$1(i,n){const a={type:"element",tagName:"hr",properties:{},children:[]};return i.patch(n,a),i.applyData(n,a)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$1,strong:strong$1,table,tableCell,tableRow,text:text$2,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env$1=typeof self=="object"?self:globalThis,deserializer=(i,n)=>{const a=(l,c)=>(i.set(c,l),l),s=l=>{if(i.has(l))return i.get(l);const[c,f]=n[l];switch(c){case PRIMITIVE:case VOID:return a(f,l);case ARRAY:{const p=a([],l);for(const g of f)p.push(s(g));return p}case OBJECT:{const p=a({},l);for(const[g,y]of f)p[s(g)]=s(y);return p}case DATE:return a(new Date(f),l);case REGEXP:{const{source:p,flags:g}=f;return a(new RegExp(p,g),l)}case MAP:{const p=a(new Map,l);for(const[g,y]of f)p.set(s(g),s(y));return p}case SET:{const p=a(new Set,l);for(const g of f)p.add(s(g));return p}case ERROR:{const{name:p,message:g}=f;return a(new env$1[p](g),l)}case BIGINT:return a(BigInt(f),l);case"BigInt":return a(Object(BigInt(f)),l);case"ArrayBuffer":return a(new Uint8Array(f).buffer,f);case"DataView":{const{buffer:p}=new Uint8Array(f);return a(new DataView(p),f)}}return a(new env$1[c](f),l)};return s},deserialize=i=>deserializer(new Map,i)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=i=>{const n=typeof i;if(n!=="object"||!i)return[PRIMITIVE,n];const a=toString.call(i).slice(8,-1);switch(a){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,a]}return a.includes("Array")?[ARRAY,a]:a.includes("Error")?[ERROR,a]:[OBJECT,a]},shouldSkip=([i,n])=>i===PRIMITIVE&&(n==="function"||n==="symbol"),serializer=(i,n,a,s)=>{const l=(f,p)=>{const g=s.push(f)-1;return a.set(p,g),g},c=f=>{if(a.has(f))return a.get(f);let[p,g]=typeOf(f);switch(p){case PRIMITIVE:{let b=f;switch(g){case"bigint":p=BIGINT,b=f.toString();break;case"function":case"symbol":if(i)throw new TypeError("unable to serialize "+g);b=null;break;case"undefined":return l([VOID],f)}return l([p,b],f)}case ARRAY:{if(g){let d=f;return g==="DataView"?d=new Uint8Array(f.buffer):g==="ArrayBuffer"&&(d=new Uint8Array(f)),l([g,[...d]],f)}const b=[],h=l([p,b],f);for(const d of f)b.push(c(d));return h}case OBJECT:{if(g)switch(g){case"BigInt":return l([g,f.toString()],f);case"Boolean":case"Number":case"String":return l([g,f.valueOf()],f)}if(n&&"toJSON"in f)return c(f.toJSON());const b=[],h=l([p,b],f);for(const d of keys(f))(i||!shouldSkip(typeOf(f[d])))&&b.push([c(d),c(f[d])]);return h}case DATE:return l([p,f.toISOString()],f);case REGEXP:{const{source:b,flags:h}=f;return l([p,{source:b,flags:h}],f)}case MAP:{const b=[],h=l([p,b],f);for(const[d,v]of f)(i||!(shouldSkip(typeOf(d))||shouldSkip(typeOf(v))))&&b.push([c(d),c(v)]);return h}case SET:{const b=[],h=l([p,b],f);for(const d of f)(i||!shouldSkip(typeOf(d)))&&b.push(c(d));return h}}const{message:y}=f;return l([p,{name:g,message:y}],f)};return c},serialize$1=(i,{json:n,lossy:a}={})=>{const s=[];return serializer(!(n||a),!!n,new Map,s)(i),s},structuredClone$1=typeof structuredClone=="function"?(i,n)=>n&&("json"in n||"lossy"in n)?deserialize(serialize$1(i,n)):structuredClone(i):(i,n)=>deserialize(serialize$1(i,n));function defaultFootnoteBackContent(i,n){const a=[{type:"text",value:"↩"}];return n>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),a}function defaultFootnoteBackLabel(i,n){return"Back to reference "+(i+1)+(n>1?"-"+n:"")}function footer(i){const n=typeof i.options.clobberPrefix=="string"?i.options.clobberPrefix:"user-content-",a=i.options.footnoteBackContent||defaultFootnoteBackContent,s=i.options.footnoteBackLabel||defaultFootnoteBackLabel,l=i.options.footnoteLabel||"Footnotes",c=i.options.footnoteLabelTagName||"h2",f=i.options.footnoteLabelProperties||{className:["sr-only"]},p=[];let g=-1;for(;++g<i.footnoteOrder.length;){const y=i.footnoteById.get(i.footnoteOrder[g]);if(!y)continue;const b=i.all(y),h=String(y.identifier).toUpperCase(),d=normalizeUri(h.toLowerCase());let v=0;const _=[],A=i.footnoteCounts.get(h);for(;A!==void 0&&++v<=A;){_.length>0&&_.push({type:"text",value:" "});let P=typeof a=="string"?a:a(g,v);typeof P=="string"&&(P={type:"text",value:P}),_.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+d+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(g,v),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const I=b[b.length-1];if(I&&I.type==="element"&&I.tagName==="p"){const P=I.children[I.children.length-1];P&&P.type==="text"?P.value+=" ":I.children.push({type:"text",value:" "}),I.children.push(..._)}else b.push(..._);const R={type:"element",tagName:"li",properties:{id:n+"fn-"+d},children:i.wrap(b,!0)};i.patch(y,R),p.push(R)}if(p.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:c,properties:{...structuredClone$1(f),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:i.wrap(p,!0)},{type:"text",value:`
`}]}}const convert=function(i){if(i==null)return ok;if(typeof i=="function")return castFactory(i);if(typeof i=="object")return Array.isArray(i)?anyFactory(i):propsFactory(i);if(typeof i=="string")return typeFactory(i);throw new Error("Expected function, string, or object as test")};function anyFactory(i){const n=[];let a=-1;for(;++a<i.length;)n[a]=convert(i[a]);return castFactory(s);function s(...l){let c=-1;for(;++c<n.length;)if(n[c].apply(this,l))return!0;return!1}}function propsFactory(i){const n=i;return castFactory(a);function a(s){const l=s;let c;for(c in i)if(l[c]!==n[c])return!1;return!0}}function typeFactory(i){return castFactory(n);function n(a){return a&&a.type===i}}function castFactory(i){return n;function n(a,s,l){return!!(looksLikeANode(a)&&i.call(this,a,typeof s=="number"?s:void 0,l||void 0))}}function ok(){return!0}function looksLikeANode(i){return i!==null&&typeof i=="object"&&"type"in i}function color(i){return i}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(i,n,a,s){let l;typeof n=="function"&&typeof a!="function"?(s=a,a=n):l=n;const c=convert(l),f=s?-1:1;p(i,void 0,[])();function p(g,y,b){const h=g&&typeof g=="object"?g:{};if(typeof h.type=="string"){const v=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(g.type+(v?"<"+v+">":""))+")"})}return d;function d(){let v=empty,_,A,I;if((!n||c(g,y,b[b.length-1]||void 0))&&(v=toResult(a(g,b)),v[0]===EXIT))return v;if("children"in g&&g.children){const R=g;if(R.children&&v[0]!==SKIP)for(A=(s?R.children.length:-1)+f,I=b.concat(R);A>-1&&A<R.children.length;){const P=R.children[A];if(_=p(P,A,I)(),_[0]===EXIT)return _;A=typeof _[1]=="number"?_[1]:A+f}}return v}}}function toResult(i){return Array.isArray(i)?i:typeof i=="number"?[CONTINUE,i]:i==null?empty:[i]}function visit(i,n,a,s){let l,c,f;typeof n=="function"&&typeof a!="function"?(c=void 0,f=n,l=a):(c=n,f=a,l=s),visitParents(i,c,p,l);function p(g,y){const b=y[y.length-1],h=b?b.children.indexOf(g):void 0;return f(g,h,b)}}const own$1={}.hasOwnProperty,emptyOptions$1={};function createState(i,n){const a=n||emptyOptions$1,s=new Map,l=new Map,c=new Map,f={...handlers,...a.handlers},p={all:y,applyData,definitionById:s,footnoteById:l,footnoteCounts:c,footnoteOrder:[],handlers:f,one:g,options:a,patch,wrap:wrap$1};return visit(i,function(b){if(b.type==="definition"||b.type==="footnoteDefinition"){const h=b.type==="definition"?s:l,d=String(b.identifier).toUpperCase();h.has(d)||h.set(d,b)}}),p;function g(b,h){const d=b.type,v=p.handlers[d];if(own$1.call(p.handlers,d)&&v)return v(p,b,h);if(p.options.passThrough&&p.options.passThrough.includes(d)){if("children"in b){const{children:A,...I}=b,R=structuredClone$1(I);return R.children=p.all(b),R}return structuredClone$1(b)}return(p.options.unknownHandler||defaultUnknownHandler)(p,b,h)}function y(b){const h=[];if("children"in b){const d=b.children;let v=-1;for(;++v<d.length;){const _=p.one(d[v],b);if(_){if(v&&d[v-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=trimMarkdownSpaceStart(_.value)),!Array.isArray(_)&&_.type==="element")){const A=_.children[0];A&&A.type==="text"&&(A.value=trimMarkdownSpaceStart(A.value))}Array.isArray(_)?h.push(..._):h.push(_)}}}return h}}function patch(i,n){i.position&&(n.position=position$1(i))}function applyData(i,n){let a=n;if(i&&i.data){const s=i.data.hName,l=i.data.hChildren,c=i.data.hProperties;if(typeof s=="string")if(a.type==="element")a.tagName=s;else{const f="children"in a?a.children:[a];a={type:"element",tagName:s,properties:{},children:f}}a.type==="element"&&c&&Object.assign(a.properties,structuredClone$1(c)),"children"in a&&a.children&&l!==null&&l!==void 0&&(a.children=l)}return a}function defaultUnknownHandler(i,n){const a=n.data||{},s="value"in n&&!(own$1.call(a,"hProperties")||own$1.call(a,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:i.all(n)};return i.patch(n,s),i.applyData(n,s)}function wrap$1(i,n){const a=[];let s=-1;for(n&&a.push({type:"text",value:`
`});++s<i.length;)s&&a.push({type:"text",value:`
`}),a.push(i[s]);return n&&i.length>0&&a.push({type:"text",value:`
`}),a}function trimMarkdownSpaceStart(i){let n=0,a=i.charCodeAt(n);for(;a===9||a===32;)n++,a=i.charCodeAt(n);return i.slice(n)}function toHast(i,n){const a=createState(i,n),s=a.one(i,void 0),l=footer(a),c=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return l&&c.children.push({type:"text",value:`
`},l),c}function remarkRehype(i,n){return i&&"run"in i?async function(a,s){const l=toHast(a,{file:s,...n});await i.run(l,s)}:function(a,s){return toHast(a,{file:s,...i||n})}}function bail(i){if(i)throw i}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var i=Object.prototype.hasOwnProperty,n=Object.prototype.toString,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(y){return typeof Array.isArray=="function"?Array.isArray(y):n.call(y)==="[object Array]"},c=function(y){if(!y||n.call(y)!=="[object Object]")return!1;var b=i.call(y,"constructor"),h=y.constructor&&y.constructor.prototype&&i.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!b&&!h)return!1;var d;for(d in y);return typeof d>"u"||i.call(y,d)},f=function(y,b){a&&b.name==="__proto__"?a(y,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):y[b.name]=b.newValue},p=function(y,b){if(b==="__proto__")if(i.call(y,b)){if(s)return s(y,b).value}else return;return y[b]};return extend$1=function g(){var y,b,h,d,v,_,A=arguments[0],I=1,R=arguments.length,P=!1;for(typeof A=="boolean"&&(P=A,A=arguments[1]||{},I=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});I<R;++I)if(y=arguments[I],y!=null)for(b in y)h=p(A,b),d=p(y,b),A!==d&&(P&&d&&(c(d)||(v=l(d)))?(v?(v=!1,_=h&&l(h)?h:[]):_=h&&c(h)?h:{},f(A,{name:b,newValue:g(P,_,d)})):typeof d<"u"&&f(A,{name:b,newValue:d}));return A},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(i){if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function trough(){const i=[],n={run:a,use:s};return n;function a(...l){let c=-1;const f=l.pop();if(typeof f!="function")throw new TypeError("Expected function as last argument, not "+f);p(null,...l);function p(g,...y){const b=i[++c];let h=-1;if(g){f(g);return}for(;++h<l.length;)(y[h]===null||y[h]===void 0)&&(y[h]=l[h]);l=y,b?wrap(b,p)(...y):f(null,...y)}}function s(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return i.push(l),n}}function wrap(i,n){let a;return s;function s(...f){const p=i.length>f.length;let g;p&&f.push(l);try{g=i.apply(this,f)}catch(y){const b=y;if(p&&a)throw b;return l(b)}p||(g&&g.then&&typeof g.then=="function"?g.then(c,l):g instanceof Error?l(g):c(g))}function l(f,...p){a||(a=!0,n(f,...p))}function c(f){l(null,f)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(i,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(i);let a=0,s=-1,l=i.length,c;if(n===void 0||n.length===0||n.length>i.length){for(;l--;)if(i.codePointAt(l)===47){if(c){a=l+1;break}}else s<0&&(c=!0,s=l+1);return s<0?"":i.slice(a,s)}if(n===i)return"";let f=-1,p=n.length-1;for(;l--;)if(i.codePointAt(l)===47){if(c){a=l+1;break}}else f<0&&(c=!0,f=l+1),p>-1&&(i.codePointAt(l)===n.codePointAt(p--)?p<0&&(s=l):(p=-1,s=f));return a===s?s=f:s<0&&(s=i.length),i.slice(a,s)}function dirname(i){if(assertPath$1(i),i.length===0)return".";let n=-1,a=i.length,s;for(;--a;)if(i.codePointAt(a)===47){if(s){n=a;break}}else s||(s=!0);return n<0?i.codePointAt(0)===47?"/":".":n===1&&i.codePointAt(0)===47?"//":i.slice(0,n)}function extname(i){assertPath$1(i);let n=i.length,a=-1,s=0,l=-1,c=0,f;for(;n--;){const p=i.codePointAt(n);if(p===47){if(f){s=n+1;break}continue}a<0&&(f=!0,a=n+1),p===46?l<0?l=n:c!==1&&(c=1):l>-1&&(c=-1)}return l<0||a<0||c===0||c===1&&l===a-1&&l===s+1?"":i.slice(l,a)}function join(...i){let n=-1,a;for(;++n<i.length;)assertPath$1(i[n]),i[n]&&(a=a===void 0?i[n]:a+"/"+i[n]);return a===void 0?".":normalize(a)}function normalize(i){assertPath$1(i);const n=i.codePointAt(0)===47;let a=normalizeString(i,!n);return a.length===0&&!n&&(a="."),a.length>0&&i.codePointAt(i.length-1)===47&&(a+="/"),n?"/"+a:a}function normalizeString(i,n){let a="",s=0,l=-1,c=0,f=-1,p,g;for(;++f<=i.length;){if(f<i.length)p=i.codePointAt(f);else{if(p===47)break;p=47}if(p===47){if(!(l===f-1||c===1))if(l!==f-1&&c===2){if(a.length<2||s!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if(g=a.lastIndexOf("/"),g!==a.length-1){g<0?(a="",s=0):(a=a.slice(0,g),s=a.length-1-a.lastIndexOf("/")),l=f,c=0;continue}}else if(a.length>0){a="",s=0,l=f,c=0;continue}}n&&(a=a.length>0?a+"/..":"..",s=2)}else a.length>0?a+="/"+i.slice(l+1,f):a=i.slice(l+1,f),s=f-l-1;l=f,c=0}else p===46&&c>-1?c++:c=-1}return a}function assertPath$1(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}const minproc={cwd};function cwd(){return"/"}function isUrl(i){return!!(i!==null&&typeof i=="object"&&"href"in i&&i.href&&"protocol"in i&&i.protocol&&i.auth===void 0)}function urlToPath(i){if(typeof i=="string")i=new URL(i);else if(!isUrl(i)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+i+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(i.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return getPathFromURLPosix(i)}function getPathFromURLPosix(i){if(i.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const n=i.pathname;let a=-1;for(;++a<n.length;)if(n.codePointAt(a)===37&&n.codePointAt(a+1)===50){const s=n.codePointAt(a+2);if(s===70||s===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(n)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(n){let a;n?isUrl(n)?a={path:n}:typeof n=="string"||isUint8Array$1(n)?a={value:n}:a=n:a={},this.cwd="cwd"in a?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<order.length;){const c=order[s];c in a&&a[c]!==void 0&&a[c]!==null&&(this[c]=c==="history"?[...a[c]]:a[c])}let l;for(l in a)order.includes(l)||(this[l]=a[l])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(n){assertNonEmpty(n,"basename"),assertPart(n,"basename"),this.path=minpath.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(n){assertPath(this.basename,"dirname"),this.path=minpath.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(n){if(assertPart(n,"extname"),assertPath(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){isUrl(n)&&(n=urlToPath(n)),assertNonEmpty(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(n){assertNonEmpty(n,"stem"),assertPart(n,"stem"),this.path=minpath.join(this.dirname||"",n+(this.extname||""))}fail(n,a,s){const l=this.message(n,a,s);throw l.fatal=!0,l}info(n,a,s){const l=this.message(n,a,s);return l.fatal=void 0,l}message(n,a,s){const l=new VFileMessage(n,a,s);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function assertPart(i,n){if(i&&i.includes(minpath.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(i,n){if(!i)throw new Error("`"+n+"` cannot be empty")}function assertPath(i,n){if(!i)throw new Error("Setting `"+n+"` requires `path` to be set too")}function isUint8Array$1(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}const CallableInstance=function(i){const s=this.constructor.prototype,l=s[i],c=function(){return l.apply(c,arguments)};return Object.setPrototypeOf(c,s),c},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const n=new Processor;let a=-1;for(;++a<this.attachers.length;){const s=this.attachers[a];n.use(...s)}return n.data(extend(!0,{},this.namespace)),n}data(n,a){return typeof n=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[n]=a,this):own.call(this.namespace,n)&&this.namespace[n]||void 0:n?(assertUnfrozen("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const l=a.call(n,...s);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const a=vfile(n),s=this.parser||this.Parser;return assertParser("parse",s),s(String(a),a)}process(n,a){const s=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),a?l(void 0,a):new Promise(l);function l(c,f){const p=vfile(n),g=s.parse(p);s.run(g,p,function(b,h,d){if(b||!h||!d)return y(b);const v=h,_=s.stringify(v,d);looksLikeAValue(_)?d.value=_:d.result=_,y(b,d)});function y(b,h){b||!h?f(b):c?c(h):a(void 0,h)}}}processSync(n){let a=!1,s;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(n,l),assertDone("processSync","process",a),s;function l(c,f){a=!0,bail(c),s=f}}run(n,a,s){assertNode(n),this.freeze();const l=this.transformers;return!s&&typeof a=="function"&&(s=a,a=void 0),s?c(void 0,s):new Promise(c);function c(f,p){const g=vfile(a);l.run(n,g,y);function y(b,h,d){const v=h||n;b?p(b):f?f(v):s(void 0,v,d)}}}runSync(n,a){let s=!1,l;return this.run(n,a,c),assertDone("runSync","run",s),l;function c(f,p){bail(f),l=p,s=!0}}stringify(n,a){this.freeze();const s=vfile(a),l=this.compiler||this.Compiler;return assertCompiler("stringify",l),assertNode(n),l(n,s)}use(n,...a){const s=this.attachers,l=this.namespace;if(assertUnfrozen("use",this.frozen),n!=null)if(typeof n=="function")g(n,a);else if(typeof n=="object")Array.isArray(n)?p(n):f(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function c(y){if(typeof y=="function")g(y,[]);else if(typeof y=="object")if(Array.isArray(y)){const[b,...h]=y;g(b,h)}else f(y);else throw new TypeError("Expected usable value, not `"+y+"`")}function f(y){if(!("plugins"in y)&&!("settings"in y))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");p(y.plugins),y.settings&&(l.settings=extend(!0,l.settings,y.settings))}function p(y){let b=-1;if(y!=null)if(Array.isArray(y))for(;++b<y.length;){const h=y[b];c(h)}else throw new TypeError("Expected a list of plugins, not `"+y+"`")}function g(y,b){let h=-1,d=-1;for(;++h<s.length;)if(s[h][0]===y){d=h;break}if(d===-1)s.push([y,...b]);else if(b.length>0){let[v,..._]=b;const A=s[d][1];isPlainObject(A)&&isPlainObject(v)&&(v=extend(!0,A,v)),s[d]=[y,v,..._]}}}}const unified=new Processor().freeze();function assertParser(i,n){if(typeof n!="function")throw new TypeError("Cannot `"+i+"` without `parser`")}function assertCompiler(i,n){if(typeof n!="function")throw new TypeError("Cannot `"+i+"` without `compiler`")}function assertUnfrozen(i,n){if(n)throw new Error("Cannot call `"+i+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(i){if(!isPlainObject(i)||typeof i.type!="string")throw new TypeError("Expected node, got `"+i+"`")}function assertDone(i,n,a){if(!a)throw new Error("`"+i+"` finished async. Use `"+n+"` instead")}function vfile(i){return looksLikeAVFile(i)?i:new VFile(i)}function looksLikeAVFile(i){return!!(i&&typeof i=="object"&&"message"in i&&"messages"in i)}function looksLikeAValue(i){return typeof i=="string"||isUint8Array(i)}function isUint8Array(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(i){const n=createProcessor(i),a=createFile(i);return post(n.runSync(n.parse(a),a),i)}function createProcessor(i){const n=i.rehypePlugins||emptyPlugins,a=i.remarkPlugins||emptyPlugins,s=i.remarkRehypeOptions?{...i.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(a).use(remarkRehype,s).use(n)}function createFile(i){const n=i.children||"",a=new VFile;return typeof n=="string"&&(a.value=n),a}function post(i,n){const a=n.allowedElements,s=n.allowElement,l=n.components,c=n.disallowedElements,f=n.skipHtml,p=n.unwrapDisallowed,g=n.urlTransform||defaultUrlTransform;for(const b of deprecations)Object.hasOwn(n,b.from)&&(""+b.from+(b.to?"use `"+b.to+"` instead":"remove it")+changelog+b.id,void 0);return visit(i,y),toJsxRuntime(i,{Fragment:jsxRuntimeExports.Fragment,components:l,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function y(b,h,d){if(b.type==="raw"&&d&&typeof h=="number")return f?d.children.splice(h,1):d.children[h]={type:"text",value:b.value},h;if(b.type==="element"){let v;for(v in urlAttributes)if(Object.hasOwn(urlAttributes,v)&&Object.hasOwn(b.properties,v)){const _=b.properties[v],A=urlAttributes[v];(A===null||A.includes(b.tagName))&&(b.properties[v]=g(String(_||""),v,b))}}if(b.type==="element"){let v=a?!a.includes(b.tagName):c?c.includes(b.tagName):!1;if(!v&&s&&typeof h=="number"&&(v=!s(b,h,d)),v&&d&&typeof h=="number")return p&&b.children?d.children.splice(h,1,...b.children):d.children.splice(h,1),h}}}function defaultUrlTransform(i){const n=i.indexOf(":"),a=i.indexOf("?"),s=i.indexOf("#"),l=i.indexOf("/");return n===-1||l!==-1&&n>l||a!==-1&&n>a||s!==-1&&n>s||safeProtocol.test(i.slice(0,n))?i:""}function ccount(i,n){const a=String(i);if(typeof n!="string")throw new TypeError("Expected character");let s=0,l=a.indexOf(n);for(;l!==-1;)s++,l=a.indexOf(n,l+n.length);return s}function escapeStringRegexp(i){if(typeof i!="string")throw new TypeError("Expected a string");return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(i,n,a){const l=convert((a||{}).ignore||[]),c=toPairs(n);let f=-1;for(;++f<c.length;)visitParents(i,"text",p);function p(y,b){let h=-1,d;for(;++h<b.length;){const v=b[h],_=d?d.children:void 0;if(l(v,_?_.indexOf(v):void 0,d))return;d=v}if(d)return g(y,b)}function g(y,b){const h=b[b.length-1],d=c[f][0],v=c[f][1];let _=0;const I=h.children.indexOf(y);let R=!1,P=[];d.lastIndex=0;let $=d.exec(y.value);for(;$;){const M=$.index,B={index:$.index,input:$.input,stack:[...b,y]};let F=v(...$,B);if(typeof F=="string"&&(F=F.length>0?{type:"text",value:F}:void 0),F===!1?d.lastIndex=M+1:(_!==M&&P.push({type:"text",value:y.value.slice(_,M)}),Array.isArray(F)?P.push(...F):F&&P.push(F),_=M+$[0].length,R=!0),!d.global)break;$=d.exec(y.value)}return R?(_<y.value.length&&P.push({type:"text",value:y.value.slice(_)}),h.children.splice(I,1,...P)):P=[y],I+P.length}}function toPairs(i){const n=[];if(!Array.isArray(i))throw new TypeError("Expected find and replace tuple or list of tuples");const a=!i[0]||Array.isArray(i[0])?i:[i];let s=-1;for(;++s<a.length;){const l=a[s];n.push([toExpression(l[0]),toFunction(l[1])])}return n}function toExpression(i){return typeof i=="string"?new RegExp(escapeStringRegexp(i),"g"):i}function toFunction(i){return typeof i=="function"?i:function(){return i}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(i){this.enter({type:"link",title:null,url:"",children:[]},i)}function enterLiteralAutolinkValue(i){this.config.enter.autolinkProtocol.call(this,i)}function exitLiteralAutolinkHttp(i){this.config.exit.autolinkProtocol.call(this,i)}function exitLiteralAutolinkWww(i){this.config.exit.data.call(this,i);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(i)}function exitLiteralAutolinkEmail(i){this.config.exit.autolinkEmail.call(this,i)}function exitLiteralAutolink(i){this.exit(i)}function transformGfmAutolinkLiterals(i){findAndReplace(i,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(i,n,a,s,l){let c="";if(!previous(l)||(/^w/i.test(n)&&(a=n+a,n="",c="http://"),!isCorrectDomain(a)))return!1;const f=splitUrl(a+s);if(!f[0])return!1;const p={type:"link",title:null,url:c+n+f[0],children:[{type:"text",value:n+f[0]}]};return f[1]?[p,{type:"text",value:f[1]}]:p}function findEmail(i,n,a,s){return!previous(s,!0)||/[-\d_]$/.test(a)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+a,children:[{type:"text",value:n+"@"+a}]}}function isCorrectDomain(i){const n=i.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function splitUrl(i){const n=/[!"&'),.:;<>?\]}]+$/.exec(i);if(!n)return[i,void 0];i=i.slice(0,n.index);let a=n[0],s=a.indexOf(")");const l=ccount(i,"(");let c=ccount(i,")");for(;s!==-1&&l>c;)i+=a.slice(0,s+1),a=a.slice(s+1),s=a.indexOf(")"),c++;return[i,a]}function previous(i,n){const a=i.input.charCodeAt(i.index-1);return(i.index===0||unicodeWhitespace(a)||unicodePunctuation(a))&&(!n||a!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(i){this.enter({type:"footnoteReference",identifier:"",label:""},i)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(i){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},i)}function exitFootnoteCallString(i){const n=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=normalizeIdentifier(this.sliceSerialize(i)).toLowerCase(),a.label=n}function exitFootnoteCall(i){this.exit(i)}function exitFootnoteDefinitionLabelString(i){const n=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=normalizeIdentifier(this.sliceSerialize(i)).toLowerCase(),a.label=n}function exitFootnoteDefinition(i){this.exit(i)}function footnoteReferencePeek(){return"["}function footnoteReference(i,n,a,s){const l=a.createTracker(s);let c=l.move("[^");const f=a.enter("footnoteReference"),p=a.enter("reference");return c+=l.move(a.safe(a.associationId(i),{after:"]",before:c})),p(),f(),c+=l.move("]"),c}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(i){let n=!1;return i&&i.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:a,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function a(s,l,c,f){const p=c.createTracker(f);let g=p.move("[^");const y=c.enter("footnoteDefinition"),b=c.enter("label");return g+=p.move(c.safe(c.associationId(s),{before:g,after:"]"})),b(),g+=p.move("]:"),s.children&&s.children.length>0&&(p.shift(4),g+=p.move((n?`
`:" ")+c.indentLines(c.containerFlow(s,p.current()),n?mapAll:mapExceptFirst))),y(),g}}function mapExceptFirst(i,n,a){return n===0?i:mapAll(i,n,a)}function mapAll(i,n,a){return(a?"":"    ")+i}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(i){this.enter({type:"delete",children:[]},i)}function exitStrikethrough(i){this.exit(i)}function handleDelete(i,n,a,s){const l=a.createTracker(s),c=a.enter("strikethrough");let f=l.move("~~");return f+=a.containerPhrasing(i,{...l.current(),before:f,after:"~"}),f+=l.move("~~"),c(),f}function peekDelete(){return"~"}function defaultStringLength(i){return i.length}function markdownTable(i,n){const a=n||{},s=(a.align||[]).concat(),l=a.stringLength||defaultStringLength,c=[],f=[],p=[],g=[];let y=0,b=-1;for(;++b<i.length;){const A=[],I=[];let R=-1;for(i[b].length>y&&(y=i[b].length);++R<i[b].length;){const P=serialize(i[b][R]);if(a.alignDelimiters!==!1){const $=l(P);I[R]=$,(g[R]===void 0||$>g[R])&&(g[R]=$)}A.push(P)}f[b]=A,p[b]=I}let h=-1;if(typeof s=="object"&&"length"in s)for(;++h<y;)c[h]=toAlignment(s[h]);else{const A=toAlignment(s);for(;++h<y;)c[h]=A}h=-1;const d=[],v=[];for(;++h<y;){const A=c[h];let I="",R="";A===99?(I=":",R=":"):A===108?I=":":A===114&&(R=":");let P=a.alignDelimiters===!1?1:Math.max(1,g[h]-I.length-R.length);const $=I+"-".repeat(P)+R;a.alignDelimiters!==!1&&(P=I.length+P+R.length,P>g[h]&&(g[h]=P),v[h]=P),d[h]=$}f.splice(1,0,d),p.splice(1,0,v),b=-1;const _=[];for(;++b<f.length;){const A=f[b],I=p[b];h=-1;const R=[];for(;++h<y;){const P=A[h]||"";let $="",M="";if(a.alignDelimiters!==!1){const B=g[h]-(I[h]||0),F=c[h];F===114?$=" ".repeat(B):F===99?B%2?($=" ".repeat(B/2+.5),M=" ".repeat(B/2-.5)):($=" ".repeat(B/2),M=$):M=" ".repeat(B)}a.delimiterStart!==!1&&!h&&R.push("|"),a.padding!==!1&&!(a.alignDelimiters===!1&&P==="")&&(a.delimiterStart!==!1||h)&&R.push(" "),a.alignDelimiters!==!1&&R.push($),R.push(P),a.alignDelimiters!==!1&&R.push(M),a.padding!==!1&&R.push(" "),(a.delimiterEnd!==!1||h!==y-1)&&R.push("|")}_.push(a.delimiterEnd===!1?R.join("").replace(/ +$/,""):R.join(""))}return _.join(`
`)}function serialize(i){return i==null?"":String(i)}function toAlignment(i){const n=typeof i=="string"?i.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function blockquote(i,n,a,s){const l=a.enter("blockquote"),c=a.createTracker(s);c.move("> "),c.shift(2);const f=a.indentLines(a.containerFlow(i,c.current()),map$1);return l(),f}function map$1(i,n,a){return">"+(a?"":" ")+i}function patternInScope(i,n){return listInScope(i,n.inConstruct,!0)&&!listInScope(i,n.notInConstruct,!1)}function listInScope(i,n,a){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return a;let s=-1;for(;++s<n.length;)if(i.includes(n[s]))return!0;return!1}function hardBreak(i,n,a,s){let l=-1;for(;++l<a.unsafe.length;)if(a.unsafe[l].character===`
`&&patternInScope(a.stack,a.unsafe[l]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function longestStreak(i,n){const a=String(i);let s=a.indexOf(n),l=s,c=0,f=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===l?++c>f&&(f=c):c=1,l=s+n.length,s=a.indexOf(n,l);return f}function formatCodeAsIndented(i,n){return!!(n.options.fences===!1&&i.value&&!i.lang&&/[^ \r\n]/.test(i.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(i.value))}function checkFence(i){const n=i.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function code$1(i,n,a,s){const l=checkFence(a),c=i.value||"",f=l==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(i,a)){const h=a.enter("codeIndented"),d=a.indentLines(c,map);return h(),d}const p=a.createTracker(s),g=l.repeat(Math.max(longestStreak(c,l)+1,3)),y=a.enter("codeFenced");let b=p.move(g);if(i.lang){const h=a.enter(`codeFencedLang${f}`);b+=p.move(a.safe(i.lang,{before:b,after:" ",encode:["`"],...p.current()})),h()}if(i.lang&&i.meta){const h=a.enter(`codeFencedMeta${f}`);b+=p.move(" "),b+=p.move(a.safe(i.meta,{before:b,after:`
`,encode:["`"],...p.current()})),h()}return b+=p.move(`
`),c&&(b+=p.move(c+`
`)),b+=p.move(g),y(),b}function map(i,n,a){return(a?"":"    ")+i}function checkQuote(i){const n=i.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function definition(i,n,a,s){const l=checkQuote(a),c=l==='"'?"Quote":"Apostrophe",f=a.enter("definition");let p=a.enter("label");const g=a.createTracker(s);let y=g.move("[");return y+=g.move(a.safe(a.associationId(i),{before:y,after:"]",...g.current()})),y+=g.move("]: "),p(),!i.url||/[\0- \u007F]/.test(i.url)?(p=a.enter("destinationLiteral"),y+=g.move("<"),y+=g.move(a.safe(i.url,{before:y,after:">",...g.current()})),y+=g.move(">")):(p=a.enter("destinationRaw"),y+=g.move(a.safe(i.url,{before:y,after:i.title?" ":`
`,...g.current()}))),p(),i.title&&(p=a.enter(`title${c}`),y+=g.move(" "+l),y+=g.move(a.safe(i.title,{before:y,after:l,...g.current()})),y+=g.move(l),p()),f(),y}function checkEmphasis(i){const n=i.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function encodeCharacterReference(i){return"&#x"+i.toString(16).toUpperCase()+";"}function encodeInfo(i,n,a){const s=classifyCharacter(i),l=classifyCharacter(n);return s===void 0?l===void 0?a==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:l===void 0?{inside:!1,outside:!1}:l===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(i,n,a,s){const l=checkEmphasis(a),c=a.enter("emphasis"),f=a.createTracker(s),p=f.move(l);let g=f.move(a.containerPhrasing(i,{after:l,before:p,...f.current()}));const y=g.charCodeAt(0),b=encodeInfo(s.before.charCodeAt(s.before.length-1),y,l);b.inside&&(g=encodeCharacterReference(y)+g.slice(1));const h=g.charCodeAt(g.length-1),d=encodeInfo(s.after.charCodeAt(0),h,l);d.inside&&(g=g.slice(0,-1)+encodeCharacterReference(h));const v=f.move(l);return c(),a.attentionEncodeSurroundingInfo={after:d.outside,before:b.outside},p+g+v}function emphasisPeek(i,n,a){return a.options.emphasis||"*"}function formatHeadingAsSetext(i,n){let a=!1;return visit(i,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return a=!0,EXIT}),!!((!i.depth||i.depth<3)&&toString$1(i)&&(n.options.setext||a))}function heading(i,n,a,s){const l=Math.max(Math.min(6,i.depth||1),1),c=a.createTracker(s);if(formatHeadingAsSetext(i,a)){const b=a.enter("headingSetext"),h=a.enter("phrasing"),d=a.containerPhrasing(i,{...c.current(),before:`
`,after:`
`});return h(),b(),d+`
`+(l===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const f="#".repeat(l),p=a.enter("headingAtx"),g=a.enter("phrasing");c.move(f+" ");let y=a.containerPhrasing(i,{before:"# ",after:`
`,...c.current()});return/^[\t ]/.test(y)&&(y=encodeCharacterReference(y.charCodeAt(0))+y.slice(1)),y=y?f+" "+y:f,a.options.closeAtx&&(y+=" "+f),g(),p(),y}html.peek=htmlPeek;function html(i){return i.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(i,n,a,s){const l=checkQuote(a),c=l==='"'?"Quote":"Apostrophe",f=a.enter("image");let p=a.enter("label");const g=a.createTracker(s);let y=g.move("![");return y+=g.move(a.safe(i.alt,{before:y,after:"]",...g.current()})),y+=g.move("]("),p(),!i.url&&i.title||/[\0- \u007F]/.test(i.url)?(p=a.enter("destinationLiteral"),y+=g.move("<"),y+=g.move(a.safe(i.url,{before:y,after:">",...g.current()})),y+=g.move(">")):(p=a.enter("destinationRaw"),y+=g.move(a.safe(i.url,{before:y,after:i.title?" ":")",...g.current()}))),p(),i.title&&(p=a.enter(`title${c}`),y+=g.move(" "+l),y+=g.move(a.safe(i.title,{before:y,after:l,...g.current()})),y+=g.move(l),p()),y+=g.move(")"),f(),y}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(i,n,a,s){const l=i.referenceType,c=a.enter("imageReference");let f=a.enter("label");const p=a.createTracker(s);let g=p.move("![");const y=a.safe(i.alt,{before:g,after:"]",...p.current()});g+=p.move(y+"]["),f();const b=a.stack;a.stack=[],f=a.enter("reference");const h=a.safe(a.associationId(i),{before:g,after:"]",...p.current()});return f(),a.stack=b,c(),l==="full"||!y||y!==h?g+=p.move(h+"]"):l==="shortcut"?g=g.slice(0,-1):g+=p.move("]"),g}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(i,n,a){let s=i.value||"",l="`",c=-1;for(;new RegExp("(^|[^`])"+l+"([^`]|$)").test(s);)l+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++c<a.unsafe.length;){const f=a.unsafe[c],p=a.compilePattern(f);let g;if(f.atBreak)for(;g=p.exec(s);){let y=g.index;s.charCodeAt(y)===10&&s.charCodeAt(y-1)===13&&y--,s=s.slice(0,y)+" "+s.slice(g.index+1)}}return l+s+l}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(i,n){const a=toString$1(i);return!!(!n.options.resourceLink&&i.url&&!i.title&&i.children&&i.children.length===1&&i.children[0].type==="text"&&(a===i.url||"mailto:"+a===i.url)&&/^[a-z][a-z+.-]+:/i.test(i.url)&&!/[\0- <>\u007F]/.test(i.url))}link.peek=linkPeek;function link(i,n,a,s){const l=checkQuote(a),c=l==='"'?"Quote":"Apostrophe",f=a.createTracker(s);let p,g;if(formatLinkAsAutolink(i,a)){const b=a.stack;a.stack=[],p=a.enter("autolink");let h=f.move("<");return h+=f.move(a.containerPhrasing(i,{before:h,after:">",...f.current()})),h+=f.move(">"),p(),a.stack=b,h}p=a.enter("link"),g=a.enter("label");let y=f.move("[");return y+=f.move(a.containerPhrasing(i,{before:y,after:"](",...f.current()})),y+=f.move("]("),g(),!i.url&&i.title||/[\0- \u007F]/.test(i.url)?(g=a.enter("destinationLiteral"),y+=f.move("<"),y+=f.move(a.safe(i.url,{before:y,after:">",...f.current()})),y+=f.move(">")):(g=a.enter("destinationRaw"),y+=f.move(a.safe(i.url,{before:y,after:i.title?" ":")",...f.current()}))),g(),i.title&&(g=a.enter(`title${c}`),y+=f.move(" "+l),y+=f.move(a.safe(i.title,{before:y,after:l,...f.current()})),y+=f.move(l),g()),y+=f.move(")"),p(),y}function linkPeek(i,n,a){return formatLinkAsAutolink(i,a)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(i,n,a,s){const l=i.referenceType,c=a.enter("linkReference");let f=a.enter("label");const p=a.createTracker(s);let g=p.move("[");const y=a.containerPhrasing(i,{before:g,after:"]",...p.current()});g+=p.move(y+"]["),f();const b=a.stack;a.stack=[],f=a.enter("reference");const h=a.safe(a.associationId(i),{before:g,after:"]",...p.current()});return f(),a.stack=b,c(),l==="full"||!y||y!==h?g+=p.move(h+"]"):l==="shortcut"?g=g.slice(0,-1):g+=p.move("]"),g}function linkReferencePeek(){return"["}function checkBullet(i){const n=i.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function checkBulletOther(i){const n=checkBullet(i),a=i.options.bulletOther;if(!a)return n==="*"?"-":"*";if(a!=="*"&&a!=="+"&&a!=="-")throw new Error("Cannot serialize items with `"+a+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(a===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+a+"`) to be different");return a}function checkBulletOrdered(i){const n=i.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function checkRule(i){const n=i.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function list(i,n,a,s){const l=a.enter("list"),c=a.bulletCurrent;let f=i.ordered?checkBulletOrdered(a):checkBullet(a);const p=i.ordered?f==="."?")":".":checkBulletOther(a);let g=n&&a.bulletLastUsed?f===a.bulletLastUsed:!1;if(!i.ordered){const b=i.children?i.children[0]:void 0;if((f==="*"||f==="-")&&b&&(!b.children||!b.children[0])&&a.stack[a.stack.length-1]==="list"&&a.stack[a.stack.length-2]==="listItem"&&a.stack[a.stack.length-3]==="list"&&a.stack[a.stack.length-4]==="listItem"&&a.indexStack[a.indexStack.length-1]===0&&a.indexStack[a.indexStack.length-2]===0&&a.indexStack[a.indexStack.length-3]===0&&(g=!0),checkRule(a)===f&&b){let h=-1;for(;++h<i.children.length;){const d=i.children[h];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){g=!0;break}}}}g&&(f=p),a.bulletCurrent=f;const y=a.containerFlow(i,s);return a.bulletLastUsed=f,a.bulletCurrent=c,l(),y}function checkListItemIndent(i){const n=i.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function listItem(i,n,a,s){const l=checkListItemIndent(a);let c=a.bulletCurrent||checkBullet(a);n&&n.type==="list"&&n.ordered&&(c=(typeof n.start=="number"&&n.start>-1?n.start:1)+(a.options.incrementListMarker===!1?0:n.children.indexOf(i))+c);let f=c.length+1;(l==="tab"||l==="mixed"&&(n&&n.type==="list"&&n.spread||i.spread))&&(f=Math.ceil(f/4)*4);const p=a.createTracker(s);p.move(c+" ".repeat(f-c.length)),p.shift(f);const g=a.enter("listItem"),y=a.indentLines(a.containerFlow(i,p.current()),b);return g(),y;function b(h,d,v){return d?(v?"":" ".repeat(f))+h:(v?c:c+" ".repeat(f-c.length))+h}}function paragraph(i,n,a,s){const l=a.enter("paragraph"),c=a.enter("phrasing"),f=a.containerPhrasing(i,s);return c(),l(),f}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(i,n,a,s){return(i.children.some(function(f){return phrasing(f)})?a.containerPhrasing:a.containerFlow).call(a,i,s)}function checkStrong(i){const n=i.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}strong.peek=strongPeek;function strong(i,n,a,s){const l=checkStrong(a),c=a.enter("strong"),f=a.createTracker(s),p=f.move(l+l);let g=f.move(a.containerPhrasing(i,{after:l,before:p,...f.current()}));const y=g.charCodeAt(0),b=encodeInfo(s.before.charCodeAt(s.before.length-1),y,l);b.inside&&(g=encodeCharacterReference(y)+g.slice(1));const h=g.charCodeAt(g.length-1),d=encodeInfo(s.after.charCodeAt(0),h,l);d.inside&&(g=g.slice(0,-1)+encodeCharacterReference(h));const v=f.move(l+l);return c(),a.attentionEncodeSurroundingInfo={after:d.outside,before:b.outside},p+g+v}function strongPeek(i,n,a){return a.options.strong||"*"}function text$1(i,n,a,s){return a.safe(i.value,s)}function checkRuleRepetition(i){const n=i.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function thematicBreak(i,n,a){const s=(checkRule(a)+(a.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(a));return a.options.ruleSpaces?s.slice(0,-1):s}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(i){const n=i._align;this.enter({type:"table",align:n.map(function(a){return a==="none"?null:a}),children:[]},i),this.data.inTable=!0}function exitTable(i){this.exit(i),this.data.inTable=void 0}function enterRow(i){this.enter({type:"tableRow",children:[]},i)}function exit(i){this.exit(i)}function enterCell(i){this.enter({type:"tableCell",children:[]},i)}function exitCodeText(i){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,replace));const a=this.stack[this.stack.length-1];a.type,a.value=n,this.exit(i)}function replace(i,n){return n==="|"?n:i}function gfmTableToMarkdown(i){const n=i||{},a=n.tableCellPadding,s=n.tablePipeAlign,l=n.stringLength,c=a?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:f,tableCell:g,tableRow:p}};function f(v,_,A,I){return y(b(v,A,I),v.align)}function p(v,_,A,I){const R=h(v,A,I),P=y([R]);return P.slice(0,P.indexOf(`
`))}function g(v,_,A,I){const R=A.enter("tableCell"),P=A.enter("phrasing"),$=A.containerPhrasing(v,{...I,before:c,after:c});return P(),R(),$}function y(v,_){return markdownTable(v,{align:_,alignDelimiters:s,padding:a,stringLength:l})}function b(v,_,A){const I=v.children;let R=-1;const P=[],$=_.enter("table");for(;++R<I.length;)P[R]=h(I[R],_,A);return $(),P}function h(v,_,A){const I=v.children;let R=-1;const P=[],$=_.enter("tableRow");for(;++R<I.length;)P[R]=g(I[R],v,_,A);return $(),P}function d(v,_,A){let I=handle.inlineCode(v,_,A);return A.stack.includes("tableCell")&&(I=I.replace(/\|/g,"\\$&")),I}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(i){const n=this.stack[this.stack.length-2];n.type,n.checked=i.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(i){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const a=this.stack[this.stack.length-1];a.type;const s=a.children[0];if(s&&s.type==="text"){const l=n.children;let c=-1,f;for(;++c<l.length;){const p=l[c];if(p.type==="paragraph"){f=p;break}}f===a&&(s.value=s.value.slice(1),s.value.length===0?a.children.shift():a.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,a.position.start=Object.assign({},s.position.start)))}}this.exit(i)}function listItemWithTaskListItem(i,n,a,s){const l=i.children[0],c=typeof i.checked=="boolean"&&l&&l.type==="paragraph",f="["+(i.checked?"x":" ")+"] ",p=a.createTracker(s);c&&p.move(f);let g=handle.listItem(i,n,a,{...s,...p.current()});return c&&(g=g.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,y)),g;function y(b){return b+f}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(i){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(i),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(i),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(i,n,a){const s=this;let l,c;return f;function f(h){return!gfmAtext(h)||!previousEmail.call(s,s.previous)||previousUnbalanced(s.events)?a(h):(i.enter("literalAutolink"),i.enter("literalAutolinkEmail"),p(h))}function p(h){return gfmAtext(h)?(i.consume(h),p):h===64?(i.consume(h),g):a(h)}function g(h){return h===46?i.check(emailDomainDotTrail,b,y)(h):h===45||h===95||asciiAlphanumeric(h)?(c=!0,i.consume(h),g):b(h)}function y(h){return i.consume(h),l=!0,g}function b(h){return c&&l&&asciiAlpha(s.previous)?(i.exit("literalAutolinkEmail"),i.exit("literalAutolink"),n(h)):a(h)}}function tokenizeWwwAutolink(i,n,a){const s=this;return l;function l(f){return f!==87&&f!==119||!previousWww.call(s,s.previous)||previousUnbalanced(s.events)?a(f):(i.enter("literalAutolink"),i.enter("literalAutolinkWww"),i.check(wwwPrefix,i.attempt(domain,i.attempt(path,c),a),a)(f))}function c(f){return i.exit("literalAutolinkWww"),i.exit("literalAutolink"),n(f)}}function tokenizeProtocolAutolink(i,n,a){const s=this;let l="",c=!1;return f;function f(h){return(h===72||h===104)&&previousProtocol.call(s,s.previous)&&!previousUnbalanced(s.events)?(i.enter("literalAutolink"),i.enter("literalAutolinkHttp"),l+=String.fromCodePoint(h),i.consume(h),p):a(h)}function p(h){if(asciiAlpha(h)&&l.length<5)return l+=String.fromCodePoint(h),i.consume(h),p;if(h===58){const d=l.toLowerCase();if(d==="http"||d==="https")return i.consume(h),g}return a(h)}function g(h){return h===47?(i.consume(h),c?y:(c=!0,g)):a(h)}function y(h){return h===null||asciiControl(h)||markdownLineEndingOrSpace(h)||unicodeWhitespace(h)||unicodePunctuation(h)?a(h):i.attempt(domain,i.attempt(path,b),a)(h)}function b(h){return i.exit("literalAutolinkHttp"),i.exit("literalAutolink"),n(h)}}function tokenizeWwwPrefix(i,n,a){let s=0;return l;function l(f){return(f===87||f===119)&&s<3?(s++,i.consume(f),l):f===46&&s===3?(i.consume(f),c):a(f)}function c(f){return f===null?a(f):n(f)}}function tokenizeDomain(i,n,a){let s,l,c;return f;function f(y){return y===46||y===95?i.check(trail,g,p)(y):y===null||markdownLineEndingOrSpace(y)||unicodeWhitespace(y)||y!==45&&unicodePunctuation(y)?g(y):(c=!0,i.consume(y),f)}function p(y){return y===95?s=!0:(l=s,s=void 0),i.consume(y),f}function g(y){return l||s||!c?a(y):n(y)}}function tokenizePath(i,n){let a=0,s=0;return l;function l(f){return f===40?(a++,i.consume(f),l):f===41&&s<a?c(f):f===33||f===34||f===38||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===60||f===63||f===93||f===95||f===126?i.check(trail,n,c)(f):f===null||markdownLineEndingOrSpace(f)||unicodeWhitespace(f)?n(f):(i.consume(f),l)}function c(f){return f===41&&s++,i.consume(f),l}}function tokenizeTrail(i,n,a){return s;function s(p){return p===33||p===34||p===39||p===41||p===42||p===44||p===46||p===58||p===59||p===63||p===95||p===126?(i.consume(p),s):p===38?(i.consume(p),c):p===93?(i.consume(p),l):p===60||p===null||markdownLineEndingOrSpace(p)||unicodeWhitespace(p)?n(p):a(p)}function l(p){return p===null||p===40||p===91||markdownLineEndingOrSpace(p)||unicodeWhitespace(p)?n(p):s(p)}function c(p){return asciiAlpha(p)?f(p):a(p)}function f(p){return p===59?(i.consume(p),s):asciiAlpha(p)?(i.consume(p),f):a(p)}}function tokenizeEmailDomainDotTrail(i,n,a){return s;function s(c){return i.consume(c),l}function l(c){return asciiAlphanumeric(c)?a(c):n(c)}}function previousWww(i){return i===null||i===40||i===42||i===95||i===91||i===93||i===126||markdownLineEndingOrSpace(i)}function previousProtocol(i){return!asciiAlpha(i)}function previousEmail(i){return!(i===47||gfmAtext(i))}function gfmAtext(i){return i===43||i===45||i===46||i===95||asciiAlphanumeric(i)}function previousUnbalanced(i){let n=i.length,a=!1;for(;n--;){const s=i[n][1];if((s.type==="labelLink"||s.type==="labelImage")&&!s._balanced){a=!0;break}if(s._gfmAutolinkLiteralWalkedInto){a=!1;break}}return i.length>0&&!a&&(i[i.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),a}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(i,n,a){const s=this;let l=s.events.length;const c=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let f;for(;l--;){const g=s.events[l][1];if(g.type==="labelImage"){f=g;break}if(g.type==="gfmFootnoteCall"||g.type==="labelLink"||g.type==="label"||g.type==="image"||g.type==="link")break}return p;function p(g){if(!f||!f._balanced)return a(g);const y=normalizeIdentifier(s.sliceSerialize({start:f.end,end:s.now()}));return y.codePointAt(0)!==94||!c.includes(y.slice(1))?a(g):(i.enter("gfmFootnoteCallLabelMarker"),i.consume(g),i.exit("gfmFootnoteCallLabelMarker"),n(g))}}function resolveToPotentialGfmFootnoteCall(i,n){let a=i.length;for(;a--;)if(i[a][1].type==="labelImage"&&i[a][0]==="enter"){i[a][1];break}i[a+1][1].type="data",i[a+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},i[a+3][1].start),end:Object.assign({},i[i.length-1][1].end)},l={type:"gfmFootnoteCallMarker",start:Object.assign({},i[a+3][1].end),end:Object.assign({},i[a+3][1].end)};l.end.column++,l.end.offset++,l.end._bufferIndex++;const c={type:"gfmFootnoteCallString",start:Object.assign({},l.end),end:Object.assign({},i[i.length-1][1].start)},f={type:"chunkString",contentType:"string",start:Object.assign({},c.start),end:Object.assign({},c.end)},p=[i[a+1],i[a+2],["enter",s,n],i[a+3],i[a+4],["enter",l,n],["exit",l,n],["enter",c,n],["enter",f,n],["exit",f,n],["exit",c,n],i[i.length-2],i[i.length-1],["exit",s,n]];return i.splice(a,i.length-a+1,...p),i}function tokenizeGfmFootnoteCall(i,n,a){const s=this,l=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c=0,f;return p;function p(h){return i.enter("gfmFootnoteCall"),i.enter("gfmFootnoteCallLabelMarker"),i.consume(h),i.exit("gfmFootnoteCallLabelMarker"),g}function g(h){return h!==94?a(h):(i.enter("gfmFootnoteCallMarker"),i.consume(h),i.exit("gfmFootnoteCallMarker"),i.enter("gfmFootnoteCallString"),i.enter("chunkString").contentType="string",y)}function y(h){if(c>999||h===93&&!f||h===null||h===91||markdownLineEndingOrSpace(h))return a(h);if(h===93){i.exit("chunkString");const d=i.exit("gfmFootnoteCallString");return l.includes(normalizeIdentifier(s.sliceSerialize(d)))?(i.enter("gfmFootnoteCallLabelMarker"),i.consume(h),i.exit("gfmFootnoteCallLabelMarker"),i.exit("gfmFootnoteCall"),n):a(h)}return markdownLineEndingOrSpace(h)||(f=!0),c++,i.consume(h),h===92?b:y}function b(h){return h===91||h===92||h===93?(i.consume(h),c++,y):y(h)}}function tokenizeDefinitionStart(i,n,a){const s=this,l=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let c,f=0,p;return g;function g(_){return i.enter("gfmFootnoteDefinition")._container=!0,i.enter("gfmFootnoteDefinitionLabel"),i.enter("gfmFootnoteDefinitionLabelMarker"),i.consume(_),i.exit("gfmFootnoteDefinitionLabelMarker"),y}function y(_){return _===94?(i.enter("gfmFootnoteDefinitionMarker"),i.consume(_),i.exit("gfmFootnoteDefinitionMarker"),i.enter("gfmFootnoteDefinitionLabelString"),i.enter("chunkString").contentType="string",b):a(_)}function b(_){if(f>999||_===93&&!p||_===null||_===91||markdownLineEndingOrSpace(_))return a(_);if(_===93){i.exit("chunkString");const A=i.exit("gfmFootnoteDefinitionLabelString");return c=normalizeIdentifier(s.sliceSerialize(A)),i.enter("gfmFootnoteDefinitionLabelMarker"),i.consume(_),i.exit("gfmFootnoteDefinitionLabelMarker"),i.exit("gfmFootnoteDefinitionLabel"),d}return markdownLineEndingOrSpace(_)||(p=!0),f++,i.consume(_),_===92?h:b}function h(_){return _===91||_===92||_===93?(i.consume(_),f++,b):b(_)}function d(_){return _===58?(i.enter("definitionMarker"),i.consume(_),i.exit("definitionMarker"),l.includes(c)||l.push(c),factorySpace(i,v,"gfmFootnoteDefinitionWhitespace")):a(_)}function v(_){return n(_)}}function tokenizeDefinitionContinuation(i,n,a){return i.check(blankLine,n,i.attempt(indent,n,a))}function gfmFootnoteDefinitionEnd(i){i.exit("gfmFootnoteDefinition")}function tokenizeIndent(i,n,a){const s=this;return factorySpace(i,l,"gfmFootnoteDefinitionIndent",5);function l(c){const f=s.events[s.events.length-1];return f&&f[1].type==="gfmFootnoteDefinitionIndent"&&f[2].sliceSerialize(f[1],!0).length===4?n(c):a(c)}}function gfmStrikethrough(i){let a=(i||{}).singleTilde;const s={name:"strikethrough",tokenize:c,resolveAll:l};return a==null&&(a=!0),{text:{126:s},insideSpan:{null:[s]},attentionMarkers:{null:[126]}};function l(f,p){let g=-1;for(;++g<f.length;)if(f[g][0]==="enter"&&f[g][1].type==="strikethroughSequenceTemporary"&&f[g][1]._close){let y=g;for(;y--;)if(f[y][0]==="exit"&&f[y][1].type==="strikethroughSequenceTemporary"&&f[y][1]._open&&f[g][1].end.offset-f[g][1].start.offset===f[y][1].end.offset-f[y][1].start.offset){f[g][1].type="strikethroughSequence",f[y][1].type="strikethroughSequence";const b={type:"strikethrough",start:Object.assign({},f[y][1].start),end:Object.assign({},f[g][1].end)},h={type:"strikethroughText",start:Object.assign({},f[y][1].end),end:Object.assign({},f[g][1].start)},d=[["enter",b,p],["enter",f[y][1],p],["exit",f[y][1],p],["enter",h,p]],v=p.parser.constructs.insideSpan.null;v&&splice(d,d.length,0,resolveAll(v,f.slice(y+1,g),p)),splice(d,d.length,0,[["exit",h,p],["enter",f[g][1],p],["exit",f[g][1],p],["exit",b,p]]),splice(f,y-1,g-y+3,d),g=y+d.length-2;break}}for(g=-1;++g<f.length;)f[g][1].type==="strikethroughSequenceTemporary"&&(f[g][1].type="data");return f}function c(f,p,g){const y=this.previous,b=this.events;let h=0;return d;function d(_){return y===126&&b[b.length-1][1].type!=="characterEscape"?g(_):(f.enter("strikethroughSequenceTemporary"),v(_))}function v(_){const A=classifyCharacter(y);if(_===126)return h>1?g(_):(f.consume(_),h++,v);if(h<2&&!a)return g(_);const I=f.exit("strikethroughSequenceTemporary"),R=classifyCharacter(_);return I._open=!R||R===2&&!!A,I._close=!A||A===2&&!!R,p(_)}}}class EditMap{constructor(){this.map=[]}add(n,a,s){addImplementation(this,n,a,s)}consume(n){if(this.map.sort(function(c,f){return c[0]-f[0]}),this.map.length===0)return;let a=this.map.length;const s=[];for(;a>0;)a-=1,s.push(n.slice(this.map[a][0]+this.map[a][1]),this.map[a][2]),n.length=this.map[a][0];s.push(n.slice()),n.length=0;let l=s.pop();for(;l;){for(const c of l)n.push(c);l=s.pop()}this.map.length=0}}function addImplementation(i,n,a,s){let l=0;if(!(a===0&&s.length===0)){for(;l<i.map.length;){if(i.map[l][0]===n){i.map[l][1]+=a,i.map[l][2].push(...s);return}l+=1}i.map.push([n,a,s])}}function gfmTableAlign(i,n){let a=!1;const s=[];for(;n<i.length;){const l=i[n];if(a){if(l[0]==="enter")l[1].type==="tableContent"&&s.push(i[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(l[1].type==="tableContent"){if(i[n-1][1].type==="tableDelimiterMarker"){const c=s.length-1;s[c]=s[c]==="left"?"center":"right"}}else if(l[1].type==="tableDelimiterRow")break}else l[0]==="enter"&&l[1].type==="tableDelimiterRow"&&(a=!0);n+=1}return s}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(i,n,a){const s=this;let l=0,c=0,f;return p;function p(L){let ee=s.events.length-1;for(;ee>-1;){const X=s.events[ee][1].type;if(X==="lineEnding"||X==="linePrefix")ee--;else break}const Z=ee>-1?s.events[ee][1].type:null,V=Z==="tableHead"||Z==="tableRow"?F:g;return V===F&&s.parser.lazy[s.now().line]?a(L):V(L)}function g(L){return i.enter("tableHead"),i.enter("tableRow"),y(L)}function y(L){return L===124||(f=!0,c+=1),b(L)}function b(L){return L===null?a(L):markdownLineEnding(L)?c>1?(c=0,s.interrupt=!0,i.exit("tableRow"),i.enter("lineEnding"),i.consume(L),i.exit("lineEnding"),v):a(L):markdownSpace(L)?factorySpace(i,b,"whitespace")(L):(c+=1,f&&(f=!1,l+=1),L===124?(i.enter("tableCellDivider"),i.consume(L),i.exit("tableCellDivider"),f=!0,b):(i.enter("data"),h(L)))}function h(L){return L===null||L===124||markdownLineEndingOrSpace(L)?(i.exit("data"),b(L)):(i.consume(L),L===92?d:h)}function d(L){return L===92||L===124?(i.consume(L),h):h(L)}function v(L){return s.interrupt=!1,s.parser.lazy[s.now().line]?a(L):(i.enter("tableDelimiterRow"),f=!1,markdownSpace(L)?factorySpace(i,_,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):_(L))}function _(L){return L===45||L===58?I(L):L===124?(f=!0,i.enter("tableCellDivider"),i.consume(L),i.exit("tableCellDivider"),A):B(L)}function A(L){return markdownSpace(L)?factorySpace(i,I,"whitespace")(L):I(L)}function I(L){return L===58?(c+=1,f=!0,i.enter("tableDelimiterMarker"),i.consume(L),i.exit("tableDelimiterMarker"),R):L===45?(c+=1,R(L)):L===null||markdownLineEnding(L)?M(L):B(L)}function R(L){return L===45?(i.enter("tableDelimiterFiller"),P(L)):B(L)}function P(L){return L===45?(i.consume(L),P):L===58?(f=!0,i.exit("tableDelimiterFiller"),i.enter("tableDelimiterMarker"),i.consume(L),i.exit("tableDelimiterMarker"),$):(i.exit("tableDelimiterFiller"),$(L))}function $(L){return markdownSpace(L)?factorySpace(i,M,"whitespace")(L):M(L)}function M(L){return L===124?_(L):L===null||markdownLineEnding(L)?!f||l!==c?B(L):(i.exit("tableDelimiterRow"),i.exit("tableHead"),n(L)):B(L)}function B(L){return a(L)}function F(L){return i.enter("tableRow"),q(L)}function q(L){return L===124?(i.enter("tableCellDivider"),i.consume(L),i.exit("tableCellDivider"),q):L===null||markdownLineEnding(L)?(i.exit("tableRow"),n(L)):markdownSpace(L)?factorySpace(i,q,"whitespace")(L):(i.enter("data"),H(L))}function H(L){return L===null||L===124||markdownLineEndingOrSpace(L)?(i.exit("data"),q(L)):(i.consume(L),L===92?z:H)}function z(L){return L===92||L===124?(i.consume(L),H):H(L)}}function resolveTable(i,n){let a=-1,s=!0,l=0,c=[0,0,0,0],f=[0,0,0,0],p=!1,g=0,y,b,h;const d=new EditMap;for(;++a<i.length;){const v=i[a],_=v[1];v[0]==="enter"?_.type==="tableHead"?(p=!1,g!==0&&(flushTableEnd(d,n,g,y,b),b=void 0,g=0),y={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},d.add(a,0,[["enter",y,n]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(s=!0,h=void 0,c=[0,0,0,0],f=[0,a+1,0,0],p&&(p=!1,b={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},d.add(a,0,[["enter",b,n]])),l=_.type==="tableDelimiterRow"?2:b?3:1):l&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(s=!1,f[2]===0&&(c[1]!==0&&(f[0]=f[1],h=flushCell(d,n,c,l,void 0,h),c=[0,0,0,0]),f[2]=a)):_.type==="tableCellDivider"&&(s?s=!1:(c[1]!==0&&(f[0]=f[1],h=flushCell(d,n,c,l,void 0,h)),c=f,f=[c[1],a,0,0])):_.type==="tableHead"?(p=!0,g=a):_.type==="tableRow"||_.type==="tableDelimiterRow"?(g=a,c[1]!==0?(f[0]=f[1],h=flushCell(d,n,c,l,a,h)):f[1]!==0&&(h=flushCell(d,n,f,l,a,h)),l=0):l&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(f[3]=a)}for(g!==0&&flushTableEnd(d,n,g,y,b),d.consume(n.events),a=-1;++a<n.events.length;){const v=n.events[a];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=gfmTableAlign(n.events,a))}return i}function flushCell(i,n,a,s,l,c){const f=s===1?"tableHeader":s===2?"tableDelimiter":"tableData",p="tableContent";a[0]!==0&&(c.end=Object.assign({},getPoint(n.events,a[0])),i.add(a[0],0,[["exit",c,n]]));const g=getPoint(n.events,a[1]);if(c={type:f,start:Object.assign({},g),end:Object.assign({},g)},i.add(a[1],0,[["enter",c,n]]),a[2]!==0){const y=getPoint(n.events,a[2]),b=getPoint(n.events,a[3]),h={type:p,start:Object.assign({},y),end:Object.assign({},b)};if(i.add(a[2],0,[["enter",h,n]]),s!==2){const d=n.events[a[2]],v=n.events[a[3]];if(d[1].end=Object.assign({},v[1].end),d[1].type="chunkText",d[1].contentType="text",a[3]>a[2]+1){const _=a[2]+1,A=a[3]-a[2]-1;i.add(_,A,[])}}i.add(a[3]+1,0,[["exit",h,n]])}return l!==void 0&&(c.end=Object.assign({},getPoint(n.events,l)),i.add(l,0,[["exit",c,n]]),c=void 0),c}function flushTableEnd(i,n,a,s,l){const c=[],f=getPoint(n.events,a);l&&(l.end=Object.assign({},f),c.push(["exit",l,n])),s.end=Object.assign({},f),c.push(["exit",s,n]),i.add(a+1,0,c)}function getPoint(i,n){const a=i[n],s=a[0]==="enter"?"start":"end";return a[1][s]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(i,n,a){const s=this;return l;function l(g){return s.previous!==null||!s._gfmTasklistFirstContentOfListItem?a(g):(i.enter("taskListCheck"),i.enter("taskListCheckMarker"),i.consume(g),i.exit("taskListCheckMarker"),c)}function c(g){return markdownLineEndingOrSpace(g)?(i.enter("taskListCheckValueUnchecked"),i.consume(g),i.exit("taskListCheckValueUnchecked"),f):g===88||g===120?(i.enter("taskListCheckValueChecked"),i.consume(g),i.exit("taskListCheckValueChecked"),f):a(g)}function f(g){return g===93?(i.enter("taskListCheckMarker"),i.consume(g),i.exit("taskListCheckMarker"),i.exit("taskListCheck"),p):a(g)}function p(g){return markdownLineEnding(g)?n(g):markdownSpace(g)?i.check({tokenize:spaceThenNonSpace},n,a)(g):a(g)}}function spaceThenNonSpace(i,n,a){return factorySpace(i,s,"whitespace");function s(l){return l===null?a(l):n(l)}}function gfm(i){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(i),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(i){const n=this,a=i||emptyOptions,s=n.data(),l=s.micromarkExtensions||(s.micromarkExtensions=[]),c=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),f=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);l.push(gfm(a)),c.push(gfmFromMarkdown()),f.push(gfmToMarkdown(a))}const ContentCopyIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),CopyBlock=({children:i,text:n})=>jsxRuntimeExports.jsxs(Box,{sx:{position:"relative","&:hover .copy-button":{opacity:1}},children:[jsxRuntimeExports.jsx(IconButton,{onClick:a=>{a.stopPropagation(),navigator.clipboard.writeText(n)},className:"copy-button",sx:{position:"absolute",top:0,right:0,opacity:0,transition:"opacity 0.3s"},children:jsxRuntimeExports.jsx(ContentCopyIcon,{})}),i]}),elementToText=i=>isUndefined(i)?"":i.children?i.children.map(n=>elementToText(n)).join(""):i.type==="text"?i.value??"":"",MarkdownRenderer=({text:i,isComplete:n=!0,sx:a={},...s})=>jsxRuntimeExports.jsxs(Box,{sx:{wordWrap:"break-word",overflowWrap:"break-word","& code":{whiteSpace:"pre-wrap",wordBreak:"break-word"},...a},...s,children:[jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkGfm],components:{code({node:l,className:c,children:f,...p}){return jsxRuntimeExports.jsx(CopyBlock,{text:elementToText(l),children:jsxRuntimeExports.jsx("code",{className:c,...p,children:f})})}},children:i}),!n&&jsxRuntimeExports.jsx(Box,{sx:{position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)"},children:jsxRuntimeExports.jsx(CircularProgress,{size:24})})]}),AutoFixHigh=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.996.996 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"}),"AutoFixHigh"),CancelIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Image$1=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),MenuIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),NoteIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"m22 10-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99zm-7-4.5 5.5 5.5H15z"}),"Note"),Send=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Update=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8z"}),"Update"),UploadFile=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),CONTENT_IMAGE_CACHE=Caches.create(),getBlobUrl=i=>{const n=Bytes.toBlob(i.value,i.contentType),a=`${i.id}-${i.updatedAt}`;return CONTENT_IMAGE_CACHE.get(a,()=>{const s=URL.createObjectURL(n);return setTimeout(()=>{CONTENT_IMAGE_CACHE.delete(a),URL.revokeObjectURL(s)},60*10*1e3),s})},ContentImage=({content:i,onAbort:n,...a})=>{const[s,l]=reactExports.useState(void 0);return reactExports.useEffect(()=>{if(!i||!(i!=null&&i.value)){l(void 0);return}const c=getBlobUrl(i);return l(c),()=>{}},[i]),s?i!=null&&i.finalized?jsxRuntimeExports.jsx("img",{src:s,...a}):jsxRuntimeExports.jsxs(Box$1,{position:"relative",children:[jsxRuntimeExports.jsx("img",{src:s,...a}),jsxRuntimeExports.jsx(CircularProgress,{onClick:()=>n==null?void 0:n(),style:{position:"absolute",top:"0px",left:"0px",zIndex:10}})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})},AlternativePicker=({content:i,onPick:n,onRemove:a,...s})=>isUndefined(i==null?void 0:i.alternatives)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsx(Stack,{...s,children:i.alternatives.map((l,c)=>jsxRuntimeExports.jsx(Stack,{direction:"row",spacing:1,children:jsxRuntimeExports.jsxs(Stack,{border:1,borderColor:"grey.400",borderRadius:2,padding:1,children:[jsxRuntimeExports.jsx(ContentImage,{style:{maxHeight:"2em",objectFit:"contain"},content:l},c),jsxRuntimeExports.jsx(Button,{onClick:()=>{console.log("set local value to",l),n(l)},children:"Use"}),jsxRuntimeExports.jsx(Button,{color:"warning",onClick:()=>{a(c)},children:"Remove"})]})},c))}),generateImage=async({draft:i={},request:n,onUpdate:a})=>{console.log("Generating image...",n);const s=await getConnection(),l=new AbortController,{setAbortController:c}=useAppState.getState();return c(l),l.signal.addEventListener("abort",()=>{console.log("Got Abort signal!!!!")}),new Promise(async(f,p)=>{await s.requestMany({signal:l.signal,onResponse:g=>{console.log("Got response",g);const y={id:i.id??Ids.fromObjectStore(CONTENT_OBJECT_STORE),createdAt:i.createdAt??Date.now(),...i??{},finalized:g.aborted?!0:g.finalized,contentType:"image/png",value:first(g.images),updatedAt:Date.now(),source:n,progress:{current:(g.progress??0)*100,total:100,etaSeconds:g.etaSeconds}};a==null||a(y),y.finalized&&f(y)},subject:"imagegen.txt2img",request:{body:{prompt:n.prompt??"",...n}}})})},DEFAULT_IMAGEGEN_REQUEST={steps:10,width:512,height:512,cfg_scale:7},GenerateImageDialog=({open:i,value:n,onClose:a,onSave:s,title:l="Generate Image",defaultRequest:c=DEFAULT_IMAGEGEN_REQUEST})=>{const{abortController:f}=useAppState(),[p,g]=reactExports.useState(n),[y,b]=reactExports.useState({...DEFAULT_IMAGEGEN_REQUEST,...c,...(n==null?void 0:n.source)??{}}),h=()=>{const d={...p??{id:Ids.fromObjectStore(CONTENT_OBJECT_STORE),createdAt:Date.now()},contentType:"image/png",value:(p==null?void 0:p.value)??"",updatedAt:Date.now(),alternatives:[...(p==null?void 0:p.alternatives)??[],n].filter(isDefined$1)};s(d),a()};return reactExports.useEffect(()=>{g(n),b({...DEFAULT_IMAGEGEN_REQUEST,...c,...(n==null?void 0:n.source)??{}})},[n,c]),jsxRuntimeExports.jsxs(Dialog,{open:i,onClose:a,fullWidth:!0,maxWidth:"sm",children:[jsxRuntimeExports.jsx(DialogTitle,{children:l}),jsxRuntimeExports.jsx(DialogContent,{dividers:!0,children:jsxRuntimeExports.jsxs(Stack,{gap:2,children:[jsxRuntimeExports.jsxs(Stack,{direction:"row",spacing:2,children:[jsxRuntimeExports.jsx(FileUpload,{onChange:async function(d){if(isUndefined(d))return;const v=await d.arrayBuffer(),_={...p??{id:Ids.fromObjectStore(CONTENT_OBJECT_STORE),createdAt:Date.now()},contentType:"image/png",value:v,updatedAt:Date.now()};console.log("updatedContent",_),g(_)},renderFile:function(d){return jsxRuntimeExports.jsx(ContentView,{contentType:"image/png",contentId:p==null?void 0:p.id,imgProps:{style:{maxHeight:"8em"}}})}}),jsxRuntimeExports.jsx(ContentImage,{onAbort:()=>{console.log("aborting"),f==null||f.abort()},content:p,style:{height:"20em"}})]}),jsxRuntimeExports.jsx(AlternativePicker,{onRemove:d=>{if(isUndefined(p))return;const v={...p,updatedAt:Date.now(),alternatives:((p==null?void 0:p.alternatives)??[]).filter((_,A)=>A!==d)};g(v)},onPick:d=>{if(isUndefined(p))return;const v={...p,contentType:d.contentType,value:d.value,updatedAt:Date.now(),alternatives:[...((p==null?void 0:p.alternatives)??[]).filter(_=>_.updatedAt!==d.updatedAt),{...p,alternatives:[]}].filter(isDefined$1)};g(v),isDefined$1(d.source)&&b(d.source)},content:p,sx:{maxWidth:"100%",overflow:"auto"},direction:"row",spacing:"0.5em"}),jsxRuntimeExports.jsx(TextField,{label:"Prompt",value:y.prompt,onChange:d=>b(v=>({...v,prompt:d.target.value})),fullWidth:!0,multiline:!0,variant:"outlined",placeholder:"Enter prompt here..."}),jsxRuntimeExports.jsx(TextField,{label:"Negative Prompt",color:"secondary",value:y.negative_prompt,onChange:d=>b(v=>({...v,negative_prompt:d.target.value})),fullWidth:!0,multiline:!0,variant:"outlined",placeholder:"Enter negative prompt here..."}),jsxRuntimeExports.jsxs(Box,{component:"form",noValidate:!0,sx:{display:"grid",gridTemplateColumns:{sm:"1fr 1fr"},gap:2},children:[jsxRuntimeExports.jsx(TextField,{label:"Width",value:y.width,onChange:d=>b(v=>({...v,width:parseInt(d.target.value)})),variant:"outlined",type:"number"}),jsxRuntimeExports.jsx(TextField,{label:"Height",value:y.height,onChange:d=>b(v=>({...v,height:parseInt(d.target.value)})),variant:"outlined",type:"number"}),jsxRuntimeExports.jsx(TextField,{label:"Steps",value:y.steps,onChange:d=>b(v=>({...v,steps:parseInt(d.target.value)})),variant:"outlined",type:"number"}),jsxRuntimeExports.jsx(TextField,{label:"Cfg Scale",value:y.cfg_scale,onChange:d=>b(v=>({...v,cfg_scale:parseInt(d.target.value)})),variant:"outlined",type:"number"})]}),jsxRuntimeExports.jsx(Button,{onClick:()=>{generateImage({draft:p,request:y,onUpdate:d=>{g(d)}})},children:"Generate"})]})}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:a,color:"primary",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:h,color:"primary",variant:"contained",children:"Save"})]})]})},GenContentImage=({onUpdate:i,defaultRequest:n,...a})=>{const[s,l]=reactExports.useState(!1),[c,f]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[a.content?jsxRuntimeExports.jsx(ContentImage,{...a}):jsxRuntimeExports.jsx(Box,{sx:{width:"100%",height:"100%",backgroundColor:"grey.300",display:"flex",alignItems:"center",justifyContent:"center"},children:"No Image"}),i&&s&&jsxRuntimeExports.jsx(IconButton,{onClick:()=>f(!0),style:{position:"absolute",bottom:"0px",right:"0px",zIndex:10},children:jsxRuntimeExports.jsx(Update,{})})]}),jsxRuntimeExports.jsx(GenerateImageDialog,{open:c,value:a.content,defaultRequest:n,onClose:()=>f(!1),onSave:async p=>{i==null||i(p),f(!1)}})]})},ContentView=({contentId:i,imgProps:n,onUpdate:a,contentType:s,defaultImagegenRequest:l,...c})=>{const f=useData(i),p=(f==null?void 0:f.contentType)??s;return typeof(f==null?void 0:f.value)=="string"?jsxRuntimeExports.jsx(MarkdownRenderer,{text:f.value,isComplete:f.finalized,...c}):p!=null&&p.startsWith("image")?jsxRuntimeExports.jsx(Box$1,{...c,children:jsxRuntimeExports.jsx(GenContentImage,{defaultRequest:l,content:f,onUpdate:a,...n})}):jsxRuntimeExports.jsxs(Box$1,{...c,children:["type:",(f==null?void 0:f.contentType)??"undefined content"," creator:",(f==null?void 0:f.creatorId)??"undefined creator"]})},ContextMenu=({actions:i,children:n})=>{const[a,s]=reactExports.useState(null),l=f=>{f.preventDefault(),s({mouseX:f.clientX+2,mouseY:f.clientY-6})},c=()=>{s(null)};return jsxRuntimeExports.jsxs(Box$1,{onContextMenu:l,style:{cursor:"context-menu"},children:[n,jsxRuntimeExports.jsx(Menu,{sx:{borderRadius:"1em"},open:a!==null,onClose:c,anchorReference:"anchorPosition",anchorPosition:a?{top:a.mouseY,left:a.mouseX}:void 0,PaperProps:{elevation:3,sx:{borderRadius:2}},children:Object.entries(i).map(([f,p])=>jsxRuntimeExports.jsxs(MenuItem,{onClick:g=>{g.stopPropagation(),typeof p=="function"?p():p!=null&&p.action&&p.action(),c()},children:[jsxRuntimeExports.jsx(ListItemText,{sx:{fontSize:"0.1rem"},primary:jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{fontSize:"0.875rem"},children:typeof p!="function"?p.label??f:f})}),typeof p!="function"&&(p==null?void 0:p.icon)&&jsxRuntimeExports.jsx(ListItemIcon,{sx:{marginLeft:"3em"},children:p.icon})]},f))})]})},putRoom=async(i={})=>putEntity(await getConnection())(ROOM_OBJECT_STORE)(i),linkDaimonToRoom=async({daimonId:i,roomId:n})=>{const a=await Datas.search(await getConnection())({from:LINK_OBJECT_STORE,query:`values(@) | [?roomId == '${n}' && daimonId == '${i}']`});if(console.log("existingLinks",a),a.length>0)return a[0];const s={id:Ids.fromObjectStore(LINK_OBJECT_STORE),roomId:n,daimonId:i};return await Datas.put(await getConnection())({value:s}),s},startChatWith=async i=>{var p;console.log("Start chat with",i);const n=await Datas.get(await getConnection())({key:i});if(isUndefined(n)){console.error("Daimon not found",i);return}const a=await putContent({value:`${n.chara.data.name??""} ${new Date().toLocaleString()}`,contentType:"text/plain",creatorId:i,finalized:!0}),s=(p=n.chara.data.extensions)==null?void 0:p.dmRoom;if(isUndefined(s))throw console.log("Daimon has a dmRoom",n),new Error("Daimon has a no dmRoom");const l=await putRoom({parentId:s,contentId:a}),{userDaimonId:c,setUrlHash:f}=useAppState.getState();return isDefined$1(c)&&await linkDaimonToRoom({daimonId:c,roomId:l}),await linkDaimonToRoom({daimonId:i,roomId:l}),useAppState.getState().setTopRoomId(s),useAppState.getState().setActiveRoomId(l),f("room"),l},createDaimonRooms=async i=>{const n=await getConnection(),a=Asserts.assertValue(await Datas.get(n)({key:i})),{extensions:s={}}=a.chara.data,{workRoom:l=Ids.fromObjectStore(ROOM_OBJECT_STORE),memoryRoom:c=Ids.fromObjectStore(ROOM_OBJECT_STORE),dmRoom:f=Ids.fromObjectStore(ROOM_OBJECT_STORE)}=s;return await putEntity(n)(DAIMON_OBJECT_STORE)({...a,chara:{...a.chara,data:{...a.chara.data,extensions:{...s,workRoom:l,memoryRoom:c,dmRoom:f}}}}),await linkDaimonToRoom({daimonId:i,roomId:l}),await linkDaimonToRoom({daimonId:i,roomId:f}),await linkDaimonToRoom({daimonId:i,roomId:c}),{workRoom:l,memoryRoom:c,dmRoom:f}},DaimonMenuAvatar=({imageContentId:i,daimonId:n,onUpdate:a})=>jsxRuntimeExports.jsx(ContextMenu,{actions:{Edit:()=>{useAppState.getState().setUrlHash("daimon")},"Create Rooms":async()=>{const s=await createDaimonRooms(n);console.log("createDaimonRooms",s)},Chat:async()=>{const s=await startChatWith(n);a==null||a(s)},Clone:async()=>{const s=await getConnection(),l=await Datas.get(s)({key:n});if(!l)return;const c={...l,id:Ids.fromObjectStore(DAIMON_OBJECT_STORE)};await Datas.put(s)({value:c})}},children:jsxRuntimeExports.jsx(ContentView,{onClick:async()=>{var l;const s=await Datas.get(await getConnection())({key:n});useAppState.getState().setTopRoomId((l=s.chara.data.extensions)==null?void 0:l.dmRoom)},contentId:i,imgProps:{style:{maxHeight:"4em"}}})}),DAIMON_CRUD_SCHEMA={image:{renderEditor:(i,n,a)=>jsxRuntimeExports.jsx(ContentView,{defaultImagegenRequest:{prompt:a.description},contentType:"image/png",contentId:i,onUpdate:async s=>{await putContent(s),n==null||n(s.id)},imgProps:{style:{maxHeight:"8em"}}}),renderCell:(i,n)=>jsxRuntimeExports.jsx(DaimonMenuAvatar,{imageContentId:i,daimonId:n.id})},id:{label:"ID",renderCell:i=>i.slice(-8)},name:{},description:{renderCell:i=>i==null?void 0:i.slice(0,100)},personality:{renderCell:i=>i==null?void 0:i.slice(0,100)},scenario:{renderCell:i=>i==null?void 0:i.slice(0,100)},first_mes:{renderCell:i=>i==null?void 0:i.slice(0,100)},mes_example:{renderCell:i=>i==null?void 0:i.slice(0,100)},system_prompt:{renderCell:i=>i==null?void 0:i.slice(0,100)},creator_notes:{renderCell:i=>i==null?void 0:i.slice(0,100)},creator:{},model:{label:"Model",renderCell:i=>i??""},isUser:{label:"User",renderCell:i=>i?"Yes":"No",renderEditor:(i,n)=>jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i??!1,onChange:a=>{n(a.target.checked)}})}},TextDialog=({open:i,value:n,onClose:a,onSave:s,title:l="Edit Text"})=>{const[c,f]=reactExports.useState(n),p=()=>{s(c),a()};return reactExports.useEffect(()=>{f(n)},[n]),jsxRuntimeExports.jsxs(Dialog,{open:i,onClose:a,fullWidth:!0,maxWidth:"sm",children:[jsxRuntimeExports.jsx(DialogTitle,{children:l}),jsxRuntimeExports.jsx(DialogContent,{dividers:!0,children:jsxRuntimeExports.jsx(TextField,{value:c,onChange:g=>f(g.target.value),fullWidth:!0,multiline:!0,variant:"outlined",placeholder:"Enter text here..."})}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{onClick:a,color:"primary",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:p,color:"primary",variant:"contained",children:"Save"})]})]})},ImportCharaJson=({onImport:i})=>{const[n,a]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(IconButton,{onClick:()=>a(!0),children:jsxRuntimeExports.jsx(UploadFile,{fontSize:"large"})}),jsxRuntimeExports.jsx(TextDialog,{open:n,onClose:()=>a(!1),value:"",onSave:async s=>{const l=JSON.parse(s),c={id:Ids.fromObjectStore(DAIMON_OBJECT_STORE),chara:{spec:"chara_card_v2",spec_version:"2",data:l}};await Datas.put(await getConnection())({value:c}),a(!1),i==null||i()}})]})},DaimonsScreen=()=>{const{userDaimonId:i,setUserDaimonId:n}=useAppState(),[a,s]=reactExports.useState([]),l=()=>{listDaimons().then(c=>{console.log("daimons",c);const f=c.map(p=>{var g,y;return{id:p.id,isUser:p.id===i,image:(g=p.chara.data.extensions)==null?void 0:g.avatar,model:(y=p.chara.data.extensions)==null?void 0:y.llm,...p.chara.data}});s(f)})};return reactExports.useEffect(()=>{l()},[i]),jsxRuntimeExports.jsxs(Stack$1,{alignContent:"center",spacing:"2em",padding:"2em",children:[jsxRuntimeExports.jsxs(Stack$1,{justifyContent:"center",direction:"row",gap:"5em",children:[jsxRuntimeExports.jsx(FileUpload,{onChange:async c=>{if(console.log("File uploaded",c),isUndefined(c))return;const f=await bytesToDaimon(c);console.log(f),l()}}),jsxRuntimeExports.jsx(ImportCharaJson,{onImport:()=>l()})]}),jsxRuntimeExports.jsx(GenericCrud,{items:a,schema:DAIMON_CRUD_SCHEMA,onUpdate:async(c,f)=>{const p=await getConnection(),{id:g,image:y,model:b,isUser:h,...d}=c;h&&(n(g),Idbs.update(AppConfig,"config",_=>({..._,userDaimonId:g})));const v={id:g,chara:{data:{...d,extensions:{...d.extensions??{},avatar:y,isUser:h,llm:isEmpty$3(b)?void 0:b}},spec:"chara_card_v2",spec_version:"2"}};await Datas.put(p)({value:v}),s(_=>{const A=[..._];return A[f]=c,A})},onCreate:async c=>{console.log("Created item",c);const f=await getConnection(),{id:p,image:g,model:y,isUser:b,...h}=c;try{const d=Ids.fromObjectStore(DAIMON_OBJECT_STORE),v={id:d,chara:{data:{...h,extensions:{...c.extensions??{},avatar:g,isUser:b,llm:isEmpty$3(y)?void 0:y}},spec:"chara_card_v2",spec_version:"2"}};await Datas.put(f)({value:v});const _={...c,id:d};s(A=>[...A,_])}catch(d){console.log(Errors.errorToText(d))}},onDelete:async c=>{console.log("Deleted item at index",c);const f=a[c],p=await getConnection();Datas.remove(p)({objectStore:DAIMON_OBJECT_STORE,query:f.id}),s(g=>{const y=[...g];return y.splice(c,1),y})}})]})},useDatas=({query:i="values(@)",from:n})=>{const a=useConnection(),[s,l]=reactExports.useState([]),c=async(f,p)=>{const g=await Datas.search(await getConnection())({query:f,from:p});l(g)};return reactExports.useEffect(()=>{c(i,n)},[i,n]),reactExports.useEffect(()=>{const f=new AbortController;if(a)return Messages.connectEventListenerToSubjectRoot({connection:a.connection,subjectRoot:"object_update",signal:f.signal,listener:async p=>{const{subject:g,detail:y}=p,{subpath:b}=Messages.parseSubject(g),h=Ids.parse(b);if(isUndefined(h))return;const{type:d,namespace:v}=h;d===n.store&&c(i,n)}}),()=>{f.abort()}},[a,i,n]),s},TreeEditorForm=({nodeId:i,open:n,onClose:a})=>{const s=useData(i),l=useData(s==null?void 0:s.contentId);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(TextDialog,{open:n,value:String(l==null?void 0:l.value)||"",onClose:a,onSave:c=>{putContent({id:l==null?void 0:l.id,value:c}),a()}})})},focusTextEntry=()=>{const i=useAppState.getState().textEntryElement;setTimeout(()=>{i==null||i.focus(),console.log("Focused text entry")},0)},NoteContent=({parentId:i})=>{const n=reactExports.useRef(null),a=useAppState(y=>y.activeRoomId),[s,l]=reactExports.useState(!1),c=useData(i),f=useData(c==null?void 0:c.contextId),p=Colors.from("grey").darken(.3).toString(),g=i===a;return reactExports.useEffect(()=>{var y;g&&((y=n.current)==null||y.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))},[g]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Tooltip,{title:"Click to Select",children:jsxRuntimeExports.jsxs(Stack$1,{ref:n,sx:{height:"1em",backgroundColor:p,borderRadius:"0 0 0.5em 0.5em",paddingLeft:"1em"},alignItems:"center",direction:"row",spacing:1,children:[jsxRuntimeExports.jsx(Box$1,{flexGrow:1,sx:{height:"0.25em",minWidth:g?"100ch":void 0,backgroundColor:g?Colors.from("blue").lighten(.5).toString():Colors.from("black").alpha(0).toString()}}),jsxRuntimeExports.jsx(Box$1,{sx:{backgroundColor:p,borderRadius:"0.5em",paddingTop:"0.5em"},children:jsxRuntimeExports.jsx(Tooltip,{title:"Extra Context",children:jsxRuntimeExports.jsx(IconButton,{sx:{padding:"0.1em"},onClick:()=>{l(!0)},children:jsxRuntimeExports.jsx(NoteIcon,{})})})})]})}),jsxRuntimeExports.jsx(TextDialog,{open:s,value:String((f==null?void 0:f.value)||""),onClose:()=>l(!1),onSave:y=>{console.log("saving note",y);const b=(f==null?void 0:f.id)??Ids.fromObjectStore(CONTENT_OBJECT_STORE);putContent({id:b,value:y,contentType:"text/plain"}),isUndefined(c==null?void 0:c.contextId)&&putRoom({...c,contextId:b})}})]})},NodeItem=({child:i,selectedChildId:n,setSelectedChildId:a,onOpenEditor:s,handleDelete:l})=>{const[c,f]=React.useState(!1);return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(ListItemButton,{selected:n===i.id,onClick:()=>i.id===n?a(i.parentId):a(i.id),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:jsxRuntimeExports.jsx(ContextMenu,{actions:{Edit:{icon:jsxRuntimeExports.jsx(EditIcon,{}),action:()=>s({nodeId:i.id,mode:"edit"})},Delete:{icon:jsxRuntimeExports.jsx(DeleteIcon,{}),action:()=>l(i.id)}},children:jsxRuntimeExports.jsx(Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",gap:"1ch",children:i.content})})}),jsxRuntimeExports.jsx(Divider,{component:"li"})]},i.id)},NodeList=({children:i,selectedChildId:n,setSelectedChildId:a,onOpenEditor:s,handleDelete:l,...c})=>{const f=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{const p=f.current;if(!p)return;const g=()=>{p.scrollTop=p.scrollHeight};g();const y=new MutationObserver(g);y.observe(p,{childList:!0});const b=new ResizeObserver(g);return Array.from(p.children).forEach(h=>b.observe(h)),()=>{y.disconnect(),b.disconnect()}},[i]),jsxRuntimeExports.jsxs(List,{ref:f,sx:{backgroundColor:Colors.from("grey").darken(.65).toString(),border:p=>`1px solid ${p.palette.divider}`,height:"100%",overflow:"auto"},...c,children:[toMany(i).filter(isDefined$1).map(p=>jsxRuntimeExports.jsx(NodeItem,{child:p,selectedChildId:n,setSelectedChildId:a,onOpenEditor:s,handleDelete:l},p.id)),i.length>0&&jsxRuntimeExports.jsx(Divider,{component:"li"})]})},SearchBar=({search:i,setSearch:n})=>jsxRuntimeExports.jsx(TextField,{variant:"outlined",size:"small",label:"Search...",value:i,onChange:a=>n(a.target.value),fullWidth:!0,sx:{marginTop:"1.8em","& .MuiOutlinedInput-root":{borderRadius:"0.5em 0.5em 0 0"}}}),RoomContentView=({room:i,...n})=>{const[a,s]=reactExports.useState(void 0);return reactExports.useEffect(()=>{(async()=>{var p,g;const l=await Datas.get(await getConnection())({objectStore:CONTENT_OBJECT_STORE,key:i.contentId});if(isUndefined(l==null?void 0:l.creatorId))return;const c=await Datas.get(await getConnection())({objectStore:DAIMON_OBJECT_STORE,key:l.creatorId});if(isUndefined((p=c==null?void 0:c.chara.data.extensions)==null?void 0:p.avatar))return;const f=await Datas.get(await getConnection())({objectStore:CONTENT_OBJECT_STORE,key:(g=c.chara.data.extensions)==null?void 0:g.avatar});s(f)})()},[i]),jsxRuntimeExports.jsxs(Stack$1,{direction:"row",gap:"2ch",...n,children:[jsxRuntimeExports.jsx(ContentImage,{content:a,style:{height:"4em",width:"auto",borderRadius:"50%"}}),jsxRuntimeExports.jsx(ContentView,{contentId:i.contentId})]})},loadRooms=async(i,n="")=>{console.log(`loading :${i}`);const a=isEmpty$3(n)?"values(@)[?!parentId || parentId == `null`]":n,s=await Datas.search(await getConnection())({from:ROOM_OBJECT_STORE,query:a.trim()});return isUndefined(s)?[]:await Promise.all(s.map(async c=>{const f=await Datas.get(await getConnection())({objectStore:CONTENT_OBJECT_STORE,key:c.contentId});return{id:c.id,parentId:c.parentId,label:(f==null?void 0:f.value)||"<missing>",content:jsxRuntimeExports.jsx(RoomContentView,{room:c})}}))},loadRootTreeChildren=async(i,n)=>{const a=i?Ids.parse(i):void 0;return isDefined$1(a)&&a.type===ROOM_OBJECT_STORE.store?loadRooms(i,`values(@)[?parentId == '${i}']`):loadRooms(i,n)},useTreeNodes=({parentId:i,search:n})=>{const a=useConnection(),[s,l]=reactExports.useState([]),c=async(f,p)=>(useAppState.getState().setActiveRoomId(f),loadRootTreeChildren(f,p));return reactExports.useEffect(()=>{const f=new AbortController;if(a)return Messages.connectEventListenerToSubjectRoot({connection:a.connection,subjectRoot:isDefined$1(i)?"child_update":"object_update",signal:f.signal,listener:async p=>{const{subject:g,detail:y}=p,{subpath:b}=Messages.parseSubject(g);if(isDefined$1(i)){if(b!==i)return;const h=await c(b,n);l(h)}}}),c(i,n).then(p=>{l(p)}),()=>{f.abort()}},[a,i,n]),s},RecursiveNode=({parentId:i,onOpenEditor:n})=>{const[a,s]=reactExports.useState(""),{activeRoomId:l,setActiveRoomId:c,selectedRoomIds:f,setSelectedRoomIds:p}=useAppState(),[g,y]=reactExports.useState(),b=useTreeNodes({parentId:i,search:a});reactExports.useEffect(()=>{g&&!b.some(v=>v.id===g)&&y(void 0),l&&b.some(v=>v.id===l)&&(y(l),focusTextEntry())},[i,g,b]);const h=async v=>{Datas.remove(await getConnection())({objectStore:ROOM_OBJECT_STORE,query:v})},d=()=>{c(i)};return jsxRuntimeExports.jsxs(Stack,{direction:"row",sx:{alignItems:"flex-start",gap:2,height:"100%"},children:[jsxRuntimeExports.jsxs(Stack,{sx:{height:"100%"},children:[jsxRuntimeExports.jsx(SearchBar,{search:a,setSearch:s}),jsxRuntimeExports.jsx(NodeList,{children:b,selectedChildId:l,setSelectedChildId:v=>{focusTextEntry(),c(v),y(v)},onOpenEditor:n,handleDelete:h}),jsxRuntimeExports.jsx(Box,{onClick:d,children:jsxRuntimeExports.jsx(NoteContent,{parentId:i})})]}),g&&jsxRuntimeExports.jsx(RecursiveNode,{parentId:g,onOpenEditor:n})]})},o=new WeakMap;let u=0;function stableHash(i){const n=typeof i,a=i&&i.constructor,s=a==Date;if(Object(i)===i&&!s&&a!=RegExp){let l=o.get(i);if(l)return l;l=++u+"~",o.set(i,l);let c;if(a==Array){for(l="@",c=0;c<i.length;c++)l+=stableHash(i[c])+",";o.set(i,l)}else if(a==Object){l="#";const f=Object.keys(i).sort();for(;(c=f.pop())!==void 0;)i[c]!==void 0&&(l+=c+":"+stableHash(i[c])+",");o.set(i,l)}return l}return s?i.toJSON():n=="symbol"?i.toString():n=="string"?JSON.stringify(i):""+i}const TreeView=({parentId:i,...n})=>{const[a,s]=reactExports.useState(!1),[l,c]=reactExports.useState(),[f,p]=reactExports.useState(),g=useDatas({from:ROOM_OBJECT_STORE,query:"values(@)|[?parentId == null]"});reactExports.useEffect(()=>{const b=stableHash(g);Bytes.addressStringOf({bytes:b}).then(h=>{p(h)})},[g]);const y=b=>{c(b.nodeId),s(!0)};return console.log("key",f),jsxRuntimeExports.jsxs(Stack,{...n,children:[jsxRuntimeExports.jsx(RecursiveNode,{parentId:i,onOpenEditor:y},f),jsxRuntimeExports.jsx(TreeEditorForm,{open:a,nodeId:l,onClose:()=>s(!1)})]})},askDaimon=async(i,n={})=>{const a=await getConnection(),{assistantId:s,roomId:l,userId:c,onUpdate:f}=n,{activeRoomId:p,userDaimonId:g}=useAppState.getState();return await new Promise((y,b)=>{a.requestMany({subject:"daimon.ask",onResponse:h=>{f==null||f(h),h.finalized&&y(h)},request:{body:{roomId:l??p,userId:c??g,assistantId:s,query:i}}})})};async function evaluateProgram(i,n){const[a]=i.lines;return(await Promise.all(a.tokens.map(async l=>{switch(l.type){case"mention":return await n.handleMention(l);case"command":return await n.handleCommand(l);case"text":return await n.handleText(l)}}))).join(" ")}const SimpleEvaluator={handleMention(i){return`[MENTION:${i.value}]`},handleCommand(i){return console.log("Command encountered:",i.value),""},handleText(i){return i.value}};var parsimmon_umd_min$1={exports:{}},parsimmon_umd_min=parsimmon_umd_min$1.exports,hasRequiredParsimmon_umd_min;function requireParsimmon_umd_min(){return hasRequiredParsimmon_umd_min||(hasRequiredParsimmon_umd_min=1,function(i,n){(function(a,s){i.exports=s()})(typeof self<"u"?self:parsimmon_umd_min,function(){return function(a){var s={};function l(c){if(s[c])return s[c].exports;var f=s[c]={i:c,l:!1,exports:{}};return a[c].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=a,l.c=s,l.d=function(c,f,p){l.o(c,f)||Object.defineProperty(c,f,{configurable:!1,enumerable:!0,get:p})},l.r=function(c){Object.defineProperty(c,"__esModule",{value:!0})},l.n=function(c){var f=c&&c.__esModule?function(){return c.default}:function(){return c};return l.d(f,"a",f),f},l.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)},l.p="",l(l.s=0)}([function(a,s,l){function c(ae){if(!(this instanceof c))return new c(ae);this._=ae}var f=c.prototype;function p(ae,_e){for(var Oe=0;Oe<ae;Oe++)_e(Oe)}function g(ae,_e,Oe){return function(We,je){p(je.length,function(Ye){We(je[Ye],Ye,je)})}(function(We,je,Ye){_e=ae(_e,We,je,Ye)},Oe),_e}function y(ae,_e){return g(function(Oe,We,je,Ye){return Oe.concat([ae(We,je,Ye)])},[],_e)}function b(ae,_e){var Oe={v:0,buf:_e};return p(ae,function(){var We;Oe={v:Oe.v<<1|(We=Oe.buf,We[0]>>7),buf:function(je){var Ye=g(function(Te,Me,Kt,Rt){return Te.concat(Kt===Rt.length-1?Buffer.from([Me,0]).readUInt16BE(0):Rt.readUInt16BE(Kt))},[],je);return Buffer.from(y(function(Te){return(Te<<1&65535)>>8},Ye))}(Oe.buf)}}),Oe}function h(){return typeof Buffer<"u"}function d(){if(!h())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function v(ae){d();var _e=g(function(Ye,Te){return Ye+Te},0,ae);if(_e%8!=0)throw new Error("The bits ["+ae.join(", ")+"] add up to "+_e+" which is not an even number of bytes; the total should be divisible by 8");var Oe,We=_e/8,je=(Oe=function(Ye){return Ye>48},g(function(Ye,Te){return Ye||(Oe(Te)?Te:Ye)},null,ae));if(je)throw new Error(je+" bit range requested exceeds 48 bit (6 byte) Number max.");return new c(function(Ye,Te){var Me=We+Te;return Me>Ye.length?H(Te,We.toString()+" bytes"):q(Me,g(function(Kt,Rt){var Y=b(Rt,Kt.buf);return{coll:Kt.coll.concat(Y.v),buf:Y.buf}},{coll:[],buf:Ye.slice(Te,Me)},ae).coll)})}function _(ae,_e){return new c(function(Oe,We){return d(),We+_e>Oe.length?H(We,_e+" bytes for "+ae):q(We+_e,Oe.slice(We,We+_e))})}function A(ae,_e){if(typeof(Oe=_e)!="number"||Math.floor(Oe)!==Oe||_e<0||_e>6)throw new Error(ae+" requires integer length in range [0, 6].");var Oe}function I(ae){return A("uintBE",ae),_("uintBE("+ae+")",ae).map(function(_e){return _e.readUIntBE(0,ae)})}function R(ae){return A("uintLE",ae),_("uintLE("+ae+")",ae).map(function(_e){return _e.readUIntLE(0,ae)})}function P(ae){return A("intBE",ae),_("intBE("+ae+")",ae).map(function(_e){return _e.readIntBE(0,ae)})}function $(ae){return A("intLE",ae),_("intLE("+ae+")",ae).map(function(_e){return _e.readIntLE(0,ae)})}function M(ae){return ae instanceof c}function B(ae){return{}.toString.call(ae)==="[object Array]"}function F(ae){return h()&&Buffer.isBuffer(ae)}function q(ae,_e){return{status:!0,index:ae,value:_e,furthest:-1,expected:[]}}function H(ae,_e){return B(_e)||(_e=[_e]),{status:!1,index:-1,value:null,furthest:ae,expected:_e}}function z(ae,_e){if(!_e||ae.furthest>_e.furthest)return ae;var Oe=ae.furthest===_e.furthest?function(We,je){if(function(){if(c._supportsSet!==void 0)return c._supportsSet;var $e=typeof Set<"u";return c._supportsSet=$e,$e}()&&Array.from){for(var Ye=new Set(We),Te=0;Te<je.length;Te++)Ye.add(je[Te]);var Me=Array.from(Ye);return Me.sort(),Me}for(var Kt={},Rt=0;Rt<We.length;Rt++)Kt[We[Rt]]=!0;for(var Y=0;Y<je.length;Y++)Kt[je[Y]]=!0;var Ke=[];for(var be in Kt)({}).hasOwnProperty.call(Kt,be)&&Ke.push(be);return Ke.sort(),Ke}(ae.expected,_e.expected):_e.expected;return{status:ae.status,index:ae.index,value:ae.value,furthest:_e.furthest,expected:Oe}}var L={};function ee(ae,_e){if(F(ae))return{offset:_e,line:-1,column:-1};ae in L||(L[ae]={});for(var Oe=L[ae],We=0,je=0,Ye=0,Te=_e;Te>=0;){if(Te in Oe){We=Oe[Te].line,Ye===0&&(Ye=Oe[Te].lineStart);break}(ae.charAt(Te)===`
`||ae.charAt(Te)==="\r"&&ae.charAt(Te+1)!==`
`)&&(je++,Ye===0&&(Ye=Te+1)),Te--}var Me=We+je,Kt=_e-Ye;return Oe[_e]={line:Me,lineStart:Ye},{offset:_e,line:Me+1,column:Kt+1}}function Z(ae){if(!M(ae))throw new Error("not a parser: "+ae)}function V(ae,_e){return typeof ae=="string"?ae.charAt(_e):ae[_e]}function X(ae){if(typeof ae!="number")throw new Error("not a number: "+ae)}function Q(ae){if(typeof ae!="function")throw new Error("not a function: "+ae)}function G(ae){if(typeof ae!="string")throw new Error("not a string: "+ae)}var te=2,ue=3,fe=8,K=5*fe,de=4*fe,we="  ";function oe(ae,_e){return new Array(_e+1).join(ae)}function Ne(ae,_e,Oe){var We=_e-ae.length;return We<=0?ae:oe(Oe,We)+ae}function Ie(ae,_e,Oe,We){return{from:ae-_e>0?ae-_e:0,to:ae+Oe>We?We:ae+Oe}}function Le(ae,_e){var Oe,We,je,Ye,Te,Me=_e.index,Kt=Me.offset,Rt=1;if(Kt===ae.length)return"Got the end of the input";if(F(ae)){var Y=Kt-Kt%fe,Ke=Kt-Y,be=Ie(Y,K,de+fe,ae.length),$e=y(function(Dt){return y(function(Pt){return Ne(Pt.toString(16),2,"0")},Dt)},function(Dt,Pt){var dr=Dt.length,Wt=[],Jt=0;if(dr<=Pt)return[Dt.slice()];for(var ir=0;ir<dr;ir++)Wt[Jt]||Wt.push([]),Wt[Jt].push(Dt[ir]),(ir+1)%Pt==0&&Jt++;return Wt}(ae.slice(be.from,be.to).toJSON().data,fe));Ye=function(Dt){return Dt.from===0&&Dt.to===1?{from:Dt.from,to:Dt.to}:{from:Dt.from/fe,to:Math.floor(Dt.to/fe)}}(be),We=Y/fe,Oe=3*Ke,Ke>=4&&(Oe+=1),Rt=2,je=y(function(Dt){return Dt.length<=4?Dt.join(" "):Dt.slice(0,4).join(" ")+"  "+Dt.slice(4).join(" ")},$e),(Te=(8*(Ye.to>0?Ye.to-1:Ye.to)).toString(16).length)<2&&(Te=2)}else{var Fe=ae.split(/\r\n|[\n\r\u2028\u2029]/);Oe=Me.column-1,We=Me.line-1,Ye=Ie(We,te,ue,Fe.length),je=Fe.slice(Ye.from,Ye.to),Te=Ye.to.toString().length}var Ot=We-Ye.from;return F(ae)&&(Te=(8*(Ye.to>0?Ye.to-1:Ye.to)).toString(16).length)<2&&(Te=2),g(function(Dt,Pt,dr){var Wt,Jt=dr===Ot,ir=Jt?"> ":we;return Wt=F(ae)?Ne((8*(Ye.from+dr)).toString(16),Te,"0"):Ne((Ye.from+dr+1).toString(),Te," "),[].concat(Dt,[ir+Wt+" | "+Pt],Jt?[we+oe(" ",Te)+" | "+Ne("",Oe," ")+oe("^",Rt)]:[])},[],je).join(`
`)}function ut(ae,_e){return[`
`,"-- PARSING FAILED "+oe("-",50),`

`,Le(ae,_e),`

`,(Oe=_e.expected,Oe.length===1?`Expected:

`+Oe[0]:`Expected one of the following: 

`+Oe.join(", ")),`
`].join("");var Oe}function mt(ae){return ae.flags!==void 0?ae.flags:[ae.global?"g":"",ae.ignoreCase?"i":"",ae.multiline?"m":"",ae.unicode?"u":"",ae.sticky?"y":""].join("")}function vt(){for(var ae=[].slice.call(arguments),_e=ae.length,Oe=0;Oe<_e;Oe+=1)Z(ae[Oe]);return c(function(We,je){for(var Ye,Te=new Array(_e),Me=0;Me<_e;Me+=1){if(!(Ye=z(ae[Me]._(We,je),Ye)).status)return Ye;Te[Me]=Ye.value,je=Ye.index}return z(q(je,Te),Ye)})}function it(){var ae=[].slice.call(arguments);if(ae.length===0)throw new Error("seqMap needs at least one argument");var _e=ae.pop();return Q(_e),vt.apply(null,ae).map(function(Oe){return _e.apply(null,Oe)})}function pt(){var ae=[].slice.call(arguments),_e=ae.length;if(_e===0)return Mt("zero alternates");for(var Oe=0;Oe<_e;Oe+=1)Z(ae[Oe]);return c(function(We,je){for(var Ye,Te=0;Te<ae.length;Te+=1)if((Ye=z(ae[Te]._(We,je),Ye)).status)return Ye;return Ye})}function xt(ae,_e){return kt(ae,_e).or(Vt([]))}function kt(ae,_e){return Z(ae),Z(_e),it(ae,_e.then(ae).many(),function(Oe,We){return[Oe].concat(We)})}function _t(ae){G(ae);var _e="'"+ae+"'";return c(function(Oe,We){var je=We+ae.length,Ye=Oe.slice(We,je);return Ye===ae?q(je,Ye):H(We,_e)})}function Nt(ae,_e){(function(je){if(!(je instanceof RegExp))throw new Error("not a regexp: "+je);for(var Ye=mt(je),Te=0;Te<Ye.length;Te++){var Me=Ye.charAt(Te);if(Me!=="i"&&Me!=="m"&&Me!=="u"&&Me!=="s")throw new Error('unsupported regexp flag "'+Me+'": '+je)}})(ae),arguments.length>=2?X(_e):_e=0;var Oe=function(je){return RegExp("^(?:"+je.source+")",mt(je))}(ae),We=""+ae;return c(function(je,Ye){var Te=Oe.exec(je.slice(Ye));if(Te){if(0<=_e&&_e<=Te.length){var Me=Te[0],Kt=Te[_e];return q(Ye+Me.length,Kt)}return H(Ye,"valid match group (0 to "+Te.length+") in "+We)}return H(Ye,We)})}function Vt(ae){return c(function(_e,Oe){return q(Oe,ae)})}function Mt(ae){return c(function(_e,Oe){return H(Oe,ae)})}function $t(ae){if(M(ae))return c(function(_e,Oe){var We=ae._(_e,Oe);return We.index=Oe,We.value="",We});if(typeof ae=="string")return $t(_t(ae));if(ae instanceof RegExp)return $t(Nt(ae));throw new Error("not a string, regexp, or parser: "+ae)}function Ht(ae){return Z(ae),c(function(_e,Oe){var We=ae._(_e,Oe),je=_e.slice(Oe,We.index);return We.status?H(Oe,'not "'+je+'"'):q(Oe,null)})}function Bt(ae){return Q(ae),c(function(_e,Oe){var We=V(_e,Oe);return Oe<_e.length&&ae(We)?q(Oe+1,We):H(Oe,"a character/byte matching "+ae)})}function Ut(ae,_e){arguments.length<2&&(_e=ae,ae=void 0);var Oe=c(function(We,je){return Oe._=_e()._,Oe._(We,je)});return ae?Oe.desc(ae):Oe}function St(){return Mt("fantasy-land/empty")}f.parse=function(ae){if(typeof ae!="string"&&!F(ae))throw new Error(".parse must be called with a string or Buffer as its argument");var _e,Oe=this.skip(Ue)._(ae,0);return _e=Oe.status?{status:!0,value:Oe.value}:{status:!1,index:ee(ae,Oe.furthest),expected:Oe.expected},delete L[ae],_e},f.tryParse=function(ae){var _e=this.parse(ae);if(_e.status)return _e.value;var Oe=ut(ae,_e),We=new Error(Oe);throw We.type="ParsimmonError",We.result=_e,We},f.assert=function(ae,_e){return this.chain(function(Oe){return ae(Oe)?Vt(Oe):Mt(_e)})},f.or=function(ae){return pt(this,ae)},f.trim=function(ae){return this.wrap(ae,ae)},f.wrap=function(ae,_e){return it(ae,this,_e,function(Oe,We){return We})},f.thru=function(ae){return ae(this)},f.then=function(ae){return Z(ae),vt(this,ae).map(function(_e){return _e[1]})},f.many=function(){var ae=this;return c(function(_e,Oe){for(var We=[],je=void 0;;){if(!(je=z(ae._(_e,Oe),je)).status)return z(q(Oe,We),je);if(Oe===je.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Oe=je.index,We.push(je.value)}})},f.tieWith=function(ae){return G(ae),this.map(function(_e){if(function(je){if(!B(je))throw new Error("not an array: "+je)}(_e),_e.length){G(_e[0]);for(var Oe=_e[0],We=1;We<_e.length;We++)G(_e[We]),Oe+=ae+_e[We];return Oe}return""})},f.tie=function(){return this.tieWith("")},f.times=function(ae,_e){var Oe=this;return arguments.length<2&&(_e=ae),X(ae),X(_e),c(function(We,je){for(var Ye=[],Te=void 0,Me=void 0,Kt=0;Kt<ae;Kt+=1){if(Me=z(Te=Oe._(We,je),Me),!Te.status)return Me;je=Te.index,Ye.push(Te.value)}for(;Kt<_e&&(Me=z(Te=Oe._(We,je),Me),Te.status);Kt+=1)je=Te.index,Ye.push(Te.value);return z(q(je,Ye),Me)})},f.result=function(ae){return this.map(function(){return ae})},f.atMost=function(ae){return this.times(0,ae)},f.atLeast=function(ae){return it(this.times(ae),this.many(),function(_e,Oe){return _e.concat(Oe)})},f.map=function(ae){Q(ae);var _e=this;return c(function(Oe,We){var je=_e._(Oe,We);return je.status?z(q(je.index,ae(je.value)),je):je})},f.contramap=function(ae){Q(ae);var _e=this;return c(function(Oe,We){var je=_e.parse(ae(Oe.slice(We)));return je.status?q(We+Oe.length,je.value):je})},f.promap=function(ae,_e){return Q(ae),Q(_e),this.contramap(ae).map(_e)},f.skip=function(ae){return vt(this,ae).map(function(_e){return _e[0]})},f.mark=function(){return it(Lt,this,Lt,function(ae,_e,Oe){return{start:ae,value:_e,end:Oe}})},f.node=function(ae){return it(Lt,this,Lt,function(_e,Oe,We){return{name:ae,value:Oe,start:_e,end:We}})},f.sepBy=function(ae){return xt(this,ae)},f.sepBy1=function(ae){return kt(this,ae)},f.lookahead=function(ae){return this.skip($t(ae))},f.notFollowedBy=function(ae){return this.skip(Ht(ae))},f.desc=function(ae){B(ae)||(ae=[ae]);var _e=this;return c(function(Oe,We){var je=_e._(Oe,We);return je.status||(je.expected=ae),je})},f.fallback=function(ae){return this.or(Vt(ae))},f.ap=function(ae){return it(ae,this,function(_e,Oe){return _e(Oe)})},f.chain=function(ae){var _e=this;return c(function(Oe,We){var je=_e._(Oe,We);return je.status?z(ae(je.value)._(Oe,je.index),je):je})},f.concat=f.or,f.empty=St,f.of=Vt,f["fantasy-land/ap"]=f.ap,f["fantasy-land/chain"]=f.chain,f["fantasy-land/concat"]=f.concat,f["fantasy-land/empty"]=f.empty,f["fantasy-land/of"]=f.of,f["fantasy-land/map"]=f.map;var Lt=c(function(ae,_e){return q(_e,ee(ae,_e))}),st=c(function(ae,_e){return _e>=ae.length?H(_e,"any character/byte"):q(_e+1,V(ae,_e))}),at=c(function(ae,_e){return q(ae.length,ae.slice(_e))}),Ue=c(function(ae,_e){return _e<ae.length?H(_e,"EOF"):q(_e,null)}),nt=Nt(/[0-9]/).desc("a digit"),Ct=Nt(/[0-9]*/).desc("optional digits"),ce=Nt(/[a-z]/i).desc("a letter"),He=Nt(/[a-z]*/i).desc("optional letters"),Je=Nt(/\s*/).desc("optional whitespace"),gt=Nt(/\s+/).desc("whitespace"),Et=_t("\r"),lt=_t(`
`),Se=_t(`\r
`),ze=pt(Se,lt,Et).desc("newline"),le=pt(ze,Ue);c.all=at,c.alt=pt,c.any=st,c.cr=Et,c.createLanguage=function(ae){var _e={};for(var Oe in ae)({}).hasOwnProperty.call(ae,Oe)&&function(We){_e[We]=Ut(function(){return ae[We](_e)})}(Oe);return _e},c.crlf=Se,c.custom=function(ae){return c(ae(q,H))},c.digit=nt,c.digits=Ct,c.empty=St,c.end=le,c.eof=Ue,c.fail=Mt,c.formatError=ut,c.index=Lt,c.isParser=M,c.lazy=Ut,c.letter=ce,c.letters=He,c.lf=lt,c.lookahead=$t,c.makeFailure=H,c.makeSuccess=q,c.newline=ze,c.noneOf=function(ae){return Bt(function(_e){return ae.indexOf(_e)<0}).desc("none of '"+ae+"'")},c.notFollowedBy=Ht,c.of=Vt,c.oneOf=function(ae){for(var _e=ae.split(""),Oe=0;Oe<_e.length;Oe++)_e[Oe]="'"+_e[Oe]+"'";return Bt(function(We){return ae.indexOf(We)>=0}).desc(_e)},c.optWhitespace=Je,c.Parser=c,c.range=function(ae,_e){return Bt(function(Oe){return ae<=Oe&&Oe<=_e}).desc(ae+"-"+_e)},c.regex=Nt,c.regexp=Nt,c.sepBy=xt,c.sepBy1=kt,c.seq=vt,c.seqMap=it,c.seqObj=function(){for(var ae,_e={},Oe=0,We=(ae=arguments,Array.prototype.slice.call(ae)),je=We.length,Ye=0;Ye<je;Ye+=1){var Te=We[Ye];if(!M(Te)){if(B(Te)&&Te.length===2&&typeof Te[0]=="string"&&M(Te[1])){var Me=Te[0];if(Object.prototype.hasOwnProperty.call(_e,Me))throw new Error("seqObj: duplicate key "+Me);_e[Me]=!0,Oe++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Oe===0)throw new Error("seqObj expects at least one named parser, found zero");return c(function(Kt,Rt){for(var Y,Ke={},be=0;be<je;be+=1){var $e,Fe;if(B(We[be])?($e=We[be][0],Fe=We[be][1]):($e=null,Fe=We[be]),!(Y=z(Fe._(Kt,Rt),Y)).status)return Y;$e&&(Ke[$e]=Y.value),Rt=Y.index}return z(q(Rt,Ke),Y)})},c.string=_t,c.succeed=Vt,c.takeWhile=function(ae){return Q(ae),c(function(_e,Oe){for(var We=Oe;We<_e.length&&ae(V(_e,We));)We++;return q(We,_e.slice(Oe,We))})},c.test=Bt,c.whitespace=gt,c["fantasy-land/empty"]=St,c["fantasy-land/of"]=Vt,c.Binary={bitSeq:v,bitSeqObj:function(ae){d();var _e={},Oe=0,We=y(function(Ye){if(B(Ye)){var Te=Ye;if(Te.length!==2)throw new Error("["+Te.join(", ")+"] should be length 2, got length "+Te.length);if(G(Te[0]),X(Te[1]),Object.prototype.hasOwnProperty.call(_e,Te[0]))throw new Error("duplicate key in bitSeqObj: "+Te[0]);return _e[Te[0]]=!0,Oe++,Te}return X(Ye),[null,Ye]},ae);if(Oe<1)throw new Error("bitSeqObj expects at least one named pair, got ["+ae.join(", ")+"]");var je=y(function(Ye){return Ye[0]},We);return v(y(function(Ye){return Ye[1]},We)).map(function(Ye){return g(function(Te,Me){return Me[0]!==null&&(Te[Me[0]]=Me[1]),Te},{},y(function(Te,Me){return[Te,Ye[Me]]},je))})},byte:function(ae){if(d(),X(ae),ae>255)throw new Error("Value specified to byte constructor ("+ae+"=0x"+ae.toString(16)+") is larger in value than a single byte.");var _e=(ae>15?"0x":"0x0")+ae.toString(16);return c(function(Oe,We){var je=V(Oe,We);return je===ae?q(We+1,je):H(We,_e)})},buffer:function(ae){return _("buffer",ae).map(function(_e){return Buffer.from(_e)})},encodedString:function(ae,_e){return _("string",_e).map(function(Oe){return Oe.toString(ae)})},uintBE:I,uint8BE:I(1),uint16BE:I(2),uint32BE:I(4),uintLE:R,uint8LE:R(1),uint16LE:R(2),uint32LE:R(4),intBE:P,int8BE:P(1),int16BE:P(2),int32BE:P(4),intLE:$,int8LE:$(1),int16LE:$(2),int32LE:$(4),floatBE:_("floatBE",4).map(function(ae){return ae.readFloatBE(0)}),floatLE:_("floatLE",4).map(function(ae){return ae.readFloatLE(0)}),doubleBE:_("doubleBE",8).map(function(ae){return ae.readDoubleBE(0)}),doubleLE:_("doubleLE",8).map(function(ae){return ae.readDoubleLE(0)})},a.exports=c}])})}(parsimmon_umd_min$1)),parsimmon_umd_min$1.exports}var parsimmon_umd_minExports=requireParsimmon_umd_min();function mark(i){return parsimmon_umd_minExports.index.chain(n=>i.chain(a=>parsimmon_umd_minExports.index.map(s=>({value:a,loc:{start:n,end:s}}))))}const ChatLang=parsimmon_umd_minExports.createLanguage({Whitespace(){return parsimmon_umd_minExports.regexp(/\s+/)},Mention(){return mark(parsimmon_umd_minExports.seqMap(parsimmon_umd_minExports.string("@"),parsimmon_umd_minExports.regexp(/[a-zA-Z0-9_]+/),(i,n)=>n)).map(({loc:i,value:n})=>({type:"mention",value:n,loc:i}))},Command(){return mark(parsimmon_umd_minExports.seqMap(parsimmon_umd_minExports.string("/"),parsimmon_umd_minExports.regexp(/[a-zA-Z0-9_]+/),(i,n)=>n)).map(({loc:i,value:n})=>({type:"command",value:n,loc:i}))},Text(){return mark(parsimmon_umd_minExports.regexp(/[^@\s/]+/)).map(({loc:i,value:n})=>({type:"text",value:n,loc:i}))},Token(i){return parsimmon_umd_minExports.alt(i.Command,i.Mention,i.Text)},ChatLine(i){return mark(i.Token.sepBy(i.Whitespace).skip(parsimmon_umd_minExports.optWhitespace).skip(parsimmon_umd_minExports.end)).map(({loc:n,value:a})=>({type:"chatLine",tokens:a,loc:n}))},Program(i){return mark(i.ChatLine.map(n=>[n])).map(({loc:n,value:a})=>({type:"program",lines:a,loc:n}))}});function parseProgram(i){const n=ChatLang.Program.parse(i);if(n.status)return n.value;throw new Error(`Parse Error: ${n.expected.join(" or ")}`)}const interpretText=(i,n=SimpleEvaluator)=>{const a=parseProgram(i);return evaluateProgram(a,n)},ChatLangs={evaluateProgram,parseProgram,interpretText},addUserRoomTextContent=async({text:i,parentId:n})=>{const{userDaimonId:a}=useAppState.getState(),s={id:Ids.fromObjectStore(CONTENT_OBJECT_STORE),contentType:"plain/text",value:i,createdAt:Date.now(),creatorId:a,finalized:!0};return await Datas.put(await getConnection())({value:s}),await Datas.put(await getConnection())({value:{id:Ids.fromObjectStore(ROOM_OBJECT_STORE),parentId:n,contentId:s.id}})},nameToDaimons=async i=>{const n=`values(@) | [?contains(chara.data.name, '${i}')]`;return Datas.search(await getConnection())({from:DAIMON_OBJECT_STORE,query:n})},TEXT_ENTRY_EVALUATOR=()=>({handleMention:async function(i){const n=await nameToDaimons(i.value);console.log("daimons",n);const a=useAppState.getState().activeRoomId;if(console.log("room",a),n.length===1&&a){const s=await linkDaimonToRoom({daimonId:n[0].id,roomId:a});console.log("link",s)}return i.value},handleCommand:function(i){return""},handleText:function(i){return i.value}}),handleTextEntry=async({text:i})=>{console.log("handleTextEntry",i);const n=await ChatLangs.interpretText(i,TEXT_ENTRY_EVALUATOR());console.log("out",n);const a=useAppState.getState().activeRoomId;if(isUndefined(a))return;const{userDaimonId:s}=useAppState.getState();isDefined$1(s)&&await linkDaimonToRoom({daimonId:s,roomId:a}),await addUserRoomTextContent({text:n,parentId:a})},IMAGE_PROMPT=`You are an expert at writing prompts for the AI art model "Illustrious XL v1.0", which is based on Stable Diffusion XL and trained on Danbooru2023.

Your job is to take a short user input (like "a warrior girl in a dark forest") and turn it into a single optimized prompt for Illustrious XL. Follow these rules:

1. Write in a **hybrid format**:
   - Start with Danbooru-style tags for characters, composition, clothing, and visual elements (e.g., \`1girl, warrior, dark forest, cloak, long hair, glowing eyes\`).
   - Follow with a **short natural language sentence** describing the scene.

2. Use **comma-separated tags** for key elements:
   - Subject (e.g., \`1girl\`, \`samurai\`, \`robot\`)
   - Setting (e.g., \`city at night\`, \`rain\`, \`ruins\`)
   - Style or mood (e.g., \`detailed\`, \`illustration\`, \`cinematic lighting\`, \`dynamic pose\`)

3. The natural language part should enhance the tags and clarify mood, composition, or story.

4. Use at most 75 tokens total. Keep it **precise and visual**.

5. Never include the words "prompt", "description", or explain anything. Only return the final image prompt.

Examples:

User: “a witch in a sunflower field”  
Output: \`1girl, witch hat, sunflowers, wide shot, smiling, sunny day, illustration, colorful -- A young witch smiles brightly in a vast field of sunflowers, her hat tilted playfully.\`

User: “cyberpunk city at night with neon lights”  
Output: \`cityscape, cyberpunk, night, neon lights, rain, futuristic, detailed -- A neon-lit cyberpunk city glows in the rain, full of lights and shadows.\`

Always follow this format.
`;console.log("IMAGE_PROMPT",IMAGE_PROMPT);const TextEntry=reactExports.forwardRef(({...i},n)=>{const[a,s]=reactExports.useState(""),l=reactExports.useRef(null),{setTextEntryElement:c}=useAppState(),[f,p]=reactExports.useState(!1),[g,y]=reactExports.useState(""),[b,h]=reactExports.useState();return reactExports.useImperativeHandle(n,()=>({focus:()=>{var d;(d=l.current)==null||d.focus()}})),reactExports.useEffect(()=>(c(l.current??void 0),()=>{c(void 0)}),[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ContextMenu,{actions:{Clear:()=>s(""),Submit:()=>{handleTextEntry({text:a}),s("")}},children:jsxRuntimeExports.jsx(TextField,{label:"Text Entry",autoFocus:!0,inputRef:l,value:a,onChange:d=>s(d.target.value),onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),handleTextEntry({text:a}),s(""))},sx:{width:"100%",backgroundColor:Colors.from("grey").darken(.65).toString(),marginTop:"1.8em","& .MuiOutlinedInput-root":{borderRadius:"0.5em"}},multiline:!0,maxRows:10,InputProps:{endAdornment:jsxRuntimeExports.jsxs(InputAdornment,{position:"end",children:[jsxRuntimeExports.jsx(IconButton,{onClick:()=>{handleTextEntry({text:a}),s("")},children:jsxRuntimeExports.jsx(Send,{})}),jsxRuntimeExports.jsx(IconButton,{onClick:async()=>{h({id:Ids.fromObjectStore(CONTENT_OBJECT_STORE),createdAt:Date.now(),updatedAt:Date.now(),contentType:"image/png",value:void 0}),p(!0);const d=await askDaimon(IMAGE_PROMPT,{onUpdate:v=>{y(String(v.value))}});y(String(d.value))},children:jsxRuntimeExports.jsx(Image$1,{})}),jsxRuntimeExports.jsx(IconButton,{onClick:async()=>{await askDaimon("What would the user do and/or say next? Just give the response only. use the same tone and style as the user. use *to indicate actions*",{onUpdate:d=>{const{value:v=""}=d;s(String(v))}})},children:jsxRuntimeExports.jsx(AutoFixHigh,{})})]})},...i})}),jsxRuntimeExports.jsx(GenerateImageDialog,{open:f,value:b,defaultRequest:{prompt:String(g),negative_prompt:"boring, bad composition, bad anatomy, bad lighting, weird eyes, weird hands. low detail, poor quality, cartoon, cgi, render, unity, unreal",steps:50,width:800,height:600,cfg_scale:5},onClose:()=>p(!1),onSave:async d=>{await putContent(d),await putRoom({contentId:d.id,parentId:useAppState.getState().activeRoomId}),p(!1)}})]})}),RoomScreen=()=>{const i=useDatas({from:DAIMON_OBJECT_STORE}),{topRoomId:n}=useAppState();return jsxRuntimeExports.jsxs(Stack,{sx:{marginLeft:"5ch",marginRight:"5ch",height:"99.9vh"},children:[jsxRuntimeExports.jsxs(Stack,{direction:"row",gap:"2ch",sx:{height:"100%"},children:[jsxRuntimeExports.jsx(Stack,{sx:{height:"auto",overflowY:"auto",marginTop:"5em",minWidth:"10ch"},children:i.map(a=>{var s;return jsxRuntimeExports.jsx(DaimonMenuAvatar,{daimonId:a.id,imageContentId:(s=a.chara.data.extensions)==null?void 0:s.avatar},a.id)})}),jsxRuntimeExports.jsx(TreeView,{parentId:n,sx:{height:"100%",maxHeight:"calc(100vh - 7em)",maxWidth:"calc(100vw - 10ch)",overflowX:"auto",overflowY:"hidden"}})]}),jsxRuntimeExports.jsx(TextEntry,{})]})},SCREENS={room:jsxRuntimeExports.jsx(RoomScreen,{}),daimon:jsxRuntimeExports.jsx(DaimonsScreen,{})},useScreen=()=>{const[i,n]=reactExports.useState(window.location.hash.substring(1));return reactExports.useEffect(()=>{const a=()=>{n(window.location.hash.substring(1))};return window.addEventListener("hashchange",a),()=>{window.removeEventListener("hashchange",a)}},[]),i},play=async()=>{try{await playEmbed()}catch(i){console.error(i)}},playEmbed=async()=>{console.log("playEmbed");const i=await getConnection(),n=await i.request({subject:"embedding.generate",request:{body:{prompt:"tell me a joke about snow"}}});console.log("embed",n);{const a=await i.request({subject:"vector.put",request:{body:{point:{id:crypto.randomUUID(),vector:n,payload:{name:"test"}}}}});console.log("put result",a)}{const a=await i.request({subject:"vector.search",request:{body:{query:n}}});console.log("put result",a)}};var browser={},canPromise,hasRequiredCanPromise;function requireCanPromise(){return hasRequiredCanPromise||(hasRequiredCanPromise=1,canPromise=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),canPromise}var qrcode={},utils$2={},hasRequiredUtils$2;function requireUtils$2(){if(hasRequiredUtils$2)return utils$2;hasRequiredUtils$2=1;let i;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return utils$2.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return s*4+17},utils$2.getSymbolTotalCodewords=function(s){return n[s]},utils$2.getBCHDigit=function(a){let s=0;for(;a!==0;)s++,a>>>=1;return s},utils$2.setToSJISFunction=function(s){if(typeof s!="function")throw new Error('"toSJISFunc" is not a valid function.');i=s},utils$2.isKanjiModeEnabled=function(){return typeof i<"u"},utils$2.toSJIS=function(s){return i(s)},utils$2}var errorCorrectionLevel={},hasRequiredErrorCorrectionLevel;function requireErrorCorrectionLevel(){return hasRequiredErrorCorrectionLevel||(hasRequiredErrorCorrectionLevel=1,function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+a)}}i.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},i.from=function(s,l){if(i.isValid(s))return s;try{return n(s)}catch{return l}}}(errorCorrectionLevel)),errorCorrectionLevel}var bitBuffer,hasRequiredBitBuffer;function requireBitBuffer(){if(hasRequiredBitBuffer)return bitBuffer;hasRequiredBitBuffer=1;function i(){this.buffer=[],this.length=0}return i.prototype={get:function(n){const a=Math.floor(n/8);return(this.buffer[a]>>>7-n%8&1)===1},put:function(n,a){for(let s=0;s<a;s++)this.putBit((n>>>a-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),n&&(this.buffer[a]|=128>>>this.length%8),this.length++}},bitBuffer=i,bitBuffer}var bitMatrix,hasRequiredBitMatrix;function requireBitMatrix(){if(hasRequiredBitMatrix)return bitMatrix;hasRequiredBitMatrix=1;function i(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return i.prototype.set=function(n,a,s,l){const c=n*this.size+a;this.data[c]=s,l&&(this.reservedBit[c]=!0)},i.prototype.get=function(n,a){return this.data[n*this.size+a]},i.prototype.xor=function(n,a,s){this.data[n*this.size+a]^=s},i.prototype.isReserved=function(n,a){return this.reservedBit[n*this.size+a]},bitMatrix=i,bitMatrix}var alignmentPattern={},hasRequiredAlignmentPattern;function requireAlignmentPattern(){return hasRequiredAlignmentPattern||(hasRequiredAlignmentPattern=1,function(i){const n=requireUtils$2().getSymbolSize;i.getRowColCoords=function(s){if(s===1)return[];const l=Math.floor(s/7)+2,c=n(s),f=c===145?26:Math.ceil((c-13)/(2*l-2))*2,p=[c-7];for(let g=1;g<l-1;g++)p[g]=p[g-1]-f;return p.push(6),p.reverse()},i.getPositions=function(s){const l=[],c=i.getRowColCoords(s),f=c.length;for(let p=0;p<f;p++)for(let g=0;g<f;g++)p===0&&g===0||p===0&&g===f-1||p===f-1&&g===0||l.push([c[p],c[g]]);return l}}(alignmentPattern)),alignmentPattern}var finderPattern={},hasRequiredFinderPattern;function requireFinderPattern(){if(hasRequiredFinderPattern)return finderPattern;hasRequiredFinderPattern=1;const i=requireUtils$2().getSymbolSize,n=7;return finderPattern.getPositions=function(s){const l=i(s);return[[0,0],[l-n,0],[0,l-n]]},finderPattern}var maskPattern={},hasRequiredMaskPattern;function requireMaskPattern(){return hasRequiredMaskPattern||(hasRequiredMaskPattern=1,function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};i.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},i.from=function(l){return i.isValid(l)?parseInt(l,10):void 0},i.getPenaltyN1=function(l){const c=l.size;let f=0,p=0,g=0,y=null,b=null;for(let h=0;h<c;h++){p=g=0,y=b=null;for(let d=0;d<c;d++){let v=l.get(h,d);v===y?p++:(p>=5&&(f+=n.N1+(p-5)),y=v,p=1),v=l.get(d,h),v===b?g++:(g>=5&&(f+=n.N1+(g-5)),b=v,g=1)}p>=5&&(f+=n.N1+(p-5)),g>=5&&(f+=n.N1+(g-5))}return f},i.getPenaltyN2=function(l){const c=l.size;let f=0;for(let p=0;p<c-1;p++)for(let g=0;g<c-1;g++){const y=l.get(p,g)+l.get(p,g+1)+l.get(p+1,g)+l.get(p+1,g+1);(y===4||y===0)&&f++}return f*n.N2},i.getPenaltyN3=function(l){const c=l.size;let f=0,p=0,g=0;for(let y=0;y<c;y++){p=g=0;for(let b=0;b<c;b++)p=p<<1&2047|l.get(y,b),b>=10&&(p===1488||p===93)&&f++,g=g<<1&2047|l.get(b,y),b>=10&&(g===1488||g===93)&&f++}return f*n.N3},i.getPenaltyN4=function(l){let c=0;const f=l.data.length;for(let g=0;g<f;g++)c+=l.data[g];return Math.abs(Math.ceil(c*100/f/5)-10)*n.N4};function a(s,l,c){switch(s){case i.Patterns.PATTERN000:return(l+c)%2===0;case i.Patterns.PATTERN001:return l%2===0;case i.Patterns.PATTERN010:return c%3===0;case i.Patterns.PATTERN011:return(l+c)%3===0;case i.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(c/3))%2===0;case i.Patterns.PATTERN101:return l*c%2+l*c%3===0;case i.Patterns.PATTERN110:return(l*c%2+l*c%3)%2===0;case i.Patterns.PATTERN111:return(l*c%3+(l+c)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}i.applyMask=function(l,c){const f=c.size;for(let p=0;p<f;p++)for(let g=0;g<f;g++)c.isReserved(g,p)||c.xor(g,p,a(l,g,p))},i.getBestMask=function(l,c){const f=Object.keys(i.Patterns).length;let p=0,g=1/0;for(let y=0;y<f;y++){c(y),i.applyMask(y,l);const b=i.getPenaltyN1(l)+i.getPenaltyN2(l)+i.getPenaltyN3(l)+i.getPenaltyN4(l);i.applyMask(y,l),b<g&&(g=b,p=y)}return p}}(maskPattern)),maskPattern}var errorCorrectionCode={},hasRequiredErrorCorrectionCode;function requireErrorCorrectionCode(){if(hasRequiredErrorCorrectionCode)return errorCorrectionCode;hasRequiredErrorCorrectionCode=1;const i=requireErrorCorrectionLevel(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return errorCorrectionCode.getBlocksCount=function(l,c){switch(c){case i.L:return n[(l-1)*4+0];case i.M:return n[(l-1)*4+1];case i.Q:return n[(l-1)*4+2];case i.H:return n[(l-1)*4+3];default:return}},errorCorrectionCode.getTotalCodewordsCount=function(l,c){switch(c){case i.L:return a[(l-1)*4+0];case i.M:return a[(l-1)*4+1];case i.Q:return a[(l-1)*4+2];case i.H:return a[(l-1)*4+3];default:return}},errorCorrectionCode}var polynomial={},galoisField={},hasRequiredGaloisField;function requireGaloisField(){if(hasRequiredGaloisField)return galoisField;hasRequiredGaloisField=1;const i=new Uint8Array(512),n=new Uint8Array(256);return function(){let s=1;for(let l=0;l<255;l++)i[l]=s,n[s]=l,s<<=1,s&256&&(s^=285);for(let l=255;l<512;l++)i[l]=i[l-255]}(),galoisField.log=function(s){if(s<1)throw new Error("log("+s+")");return n[s]},galoisField.exp=function(s){return i[s]},galoisField.mul=function(s,l){return s===0||l===0?0:i[n[s]+n[l]]},galoisField}var hasRequiredPolynomial;function requirePolynomial(){return hasRequiredPolynomial||(hasRequiredPolynomial=1,function(i){const n=requireGaloisField();i.mul=function(s,l){const c=new Uint8Array(s.length+l.length-1);for(let f=0;f<s.length;f++)for(let p=0;p<l.length;p++)c[f+p]^=n.mul(s[f],l[p]);return c},i.mod=function(s,l){let c=new Uint8Array(s);for(;c.length-l.length>=0;){const f=c[0];for(let g=0;g<l.length;g++)c[g]^=n.mul(l[g],f);let p=0;for(;p<c.length&&c[p]===0;)p++;c=c.slice(p)}return c},i.generateECPolynomial=function(s){let l=new Uint8Array([1]);for(let c=0;c<s;c++)l=i.mul(l,new Uint8Array([1,n.exp(c)]));return l}}(polynomial)),polynomial}var reedSolomonEncoder,hasRequiredReedSolomonEncoder;function requireReedSolomonEncoder(){if(hasRequiredReedSolomonEncoder)return reedSolomonEncoder;hasRequiredReedSolomonEncoder=1;const i=requirePolynomial();function n(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(s){this.degree=s,this.genPoly=i.generateECPolynomial(this.degree)},n.prototype.encode=function(s){if(!this.genPoly)throw new Error("Encoder not initialized");const l=new Uint8Array(s.length+this.degree);l.set(s);const c=i.mod(l,this.genPoly),f=this.degree-c.length;if(f>0){const p=new Uint8Array(this.degree);return p.set(c,f),p}return c},reedSolomonEncoder=n,reedSolomonEncoder}var version={},mode={},versionCheck={},hasRequiredVersionCheck;function requireVersionCheck(){return hasRequiredVersionCheck||(hasRequiredVersionCheck=1,versionCheck.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),versionCheck}var regex={},hasRequiredRegex;function requireRegex(){if(hasRequiredRegex)return regex;hasRequiredRegex=1;const i="[0-9]+",n="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(a,"g"),regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),regex.BYTE=new RegExp(s,"g"),regex.NUMERIC=new RegExp(i,"g"),regex.ALPHANUMERIC=new RegExp(n,"g");const l=new RegExp("^"+a+"$"),c=new RegExp("^"+i+"$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return regex.testKanji=function(g){return l.test(g)},regex.testNumeric=function(g){return c.test(g)},regex.testAlphanumeric=function(g){return f.test(g)},regex}var hasRequiredMode;function requireMode(){return hasRequiredMode||(hasRequiredMode=1,function(i){const n=requireVersionCheck(),a=requireRegex();i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(c,f){if(!c.ccBits)throw new Error("Invalid mode: "+c);if(!n.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?c.ccBits[0]:f<27?c.ccBits[1]:c.ccBits[2]},i.getBestModeForData=function(c){return a.testNumeric(c)?i.NUMERIC:a.testAlphanumeric(c)?i.ALPHANUMERIC:a.testKanji(c)?i.KANJI:i.BYTE},i.toString=function(c){if(c&&c.id)return c.id;throw new Error("Invalid mode")},i.isValid=function(c){return c&&c.bit&&c.ccBits};function s(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+l)}}i.from=function(c,f){if(i.isValid(c))return c;try{return s(c)}catch{return f}}}(mode)),mode}var hasRequiredVersion;function requireVersion(){return hasRequiredVersion||(hasRequiredVersion=1,function(i){const n=requireUtils$2(),a=requireErrorCorrectionCode(),s=requireErrorCorrectionLevel(),l=requireMode(),c=requireVersionCheck(),f=7973,p=n.getBCHDigit(f);function g(d,v,_){for(let A=1;A<=40;A++)if(v<=i.getCapacity(A,_,d))return A}function y(d,v){return l.getCharCountIndicator(d,v)+4}function b(d,v){let _=0;return d.forEach(function(A){const I=y(A.mode,v);_+=I+A.getBitsLength()}),_}function h(d,v){for(let _=1;_<=40;_++)if(b(d,_)<=i.getCapacity(_,v,l.MIXED))return _}i.from=function(v,_){return c.isValid(v)?parseInt(v,10):_},i.getCapacity=function(v,_,A){if(!c.isValid(v))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=l.BYTE);const I=n.getSymbolTotalCodewords(v),R=a.getTotalCodewordsCount(v,_),P=(I-R)*8;if(A===l.MIXED)return P;const $=P-y(A,v);switch(A){case l.NUMERIC:return Math.floor($/10*3);case l.ALPHANUMERIC:return Math.floor($/11*2);case l.KANJI:return Math.floor($/13);case l.BYTE:default:return Math.floor($/8)}},i.getBestVersionForData=function(v,_){let A;const I=s.from(_,s.M);if(Array.isArray(v)){if(v.length>1)return h(v,I);if(v.length===0)return 1;A=v[0]}else A=v;return g(A.mode,A.getLength(),I)},i.getEncodedBits=function(v){if(!c.isValid(v)||v<7)throw new Error("Invalid QR Code version");let _=v<<12;for(;n.getBCHDigit(_)-p>=0;)_^=f<<n.getBCHDigit(_)-p;return v<<12|_}}(version)),version}var formatInfo={},hasRequiredFormatInfo;function requireFormatInfo(){if(hasRequiredFormatInfo)return formatInfo;hasRequiredFormatInfo=1;const i=requireUtils$2(),n=1335,a=21522,s=i.getBCHDigit(n);return formatInfo.getEncodedBits=function(c,f){const p=c.bit<<3|f;let g=p<<10;for(;i.getBCHDigit(g)-s>=0;)g^=n<<i.getBCHDigit(g)-s;return(p<<10|g)^a},formatInfo}var segments={},numericData,hasRequiredNumericData;function requireNumericData(){if(hasRequiredNumericData)return numericData;hasRequiredNumericData=1;const i=requireMode();function n(a){this.mode=i.NUMERIC,this.data=a.toString()}return n.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let l,c,f;for(l=0;l+3<=this.data.length;l+=3)c=this.data.substr(l,3),f=parseInt(c,10),s.put(f,10);const p=this.data.length-l;p>0&&(c=this.data.substr(l),f=parseInt(c,10),s.put(f,p*3+1))},numericData=n,numericData}var alphanumericData,hasRequiredAlphanumericData;function requireAlphanumericData(){if(hasRequiredAlphanumericData)return alphanumericData;hasRequiredAlphanumericData=1;const i=requireMode(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(s){this.mode=i.ALPHANUMERIC,this.data=s}return a.getBitsLength=function(l){return 11*Math.floor(l/2)+6*(l%2)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){let c;for(c=0;c+2<=this.data.length;c+=2){let f=n.indexOf(this.data[c])*45;f+=n.indexOf(this.data[c+1]),l.put(f,11)}this.data.length%2&&l.put(n.indexOf(this.data[c]),6)},alphanumericData=a,alphanumericData}var byteData,hasRequiredByteData;function requireByteData(){if(hasRequiredByteData)return byteData;hasRequiredByteData=1;const i=requireMode();function n(a){this.mode=i.BYTE,typeof a=="string"?this.data=new TextEncoder().encode(a):this.data=new Uint8Array(a)}return n.getBitsLength=function(s){return s*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(a){for(let s=0,l=this.data.length;s<l;s++)a.put(this.data[s],8)},byteData=n,byteData}var kanjiData,hasRequiredKanjiData;function requireKanjiData(){if(hasRequiredKanjiData)return kanjiData;hasRequiredKanjiData=1;const i=requireMode(),n=requireUtils$2();function a(s){this.mode=i.KANJI,this.data=s}return a.getBitsLength=function(l){return l*13},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(s){let l;for(l=0;l<this.data.length;l++){let c=n.toSJIS(this.data[l]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw new Error("Invalid SJIS character: "+this.data[l]+`
Make sure your charset is UTF-8`);c=(c>>>8&255)*192+(c&255),s.put(c,13)}},kanjiData=a,kanjiData}var dijkstra={exports:{}},hasRequiredDijkstra;function requireDijkstra(){return hasRequiredDijkstra||(hasRequiredDijkstra=1,function(i){var n={single_source_shortest_paths:function(a,s,l){var c={},f={};f[s]=0;var p=n.PriorityQueue.make();p.push(s,0);for(var g,y,b,h,d,v,_,A,I;!p.empty();){g=p.pop(),y=g.value,h=g.cost,d=a[y]||{};for(b in d)d.hasOwnProperty(b)&&(v=d[b],_=h+v,A=f[b],I=typeof f[b]>"u",(I||A>_)&&(f[b]=_,p.push(b,_),c[b]=y))}if(typeof l<"u"&&typeof f[l]>"u"){var R=["Could not find a path from ",s," to ",l,"."].join("");throw new Error(R)}return c},extract_shortest_path_from_predecessor_list:function(a,s){for(var l=[],c=s;c;)l.push(c),a[c],c=a[c];return l.reverse(),l},find_path:function(a,s,l){var c=n.single_source_shortest_paths(a,s,l);return n.extract_shortest_path_from_predecessor_list(c,l)},PriorityQueue:{make:function(a){var s=n.PriorityQueue,l={},c;a=a||{};for(c in s)s.hasOwnProperty(c)&&(l[c]=s[c]);return l.queue=[],l.sorter=a.sorter||s.default_sorter,l},default_sorter:function(a,s){return a.cost-s.cost},push:function(a,s){var l={value:a,cost:s};this.queue.push(l),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=n}(dijkstra)),dijkstra.exports}var hasRequiredSegments;function requireSegments(){return hasRequiredSegments||(hasRequiredSegments=1,function(i){const n=requireMode(),a=requireNumericData(),s=requireAlphanumericData(),l=requireByteData(),c=requireKanjiData(),f=requireRegex(),p=requireUtils$2(),g=requireDijkstra();function y(R){return unescape(encodeURIComponent(R)).length}function b(R,P,$){const M=[];let B;for(;(B=R.exec($))!==null;)M.push({data:B[0],index:B.index,mode:P,length:B[0].length});return M}function h(R){const P=b(f.NUMERIC,n.NUMERIC,R),$=b(f.ALPHANUMERIC,n.ALPHANUMERIC,R);let M,B;return p.isKanjiModeEnabled()?(M=b(f.BYTE,n.BYTE,R),B=b(f.KANJI,n.KANJI,R)):(M=b(f.BYTE_KANJI,n.BYTE,R),B=[]),P.concat($,M,B).sort(function(q,H){return q.index-H.index}).map(function(q){return{data:q.data,mode:q.mode,length:q.length}})}function d(R,P){switch(P){case n.NUMERIC:return a.getBitsLength(R);case n.ALPHANUMERIC:return s.getBitsLength(R);case n.KANJI:return c.getBitsLength(R);case n.BYTE:return l.getBitsLength(R)}}function v(R){return R.reduce(function(P,$){const M=P.length-1>=0?P[P.length-1]:null;return M&&M.mode===$.mode?(P[P.length-1].data+=$.data,P):(P.push($),P)},[])}function _(R){const P=[];for(let $=0;$<R.length;$++){const M=R[$];switch(M.mode){case n.NUMERIC:P.push([M,{data:M.data,mode:n.ALPHANUMERIC,length:M.length},{data:M.data,mode:n.BYTE,length:M.length}]);break;case n.ALPHANUMERIC:P.push([M,{data:M.data,mode:n.BYTE,length:M.length}]);break;case n.KANJI:P.push([M,{data:M.data,mode:n.BYTE,length:y(M.data)}]);break;case n.BYTE:P.push([{data:M.data,mode:n.BYTE,length:y(M.data)}])}}return P}function A(R,P){const $={},M={start:{}};let B=["start"];for(let F=0;F<R.length;F++){const q=R[F],H=[];for(let z=0;z<q.length;z++){const L=q[z],ee=""+F+z;H.push(ee),$[ee]={node:L,lastCount:0},M[ee]={};for(let Z=0;Z<B.length;Z++){const V=B[Z];$[V]&&$[V].node.mode===L.mode?(M[V][ee]=d($[V].lastCount+L.length,L.mode)-d($[V].lastCount,L.mode),$[V].lastCount+=L.length):($[V]&&($[V].lastCount=L.length),M[V][ee]=d(L.length,L.mode)+4+n.getCharCountIndicator(L.mode,P))}}B=H}for(let F=0;F<B.length;F++)M[B[F]].end=0;return{map:M,table:$}}function I(R,P){let $;const M=n.getBestModeForData(R);if($=n.from(P,M),$!==n.BYTE&&$.bit<M.bit)throw new Error('"'+R+'" cannot be encoded with mode '+n.toString($)+`.
 Suggested mode is: `+n.toString(M));switch($===n.KANJI&&!p.isKanjiModeEnabled()&&($=n.BYTE),$){case n.NUMERIC:return new a(R);case n.ALPHANUMERIC:return new s(R);case n.KANJI:return new c(R);case n.BYTE:return new l(R)}}i.fromArray=function(P){return P.reduce(function($,M){return typeof M=="string"?$.push(I(M,null)):M.data&&$.push(I(M.data,M.mode)),$},[])},i.fromString=function(P,$){const M=h(P,p.isKanjiModeEnabled()),B=_(M),F=A(B,$),q=g.find_path(F.map,"start","end"),H=[];for(let z=1;z<q.length-1;z++)H.push(F.table[q[z]].node);return i.fromArray(v(H))},i.rawSplit=function(P){return i.fromArray(h(P,p.isKanjiModeEnabled()))}}(segments)),segments}var hasRequiredQrcode;function requireQrcode(){if(hasRequiredQrcode)return qrcode;hasRequiredQrcode=1;const i=requireUtils$2(),n=requireErrorCorrectionLevel(),a=requireBitBuffer(),s=requireBitMatrix(),l=requireAlignmentPattern(),c=requireFinderPattern(),f=requireMaskPattern(),p=requireErrorCorrectionCode(),g=requireReedSolomonEncoder(),y=requireVersion(),b=requireFormatInfo(),h=requireMode(),d=requireSegments();function v(F,q){const H=F.size,z=c.getPositions(q);for(let L=0;L<z.length;L++){const ee=z[L][0],Z=z[L][1];for(let V=-1;V<=7;V++)if(!(ee+V<=-1||H<=ee+V))for(let X=-1;X<=7;X++)Z+X<=-1||H<=Z+X||(V>=0&&V<=6&&(X===0||X===6)||X>=0&&X<=6&&(V===0||V===6)||V>=2&&V<=4&&X>=2&&X<=4?F.set(ee+V,Z+X,!0,!0):F.set(ee+V,Z+X,!1,!0))}}function _(F){const q=F.size;for(let H=8;H<q-8;H++){const z=H%2===0;F.set(H,6,z,!0),F.set(6,H,z,!0)}}function A(F,q){const H=l.getPositions(q);for(let z=0;z<H.length;z++){const L=H[z][0],ee=H[z][1];for(let Z=-2;Z<=2;Z++)for(let V=-2;V<=2;V++)Z===-2||Z===2||V===-2||V===2||Z===0&&V===0?F.set(L+Z,ee+V,!0,!0):F.set(L+Z,ee+V,!1,!0)}}function I(F,q){const H=F.size,z=y.getEncodedBits(q);let L,ee,Z;for(let V=0;V<18;V++)L=Math.floor(V/3),ee=V%3+H-8-3,Z=(z>>V&1)===1,F.set(L,ee,Z,!0),F.set(ee,L,Z,!0)}function R(F,q,H){const z=F.size,L=b.getEncodedBits(q,H);let ee,Z;for(ee=0;ee<15;ee++)Z=(L>>ee&1)===1,ee<6?F.set(ee,8,Z,!0):ee<8?F.set(ee+1,8,Z,!0):F.set(z-15+ee,8,Z,!0),ee<8?F.set(8,z-ee-1,Z,!0):ee<9?F.set(8,15-ee-1+1,Z,!0):F.set(8,15-ee-1,Z,!0);F.set(z-8,8,1,!0)}function P(F,q){const H=F.size;let z=-1,L=H-1,ee=7,Z=0;for(let V=H-1;V>0;V-=2)for(V===6&&V--;;){for(let X=0;X<2;X++)if(!F.isReserved(L,V-X)){let Q=!1;Z<q.length&&(Q=(q[Z]>>>ee&1)===1),F.set(L,V-X,Q),ee--,ee===-1&&(Z++,ee=7)}if(L+=z,L<0||H<=L){L-=z,z=-z;break}}}function $(F,q,H){const z=new a;H.forEach(function(X){z.put(X.mode.bit,4),z.put(X.getLength(),h.getCharCountIndicator(X.mode,F)),X.write(z)});const L=i.getSymbolTotalCodewords(F),ee=p.getTotalCodewordsCount(F,q),Z=(L-ee)*8;for(z.getLengthInBits()+4<=Z&&z.put(0,4);z.getLengthInBits()%8!==0;)z.putBit(0);const V=(Z-z.getLengthInBits())/8;for(let X=0;X<V;X++)z.put(X%2?17:236,8);return M(z,F,q)}function M(F,q,H){const z=i.getSymbolTotalCodewords(q),L=p.getTotalCodewordsCount(q,H),ee=z-L,Z=p.getBlocksCount(q,H),V=z%Z,X=Z-V,Q=Math.floor(z/Z),G=Math.floor(ee/Z),te=G+1,ue=Q-G,fe=new g(ue);let K=0;const de=new Array(Z),we=new Array(Z);let oe=0;const Ne=new Uint8Array(F.buffer);for(let vt=0;vt<Z;vt++){const it=vt<X?G:te;de[vt]=Ne.slice(K,K+it),we[vt]=fe.encode(de[vt]),K+=it,oe=Math.max(oe,it)}const Ie=new Uint8Array(z);let Le=0,ut,mt;for(ut=0;ut<oe;ut++)for(mt=0;mt<Z;mt++)ut<de[mt].length&&(Ie[Le++]=de[mt][ut]);for(ut=0;ut<ue;ut++)for(mt=0;mt<Z;mt++)Ie[Le++]=we[mt][ut];return Ie}function B(F,q,H,z){let L;if(Array.isArray(F))L=d.fromArray(F);else if(typeof F=="string"){let Q=q;if(!Q){const G=d.rawSplit(F);Q=y.getBestVersionForData(G,H)}L=d.fromString(F,Q||40)}else throw new Error("Invalid data");const ee=y.getBestVersionForData(L,H);if(!ee)throw new Error("The amount of data is too big to be stored in a QR Code");if(!q)q=ee;else if(q<ee)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ee+`.
`);const Z=$(q,H,L),V=i.getSymbolSize(q),X=new s(V);return v(X,q),_(X),A(X,q),R(X,H,0),q>=7&&I(X,q),P(X,Z),isNaN(z)&&(z=f.getBestMask(X,R.bind(null,X,H))),f.applyMask(z,X),R(X,H,z),{modules:X,version:q,errorCorrectionLevel:H,maskPattern:z,segments:L}}return qrcode.create=function(q,H){if(typeof q>"u"||q==="")throw new Error("No input text");let z=n.M,L,ee;return typeof H<"u"&&(z=n.from(H.errorCorrectionLevel,n.M),L=y.from(H.version),ee=f.from(H.maskPattern),H.toSJISFunc&&i.setToSJISFunction(H.toSJISFunc)),B(q,L,z,ee)},qrcode}var canvas={},utils$1={},hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(i){function n(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let s=a.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+a);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(c){return[c,c]}))),s.length===6&&s.push("F","F");const l=parseInt(s.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+s.slice(0,6).join("")}}i.getOptions=function(s){s||(s={}),s.color||(s.color={});const l=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,c=s.width&&s.width>=21?s.width:void 0,f=s.scale||4;return{width:c,scale:c?4:f,margin:l,color:{dark:n(s.color.dark||"#000000ff"),light:n(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},i.getScale=function(s,l){return l.width&&l.width>=s+l.margin*2?l.width/(s+l.margin*2):l.scale},i.getImageWidth=function(s,l){const c=i.getScale(s,l);return Math.floor((s+l.margin*2)*c)},i.qrToImageData=function(s,l,c){const f=l.modules.size,p=l.modules.data,g=i.getScale(f,c),y=Math.floor((f+c.margin*2)*g),b=c.margin*g,h=[c.color.light,c.color.dark];for(let d=0;d<y;d++)for(let v=0;v<y;v++){let _=(d*y+v)*4,A=c.color.light;if(d>=b&&v>=b&&d<y-b&&v<y-b){const I=Math.floor((d-b)/g),R=Math.floor((v-b)/g);A=h[p[I*f+R]?1:0]}s[_++]=A.r,s[_++]=A.g,s[_++]=A.b,s[_]=A.a}}}(utils$1)),utils$1}var hasRequiredCanvas;function requireCanvas(){return hasRequiredCanvas||(hasRequiredCanvas=1,function(i){const n=requireUtils$1();function a(l,c,f){l.clearRect(0,0,c.width,c.height),c.style||(c.style={}),c.height=f,c.width=f,c.style.height=f+"px",c.style.width=f+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(c,f,p){let g=p,y=f;typeof g>"u"&&(!f||!f.getContext)&&(g=f,f=void 0),f||(y=s()),g=n.getOptions(g);const b=n.getImageWidth(c.modules.size,g),h=y.getContext("2d"),d=h.createImageData(b,b);return n.qrToImageData(d.data,c,g),a(h,y,b),h.putImageData(d,0,0),y},i.renderToDataURL=function(c,f,p){let g=p;typeof g>"u"&&(!f||!f.getContext)&&(g=f,f=void 0),g||(g={});const y=i.render(c,f,g),b=g.type||"image/png",h=g.rendererOpts||{};return y.toDataURL(b,h.quality)}}(canvas)),canvas}var svgTag={},hasRequiredSvgTag;function requireSvgTag(){if(hasRequiredSvgTag)return svgTag;hasRequiredSvgTag=1;const i=requireUtils$1();function n(l,c){const f=l.a/255,p=c+'="'+l.hex+'"';return f<1?p+" "+c+'-opacity="'+f.toFixed(2).slice(1)+'"':p}function a(l,c,f){let p=l+c;return typeof f<"u"&&(p+=" "+f),p}function s(l,c,f){let p="",g=0,y=!1,b=0;for(let h=0;h<l.length;h++){const d=Math.floor(h%c),v=Math.floor(h/c);!d&&!y&&(y=!0),l[h]?(b++,h>0&&d>0&&l[h-1]||(p+=y?a("M",d+f,.5+v+f):a("m",g,0),g=0,y=!1),d+1<c&&l[h+1]||(p+=a("h",b),b=0)):g++}return p}return svgTag.render=function(c,f,p){const g=i.getOptions(f),y=c.modules.size,b=c.modules.data,h=y+g.margin*2,d=g.color.light.a?"<path "+n(g.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",v="<path "+n(g.color.dark,"stroke")+' d="'+s(b,y,g.margin)+'"/>',_='viewBox="0 0 '+h+" "+h+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+_+' shape-rendering="crispEdges">'+d+v+`</svg>
`;return typeof p=="function"&&p(null,I),I},svgTag}var hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;const i=requireCanPromise(),n=requireQrcode(),a=requireCanvas(),s=requireSvgTag();function l(c,f,p,g,y){const b=[].slice.call(arguments,1),h=b.length,d=typeof b[h-1]=="function";if(!d&&!i())throw new Error("Callback required as last argument");if(d){if(h<2)throw new Error("Too few arguments provided");h===2?(y=p,p=f,f=g=void 0):h===3&&(f.getContext&&typeof y>"u"?(y=g,g=void 0):(y=g,g=p,p=f,f=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(p=f,f=g=void 0):h===2&&!f.getContext&&(g=p,p=f,f=void 0),new Promise(function(v,_){try{const A=n.create(p,g);v(c(A,f,g))}catch(A){_(A)}})}try{const v=n.create(p,g);y(null,c(v,f,g))}catch(v){y(v)}}return browser.create=n.create,browser.toCanvas=l.bind(null,a.render),browser.toDataURL=l.bind(null,a.renderToDataURL),browser.toString=l.bind(null,function(c,f,p){return s.render(c,p)}),browser}var browserExports=requireBrowser();const QRCode$1=getDefaultExportFromCjs(browserExports);function fixProto(i,n){var a=Object.setPrototypeOf;a?a(i,n):i.__proto__=n}function fixStack(i,n){n===void 0&&(n=i.constructor);var a=Error.captureStackTrace;a&&a(i,n)}var __extends$19=function(){var i=function(a,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},i(a,s)};return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),CustomError=function(i){__extends$19(n,i);function n(a,s){var l=this.constructor,c=i.call(this,a,s)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1,configurable:!0}),fixProto(c,l.prototype),fixStack(c),c}return n}(Error),__extends$18=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),Exception=function(i){__extends$18(n,i);function n(a){a===void 0&&(a=void 0);var s=i.call(this,a)||this;return s.message=a,s}return n.prototype.getKind=function(){var a=this.constructor;return a.kind},n.kind="Exception",n}(CustomError),__extends$17=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),ArgumentException=function(i){__extends$17(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="ArgumentException",n}(Exception),__extends$16=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),IllegalArgumentException=function(i){__extends$16(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="IllegalArgumentException",n}(Exception),BinaryBitmap=function(){function i(n){if(this.binarizer=n,n===null)throw new IllegalArgumentException("Binarizer must be non-null.")}return i.prototype.getWidth=function(){return this.binarizer.getWidth()},i.prototype.getHeight=function(){return this.binarizer.getHeight()},i.prototype.getBlackRow=function(n,a){return this.binarizer.getBlackRow(n,a)},i.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},i.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},i.prototype.crop=function(n,a,s,l){var c=this.binarizer.getLuminanceSource().crop(n,a,s,l);return new i(this.binarizer.createBinarizer(c))},i.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},i.prototype.rotateCounterClockwise=function(){var n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new i(this.binarizer.createBinarizer(n))},i.prototype.rotateCounterClockwise45=function(){var n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new i(this.binarizer.createBinarizer(n))},i.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},i}(),__extends$15=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),ChecksumException=function(i){__extends$15(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.getChecksumInstance=function(){return new n},n.kind="ChecksumException",n}(Exception),Binarizer=function(){function i(n){this.source=n}return i.prototype.getLuminanceSource=function(){return this.source},i.prototype.getWidth=function(){return this.source.getWidth()},i.prototype.getHeight=function(){return this.source.getHeight()},i}(),System=function(){function i(){}return i.arraycopy=function(n,a,s,l,c){for(;c--;)s[l++]=n[a++]},i.currentTimeMillis=function(){return Date.now()},i}(),__extends$14=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),IndexOutOfBoundsException=function(i){__extends$14(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="IndexOutOfBoundsException",n}(Exception),__extends$13=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),ArrayIndexOutOfBoundsException=function(i){__extends$13(n,i);function n(a,s){a===void 0&&(a=void 0),s===void 0&&(s=void 0);var l=i.call(this,s)||this;return l.index=a,l.message=s,l}return n.kind="ArrayIndexOutOfBoundsException",n}(IndexOutOfBoundsException),__values$J=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Arrays=function(){function i(){}return i.fill=function(n,a){for(var s=0,l=n.length;s<l;s++)n[s]=a},i.fillWithin=function(n,a,s,l){i.rangeCheck(n.length,a,s);for(var c=a;c<s;c++)n[c]=l},i.rangeCheck=function(n,a,s){if(a>s)throw new IllegalArgumentException("fromIndex("+a+") > toIndex("+s+")");if(a<0)throw new ArrayIndexOutOfBoundsException(a);if(s>n)throw new ArrayIndexOutOfBoundsException(s)},i.asList=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return n},i.create=function(n,a,s){var l=Array.from({length:n});return l.map(function(c){return Array.from({length:a}).fill(s)})},i.createInt32Array=function(n,a,s){var l=Array.from({length:n});return l.map(function(c){return Int32Array.from({length:a}).fill(s)})},i.equals=function(n,a){if(!n||!a||!n.length||!a.length||n.length!==a.length)return!1;for(var s=0,l=n.length;s<l;s++)if(n[s]!==a[s])return!1;return!0},i.hashCode=function(n){var a,s;if(n===null)return 0;var l=1;try{for(var c=__values$J(n),f=c.next();!f.done;f=c.next()){var p=f.value;l=31*l+p}}catch(g){a={error:g}}finally{try{f&&!f.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return l},i.fillUint8Array=function(n,a){for(var s=0;s!==n.length;s++)n[s]=a},i.copyOf=function(n,a){return n.slice(0,a)},i.copyOfUint8Array=function(n,a){if(n.length<=a){var s=new Uint8Array(a);return s.set(n),s}return n.slice(0,a)},i.copyOfRange=function(n,a,s){var l=s-a,c=new Int32Array(l);return System.arraycopy(n,a,c,0,l),c},i.binarySearch=function(n,a,s){s===void 0&&(s=i.numberComparator);for(var l=0,c=n.length-1;l<=c;){var f=c+l>>1,p=s(a,n[f]);if(p>0)l=f+1;else if(p<0)c=f-1;else return f}return-l-1},i.numberComparator=function(n,a){return n-a},i}(),Integer=function(){function i(){}return i.numberOfTrailingZeros=function(n){var a;if(n===0)return 32;var s=31;return a=n<<16,a!==0&&(s-=16,n=a),a=n<<8,a!==0&&(s-=8,n=a),a=n<<4,a!==0&&(s-=4,n=a),a=n<<2,a!==0&&(s-=2,n=a),s-(n<<1>>>31)},i.numberOfLeadingZeros=function(n){if(n===0)return 32;var a=1;return n>>>16||(a+=16,n<<=16),n>>>24||(a+=8,n<<=8),n>>>28||(a+=4,n<<=4),n>>>30||(a+=2,n<<=2),a-=n>>>31,a},i.toHexString=function(n){return n.toString(16)},i.toBinaryString=function(n){return String(parseInt(String(n),2))},i.bitCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63},i.truncDivision=function(n,a){return Math.trunc(n/a)},i.parseInt=function(n,a){return a===void 0&&(a=void 0),parseInt(n,a)},i.MIN_VALUE_32_BITS=-2147483648,i.MAX_VALUE=Number.MAX_SAFE_INTEGER,i}(),BitArray=function(){function i(n,a){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,a==null?this.bits=i.makeArray(n):this.bits=a)}return i.prototype.getSize=function(){return this.size},i.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},i.prototype.ensureCapacity=function(n){if(n>this.bits.length*32){var a=i.makeArray(n);System.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}},i.prototype.get=function(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0},i.prototype.set=function(n){this.bits[Math.floor(n/32)]|=1<<(n&31)},i.prototype.flip=function(n){this.bits[Math.floor(n/32)]^=1<<(n&31)},i.prototype.getNextSet=function(n){var a=this.size;if(n>=a)return a;var s=this.bits,l=Math.floor(n/32),c=s[l];c&=~((1<<(n&31))-1);for(var f=s.length;c===0;){if(++l===f)return a;c=s[l]}var p=l*32+Integer.numberOfTrailingZeros(c);return p>a?a:p},i.prototype.getNextUnset=function(n){var a=this.size;if(n>=a)return a;var s=this.bits,l=Math.floor(n/32),c=~s[l];c&=~((1<<(n&31))-1);for(var f=s.length;c===0;){if(++l===f)return a;c=~s[l]}var p=l*32+Integer.numberOfTrailingZeros(c);return p>a?a:p},i.prototype.setBulk=function(n,a){this.bits[Math.floor(n/32)]=a},i.prototype.setRange=function(n,a){if(a<n||n<0||a>this.size)throw new IllegalArgumentException;if(a!==n){a--;for(var s=Math.floor(n/32),l=Math.floor(a/32),c=this.bits,f=s;f<=l;f++){var p=f>s?0:n&31,g=f<l?31:a&31,y=(2<<g)-(1<<p);c[f]|=y}}},i.prototype.clear=function(){for(var n=this.bits.length,a=this.bits,s=0;s<n;s++)a[s]=0},i.prototype.isRange=function(n,a,s){if(a<n||n<0||a>this.size)throw new IllegalArgumentException;if(a===n)return!0;a--;for(var l=Math.floor(n/32),c=Math.floor(a/32),f=this.bits,p=l;p<=c;p++){var g=p>l?0:n&31,y=p<c?31:a&31,b=(2<<y)-(1<<g)&4294967295;if((f[p]&b)!==(s?b:0))return!1}return!0},i.prototype.appendBit=function(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},i.prototype.appendBits=function(n,a){if(a<0||a>32)throw new IllegalArgumentException("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(var s=a;s>0;s--)this.appendBit((n>>s-1&1)===1)},i.prototype.appendBitArray=function(n){var a=n.size;this.ensureCapacity(this.size+a);for(var s=0;s<a;s++)this.appendBit(n.get(s))},i.prototype.xor=function(n){if(this.size!==n.size)throw new IllegalArgumentException("Sizes don't match");for(var a=this.bits,s=0,l=a.length;s<l;s++)a[s]^=n.bits[s]},i.prototype.toBytes=function(n,a,s,l){for(var c=0;c<l;c++){for(var f=0,p=0;p<8;p++)this.get(n)&&(f|=1<<7-p),n++;a[s+c]=f}},i.prototype.getBitArray=function(){return this.bits},i.prototype.reverse=function(){for(var n=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),s=a+1,l=this.bits,c=0;c<s;c++){var f=l[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,n[a-c]=f}if(this.size!==s*32){for(var p=s*32-this.size,g=n[0]>>>p,c=1;c<s;c++){var y=n[c];g|=y<<32-p,n[c-1]=g,g=y>>>p}n[s-1]=g}this.bits=n},i.makeArray=function(n){return new Int32Array(Math.floor((n+31)/32))},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;return this.size===a.size&&Arrays.equals(this.bits,a.bits)},i.prototype.hashCode=function(){return 31*this.size+Arrays.hashCode(this.bits)},i.prototype.toString=function(){for(var n="",a=0,s=this.size;a<s;a++)(a&7)===0&&(n+=" "),n+=this.get(a)?"X":".";return n},i.prototype.clone=function(){return new i(this.size,this.bits.slice())},i.prototype.toArray=function(){for(var n=[],a=0,s=this.size;a<s;a++)n.push(this.get(a));return n},i}(),DecodeHintType;(function(i){i[i.OTHER=0]="OTHER",i[i.PURE_BARCODE=1]="PURE_BARCODE",i[i.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",i[i.TRY_HARDER=3]="TRY_HARDER",i[i.CHARACTER_SET=4]="CHARACTER_SET",i[i.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",i[i.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",i[i.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",i[i.ASSUME_GS1=8]="ASSUME_GS1",i[i.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",i[i.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",i[i.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(DecodeHintType||(DecodeHintType={}));const DecodeHintType$1=DecodeHintType;var __extends$12=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),FormatException=function(i){__extends$12(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.getFormatInstance=function(){return new n},n.kind="FormatException",n}(Exception),__values$I=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},CharacterSetValueIdentifiers;(function(i){i[i.Cp437=0]="Cp437",i[i.ISO8859_1=1]="ISO8859_1",i[i.ISO8859_2=2]="ISO8859_2",i[i.ISO8859_3=3]="ISO8859_3",i[i.ISO8859_4=4]="ISO8859_4",i[i.ISO8859_5=5]="ISO8859_5",i[i.ISO8859_6=6]="ISO8859_6",i[i.ISO8859_7=7]="ISO8859_7",i[i.ISO8859_8=8]="ISO8859_8",i[i.ISO8859_9=9]="ISO8859_9",i[i.ISO8859_10=10]="ISO8859_10",i[i.ISO8859_11=11]="ISO8859_11",i[i.ISO8859_13=12]="ISO8859_13",i[i.ISO8859_14=13]="ISO8859_14",i[i.ISO8859_15=14]="ISO8859_15",i[i.ISO8859_16=15]="ISO8859_16",i[i.SJIS=16]="SJIS",i[i.Cp1250=17]="Cp1250",i[i.Cp1251=18]="Cp1251",i[i.Cp1252=19]="Cp1252",i[i.Cp1256=20]="Cp1256",i[i.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",i[i.UTF8=22]="UTF8",i[i.ASCII=23]="ASCII",i[i.Big5=24]="Big5",i[i.GB18030=25]="GB18030",i[i.EUC_KR=26]="EUC_KR"})(CharacterSetValueIdentifiers||(CharacterSetValueIdentifiers={}));var CharacterSetECI=function(){function i(n,a,s){for(var l,c,f=[],p=3;p<arguments.length;p++)f[p-3]=arguments[p];this.valueIdentifier=n,this.name=s,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=f,i.VALUE_IDENTIFIER_TO_ECI.set(n,this),i.NAME_TO_ECI.set(s,this);for(var g=this.values,y=0,b=g.length;y!==b;y++){var h=g[y];i.VALUES_TO_ECI.set(h,this)}try{for(var d=__values$I(f),v=d.next();!v.done;v=d.next()){var _=v.value;i.NAME_TO_ECI.set(_,this)}}catch(A){l={error:A}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}}return i.prototype.getValueIdentifier=function(){return this.valueIdentifier},i.prototype.getName=function(){return this.name},i.prototype.getValue=function(){return this.values[0]},i.getCharacterSetECIByValue=function(n){if(n<0||n>=900)throw new FormatException("incorect value");var a=i.VALUES_TO_ECI.get(n);if(a===void 0)throw new FormatException("incorect value");return a},i.getCharacterSetECIByName=function(n){var a=i.NAME_TO_ECI.get(n);if(a===void 0)throw new FormatException("incorect value");return a},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;return this.getName()===a.getName()},i.VALUE_IDENTIFIER_TO_ECI=new Map,i.VALUES_TO_ECI=new Map,i.NAME_TO_ECI=new Map,i.Cp437=new i(CharacterSetValueIdentifiers.Cp437,Int32Array.from([0,2]),"Cp437"),i.ISO8859_1=new i(CharacterSetValueIdentifiers.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),i.ISO8859_2=new i(CharacterSetValueIdentifiers.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),i.ISO8859_3=new i(CharacterSetValueIdentifiers.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),i.ISO8859_4=new i(CharacterSetValueIdentifiers.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),i.ISO8859_5=new i(CharacterSetValueIdentifiers.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),i.ISO8859_6=new i(CharacterSetValueIdentifiers.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),i.ISO8859_7=new i(CharacterSetValueIdentifiers.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),i.ISO8859_8=new i(CharacterSetValueIdentifiers.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),i.ISO8859_9=new i(CharacterSetValueIdentifiers.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),i.ISO8859_10=new i(CharacterSetValueIdentifiers.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),i.ISO8859_11=new i(CharacterSetValueIdentifiers.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),i.ISO8859_13=new i(CharacterSetValueIdentifiers.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),i.ISO8859_14=new i(CharacterSetValueIdentifiers.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),i.ISO8859_15=new i(CharacterSetValueIdentifiers.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),i.ISO8859_16=new i(CharacterSetValueIdentifiers.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),i.SJIS=new i(CharacterSetValueIdentifiers.SJIS,20,"SJIS","Shift_JIS"),i.Cp1250=new i(CharacterSetValueIdentifiers.Cp1250,21,"Cp1250","windows-1250"),i.Cp1251=new i(CharacterSetValueIdentifiers.Cp1251,22,"Cp1251","windows-1251"),i.Cp1252=new i(CharacterSetValueIdentifiers.Cp1252,23,"Cp1252","windows-1252"),i.Cp1256=new i(CharacterSetValueIdentifiers.Cp1256,24,"Cp1256","windows-1256"),i.UnicodeBigUnmarked=new i(CharacterSetValueIdentifiers.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),i.UTF8=new i(CharacterSetValueIdentifiers.UTF8,26,"UTF8","UTF-8"),i.ASCII=new i(CharacterSetValueIdentifiers.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),i.Big5=new i(CharacterSetValueIdentifiers.Big5,28,"Big5"),i.GB18030=new i(CharacterSetValueIdentifiers.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),i.EUC_KR=new i(CharacterSetValueIdentifiers.EUC_KR,30,"EUC_KR","EUC-KR"),i}(),__extends$11=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),UnsupportedOperationException=function(i){__extends$11(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="UnsupportedOperationException",n}(Exception),StringEncoding=function(){function i(){}return i.decode=function(n,a){var s=this.encodingName(a);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)},i.shouldDecodeOnFallback=function(n){return!i.isBrowser()&&n==="ISO-8859-1"},i.encode=function(n,a){var s=this.encodingName(a);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)},i.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},i.encodingName=function(n){return typeof n=="string"?n:n.getName()},i.encodingCharacterSet=function(n){return n instanceof CharacterSetECI?n:CharacterSetECI.getCharacterSetECIByName(n)},i.decodeFallback=function(n,a){var s=this.encodingCharacterSet(a);if(i.isDecodeFallbackSupported(s)){for(var l="",c=0,f=n.length;c<f;c++){var p=n[c].toString(16);p.length<2&&(p="0"+p),l+="%"+p}return decodeURIComponent(l)}if(s.equals(CharacterSetECI.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new UnsupportedOperationException("Encoding "+this.encodingName(a)+" not supported by fallback.")},i.isDecodeFallbackSupported=function(n){return n.equals(CharacterSetECI.UTF8)||n.equals(CharacterSetECI.ISO8859_1)||n.equals(CharacterSetECI.ASCII)},i.encodeFallback=function(n){for(var a=btoa(unescape(encodeURIComponent(n))),s=a.split(""),l=[],c=0;c<s.length;c++)l.push(s[c].charCodeAt(0));return new Uint8Array(l)},i}(),StringUtils=function(){function i(){}return i.castAsNonUtf8Char=function(n,a){a===void 0&&(a=null);var s=a?a.getName():this.ISO88591;return StringEncoding.decode(new Uint8Array([n]),s)},i.guessEncoding=function(n,a){if(a!=null&&a.get(DecodeHintType$1.CHARACTER_SET)!==void 0)return a.get(DecodeHintType$1.CHARACTER_SET).toString();for(var s=n.length,l=!0,c=!0,f=!0,p=0,g=0,y=0,b=0,h=0,d=0,v=0,_=0,A=0,I=0,R=0,P=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191,$=0;$<s&&(l||c||f);$++){var M=n[$]&255;f&&(p>0?(M&128)===0?f=!1:p--:(M&128)!==0&&((M&64)===0?f=!1:(p++,(M&32)===0?g++:(p++,(M&16)===0?y++:(p++,(M&8)===0?b++:f=!1))))),l&&(M>127&&M<160?l=!1:M>159&&(M<192||M===215||M===247)&&R++),c&&(h>0?M<64||M===127||M>252?c=!1:h--:M===128||M===160||M>239?c=!1:M>160&&M<224?(d++,_=0,v++,v>A&&(A=v)):M>127?(h++,v=0,_++,_>I&&(I=_)):(v=0,_=0))}return f&&p>0&&(f=!1),c&&h>0&&(c=!1),f&&(P||g+y+b>0)?i.UTF8:c&&(i.ASSUME_SHIFT_JIS||A>=3||I>=3)?i.SHIFT_JIS:l&&c?A===2&&d===2||R*10>=s?i.SHIFT_JIS:i.ISO88591:l?i.ISO88591:c?i.SHIFT_JIS:f?i.UTF8:i.PLATFORM_DEFAULT_ENCODING},i.format=function(n){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];var l=-1;function c(p,g,y,b,h,d){if(p==="%%")return"%";if(a[++l]!==void 0){p=b?parseInt(b.substr(1)):void 0;var v=h?parseInt(h.substr(1)):void 0,_;switch(d){case"s":_=a[l];break;case"c":_=a[l][0];break;case"f":_=parseFloat(a[l]).toFixed(p);break;case"p":_=parseFloat(a[l]).toPrecision(p);break;case"e":_=parseFloat(a[l]).toExponential(p);break;case"x":_=parseInt(a[l]).toString(v||16);break;case"d":_=parseFloat(parseInt(a[l],v||10).toPrecision(p)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(v);for(var A=parseInt(y),I=y&&y[0]+""=="0"?"0":" ";_.length<A;)_=g!==void 0?_+I:I+_;return _}}var f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(f,c)},i.getBytes=function(n,a){return StringEncoding.encode(n,a)},i.getCharCode=function(n,a){return a===void 0&&(a=0),n.charCodeAt(a)},i.getCharAt=function(n){return String.fromCharCode(n)},i.SHIFT_JIS=CharacterSetECI.SJIS.getName(),i.GB2312="GB2312",i.ISO88591=CharacterSetECI.ISO8859_1.getName(),i.EUC_JP="EUC_JP",i.UTF8=CharacterSetECI.UTF8.getName(),i.PLATFORM_DEFAULT_ENCODING=i.UTF8,i.ASSUME_SHIFT_JIS=!1,i}(),StringBuilder=function(){function i(n){n===void 0&&(n=""),this.value=n}return i.prototype.enableDecoding=function(n){return this.encoding=n,this},i.prototype.append=function(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=StringUtils.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this},i.prototype.appendChars=function(n,a,s){for(var l=a;a<a+s;l++)this.append(n[l]);return this},i.prototype.length=function(){return this.value.length},i.prototype.charAt=function(n){return this.value.charAt(n)},i.prototype.deleteCharAt=function(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)},i.prototype.setCharAt=function(n,a){this.value=this.value.substr(0,n)+a+this.value.substr(n+1)},i.prototype.substring=function(n,a){return this.value.substring(n,a)},i.prototype.setLengthToZero=function(){this.value=""},i.prototype.toString=function(){return this.value},i.prototype.insert=function(n,a){this.value=this.value.substring(0,n)+a+this.value.substring(n)},i}(),BitMatrix=function(){function i(n,a,s,l){if(this.width=n,this.height=a,this.rowSize=s,this.bits=l,a==null&&(a=n),this.height=a,n<1||a<1)throw new IllegalArgumentException("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return i.parseFromBooleanArray=function(n){for(var a=n.length,s=n[0].length,l=new i(s,a),c=0;c<a;c++)for(var f=n[c],p=0;p<s;p++)f[p]&&l.set(p,c);return l},i.parseFromString=function(n,a,s){if(n===null)throw new IllegalArgumentException("stringRepresentation cannot be null");for(var l=new Array(n.length),c=0,f=0,p=-1,g=0,y=0;y<n.length;)if(n.charAt(y)===`
`||n.charAt(y)==="\r"){if(c>f){if(p===-1)p=c-f;else if(c-f!==p)throw new IllegalArgumentException("row lengths do not match");f=c,g++}y++}else if(n.substring(y,y+a.length)===a)y+=a.length,l[c]=!0,c++;else if(n.substring(y,y+s.length)===s)y+=s.length,l[c]=!1,c++;else throw new IllegalArgumentException("illegal character encountered: "+n.substring(y));if(c>f){if(p===-1)p=c-f;else if(c-f!==p)throw new IllegalArgumentException("row lengths do not match");g++}for(var b=new i(p,g),h=0;h<c;h++)l[h]&&b.set(Math.floor(h%p),Math.floor(h/p));return b},i.prototype.get=function(n,a){var s=a*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0},i.prototype.set=function(n,a){var s=a*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295},i.prototype.unset=function(n,a){var s=a*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)},i.prototype.flip=function(n,a){var s=a*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295},i.prototype.xor=function(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new IllegalArgumentException("input matrix dimensions do not match");for(var a=new BitArray(Math.floor(this.width/32)+1),s=this.rowSize,l=this.bits,c=0,f=this.height;c<f;c++)for(var p=c*s,g=n.getRow(c,a).getBitArray(),y=0;y<s;y++)l[p+y]^=g[y]},i.prototype.clear=function(){for(var n=this.bits,a=n.length,s=0;s<a;s++)n[s]=0},i.prototype.setRegion=function(n,a,s,l){if(a<0||n<0)throw new IllegalArgumentException("Left and top must be nonnegative");if(l<1||s<1)throw new IllegalArgumentException("Height and width must be at least 1");var c=n+s,f=a+l;if(f>this.height||c>this.width)throw new IllegalArgumentException("The region must fit inside the matrix");for(var p=this.rowSize,g=this.bits,y=a;y<f;y++)for(var b=y*p,h=n;h<c;h++)g[b+Math.floor(h/32)]|=1<<(h&31)&4294967295},i.prototype.getRow=function(n,a){a==null||a.getSize()<this.width?a=new BitArray(this.width):a.clear();for(var s=this.rowSize,l=this.bits,c=n*s,f=0;f<s;f++)a.setBulk(f*32,l[c+f]);return a},i.prototype.setRow=function(n,a){System.arraycopy(a.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)},i.prototype.rotate180=function(){for(var n=this.getWidth(),a=this.getHeight(),s=new BitArray(n),l=new BitArray(n),c=0,f=Math.floor((a+1)/2);c<f;c++)s=this.getRow(c,s),l=this.getRow(a-1-c,l),s.reverse(),l.reverse(),this.setRow(c,l),this.setRow(a-1-c,s)},i.prototype.getEnclosingRectangle=function(){for(var n=this.width,a=this.height,s=this.rowSize,l=this.bits,c=n,f=a,p=-1,g=-1,y=0;y<a;y++)for(var b=0;b<s;b++){var h=l[y*s+b];if(h!==0){if(y<f&&(f=y),y>g&&(g=y),b*32<c){for(var d=0;(h<<31-d&4294967295)===0;)d++;b*32+d<c&&(c=b*32+d)}if(b*32+31>p){for(var d=31;!(h>>>d);)d--;b*32+d>p&&(p=b*32+d)}}}return p<c||g<f?null:Int32Array.from([c,f,p-c+1,g-f+1])},i.prototype.getTopLeftOnBit=function(){for(var n=this.rowSize,a=this.bits,s=0;s<a.length&&a[s]===0;)s++;if(s===a.length)return null;for(var l=s/n,c=s%n*32,f=a[s],p=0;(f<<31-p&4294967295)===0;)p++;return c+=p,Int32Array.from([c,l])},i.prototype.getBottomRightOnBit=function(){for(var n=this.rowSize,a=this.bits,s=a.length-1;s>=0&&a[s]===0;)s--;if(s<0)return null;for(var l=Math.floor(s/n),c=Math.floor(s%n)*32,f=a[s],p=31;!(f>>>p);)p--;return c+=p,Int32Array.from([c,l])},i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.getRowSize=function(){return this.rowSize},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&Arrays.equals(this.bits,a.bits)},i.prototype.hashCode=function(){var n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+Arrays.hashCode(this.bits),n},i.prototype.toString=function(n,a,s){return n===void 0&&(n="X "),a===void 0&&(a="  "),s===void 0&&(s=`
`),this.buildToString(n,a,s)},i.prototype.buildToString=function(n,a,s){for(var l=new StringBuilder,c=0,f=this.height;c<f;c++){for(var p=0,g=this.width;p<g;p++)l.append(this.get(p,c)?n:a);l.append(s)}return l.toString()},i.prototype.clone=function(){return new i(this.width,this.height,this.rowSize,this.bits.slice())},i}(),__extends$10=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),NotFoundException=function(i){__extends$10(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.getNotFoundInstance=function(){return new n},n.kind="NotFoundException",n}(Exception),__extends$$=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),GlobalHistogramBinarizer=function(i){__extends$$(n,i);function n(a){var s=i.call(this,a)||this;return s.luminances=n.EMPTY,s.buckets=new Int32Array(n.LUMINANCE_BUCKETS),s}return n.prototype.getBlackRow=function(a,s){var l=this.getLuminanceSource(),c=l.getWidth();s==null||s.getSize()<c?s=new BitArray(c):s.clear(),this.initArrays(c);for(var f=l.getRow(a,this.luminances),p=this.buckets,g=0;g<c;g++)p[(f[g]&255)>>n.LUMINANCE_SHIFT]++;var y=n.estimateBlackPoint(p);if(c<3)for(var g=0;g<c;g++)(f[g]&255)<y&&s.set(g);else for(var b=f[0]&255,h=f[1]&255,g=1;g<c-1;g++){var d=f[g+1]&255;(h*4-b-d)/2<y&&s.set(g),b=h,h=d}return s},n.prototype.getBlackMatrix=function(){var a=this.getLuminanceSource(),s=a.getWidth(),l=a.getHeight(),c=new BitMatrix(s,l);this.initArrays(s);for(var f=this.buckets,p=1;p<5;p++)for(var g=Math.floor(l*p/5),y=a.getRow(g,this.luminances),b=Math.floor(s*4/5),h=Math.floor(s/5);h<b;h++){var d=y[h]&255;f[d>>n.LUMINANCE_SHIFT]++}for(var v=n.estimateBlackPoint(f),_=a.getMatrix(),p=0;p<l;p++)for(var A=p*s,h=0;h<s;h++){var d=_[A+h]&255;d<v&&c.set(h,p)}return c},n.prototype.createBinarizer=function(a){return new n(a)},n.prototype.initArrays=function(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));for(var s=this.buckets,l=0;l<n.LUMINANCE_BUCKETS;l++)s[l]=0},n.estimateBlackPoint=function(a){for(var s=a.length,l=0,c=0,f=0,p=0;p<s;p++)a[p]>f&&(c=p,f=a[p]),a[p]>l&&(l=a[p]);for(var g=0,y=0,p=0;p<s;p++){var b=p-c,h=a[p]*b*b;h>y&&(g=p,y=h)}if(c>g){var d=c;c=g,g=d}if(g-c<=s/16)throw new NotFoundException;for(var v=g-1,_=-1,p=g-1;p>c;p--){var A=p-c,h=A*A*(g-p)*(l-a[p]);h>_&&(v=p,_=h)}return v<<n.LUMINANCE_SHIFT},n.LUMINANCE_BITS=5,n.LUMINANCE_SHIFT=8-n.LUMINANCE_BITS,n.LUMINANCE_BUCKETS=1<<n.LUMINANCE_BITS,n.EMPTY=Uint8ClampedArray.from([0]),n}(Binarizer),__extends$_=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),HybridBinarizer=function(i){__extends$_(n,i);function n(a){var s=i.call(this,a)||this;return s.matrix=null,s}return n.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var a=this.getLuminanceSource(),s=a.getWidth(),l=a.getHeight();if(s>=n.MINIMUM_DIMENSION&&l>=n.MINIMUM_DIMENSION){var c=a.getMatrix(),f=s>>n.BLOCK_SIZE_POWER;(s&n.BLOCK_SIZE_MASK)!==0&&f++;var p=l>>n.BLOCK_SIZE_POWER;(l&n.BLOCK_SIZE_MASK)!==0&&p++;var g=n.calculateBlackPoints(c,f,p,s,l),y=new BitMatrix(s,l);n.calculateThresholdForBlock(c,f,p,s,l,g,y),this.matrix=y}else this.matrix=i.prototype.getBlackMatrix.call(this);return this.matrix},n.prototype.createBinarizer=function(a){return new n(a)},n.calculateThresholdForBlock=function(a,s,l,c,f,p,g){for(var y=f-n.BLOCK_SIZE,b=c-n.BLOCK_SIZE,h=0;h<l;h++){var d=h<<n.BLOCK_SIZE_POWER;d>y&&(d=y);for(var v=n.cap(h,2,l-3),_=0;_<s;_++){var A=_<<n.BLOCK_SIZE_POWER;A>b&&(A=b);for(var I=n.cap(_,2,s-3),R=0,P=-2;P<=2;P++){var $=p[v+P];R+=$[I-2]+$[I-1]+$[I]+$[I+1]+$[I+2]}var M=R/25;n.thresholdBlock(a,A,d,M,c,g)}}},n.cap=function(a,s,l){return a<s?s:a>l?l:a},n.thresholdBlock=function(a,s,l,c,f,p){for(var g=0,y=l*f+s;g<n.BLOCK_SIZE;g++,y+=f)for(var b=0;b<n.BLOCK_SIZE;b++)(a[y+b]&255)<=c&&p.set(s+b,l+g)},n.calculateBlackPoints=function(a,s,l,c,f){for(var p=f-n.BLOCK_SIZE,g=c-n.BLOCK_SIZE,y=new Array(l),b=0;b<l;b++){y[b]=new Int32Array(s);var h=b<<n.BLOCK_SIZE_POWER;h>p&&(h=p);for(var d=0;d<s;d++){var v=d<<n.BLOCK_SIZE_POWER;v>g&&(v=g);for(var _=0,A=255,I=0,R=0,P=h*c+v;R<n.BLOCK_SIZE;R++,P+=c){for(var $=0;$<n.BLOCK_SIZE;$++){var M=a[P+$]&255;_+=M,M<A&&(A=M),M>I&&(I=M)}if(I-A>n.MIN_DYNAMIC_RANGE)for(R++,P+=c;R<n.BLOCK_SIZE;R++,P+=c)for(var $=0;$<n.BLOCK_SIZE;$++)_+=a[P+$]&255}var B=_>>n.BLOCK_SIZE_POWER*2;if(I-A<=n.MIN_DYNAMIC_RANGE&&(B=A/2,b>0&&d>0)){var F=(y[b-1][d]+2*y[b][d-1]+y[b-1][d-1])/4;A<F&&(B=F)}y[b][d]=B}}return y},n.BLOCK_SIZE_POWER=3,n.BLOCK_SIZE=1<<n.BLOCK_SIZE_POWER,n.BLOCK_SIZE_MASK=n.BLOCK_SIZE-1,n.MINIMUM_DIMENSION=n.BLOCK_SIZE*5,n.MIN_DYNAMIC_RANGE=24,n}(GlobalHistogramBinarizer),LuminanceSource=function(){function i(n,a){this.width=n,this.height=a}return i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.isCropSupported=function(){return!1},i.prototype.crop=function(n,a,s,l){throw new UnsupportedOperationException("This luminance source does not support cropping.")},i.prototype.isRotateSupported=function(){return!1},i.prototype.rotateCounterClockwise=function(){throw new UnsupportedOperationException("This luminance source does not support rotation by 90 degrees.")},i.prototype.rotateCounterClockwise45=function(){throw new UnsupportedOperationException("This luminance source does not support rotation by 45 degrees.")},i.prototype.toString=function(){for(var n=new Uint8ClampedArray(this.width),a=new StringBuilder,s=0;s<this.height;s++){for(var l=this.getRow(s,n),c=0;c<this.width;c++){var f=l[c]&255,p=void 0;f<64?p="#":f<128?p="+":f<192?p=".":p=" ",a.append(p)}a.append(`
`)}return a.toString()},i}(),__extends$Z=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),InvertedLuminanceSource=function(i){__extends$Z(n,i);function n(a){var s=i.call(this,a.getWidth(),a.getHeight())||this;return s.delegate=a,s}return n.prototype.getRow=function(a,s){for(var l=this.delegate.getRow(a,s),c=this.getWidth(),f=0;f<c;f++)l[f]=255-(l[f]&255);return l},n.prototype.getMatrix=function(){for(var a=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(s),c=0;c<s;c++)l[c]=255-(a[c]&255);return l},n.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},n.prototype.crop=function(a,s,l,c){return new n(this.delegate.crop(a,s,l,c))},n.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},n.prototype.invert=function(){return this.delegate},n.prototype.rotateCounterClockwise=function(){return new n(this.delegate.rotateCounterClockwise())},n.prototype.rotateCounterClockwise45=function(){return new n(this.delegate.rotateCounterClockwise45())},n}(LuminanceSource),__extends$Y=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),HTMLCanvasElementLuminanceSource=function(i){__extends$Y(n,i);function n(a,s){s===void 0&&(s=!1);var l=i.call(this,a.width,a.height)||this;return l.canvas=a,l.tempCanvasElement=null,l.buffer=n.makeBufferFromCanvasImageData(a,s),l}return n.makeBufferFromCanvasImageData=function(a,s){s===void 0&&(s=!1);var l=a.getContext("2d").getImageData(0,0,a.width,a.height);return n.toGrayscaleBuffer(l.data,a.width,a.height,s)},n.toGrayscaleBuffer=function(a,s,l,c){c===void 0&&(c=!1);var f=new Uint8ClampedArray(s*l);if(n.FRAME_INDEX=!n.FRAME_INDEX,n.FRAME_INDEX||!c)for(var p=0,g=0,y=a.length;p<y;p+=4,g++){var b=void 0,h=a[p+3];if(h===0)b=255;else{var d=a[p],v=a[p+1],_=a[p+2];b=306*d+601*v+117*_+512>>10}f[g]=b}else for(var p=0,g=0,A=a.length;p<A;p+=4,g++){var b=void 0,h=a[p+3];if(h===0)b=255;else{var d=a[p],v=a[p+1],_=a[p+2];b=306*d+601*v+117*_+512>>10}f[g]=255-b}return f},n.prototype.getRow=function(a,s){if(a<0||a>=this.getHeight())throw new IllegalArgumentException("Requested row is outside the image: "+a);var l=this.getWidth(),c=a*l;return s===null?s=this.buffer.slice(c,c+l):(s.length<l&&(s=new Uint8ClampedArray(l)),s.set(this.buffer.slice(c,c+l))),s},n.prototype.getMatrix=function(){return this.buffer},n.prototype.isCropSupported=function(){return!0},n.prototype.crop=function(a,s,l,c){return i.prototype.crop.call(this,a,s,l,c),this},n.prototype.isRotateSupported=function(){return!0},n.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},n.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},n.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement},n.prototype.rotate=function(a){var s=this.getTempCanvasElement(),l=s.getContext("2d"),c=a*n.DEGREE_TO_RADIANS,f=this.canvas.width,p=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*f+Math.abs(Math.sin(c))*p),y=Math.ceil(Math.abs(Math.sin(c))*f+Math.abs(Math.cos(c))*p);return s.width=g,s.height=y,l.translate(g/2,y/2),l.rotate(c),l.drawImage(this.canvas,f/-2,p/-2),this.buffer=n.makeBufferFromCanvasImageData(s),this},n.prototype.invert=function(){return new InvertedLuminanceSource(this)},n.DEGREE_TO_RADIANS=Math.PI/180,n.FRAME_INDEX=!0,n}(LuminanceSource),VideoInputDevice=function(){function i(n,a,s){this.deviceId=n,this.label=a,this.kind="videoinput",this.groupId=s||void 0}return i.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},i}(),__awaiter=function(i,n,a,s){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function p(b){try{y(s.next(b))}catch(h){f(h)}}function g(b){try{y(s.throw(b))}catch(h){f(h)}}function y(b){b.done?c(b.value):l(b.value).then(p,g)}y((s=s.apply(i,n||[])).next())})},__generator=function(i,n){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(y){return function(b){return g([y,b])}}function g(y){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return a.label++,{value:y[1],done:!1};case 5:a.label++,l=y[1],y=[0];continue;case 7:y=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){a=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){a.label=y[1];break}if(y[0]===6&&a.label<c[1]){a.label=c[1],c=y;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(y);break}c[2]&&a.ops.pop(),a.trys.pop();continue}y=n.call(i,a)}catch(b){y=[6,b],l=0}finally{s=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},__values$H=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},BrowserCodeReader=function(){function i(n,a,s){a===void 0&&(a=500),this.reader=n,this.timeBetweenScansMillis=a,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(i.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(n){this._timeBetweenDecodingAttempts=n<0?0:n},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hints",{get:function(){return this._hints},set:function(n){this._hints=n||null},enumerable:!1,configurable:!0}),i.prototype.listVideoInputDevices=function(){return __awaiter(this,void 0,void 0,function(){var n,a,s,l,c,f,p,g,y,b,h,d;return __generator(this,function(v){switch(v.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:n=v.sent(),a=[];try{for(s=__values$H(n),l=s.next();!l.done;l=s.next())c=l.value,f=c.kind==="video"?"videoinput":c.kind,f==="videoinput"&&(p=c.deviceId||c.id,g=c.label||"Video device "+(a.length+1),y=c.groupId,b={deviceId:p,label:g,kind:f,groupId:y},a.push(b))}catch(_){h={error:_}}finally{try{l&&!l.done&&(d=s.return)&&d.call(s)}finally{if(h)throw h.error}}return[2,a]}})})},i.prototype.getVideoInputDevices=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=a.sent(),[2,n.map(function(s){return new VideoInputDevice(s.deviceId,s.label)})]}})})},i.prototype.findDeviceById=function(n){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(s){switch(s.label){case 0:return[4,this.listVideoInputDevices()];case 1:return a=s.sent(),a?[2,a.find(function(l){return l.deviceId===n})]:[2,null]}})})},i.prototype.decodeFromInputVideoDevice=function(n,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(s){switch(s.label){case 0:return[4,this.decodeOnceFromVideoDevice(n,a)];case 1:return[2,s.sent()]}})})},i.prototype.decodeOnceFromVideoDevice=function(n,a){return __awaiter(this,void 0,void 0,function(){var s,l;return __generator(this,function(c){switch(c.label){case 0:return this.reset(),n?s={deviceId:{exact:n}}:s={facingMode:"environment"},l={video:s},[4,this.decodeOnceFromConstraints(l,a)];case 1:return[2,c.sent()]}})})},i.prototype.decodeOnceFromConstraints=function(n,a){return __awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=l.sent(),[4,this.decodeOnceFromStream(s,a)];case 2:return[2,l.sent()]}})})},i.prototype.decodeOnceFromStream=function(n,a){return __awaiter(this,void 0,void 0,function(){var s,l;return __generator(this,function(c){switch(c.label){case 0:return this.reset(),[4,this.attachStreamToVideo(n,a)];case 1:return s=c.sent(),[4,this.decodeOnce(s)];case 2:return l=c.sent(),[2,l]}})})},i.prototype.decodeFromInputVideoDeviceContinuously=function(n,a,s){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(l){switch(l.label){case 0:return[4,this.decodeFromVideoDevice(n,a,s)];case 1:return[2,l.sent()]}})})},i.prototype.decodeFromVideoDevice=function(n,a,s){return __awaiter(this,void 0,void 0,function(){var l,c;return __generator(this,function(f){switch(f.label){case 0:return n?l={deviceId:{exact:n}}:l={facingMode:"environment"},c={video:l},[4,this.decodeFromConstraints(c,a,s)];case 1:return[2,f.sent()]}})})},i.prototype.decodeFromConstraints=function(n,a,s){return __awaiter(this,void 0,void 0,function(){var l;return __generator(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.getUserMedia(n)];case 1:return l=c.sent(),[4,this.decodeFromStream(l,a,s)];case 2:return[2,c.sent()]}})})},i.prototype.decodeFromStream=function(n,a,s){return __awaiter(this,void 0,void 0,function(){var l;return __generator(this,function(c){switch(c.label){case 0:return this.reset(),[4,this.attachStreamToVideo(n,a)];case 1:return l=c.sent(),[4,this.decodeContinuously(l,s)];case 2:return[2,c.sent()]}})})},i.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},i.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},i.prototype.attachStreamToVideo=function(n,a){return __awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(l){switch(l.label){case 0:return s=this.prepareVideoElement(a),this.addVideoSource(s,n),this.videoElement=s,this.stream=n,[4,this.playVideoOnLoadAsync(s)];case 1:return l.sent(),[2,s]}})})},i.prototype.playVideoOnLoadAsync=function(n){var a=this;return new Promise(function(s,l){return a.playVideoOnLoad(n,function(){return s()})})},i.prototype.playVideoOnLoad=function(n,a){var s=this;this.videoEndedListener=function(){return s.stopStreams()},this.videoCanPlayListener=function(){return s.tryPlayVideo(n)},n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",a),this.tryPlayVideo(n)},i.prototype.isVideoPlaying=function(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2},i.prototype.tryPlayVideo=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:if(this.isVideoPlaying(n))return console.warn("Trying to play video that is already playing."),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.play()];case 2:return a.sent(),[3,4];case 3:return a.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},i.prototype.getMediaElement=function(n,a){var s=document.getElementById(n);if(!s)throw new ArgumentException("element with id '"+n+"' not found");if(s.nodeName.toLowerCase()!==a.toLowerCase())throw new ArgumentException("element with id '"+n+"' must be an "+a+" element");return s},i.prototype.decodeFromImage=function(n,a){if(!n&&!a)throw new ArgumentException("either imageElement with a src set or an url must be provided");return a&&!n?this.decodeFromImageUrl(a):this.decodeFromImageElement(n)},i.prototype.decodeFromVideo=function(n,a){if(!n&&!a)throw new ArgumentException("Either an element with a src set or an URL must be provided");return a&&!n?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(n)},i.prototype.decodeFromVideoContinuously=function(n,a,s){if(n===void 0&&a===void 0)throw new ArgumentException("Either an element with a src set or an URL must be provided");return a&&!n?this.decodeFromVideoUrlContinuously(a,s):this.decodeFromVideoElementContinuously(n,s)},i.prototype.decodeFromImageElement=function(n){if(!n)throw new ArgumentException("An image element must be provided.");this.reset();var a=this.prepareImageElement(n);this.imageElement=a;var s;return this.isImageLoaded(a)?s=this.decodeOnce(a,!1,!0):s=this._decodeOnLoadImage(a),s},i.prototype.decodeFromVideoElement=function(n){var a=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(a)},i.prototype.decodeFromVideoElementContinuously=function(n,a){var s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,a)},i.prototype._decodeFromVideoElementSetup=function(n){if(!n)throw new ArgumentException("A video element must be provided.");this.reset();var a=this.prepareVideoElement(n);return this.videoElement=a,a},i.prototype.decodeFromImageUrl=function(n){if(!n)throw new ArgumentException("An URL must be provided.");this.reset();var a=this.prepareImageElement();this.imageElement=a;var s=this._decodeOnLoadImage(a);return a.src=n,s},i.prototype.decodeFromVideoUrl=function(n){if(!n)throw new ArgumentException("An URL must be provided.");this.reset();var a=this.prepareVideoElement(),s=this.decodeFromVideoElement(a);return a.src=n,s},i.prototype.decodeFromVideoUrlContinuously=function(n,a){if(!n)throw new ArgumentException("An URL must be provided.");this.reset();var s=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(s,a);return s.src=n,l},i.prototype._decodeOnLoadImage=function(n){var a=this;return new Promise(function(s,l){a.imageLoadedListener=function(){return a.decodeOnce(n,!1,!0).then(s,l)},n.addEventListener("load",a.imageLoadedListener)})},i.prototype._decodeOnLoadVideo=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return[4,this.playVideoOnLoadAsync(n)];case 1:return a.sent(),[4,this.decodeOnce(n)];case 2:return[2,a.sent()]}})})},i.prototype._decodeOnLoadVideoContinuously=function(n,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(s){switch(s.label){case 0:return[4,this.playVideoOnLoadAsync(n)];case 1:return s.sent(),this.decodeContinuously(n,a),[2]}})})},i.prototype.isImageLoaded=function(n){return!(!n.complete||n.naturalWidth===0)},i.prototype.prepareImageElement=function(n){var a;return typeof n>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof n=="string"&&(a=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(a=n),a},i.prototype.prepareVideoElement=function(n){var a;return!n&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof n=="string"&&(a=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(a=n),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a},i.prototype.decodeOnce=function(n,a,s){var l=this;a===void 0&&(a=!0),s===void 0&&(s=!0),this._stopAsyncDecode=!1;var c=function(f,p){if(l._stopAsyncDecode){p(new NotFoundException("Video stream has ended before any code could be detected.")),l._stopAsyncDecode=void 0;return}try{var g=l.decode(n);f(g)}catch(d){var y=a&&d instanceof NotFoundException,b=d instanceof ChecksumException||d instanceof FormatException,h=b&&s;if(y||h)return setTimeout(c,l._timeBetweenDecodingAttempts,f,p);p(d)}};return new Promise(function(f,p){return c(f,p)})},i.prototype.decodeContinuously=function(n,a){var s=this;this._stopContinuousDecode=!1;var l=function(){if(s._stopContinuousDecode){s._stopContinuousDecode=void 0;return}try{var c=s.decode(n);a(c,null),setTimeout(l,s.timeBetweenScansMillis)}catch(g){a(null,g);var f=g instanceof ChecksumException||g instanceof FormatException,p=g instanceof NotFoundException;(f||p)&&setTimeout(l,s._timeBetweenDecodingAttempts)}};l()},i.prototype.decode=function(n){var a=this.createBinaryBitmap(n);return this.decodeBitmap(a)},i.prototype.createBinaryBitmap=function(n){this.getCaptureCanvasContext(n);var a=!1;n instanceof HTMLVideoElement?(this.drawFrameOnCanvas(n),a=!0):this.drawImageOnCanvas(n);var s=this.getCaptureCanvas(n),l=new HTMLCanvasElementLuminanceSource(s,a),c=new HybridBinarizer(l);return new BinaryBitmap(c)},i.prototype.getCaptureCanvasContext=function(n){if(!this.captureCanvasContext){var a=this.getCaptureCanvas(n),s=void 0;try{s=a.getContext("2d",{willReadFrequently:!0})}catch{s=a.getContext("2d")}this.captureCanvasContext=s}return this.captureCanvasContext},i.prototype.getCaptureCanvas=function(n){if(!this.captureCanvas){var a=this.createCaptureCanvas(n);this.captureCanvas=a}return this.captureCanvas},i.prototype.drawFrameOnCanvas=function(n,a,s){a===void 0&&(a={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s===void 0&&(s=this.captureCanvasContext),s.drawImage(n,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)},i.prototype.drawImageOnCanvas=function(n,a,s){a===void 0&&(a={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s===void 0&&(s=this.captureCanvasContext),s.drawImage(n,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)},i.prototype.decodeBitmap=function(n){return this.reader.decode(n,this._hints)},i.prototype.createCaptureCanvas=function(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var a=document.createElement("canvas"),s,l;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,l=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,l=n.naturalHeight||n.height)),a.style.width=s+"px",a.style.height=l+"px",a.width=s,a.height=l,a},i.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(n){return n.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},i.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},i.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},i.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},i.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},i.prototype.addVideoSource=function(n,a){try{n.srcObject=a}catch{n.src=URL.createObjectURL(a)}},i.prototype.cleanVideoSource=function(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")},i}(),Result=function(){function i(n,a,s,l,c,f){s===void 0&&(s=a==null?0:8*a.length),f===void 0&&(f=System.currentTimeMillis()),this.text=n,this.rawBytes=a,this.numBits=s,this.resultPoints=l,this.format=c,this.timestamp=f,this.text=n,this.rawBytes=a,s==null?this.numBits=a==null?0:8*a.length:this.numBits=s,this.resultPoints=l,this.format=c,this.resultMetadata=null,f==null?this.timestamp=System.currentTimeMillis():this.timestamp=f}return i.prototype.getText=function(){return this.text},i.prototype.getRawBytes=function(){return this.rawBytes},i.prototype.getNumBits=function(){return this.numBits},i.prototype.getResultPoints=function(){return this.resultPoints},i.prototype.getBarcodeFormat=function(){return this.format},i.prototype.getResultMetadata=function(){return this.resultMetadata},i.prototype.putMetadata=function(n,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,a)},i.prototype.putAllMetadata=function(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))},i.prototype.addResultPoints=function(n){var a=this.resultPoints;if(a===null)this.resultPoints=n;else if(n!==null&&n.length>0){var s=new Array(a.length+n.length);System.arraycopy(a,0,s,0,a.length),System.arraycopy(n,0,s,a.length,n.length),this.resultPoints=s}},i.prototype.getTimestamp=function(){return this.timestamp},i.prototype.toString=function(){return this.text},i}(),BarcodeFormat;(function(i){i[i.AZTEC=0]="AZTEC",i[i.CODABAR=1]="CODABAR",i[i.CODE_39=2]="CODE_39",i[i.CODE_93=3]="CODE_93",i[i.CODE_128=4]="CODE_128",i[i.DATA_MATRIX=5]="DATA_MATRIX",i[i.EAN_8=6]="EAN_8",i[i.EAN_13=7]="EAN_13",i[i.ITF=8]="ITF",i[i.MAXICODE=9]="MAXICODE",i[i.PDF_417=10]="PDF_417",i[i.QR_CODE=11]="QR_CODE",i[i.RSS_14=12]="RSS_14",i[i.RSS_EXPANDED=13]="RSS_EXPANDED",i[i.UPC_A=14]="UPC_A",i[i.UPC_E=15]="UPC_E",i[i.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(BarcodeFormat||(BarcodeFormat={}));const BarcodeFormat$1=BarcodeFormat;var ResultMetadataType;(function(i){i[i.OTHER=0]="OTHER",i[i.ORIENTATION=1]="ORIENTATION",i[i.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",i[i.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",i[i.ISSUE_NUMBER=4]="ISSUE_NUMBER",i[i.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",i[i.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",i[i.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",i[i.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",i[i.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",i[i.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ResultMetadataType||(ResultMetadataType={}));const ResultMetadataType$1=ResultMetadataType;var DecoderResult=function(){function i(n,a,s,l,c,f){c===void 0&&(c=-1),f===void 0&&(f=-1),this.rawBytes=n,this.text=a,this.byteSegments=s,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=n==null?0:8*n.length}return i.prototype.getRawBytes=function(){return this.rawBytes},i.prototype.getNumBits=function(){return this.numBits},i.prototype.setNumBits=function(n){this.numBits=n},i.prototype.getText=function(){return this.text},i.prototype.getByteSegments=function(){return this.byteSegments},i.prototype.getECLevel=function(){return this.ecLevel},i.prototype.getErrorsCorrected=function(){return this.errorsCorrected},i.prototype.setErrorsCorrected=function(n){this.errorsCorrected=n},i.prototype.getErasures=function(){return this.erasures},i.prototype.setErasures=function(n){this.erasures=n},i.prototype.getOther=function(){return this.other},i.prototype.setOther=function(n){this.other=n},i.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},i.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},i.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},i}(),AbstractGenericGF=function(){function i(){}return i.prototype.exp=function(n){return this.expTable[n]},i.prototype.log=function(n){if(n===0)throw new IllegalArgumentException;return this.logTable[n]},i.addOrSubtract=function(n,a){return n^a},i}(),GenericGFPoly=function(){function i(n,a){if(a.length===0)throw new IllegalArgumentException;this.field=n;var s=a.length;if(s>1&&a[0]===0){for(var l=1;l<s&&a[l]===0;)l++;l===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-l),System.arraycopy(a,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}return i.prototype.getCoefficients=function(){return this.coefficients},i.prototype.getDegree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return this.coefficients[0]===0},i.prototype.getCoefficient=function(n){return this.coefficients[this.coefficients.length-1-n]},i.prototype.evaluateAt=function(n){if(n===0)return this.getCoefficient(0);var a=this.coefficients,s;if(n===1){s=0;for(var l=0,c=a.length;l!==c;l++){var f=a[l];s=AbstractGenericGF.addOrSubtract(s,f)}return s}s=a[0];for(var p=a.length,g=this.field,l=1;l<p;l++)s=AbstractGenericGF.addOrSubtract(g.multiply(n,s),a[l]);return s},i.prototype.addOrSubtract=function(n){if(!this.field.equals(n.field))throw new IllegalArgumentException("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;var a=this.coefficients,s=n.coefficients;if(a.length>s.length){var l=a;a=s,s=l}var c=new Int32Array(s.length),f=s.length-a.length;System.arraycopy(s,0,c,0,f);for(var p=f;p<s.length;p++)c[p]=AbstractGenericGF.addOrSubtract(a[p-f],s[p]);return new i(this.field,c)},i.prototype.multiply=function(n){if(!this.field.equals(n.field))throw new IllegalArgumentException("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();for(var a=this.coefficients,s=a.length,l=n.coefficients,c=l.length,f=new Int32Array(s+c-1),p=this.field,g=0;g<s;g++)for(var y=a[g],b=0;b<c;b++)f[g+b]=AbstractGenericGF.addOrSubtract(f[g+b],p.multiply(y,l[b]));return new i(p,f)},i.prototype.multiplyScalar=function(n){if(n===0)return this.field.getZero();if(n===1)return this;for(var a=this.coefficients.length,s=this.field,l=new Int32Array(a),c=this.coefficients,f=0;f<a;f++)l[f]=s.multiply(c[f],n);return new i(s,l)},i.prototype.multiplyByMonomial=function(n,a){if(n<0)throw new IllegalArgumentException;if(a===0)return this.field.getZero();for(var s=this.coefficients,l=s.length,c=new Int32Array(l+n),f=this.field,p=0;p<l;p++)c[p]=f.multiply(s[p],a);return new i(f,c)},i.prototype.divide=function(n){if(!this.field.equals(n.field))throw new IllegalArgumentException("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new IllegalArgumentException("Divide by 0");for(var a=this.field,s=a.getZero(),l=this,c=n.getCoefficient(n.getDegree()),f=a.inverse(c);l.getDegree()>=n.getDegree()&&!l.isZero();){var p=l.getDegree()-n.getDegree(),g=a.multiply(l.getCoefficient(l.getDegree()),f),y=n.multiplyByMonomial(p,g),b=a.buildMonomial(p,g);s=s.addOrSubtract(b),l=l.addOrSubtract(y)}return[s,l]},i.prototype.toString=function(){for(var n="",a=this.getDegree();a>=0;a--){var s=this.getCoefficient(a);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),a===0||s!==1){var l=this.field.log(s);l===0?n+="1":l===1?n+="a":(n+="a^",n+=l)}a!==0&&(a===1?n+="x":(n+="x^",n+=a))}}return n},i}(),__extends$X=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),ArithmeticException=function(i){__extends$X(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="ArithmeticException",n}(Exception),__extends$W=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),GenericGF=function(i){__extends$W(n,i);function n(a,s,l){var c=i.call(this)||this;c.primitive=a,c.size=s,c.generatorBase=l;for(var f=new Int32Array(s),p=1,g=0;g<s;g++)f[g]=p,p*=2,p>=s&&(p^=a,p&=s-1);c.expTable=f;for(var y=new Int32Array(s),g=0;g<s-1;g++)y[f[g]]=g;return c.logTable=y,c.zero=new GenericGFPoly(c,Int32Array.from([0])),c.one=new GenericGFPoly(c,Int32Array.from([1])),c}return n.prototype.getZero=function(){return this.zero},n.prototype.getOne=function(){return this.one},n.prototype.buildMonomial=function(a,s){if(a<0)throw new IllegalArgumentException;if(s===0)return this.zero;var l=new Int32Array(a+1);return l[0]=s,new GenericGFPoly(this,l)},n.prototype.inverse=function(a){if(a===0)throw new ArithmeticException;return this.expTable[this.size-this.logTable[a]-1]},n.prototype.multiply=function(a,s){return a===0||s===0?0:this.expTable[(this.logTable[a]+this.logTable[s])%(this.size-1)]},n.prototype.getSize=function(){return this.size},n.prototype.getGeneratorBase=function(){return this.generatorBase},n.prototype.toString=function(){return"GF(0x"+Integer.toHexString(this.primitive)+","+this.size+")"},n.prototype.equals=function(a){return a===this},n.AZTEC_DATA_12=new n(4201,4096,1),n.AZTEC_DATA_10=new n(1033,1024,1),n.AZTEC_DATA_6=new n(67,64,1),n.AZTEC_PARAM=new n(19,16,1),n.QR_CODE_FIELD_256=new n(285,256,0),n.DATA_MATRIX_FIELD_256=new n(301,256,1),n.AZTEC_DATA_8=n.DATA_MATRIX_FIELD_256,n.MAXICODE_FIELD_64=n.AZTEC_DATA_6,n}(AbstractGenericGF),__extends$V=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),ReedSolomonException=function(i){__extends$V(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="ReedSolomonException",n}(Exception),__extends$U=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),IllegalStateException=function(i){__extends$U(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="IllegalStateException",n}(Exception),ReedSolomonDecoder=function(){function i(n){this.field=n}return i.prototype.decode=function(n,a){for(var s=this.field,l=new GenericGFPoly(s,n),c=new Int32Array(a),f=!0,p=0;p<a;p++){var g=l.evaluateAt(s.exp(p+s.getGeneratorBase()));c[c.length-1-p]=g,g!==0&&(f=!1)}if(!f)for(var y=new GenericGFPoly(s,c),b=this.runEuclideanAlgorithm(s.buildMonomial(a,1),y,a),h=b[0],d=b[1],v=this.findErrorLocations(h),_=this.findErrorMagnitudes(d,v),p=0;p<v.length;p++){var A=n.length-1-s.log(v[p]);if(A<0)throw new ReedSolomonException("Bad error location");n[A]=GenericGF.addOrSubtract(n[A],_[p])}},i.prototype.runEuclideanAlgorithm=function(n,a,s){if(n.getDegree()<a.getDegree()){var l=n;n=a,a=l}for(var c=this.field,f=n,p=a,g=c.getZero(),y=c.getOne();p.getDegree()>=(s/2|0);){var b=f,h=g;if(f=p,g=y,f.isZero())throw new ReedSolomonException("r_{i-1} was zero");p=b;for(var d=c.getZero(),v=f.getCoefficient(f.getDegree()),_=c.inverse(v);p.getDegree()>=f.getDegree()&&!p.isZero();){var A=p.getDegree()-f.getDegree(),I=c.multiply(p.getCoefficient(p.getDegree()),_);d=d.addOrSubtract(c.buildMonomial(A,I)),p=p.addOrSubtract(f.multiplyByMonomial(A,I))}if(y=d.multiply(g).addOrSubtract(h),p.getDegree()>=f.getDegree())throw new IllegalStateException("Division algorithm failed to reduce polynomial?")}var R=y.getCoefficient(0);if(R===0)throw new ReedSolomonException("sigmaTilde(0) was zero");var P=c.inverse(R),$=y.multiplyScalar(P),M=p.multiplyScalar(P);return[$,M]},i.prototype.findErrorLocations=function(n){var a=n.getDegree();if(a===1)return Int32Array.from([n.getCoefficient(1)]);for(var s=new Int32Array(a),l=0,c=this.field,f=1;f<c.getSize()&&l<a;f++)n.evaluateAt(f)===0&&(s[l]=c.inverse(f),l++);if(l!==a)throw new ReedSolomonException("Error locator degree does not match number of roots");return s},i.prototype.findErrorMagnitudes=function(n,a){for(var s=a.length,l=new Int32Array(s),c=this.field,f=0;f<s;f++){for(var p=c.inverse(a[f]),g=1,y=0;y<s;y++)if(f!==y){var b=c.multiply(a[y],p),h=(b&1)===0?b|1:b&-2;g=c.multiply(g,h)}l[f]=c.multiply(n.evaluateAt(p),c.inverse(g)),c.getGeneratorBase()!==0&&(l[f]=c.multiply(l[f],p))}return l},i}(),Table;(function(i){i[i.UPPER=0]="UPPER",i[i.LOWER=1]="LOWER",i[i.MIXED=2]="MIXED",i[i.DIGIT=3]="DIGIT",i[i.PUNCT=4]="PUNCT",i[i.BINARY=5]="BINARY"})(Table||(Table={}));var Decoder$2=function(){function i(){}return i.prototype.decode=function(n){this.ddata=n;var a=n.getBits(),s=this.extractBits(a),l=this.correctBits(s),c=i.convertBoolArrayToByteArray(l),f=i.getEncodedData(l),p=new DecoderResult(c,f,null,null);return p.setNumBits(l.length),p},i.highLevelDecode=function(n){return this.getEncodedData(n)},i.getEncodedData=function(n){for(var a=n.length,s=Table.UPPER,l=Table.UPPER,c="",f=0;f<a;)if(l===Table.BINARY){if(a-f<5)break;var p=i.readCode(n,f,5);if(f+=5,p===0){if(a-f<11)break;p=i.readCode(n,f,11)+31,f+=11}for(var g=0;g<p;g++){if(a-f<8){f=a;break}var y=i.readCode(n,f,8);c+=StringUtils.castAsNonUtf8Char(y),f+=8}l=s}else{var b=l===Table.DIGIT?4:5;if(a-f<b)break;var y=i.readCode(n,f,b);f+=b;var h=i.getCharacter(l,y);h.startsWith("CTRL_")?(s=l,l=i.getTable(h.charAt(5)),h.charAt(6)==="L"&&(s=l)):(c+=h,l=s)}return c},i.getTable=function(n){switch(n){case"L":return Table.LOWER;case"P":return Table.PUNCT;case"M":return Table.MIXED;case"D":return Table.DIGIT;case"B":return Table.BINARY;case"U":default:return Table.UPPER}},i.getCharacter=function(n,a){switch(n){case Table.UPPER:return i.UPPER_TABLE[a];case Table.LOWER:return i.LOWER_TABLE[a];case Table.MIXED:return i.MIXED_TABLE[a];case Table.PUNCT:return i.PUNCT_TABLE[a];case Table.DIGIT:return i.DIGIT_TABLE[a];default:throw new IllegalStateException("Bad table")}},i.prototype.correctBits=function(n){var a,s;this.ddata.getNbLayers()<=2?(s=6,a=GenericGF.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,a=GenericGF.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,a=GenericGF.AZTEC_DATA_10):(s=12,a=GenericGF.AZTEC_DATA_12);var l=this.ddata.getNbDatablocks(),c=n.length/s;if(c<l)throw new FormatException;for(var f=n.length%s,p=new Int32Array(c),g=0;g<c;g++,f+=s)p[g]=i.readCode(n,f,s);try{var y=new ReedSolomonDecoder(a);y.decode(p,c-l)}catch(I){throw new FormatException(I)}for(var b=(1<<s)-1,h=0,g=0;g<l;g++){var d=p[g];if(d===0||d===b)throw new FormatException;(d===1||d===b-1)&&h++}for(var v=new Array(l*s-h),_=0,g=0;g<l;g++){var d=p[g];if(d===1||d===b-1)v.fill(d>1,_,_+s-1),_+=s-1;else for(var A=s-1;A>=0;--A)v[_++]=(d&1<<A)!==0}return v},i.prototype.extractBits=function(n){var a=this.ddata.isCompact(),s=this.ddata.getNbLayers(),l=(a?11:14)+s*4,c=new Int32Array(l),f=new Array(this.totalBitsInLayer(s,a));if(a)for(var p=0;p<c.length;p++)c[p]=p;else for(var g=l+1+2*Integer.truncDivision(Integer.truncDivision(l,2)-1,15),y=l/2,b=Integer.truncDivision(g,2),p=0;p<y;p++){var h=p+Integer.truncDivision(p,15);c[y-p-1]=b-h-1,c[y+p]=b+h+1}for(var p=0,d=0;p<s;p++){for(var v=(s-p)*4+(a?9:12),_=p*2,A=l-1-_,I=0;I<v;I++)for(var R=I*2,P=0;P<2;P++)f[d+R+P]=n.get(c[_+P],c[_+I]),f[d+2*v+R+P]=n.get(c[_+I],c[A-P]),f[d+4*v+R+P]=n.get(c[A-P],c[A-I]),f[d+6*v+R+P]=n.get(c[A-I],c[_+P]);d+=v*8}return f},i.readCode=function(n,a,s){for(var l=0,c=a;c<a+s;c++)l<<=1,n[c]&&(l|=1);return l},i.readByte=function(n,a){var s=n.length-a;return s>=8?i.readCode(n,a,8):i.readCode(n,a,s)<<8-s},i.convertBoolArrayToByteArray=function(n){for(var a=new Uint8Array((n.length+7)/8),s=0;s<a.length;s++)a[s]=i.readByte(n,8*s);return a},i.prototype.totalBitsInLayer=function(n,a){return((a?88:112)+16*n)*n},i.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],i.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],i.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],i.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],i.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],i}(),MathUtils=function(){function i(){}return i.round=function(n){return isNaN(n)?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0},i.distance=function(n,a,s,l){var c=n-s,f=a-l;return Math.sqrt(c*c+f*f)},i.sum=function(n){for(var a=0,s=0,l=n.length;s!==l;s++){var c=n[s];a+=c}return a},i}(),Float=function(){function i(){}return i.floatToIntBits=function(n){return n},i.MAX_VALUE=Number.MAX_SAFE_INTEGER,i}(),ResultPoint=function(){function i(n,a){this.x=n,this.y=a}return i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.equals=function(n){if(n instanceof i){var a=n;return this.x===a.x&&this.y===a.y}return!1},i.prototype.hashCode=function(){return 31*Float.floatToIntBits(this.x)+Float.floatToIntBits(this.y)},i.prototype.toString=function(){return"("+this.x+","+this.y+")"},i.orderBestPatterns=function(n){var a=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),l=this.distance(n[0],n[2]),c,f,p;if(s>=a&&s>=l?(f=n[0],c=n[1],p=n[2]):l>=s&&l>=a?(f=n[1],c=n[0],p=n[2]):(f=n[2],c=n[0],p=n[1]),this.crossProductZ(c,f,p)<0){var g=c;c=p,p=g}n[0]=c,n[1]=f,n[2]=p},i.distance=function(n,a){return MathUtils.distance(n.x,n.y,a.x,a.y)},i.crossProductZ=function(n,a,s){var l=a.x,c=a.y;return(s.x-l)*(n.y-c)-(s.y-c)*(n.x-l)},i}(),DetectorResult=function(){function i(n,a){this.bits=n,this.points=a}return i.prototype.getBits=function(){return this.bits},i.prototype.getPoints=function(){return this.points},i}(),__extends$T=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AztecDetectorResult=function(i){__extends$T(n,i);function n(a,s,l,c,f){var p=i.call(this,a,s)||this;return p.compact=l,p.nbDatablocks=c,p.nbLayers=f,p}return n.prototype.getNbLayers=function(){return this.nbLayers},n.prototype.getNbDatablocks=function(){return this.nbDatablocks},n.prototype.isCompact=function(){return this.compact},n}(DetectorResult),WhiteRectangleDetector=function(){function i(n,a,s,l){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),a==null&&(a=i.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),l==null&&(l=n.getHeight()/2|0);var c=a/2|0;if(this.leftInit=s-c,this.rightInit=s+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new NotFoundException}return i.prototype.detect=function(){for(var n=this.leftInit,a=this.rightInit,s=this.upInit,l=this.downInit,c=!1,f=!0,p=!1,g=!1,y=!1,b=!1,h=!1,d=this.width,v=this.height;f;){f=!1;for(var _=!0;(_||!g)&&a<d;)_=this.containsBlackPoint(s,l,a,!1),_?(a++,f=!0,g=!0):g||a++;if(a>=d){c=!0;break}for(var A=!0;(A||!y)&&l<v;)A=this.containsBlackPoint(n,a,l,!0),A?(l++,f=!0,y=!0):y||l++;if(l>=v){c=!0;break}for(var I=!0;(I||!b)&&n>=0;)I=this.containsBlackPoint(s,l,n,!1),I?(n--,f=!0,b=!0):b||n--;if(n<0){c=!0;break}for(var R=!0;(R||!h)&&s>=0;)R=this.containsBlackPoint(n,a,s,!0),R?(s--,f=!0,h=!0):h||s--;if(s<0){c=!0;break}f&&(p=!0)}if(!c&&p){for(var P=a-n,$=null,M=1;$===null&&M<P;M++)$=this.getBlackPointOnSegment(n,l-M,n+M,l);if($==null)throw new NotFoundException;for(var B=null,M=1;B===null&&M<P;M++)B=this.getBlackPointOnSegment(n,s+M,n+M,s);if(B==null)throw new NotFoundException;for(var F=null,M=1;F===null&&M<P;M++)F=this.getBlackPointOnSegment(a,s+M,a-M,s);if(F==null)throw new NotFoundException;for(var q=null,M=1;q===null&&M<P;M++)q=this.getBlackPointOnSegment(a,l-M,a-M,l);if(q==null)throw new NotFoundException;return this.centerEdges(q,$,F,B)}else throw new NotFoundException},i.prototype.getBlackPointOnSegment=function(n,a,s,l){for(var c=MathUtils.round(MathUtils.distance(n,a,s,l)),f=(s-n)/c,p=(l-a)/c,g=this.image,y=0;y<c;y++){var b=MathUtils.round(n+y*f),h=MathUtils.round(a+y*p);if(g.get(b,h))return new ResultPoint(b,h)}return null},i.prototype.centerEdges=function(n,a,s,l){var c=n.getX(),f=n.getY(),p=a.getX(),g=a.getY(),y=s.getX(),b=s.getY(),h=l.getX(),d=l.getY(),v=i.CORR;return c<this.width/2?[new ResultPoint(h-v,d+v),new ResultPoint(p+v,g+v),new ResultPoint(y-v,b-v),new ResultPoint(c+v,f-v)]:[new ResultPoint(h+v,d+v),new ResultPoint(p+v,g-v),new ResultPoint(y-v,b+v),new ResultPoint(c-v,f-v)]},i.prototype.containsBlackPoint=function(n,a,s,l){var c=this.image;if(l){for(var f=n;f<=a;f++)if(c.get(f,s))return!0}else for(var p=n;p<=a;p++)if(c.get(s,p))return!0;return!1},i.INIT_SIZE=10,i.CORR=1,i}(),GridSampler=function(){function i(){}return i.checkAndNudgePoints=function(n,a){for(var s=n.getWidth(),l=n.getHeight(),c=!0,f=0;f<a.length&&c;f+=2){var p=Math.floor(a[f]),g=Math.floor(a[f+1]);if(p<-1||p>s||g<-1||g>l)throw new NotFoundException;c=!1,p===-1?(a[f]=0,c=!0):p===s&&(a[f]=s-1,c=!0),g===-1?(a[f+1]=0,c=!0):g===l&&(a[f+1]=l-1,c=!0)}c=!0;for(var f=a.length-2;f>=0&&c;f-=2){var p=Math.floor(a[f]),g=Math.floor(a[f+1]);if(p<-1||p>s||g<-1||g>l)throw new NotFoundException;c=!1,p===-1?(a[f]=0,c=!0):p===s&&(a[f]=s-1,c=!0),g===-1?(a[f+1]=0,c=!0):g===l&&(a[f+1]=l-1,c=!0)}},i}(),PerspectiveTransform=function(){function i(n,a,s,l,c,f,p,g,y){this.a11=n,this.a21=a,this.a31=s,this.a12=l,this.a22=c,this.a32=f,this.a13=p,this.a23=g,this.a33=y}return i.quadrilateralToQuadrilateral=function(n,a,s,l,c,f,p,g,y,b,h,d,v,_,A,I){var R=i.quadrilateralToSquare(n,a,s,l,c,f,p,g),P=i.squareToQuadrilateral(y,b,h,d,v,_,A,I);return P.times(R)},i.prototype.transformPoints=function(n){for(var a=n.length,s=this.a11,l=this.a12,c=this.a13,f=this.a21,p=this.a22,g=this.a23,y=this.a31,b=this.a32,h=this.a33,d=0;d<a;d+=2){var v=n[d],_=n[d+1],A=c*v+g*_+h;n[d]=(s*v+f*_+y)/A,n[d+1]=(l*v+p*_+b)/A}},i.prototype.transformPointsWithValues=function(n,a){for(var s=this.a11,l=this.a12,c=this.a13,f=this.a21,p=this.a22,g=this.a23,y=this.a31,b=this.a32,h=this.a33,d=n.length,v=0;v<d;v++){var _=n[v],A=a[v],I=c*_+g*A+h;n[v]=(s*_+f*A+y)/I,a[v]=(l*_+p*A+b)/I}},i.squareToQuadrilateral=function(n,a,s,l,c,f,p,g){var y=n-s+c-p,b=a-l+f-g;if(y===0&&b===0)return new i(s-n,c-s,n,l-a,f-l,a,0,0,1);var h=s-c,d=p-c,v=l-f,_=g-f,A=h*_-d*v,I=(y*_-d*b)/A,R=(h*b-y*v)/A;return new i(s-n+I*s,p-n+R*p,n,l-a+I*l,g-a+R*g,a,I,R,1)},i.quadrilateralToSquare=function(n,a,s,l,c,f,p,g){return i.squareToQuadrilateral(n,a,s,l,c,f,p,g).buildAdjoint()},i.prototype.buildAdjoint=function(){return new i(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},i.prototype.times=function(n){return new i(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)},i}(),__extends$S=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),DefaultGridSampler=function(i){__extends$S(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.sampleGrid=function(a,s,l,c,f,p,g,y,b,h,d,v,_,A,I,R,P,$,M){var B=PerspectiveTransform.quadrilateralToQuadrilateral(c,f,p,g,y,b,h,d,v,_,A,I,R,P,$,M);return this.sampleGridWithTransform(a,s,l,B)},n.prototype.sampleGridWithTransform=function(a,s,l,c){if(s<=0||l<=0)throw new NotFoundException;for(var f=new BitMatrix(s,l),p=new Float32Array(2*s),g=0;g<l;g++){for(var y=p.length,b=g+.5,h=0;h<y;h+=2)p[h]=h/2+.5,p[h+1]=b;c.transformPoints(p),GridSampler.checkAndNudgePoints(a,p);try{for(var h=0;h<y;h+=2)a.get(Math.floor(p[h]),Math.floor(p[h+1]))&&f.set(h/2,g)}catch{throw new NotFoundException}}return f},n}(GridSampler),GridSamplerInstance=function(){function i(){}return i.setGridSampler=function(n){i.gridSampler=n},i.getInstance=function(){return i.gridSampler},i.gridSampler=new DefaultGridSampler,i}(),Point=function(){function i(n,a){this.x=n,this.y=a}return i.prototype.toResultPoint=function(){return new ResultPoint(this.getX(),this.getY())},i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i}(),Detector$3=function(){function i(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}return i.prototype.detect=function(){return this.detectMirror(!1)},i.prototype.detectMirror=function(n){var a=this.getMatrixCenter(),s=this.getBullsEyeCorners(a);if(n){var l=s[0];s[0]=s[2],s[2]=l}this.extractParameters(s);var c=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),f=this.getMatrixCornerPoints(s);return new AztecDetectorResult(c,f,this.compact,this.nbDataBlocks,this.nbLayers)},i.prototype.extractParameters=function(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new NotFoundException;var a=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],a),this.sampleLine(n[1],n[2],a),this.sampleLine(n[2],n[3],a),this.sampleLine(n[3],n[0],a)]);this.shift=this.getRotation(s,a);for(var l=0,c=0;c<4;c++){var f=s[(this.shift+c)%4];this.compact?(l<<=7,l+=f>>1&127):(l<<=10,l+=(f>>2&992)+(f>>1&31))}var p=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)},i.prototype.getRotation=function(n,a){var s=0;n.forEach(function(c,f,p){var g=(c>>a-2<<1)+(c&1);s=(s<<3)+g}),s=((s&1)<<11)+(s>>1);for(var l=0;l<4;l++)if(Integer.bitCount(s^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new NotFoundException},i.prototype.getCorrectedParameterData=function(n,a){var s,l;a?(s=7,l=2):(s=10,l=4);for(var c=s-l,f=new Int32Array(s),p=s-1;p>=0;--p)f[p]=n&15,n>>=4;try{var g=new ReedSolomonDecoder(GenericGF.AZTEC_PARAM);g.decode(f,c)}catch{throw new NotFoundException}for(var y=0,p=0;p<l;p++)y=(y<<4)+f[p];return y},i.prototype.getBullsEyeCorners=function(n){var a=n,s=n,l=n,c=n,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var p=this.getFirstDifferent(a,f,1,-1),g=this.getFirstDifferent(s,f,1,1),y=this.getFirstDifferent(l,f,-1,1),b=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){var h=this.distancePoint(b,p)*this.nbCenterLayers/(this.distancePoint(c,a)*(this.nbCenterLayers+2));if(h<.75||h>1.25||!this.isWhiteOrBlackRectangle(p,g,y,b))break}a=p,s=g,l=y,c=b,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new NotFoundException;this.compact=this.nbCenterLayers===5;var d=new ResultPoint(a.getX()+.5,a.getY()-.5),v=new ResultPoint(s.getX()+.5,s.getY()+.5),_=new ResultPoint(l.getX()-.5,l.getY()+.5),A=new ResultPoint(c.getX()-.5,c.getY()-.5);return this.expandSquare([d,v,_,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},i.prototype.getMatrixCenter=function(){var n,a,s,l;try{var c=new WhiteRectangleDetector(this.image).detect();n=c[0],a=c[1],s=c[2],l=c[3]}catch{var f=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Point(f+7,p-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Point(f+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Point(f-7,p+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Point(f-7,p-7),!1,-1,-1).toResultPoint()}var g=MathUtils.round((n.getX()+l.getX()+a.getX()+s.getX())/4),y=MathUtils.round((n.getY()+l.getY()+a.getY()+s.getY())/4);try{var c=new WhiteRectangleDetector(this.image,15,g,y).detect();n=c[0],a=c[1],s=c[2],l=c[3]}catch{n=this.getFirstDifferent(new Point(g+7,y-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Point(g+7,y+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Point(g-7,y+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Point(g-7,y-7),!1,-1,-1).toResultPoint()}return g=MathUtils.round((n.getX()+l.getX()+a.getX()+s.getX())/4),y=MathUtils.round((n.getY()+l.getY()+a.getY()+s.getY())/4),new Point(g,y)},i.prototype.getMatrixCornerPoints=function(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())},i.prototype.sampleGrid=function(n,a,s,l,c){var f=GridSamplerInstance.getInstance(),p=this.getDimension(),g=p/2-this.nbCenterLayers,y=p/2+this.nbCenterLayers;return f.sampleGrid(n,p,p,g,g,y,g,y,y,g,y,a.getX(),a.getY(),s.getX(),s.getY(),l.getX(),l.getY(),c.getX(),c.getY())},i.prototype.sampleLine=function(n,a,s){for(var l=0,c=this.distanceResultPoint(n,a),f=c/s,p=n.getX(),g=n.getY(),y=f*(a.getX()-n.getX())/c,b=f*(a.getY()-n.getY())/c,h=0;h<s;h++)this.image.get(MathUtils.round(p+h*y),MathUtils.round(g+h*b))&&(l|=1<<s-h-1);return l},i.prototype.isWhiteOrBlackRectangle=function(n,a,s,l){var c=3;n=new Point(n.getX()-c,n.getY()+c),a=new Point(a.getX()-c,a.getY()-c),s=new Point(s.getX()+c,s.getY()-c),l=new Point(l.getX()+c,l.getY()+c);var f=this.getColor(l,n);if(f===0)return!1;var p=this.getColor(n,a);return p!==f||(p=this.getColor(a,s),p!==f)?!1:(p=this.getColor(s,l),p===f)},i.prototype.getColor=function(n,a){for(var s=this.distancePoint(n,a),l=(a.getX()-n.getX())/s,c=(a.getY()-n.getY())/s,f=0,p=n.getX(),g=n.getY(),y=this.image.get(n.getX(),n.getY()),b=Math.ceil(s),h=0;h<b;h++)p+=l,g+=c,this.image.get(MathUtils.round(p),MathUtils.round(g))!==y&&f++;var d=f/s;return d>.1&&d<.9?0:d<=.1===y?1:-1},i.prototype.getFirstDifferent=function(n,a,s,l){for(var c=n.getX()+s,f=n.getY()+l;this.isValid(c,f)&&this.image.get(c,f)===a;)c+=s,f+=l;for(c-=s,f-=l;this.isValid(c,f)&&this.image.get(c,f)===a;)c+=s;for(c-=s;this.isValid(c,f)&&this.image.get(c,f)===a;)f+=l;return f-=l,new Point(c,f)},i.prototype.expandSquare=function(n,a,s){var l=s/(2*a),c=n[0].getX()-n[2].getX(),f=n[0].getY()-n[2].getY(),p=(n[0].getX()+n[2].getX())/2,g=(n[0].getY()+n[2].getY())/2,y=new ResultPoint(p+l*c,g+l*f),b=new ResultPoint(p-l*c,g-l*f);c=n[1].getX()-n[3].getX(),f=n[1].getY()-n[3].getY(),p=(n[1].getX()+n[3].getX())/2,g=(n[1].getY()+n[3].getY())/2;var h=new ResultPoint(p+l*c,g+l*f),d=new ResultPoint(p-l*c,g-l*f),v=[y,h,b,d];return v},i.prototype.isValid=function(n,a){return n>=0&&n<this.image.getWidth()&&a>0&&a<this.image.getHeight()},i.prototype.isValidPoint=function(n){var a=MathUtils.round(n.getX()),s=MathUtils.round(n.getY());return this.isValid(a,s)},i.prototype.distancePoint=function(n,a){return MathUtils.distance(n.getX(),n.getY(),a.getX(),a.getY())},i.prototype.distanceResultPoint=function(n,a){return MathUtils.distance(n.getX(),n.getY(),a.getX(),a.getY())},i.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Integer.truncDivision(this.nbLayers-4,8)+1)+15},i}(),AztecReader=function(){function i(){}return i.prototype.decode=function(n,a){a===void 0&&(a=null);var s=null,l=new Detector$3(n.getBlackMatrix()),c=null,f=null;try{var p=l.detectMirror(!1);c=p.getPoints(),this.reportFoundResultPoints(a,c),f=new Decoder$2().decode(p)}catch(h){s=h}if(f==null)try{var p=l.detectMirror(!0);c=p.getPoints(),this.reportFoundResultPoints(a,c),f=new Decoder$2().decode(p)}catch(h){throw s??h}var g=new Result(f.getText(),f.getRawBytes(),f.getNumBits(),c,BarcodeFormat$1.AZTEC,System.currentTimeMillis()),y=f.getByteSegments();y!=null&&g.putMetadata(ResultMetadataType$1.BYTE_SEGMENTS,y);var b=f.getECLevel();return b!=null&&g.putMetadata(ResultMetadataType$1.ERROR_CORRECTION_LEVEL,b),g},i.prototype.reportFoundResultPoints=function(n,a){if(n!=null){var s=n.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);s!=null&&a.forEach(function(l,c,f){s.foundPossibleResultPoint(l)})}},i.prototype.reset=function(){},i}(),__extends$R=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();(function(i){__extends$R(n,i);function n(a){return a===void 0&&(a=500),i.call(this,new AztecReader,a)||this}return n})(BrowserCodeReader);var OneDReader=function(){function i(){}return i.prototype.decode=function(n,a){try{return this.doDecode(n,a)}catch{var s=a&&a.get(DecodeHintType$1.TRY_HARDER)===!0;if(s&&n.isRotateSupported()){var l=n.rotateCounterClockwise(),c=this.doDecode(l,a),f=c.getResultMetadata(),p=270;f!==null&&f.get(ResultMetadataType$1.ORIENTATION)===!0&&(p=p+f.get(ResultMetadataType$1.ORIENTATION)%360),c.putMetadata(ResultMetadataType$1.ORIENTATION,p);var g=c.getResultPoints();if(g!==null)for(var y=l.getHeight(),b=0;b<g.length;b++)g[b]=new ResultPoint(y-g[b].getY()-1,g[b].getX());return c}else throw new NotFoundException}},i.prototype.reset=function(){},i.prototype.doDecode=function(n,a){var s=n.getWidth(),l=n.getHeight(),c=new BitArray(s),f=a&&a.get(DecodeHintType$1.TRY_HARDER)===!0,p=Math.max(1,l>>(f?8:5)),g;f?g=l:g=15;for(var y=Math.trunc(l/2),b=0;b<g;b++){var h=Math.trunc((b+1)/2),d=(b&1)===0,v=y+p*(d?h:-h);if(v<0||v>=l)break;try{c=n.getBlackRow(v,c)}catch{continue}for(var _=function(P){if(P===1&&(c.reverse(),a&&a.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK)===!0)){var $=new Map;a.forEach(function(F,q){return $.set(q,F)}),$.delete(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK),a=$}try{var M=A.decodeRow(v,c,a);if(P===1){M.putMetadata(ResultMetadataType$1.ORIENTATION,180);var B=M.getResultPoints();B!==null&&(B[0]=new ResultPoint(s-B[0].getX()-1,B[0].getY()),B[1]=new ResultPoint(s-B[1].getX()-1,B[1].getY()))}return{value:M}}catch{}},A=this,I=0;I<2;I++){var R=_(I);if(typeof R=="object")return R.value}}throw new NotFoundException},i.recordPattern=function(n,a,s){for(var l=s.length,c=0;c<l;c++)s[c]=0;var f=n.getSize();if(a>=f)throw new NotFoundException;for(var p=!n.get(a),g=0,y=a;y<f;){if(n.get(y)!==p)s[g]++;else{if(++g===l)break;s[g]=1,p=!p}y++}if(!(g===l||g===l-1&&y===f))throw new NotFoundException},i.recordPatternInReverse=function(n,a,s){for(var l=s.length,c=n.get(a);a>0&&l>=0;)n.get(--a)!==c&&(l--,c=!c);if(l>=0)throw new NotFoundException;i.recordPattern(n,a+1,s)},i.patternMatchVariance=function(n,a,s){for(var l=n.length,c=0,f=0,p=0;p<l;p++)c+=n[p],f+=a[p];if(c<f)return Number.POSITIVE_INFINITY;var g=c/f;s*=g;for(var y=0,b=0;b<l;b++){var h=n[b],d=a[b]*g,v=h>d?h-d:d-h;if(v>s)return Number.POSITIVE_INFINITY;y+=v}return y/c},i}(),__extends$Q=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),Code128Reader=function(i){__extends$Q(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.findStartPattern=function(a){for(var s=a.getSize(),l=a.getNextSet(0),c=0,f=Int32Array.from([0,0,0,0,0,0]),p=l,g=!1,y=6,b=l;b<s;b++)if(a.get(b)!==g)f[c]++;else{if(c===y-1){for(var h=n.MAX_AVG_VARIANCE,d=-1,v=n.CODE_START_A;v<=n.CODE_START_C;v++){var _=OneDReader.patternMatchVariance(f,n.CODE_PATTERNS[v],n.MAX_INDIVIDUAL_VARIANCE);_<h&&(h=_,d=v)}if(d>=0&&a.isRange(Math.max(0,p-(b-p)/2),p,!1))return Int32Array.from([p,b,d]);p+=f[0]+f[1],f=f.slice(2,f.length),f[c-1]=0,f[c]=0,c--}else c++;f[c]=1,g=!g}throw new NotFoundException},n.decodeCode=function(a,s,l){OneDReader.recordPattern(a,l,s);for(var c=n.MAX_AVG_VARIANCE,f=-1,p=0;p<n.CODE_PATTERNS.length;p++){var g=n.CODE_PATTERNS[p],y=this.patternMatchVariance(s,g,n.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,f=p)}if(f>=0)return f;throw new NotFoundException},n.prototype.decodeRow=function(a,s,l){var c=l&&l.get(DecodeHintType$1.ASSUME_GS1)===!0,f=n.findStartPattern(s),p=f[2],g=0,y=new Uint8Array(20);y[g++]=p;var b;switch(p){case n.CODE_START_A:b=n.CODE_CODE_A;break;case n.CODE_START_B:b=n.CODE_CODE_B;break;case n.CODE_START_C:b=n.CODE_CODE_C;break;default:throw new FormatException}for(var h=!1,d=!1,v="",_=f[0],A=f[1],I=Int32Array.from([0,0,0,0,0,0]),R=0,P=0,$=p,M=0,B=!0,F=!1,q=!1;!h;){var H=d;switch(d=!1,R=P,P=n.decodeCode(s,I,A),y[g++]=P,P!==n.CODE_STOP&&(B=!0),P!==n.CODE_STOP&&(M++,$+=M*P),_=A,A+=I.reduce(function(te,ue){return te+ue},0),P){case n.CODE_START_A:case n.CODE_START_B:case n.CODE_START_C:throw new FormatException}switch(b){case n.CODE_CODE_A:if(P<64)q===F?v+=String.fromCharCode(32+P):v+=String.fromCharCode(32+P+128),q=!1;else if(P<96)q===F?v+=String.fromCharCode(P-64):v+=String.fromCharCode(P+64),q=!1;else switch(P!==n.CODE_STOP&&(B=!1),P){case n.CODE_FNC_1:c&&(v.length===0?v+="]C1":v+="");break;case n.CODE_FNC_2:case n.CODE_FNC_3:break;case n.CODE_FNC_4_A:!F&&q?(F=!0,q=!1):F&&q?(F=!1,q=!1):q=!0;break;case n.CODE_SHIFT:d=!0,b=n.CODE_CODE_B;break;case n.CODE_CODE_B:b=n.CODE_CODE_B;break;case n.CODE_CODE_C:b=n.CODE_CODE_C;break;case n.CODE_STOP:h=!0;break}break;case n.CODE_CODE_B:if(P<96)q===F?v+=String.fromCharCode(32+P):v+=String.fromCharCode(32+P+128),q=!1;else switch(P!==n.CODE_STOP&&(B=!1),P){case n.CODE_FNC_1:c&&(v.length===0?v+="]C1":v+="");break;case n.CODE_FNC_2:case n.CODE_FNC_3:break;case n.CODE_FNC_4_B:!F&&q?(F=!0,q=!1):F&&q?(F=!1,q=!1):q=!0;break;case n.CODE_SHIFT:d=!0,b=n.CODE_CODE_A;break;case n.CODE_CODE_A:b=n.CODE_CODE_A;break;case n.CODE_CODE_C:b=n.CODE_CODE_C;break;case n.CODE_STOP:h=!0;break}break;case n.CODE_CODE_C:if(P<100)P<10&&(v+="0"),v+=P;else switch(P!==n.CODE_STOP&&(B=!1),P){case n.CODE_FNC_1:c&&(v.length===0?v+="]C1":v+="");break;case n.CODE_CODE_A:b=n.CODE_CODE_A;break;case n.CODE_CODE_B:b=n.CODE_CODE_B;break;case n.CODE_STOP:h=!0;break}break}H&&(b=b===n.CODE_CODE_A?n.CODE_CODE_B:n.CODE_CODE_A)}var z=A-_;if(A=s.getNextUnset(A),!s.isRange(A,Math.min(s.getSize(),A+(A-_)/2),!1))throw new NotFoundException;if($-=M*R,$%103!==R)throw new ChecksumException;var L=v.length;if(L===0)throw new NotFoundException;L>0&&B&&(b===n.CODE_CODE_C?v=v.substring(0,L-2):v=v.substring(0,L-1));for(var ee=(f[1]+f[0])/2,Z=_+z/2,V=y.length,X=new Uint8Array(V),Q=0;Q<V;Q++)X[Q]=y[Q];var G=[new ResultPoint(ee,a),new ResultPoint(Z,a)];return new Result(v,X,0,G,BarcodeFormat$1.CODE_128,new Date().getTime())},n.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],n.MAX_AVG_VARIANCE=.25,n.MAX_INDIVIDUAL_VARIANCE=.7,n.CODE_SHIFT=98,n.CODE_CODE_C=99,n.CODE_CODE_B=100,n.CODE_CODE_A=101,n.CODE_FNC_1=102,n.CODE_FNC_2=97,n.CODE_FNC_3=96,n.CODE_FNC_4_A=101,n.CODE_FNC_4_B=100,n.CODE_START_A=103,n.CODE_START_B=104,n.CODE_START_C=105,n.CODE_STOP=106,n}(OneDReader),__extends$P=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$G=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Code39Reader=function(i){__extends$P(n,i);function n(a,s){a===void 0&&(a=!1),s===void 0&&(s=!1);var l=i.call(this)||this;return l.usingCheckDigit=a,l.extendedMode=s,l.decodeRowResult="",l.counters=new Int32Array(9),l}return n.prototype.decodeRow=function(a,s,l){var c,f,p,g,y=this.counters;y.fill(0),this.decodeRowResult="";var b=n.findAsteriskPattern(s,y),h=s.getNextSet(b[1]),d=s.getSize(),v,_;do{n.recordPattern(s,h,y);var A=n.toNarrowWidePattern(y);if(A<0)throw new NotFoundException;v=n.patternToChar(A),this.decodeRowResult+=v,_=h;try{for(var I=(c=void 0,__values$G(y)),R=I.next();!R.done;R=I.next()){var P=R.value;h+=P}}catch(V){c={error:V}}finally{try{R&&!R.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}h=s.getNextSet(h)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var $=0;try{for(var M=__values$G(y),B=M.next();!B.done;B=M.next()){var P=B.value;$+=P}}catch(V){p={error:V}}finally{try{B&&!B.done&&(g=M.return)&&g.call(M)}finally{if(p)throw p.error}}var F=h-_-$;if(h!==d&&F*2<$)throw new NotFoundException;if(this.usingCheckDigit){for(var q=this.decodeRowResult.length-1,H=0,z=0;z<q;z++)H+=n.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(z));if(this.decodeRowResult.charAt(q)!==n.ALPHABET_STRING.charAt(H%43))throw new ChecksumException;this.decodeRowResult=this.decodeRowResult.substring(0,q)}if(this.decodeRowResult.length===0)throw new NotFoundException;var L;this.extendedMode?L=n.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;var ee=(b[1]+b[0])/2,Z=_+$/2;return new Result(L,null,0,[new ResultPoint(ee,a),new ResultPoint(Z,a)],BarcodeFormat$1.CODE_39,new Date().getTime())},n.findAsteriskPattern=function(a,s){for(var l=a.getSize(),c=a.getNextSet(0),f=0,p=c,g=!1,y=s.length,b=c;b<l;b++)if(a.get(b)!==g)s[f]++;else{if(f===y-1){if(this.toNarrowWidePattern(s)===n.ASTERISK_ENCODING&&a.isRange(Math.max(0,p-Math.floor((b-p)/2)),p,!1))return[p,b];p+=s[0]+s[1],s.copyWithin(0,2,2+f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,g=!g}throw new NotFoundException},n.toNarrowWidePattern=function(a){var s,l,c=a.length,f=0,p;do{var g=2147483647;try{for(var y=(s=void 0,__values$G(a)),b=y.next();!b.done;b=y.next()){var h=b.value;h<g&&h>f&&(g=h)}}catch(A){s={error:A}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}f=g,p=0;for(var d=0,v=0,_=0;_<c;_++){var h=a[_];h>f&&(v|=1<<c-1-_,p++,d+=h)}if(p===3){for(var _=0;_<c&&p>0;_++){var h=a[_];if(h>f&&(p--,h*2>=d))return-1}return v}}while(p>3);return-1},n.patternToChar=function(a){for(var s=0;s<n.CHARACTER_ENCODINGS.length;s++)if(n.CHARACTER_ENCODINGS[s]===a)return n.ALPHABET_STRING.charAt(s);if(a===n.ASTERISK_ENCODING)return"*";throw new NotFoundException},n.decodeExtended=function(a){for(var s=a.length,l="",c=0;c<s;c++){var f=a.charAt(c);if(f==="+"||f==="$"||f==="%"||f==="/"){var p=a.charAt(c+1),g="\0";switch(f){case"+":if(p>="A"&&p<="Z")g=String.fromCharCode(p.charCodeAt(0)+32);else throw new FormatException;break;case"$":if(p>="A"&&p<="Z")g=String.fromCharCode(p.charCodeAt(0)-64);else throw new FormatException;break;case"%":if(p>="A"&&p<="E")g=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")g=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")g=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")g=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")g="\0";else if(p==="V")g="@";else if(p==="W")g="`";else if(p==="X"||p==="Y"||p==="Z")g="";else throw new FormatException;break;case"/":if(p>="A"&&p<="O")g=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")g=":";else throw new FormatException;break}l+=g,c++}else l+=f}return l},n.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",n.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],n.ASTERISK_ENCODING=148,n}(OneDReader),__extends$O=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$F=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Code93Reader=function(i){__extends$O(n,i);function n(){var a=i.call(this)||this;return a.decodeRowResult="",a.counters=new Int32Array(6),a}return n.prototype.decodeRow=function(a,s,l){var c,f,p,g,y=this.findAsteriskPattern(s),b=s.getNextSet(y[1]),h=s.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var v,_;do{n.recordPattern(s,b,d);var A=this.toPattern(d);if(A<0)throw new NotFoundException;v=this.patternToChar(A),this.decodeRowResult+=v,_=b;try{for(var I=(c=void 0,__values$F(d)),R=I.next();!R.done;R=I.next()){var P=R.value;b+=P}}catch(z){c={error:z}}finally{try{R&&!R.done&&(f=I.return)&&f.call(I)}finally{if(c)throw c.error}}b=s.getNextSet(b)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var $=0;try{for(var M=__values$F(d),B=M.next();!B.done;B=M.next()){var P=B.value;$+=P}}catch(z){p={error:z}}finally{try{B&&!B.done&&(g=M.return)&&g.call(M)}finally{if(p)throw p.error}}if(b===h||!s.get(b))throw new NotFoundException;if(this.decodeRowResult.length<2)throw new NotFoundException;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var F=this.decodeExtended(this.decodeRowResult),q=(y[1]+y[0])/2,H=_+$/2;return new Result(F,null,0,[new ResultPoint(q,a),new ResultPoint(H,a)],BarcodeFormat$1.CODE_93,new Date().getTime())},n.prototype.findAsteriskPattern=function(a){var s=a.getSize(),l=a.getNextSet(0);this.counters.fill(0);for(var c=this.counters,f=l,p=!1,g=c.length,y=0,b=l;b<s;b++)if(a.get(b)!==p)c[y]++;else{if(y===g-1){if(this.toPattern(c)===n.ASTERISK_ENCODING)return new Int32Array([f,b]);f+=c[0]+c[1],c.copyWithin(0,2,2+y-1),c[y-1]=0,c[y]=0,y--}else y++;c[y]=1,p=!p}throw new NotFoundException},n.prototype.toPattern=function(a){var s,l,c=0;try{for(var f=__values$F(a),p=f.next();!p.done;p=f.next()){var g=p.value;c+=g}}catch(_){s={error:_}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}for(var y=0,b=a.length,h=0;h<b;h++){var d=Math.round(a[h]*9/c);if(d<1||d>4)return-1;if((h&1)===0)for(var v=0;v<d;v++)y=y<<1|1;else y<<=d}return y},n.prototype.patternToChar=function(a){for(var s=0;s<n.CHARACTER_ENCODINGS.length;s++)if(n.CHARACTER_ENCODINGS[s]===a)return n.ALPHABET_STRING.charAt(s);throw new NotFoundException},n.prototype.decodeExtended=function(a){for(var s=a.length,l="",c=0;c<s;c++){var f=a.charAt(c);if(f>="a"&&f<="d"){if(c>=s-1)throw new FormatException;var p=a.charAt(c+1),g="\0";switch(f){case"d":if(p>="A"&&p<="Z")g=String.fromCharCode(p.charCodeAt(0)+32);else throw new FormatException;break;case"a":if(p>="A"&&p<="Z")g=String.fromCharCode(p.charCodeAt(0)-64);else throw new FormatException;break;case"b":if(p>="A"&&p<="E")g=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")g=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")g=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")g=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")g="\0";else if(p==="V")g="@";else if(p==="W")g="`";else if(p>="X"&&p<="Z")g="";else throw new FormatException;break;case"c":if(p>="A"&&p<="O")g=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")g=":";else throw new FormatException;break}l+=g,c++}else l+=f}return l},n.prototype.checkChecksums=function(a){var s=a.length;this.checkOneChecksum(a,s-2,20),this.checkOneChecksum(a,s-1,15)},n.prototype.checkOneChecksum=function(a,s,l){for(var c=1,f=0,p=s-1;p>=0;p--)f+=c*n.ALPHABET_STRING.indexOf(a.charAt(p)),++c>l&&(c=1);if(a.charAt(s)!==n.ALPHABET_STRING[f%47])throw new ChecksumException},n.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",n.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],n.ASTERISK_ENCODING=n.CHARACTER_ENCODINGS[47],n}(OneDReader),__extends$N=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$E=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ITFReader=function(i){__extends$N(n,i);function n(){var a=i!==null&&i.apply(this,arguments)||this;return a.narrowLineWidth=-1,a}return n.prototype.decodeRow=function(a,s,l){var c,f,p=this.decodeStart(s),g=this.decodeEnd(s),y=new StringBuilder;n.decodeMiddle(s,p[1],g[0],y);var b=y.toString(),h=null;l!=null&&(h=l.get(DecodeHintType$1.ALLOWED_LENGTHS)),h==null&&(h=n.DEFAULT_ALLOWED_LENGTHS);var d=b.length,v=!1,_=0;try{for(var A=__values$E(h),I=A.next();!I.done;I=A.next()){var R=I.value;if(d===R){v=!0;break}R>_&&(_=R)}}catch(M){c={error:M}}finally{try{I&&!I.done&&(f=A.return)&&f.call(A)}finally{if(c)throw c.error}}if(!v&&d>_&&(v=!0),!v)throw new FormatException;var P=[new ResultPoint(p[1],a),new ResultPoint(g[0],a)],$=new Result(b,null,0,P,BarcodeFormat$1.ITF,new Date().getTime());return $},n.decodeMiddle=function(a,s,l,c){var f=new Int32Array(10),p=new Int32Array(5),g=new Int32Array(5);for(f.fill(0),p.fill(0),g.fill(0);s<l;){OneDReader.recordPattern(a,s,f);for(var y=0;y<5;y++){var b=2*y;p[y]=f[b],g[y]=f[b+1]}var h=n.decodeDigit(p);c.append(h.toString()),h=this.decodeDigit(g),c.append(h.toString()),f.forEach(function(d){s+=d})}},n.prototype.decodeStart=function(a){var s=n.skipWhiteSpace(a),l=n.findGuardPattern(a,s,n.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(a,l[0]),l},n.prototype.validateQuietZone=function(a,s){var l=this.narrowLineWidth*10;l=l<s?l:s;for(var c=s-1;l>0&&c>=0&&!a.get(c);c--)l--;if(l!==0)throw new NotFoundException},n.skipWhiteSpace=function(a){var s=a.getSize(),l=a.getNextSet(0);if(l===s)throw new NotFoundException;return l},n.prototype.decodeEnd=function(a){a.reverse();try{var s=n.skipWhiteSpace(a),l=void 0;try{l=n.findGuardPattern(a,s,n.END_PATTERN_REVERSED[0])}catch(f){f instanceof NotFoundException&&(l=n.findGuardPattern(a,s,n.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,l[0]);var c=l[0];return l[0]=a.getSize()-l[1],l[1]=a.getSize()-c,l}finally{a.reverse()}},n.findGuardPattern=function(a,s,l){var c=l.length,f=new Int32Array(c),p=a.getSize(),g=!1,y=0,b=s;f.fill(0);for(var h=s;h<p;h++)if(a.get(h)!==g)f[y]++;else{if(y===c-1){if(OneDReader.patternMatchVariance(f,l,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return[b,h];b+=f[0]+f[1],System.arraycopy(f,2,f,0,y-1),f[y-1]=0,f[y]=0,y--}else y++;f[y]=1,g=!g}throw new NotFoundException},n.decodeDigit=function(a){for(var s=n.MAX_AVG_VARIANCE,l=-1,c=n.PATTERNS.length,f=0;f<c;f++){var p=n.PATTERNS[f],g=OneDReader.patternMatchVariance(a,p,n.MAX_INDIVIDUAL_VARIANCE);g<s?(s=g,l=f):g===s&&(l=-1)}if(l>=0)return l%10;throw new NotFoundException},n.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],n.MAX_AVG_VARIANCE=.38,n.MAX_INDIVIDUAL_VARIANCE=.5,n.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],n.START_PATTERN=Int32Array.from([1,1,1,1]),n.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],n}(OneDReader),__extends$M=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AbstractUPCEANReader=function(i){__extends$M(n,i);function n(){var a=i!==null&&i.apply(this,arguments)||this;return a.decodeRowStringBuffer="",a}return n.findStartGuardPattern=function(a){for(var s=!1,l,c=0,f=Int32Array.from([0,0,0]);!s;){f=Int32Array.from([0,0,0]),l=n.findGuardPattern(a,c,!1,this.START_END_PATTERN,f);var p=l[0];c=l[1];var g=p-(c-p);g>=0&&(s=a.isRange(g,p,!1))}return l},n.checkChecksum=function(a){return n.checkStandardUPCEANChecksum(a)},n.checkStandardUPCEANChecksum=function(a){var s=a.length;if(s===0)return!1;var l=parseInt(a.charAt(s-1),10);return n.getStandardUPCEANChecksum(a.substring(0,s-1))===l},n.getStandardUPCEANChecksum=function(a){for(var s=a.length,l=0,c=s-1;c>=0;c-=2){var f=a.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new FormatException;l+=f}l*=3;for(var c=s-2;c>=0;c-=2){var f=a.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new FormatException;l+=f}return(1e3-l)%10},n.decodeEnd=function(a,s){return n.findGuardPattern(a,s,!1,n.START_END_PATTERN,new Int32Array(n.START_END_PATTERN.length).fill(0))},n.findGuardPatternWithoutCounters=function(a,s,l,c){return this.findGuardPattern(a,s,l,c,new Int32Array(c.length))},n.findGuardPattern=function(a,s,l,c,f){var p=a.getSize();s=l?a.getNextUnset(s):a.getNextSet(s);for(var g=0,y=s,b=c.length,h=l,d=s;d<p;d++)if(a.get(d)!==h)f[g]++;else{if(g===b-1){if(OneDReader.patternMatchVariance(f,c,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return Int32Array.from([y,d]);y+=f[0]+f[1];for(var v=f.slice(2,f.length),_=0;_<g-1;_++)f[_]=v[_];f[g-1]=0,f[g]=0,g--}else g++;f[g]=1,h=!h}throw new NotFoundException},n.decodeDigit=function(a,s,l,c){this.recordPattern(a,l,s);for(var f=this.MAX_AVG_VARIANCE,p=-1,g=c.length,y=0;y<g;y++){var b=c[y],h=OneDReader.patternMatchVariance(s,b,n.MAX_INDIVIDUAL_VARIANCE);h<f&&(f=h,p=y)}if(p>=0)return p;throw new NotFoundException},n.MAX_AVG_VARIANCE=.48,n.MAX_INDIVIDUAL_VARIANCE=.7,n.START_END_PATTERN=Int32Array.from([1,1,1]),n.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),n.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),n.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],n}(OneDReader),__values$D=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},UPCEANExtension5Support=function(){function i(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return i.prototype.decodeRow=function(n,a,s){var l=this.decodeRowStringBuffer,c=this.decodeMiddle(a,s,l),f=l.toString(),p=i.parseExtensionString(f),g=[new ResultPoint((s[0]+s[1])/2,n),new ResultPoint(c,n)],y=new Result(f,null,0,g,BarcodeFormat$1.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&y.putAllMetadata(p),y},i.prototype.decodeMiddle=function(n,a,s){var l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var p=n.getSize(),g=a[1],y=0,b=0;b<5&&g<p;b++){var h=AbstractUPCEANReader.decodeDigit(n,f,g,AbstractUPCEANReader.L_AND_G_PATTERNS);s+=String.fromCharCode(48+h%10);try{for(var d=(l=void 0,__values$D(f)),v=d.next();!v.done;v=d.next()){var _=v.value;g+=_}}catch(I){l={error:I}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}h>=10&&(y|=1<<4-b),b!==4&&(g=n.getNextSet(g),g=n.getNextUnset(g))}if(s.length!==5)throw new NotFoundException;var A=this.determineCheckDigit(y);if(i.extensionChecksum(s.toString())!==A)throw new NotFoundException;return g},i.extensionChecksum=function(n){for(var a=n.length,s=0,l=a-2;l>=0;l-=2)s+=n.charAt(l).charCodeAt(0)-48;s*=3;for(var l=a-1;l>=0;l-=2)s+=n.charAt(l).charCodeAt(0)-48;return s*=3,s%10},i.prototype.determineCheckDigit=function(n){for(var a=0;a<10;a++)if(n===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new NotFoundException},i.parseExtensionString=function(n){if(n.length!==5)return null;var a=i.parseExtension5String(n);return a==null?null:new Map([[ResultMetadataType$1.SUGGESTED_PRICE,a]])},i.parseExtension5String=function(n){var a;switch(n.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}var s=parseInt(n.substring(1)),l=(s/100).toString(),c=s%100,f=c<10?"0"+c:c.toString();return a+l+"."+f},i}(),__values$C=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},UPCEANExtension2Support=function(){function i(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return i.prototype.decodeRow=function(n,a,s){var l=this.decodeRowStringBuffer,c=this.decodeMiddle(a,s,l),f=l.toString(),p=i.parseExtensionString(f),g=[new ResultPoint((s[0]+s[1])/2,n),new ResultPoint(c,n)],y=new Result(f,null,0,g,BarcodeFormat$1.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&y.putAllMetadata(p),y},i.prototype.decodeMiddle=function(n,a,s){var l,c,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var p=n.getSize(),g=a[1],y=0,b=0;b<2&&g<p;b++){var h=AbstractUPCEANReader.decodeDigit(n,f,g,AbstractUPCEANReader.L_AND_G_PATTERNS);s+=String.fromCharCode(48+h%10);try{for(var d=(l=void 0,__values$C(f)),v=d.next();!v.done;v=d.next()){var _=v.value;g+=_}}catch(A){l={error:A}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}h>=10&&(y|=1<<1-b),b!==1&&(g=n.getNextSet(g),g=n.getNextUnset(g))}if(s.length!==2)throw new NotFoundException;if(parseInt(s.toString())%4!==y)throw new NotFoundException;return g},i.parseExtensionString=function(n){return n.length!==2?null:new Map([[ResultMetadataType$1.ISSUE_NUMBER,parseInt(n)]])},i}(),UPCEANExtensionSupport=function(){function i(){}return i.decodeRow=function(n,a,s){var l=AbstractUPCEANReader.findGuardPattern(a,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var c=new UPCEANExtension5Support;return c.decodeRow(n,a,l)}catch{var f=new UPCEANExtension2Support;return f.decodeRow(n,a,l)}},i.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),i}(),__extends$L=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),UPCEANReader=function(i){__extends$L(n,i);function n(){var a=i.call(this)||this;a.decodeRowStringBuffer="",n.L_AND_G_PATTERNS=n.L_PATTERNS.map(function(p){return Int32Array.from(p)});for(var s=10;s<20;s++){for(var l=n.L_PATTERNS[s-10],c=new Int32Array(l.length),f=0;f<l.length;f++)c[f]=l[l.length-f-1];n.L_AND_G_PATTERNS[s]=c}return a}return n.prototype.decodeRow=function(a,s,l){var c=n.findStartGuardPattern(s),f=l==null?null:l.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);if(f!=null){var p=new ResultPoint((c[0]+c[1])/2,a);f.foundPossibleResultPoint(p)}var g=this.decodeMiddle(s,c,this.decodeRowStringBuffer),y=g.rowOffset,b=g.resultString;if(f!=null){var h=new ResultPoint(y,a);f.foundPossibleResultPoint(h)}var d=n.decodeEnd(s,y);if(f!=null){var v=new ResultPoint((d[0]+d[1])/2,a);f.foundPossibleResultPoint(v)}var _=d[1],A=_+(_-d[0]);if(A>=s.getSize()||!s.isRange(_,A,!1))throw new NotFoundException;var I=b.toString();if(I.length<8)throw new FormatException;if(!n.checkChecksum(I))throw new ChecksumException;var R=(c[1]+c[0])/2,P=(d[1]+d[0])/2,$=this.getBarcodeFormat(),M=[new ResultPoint(R,a),new ResultPoint(P,a)],B=new Result(I,null,0,M,$,new Date().getTime()),F=0;try{var q=UPCEANExtensionSupport.decodeRow(a,s,d[1]);B.putMetadata(ResultMetadataType$1.UPC_EAN_EXTENSION,q.getText()),B.putAllMetadata(q.getResultMetadata()),B.addResultPoints(q.getResultPoints()),F=q.getText().length}catch{}var H=l==null?null:l.get(DecodeHintType$1.ALLOWED_EAN_EXTENSIONS);if(H!=null){var z=!1;for(var L in H)if(F.toString()===L){z=!0;break}if(!z)throw new NotFoundException}return $===BarcodeFormat$1.EAN_13||BarcodeFormat$1.UPC_A,B},n.checkChecksum=function(a){return n.checkStandardUPCEANChecksum(a)},n.checkStandardUPCEANChecksum=function(a){var s=a.length;if(s===0)return!1;var l=parseInt(a.charAt(s-1),10);return n.getStandardUPCEANChecksum(a.substring(0,s-1))===l},n.getStandardUPCEANChecksum=function(a){for(var s=a.length,l=0,c=s-1;c>=0;c-=2){var f=a.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new FormatException;l+=f}l*=3;for(var c=s-2;c>=0;c-=2){var f=a.charAt(c).charCodeAt(0)-48;if(f<0||f>9)throw new FormatException;l+=f}return(1e3-l)%10},n.decodeEnd=function(a,s){return n.findGuardPattern(a,s,!1,n.START_END_PATTERN,new Int32Array(n.START_END_PATTERN.length).fill(0))},n}(AbstractUPCEANReader),__extends$K=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$B=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},EAN13Reader=function(i){__extends$K(n,i);function n(){var a=i.call(this)||this;return a.decodeMiddleCounters=Int32Array.from([0,0,0,0]),a}return n.prototype.decodeMiddle=function(a,s,l){var c,f,p,g,y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;for(var b=a.getSize(),h=s[1],d=0,v=0;v<6&&h<b;v++){var _=UPCEANReader.decodeDigit(a,y,h,UPCEANReader.L_AND_G_PATTERNS);l+=String.fromCharCode(48+_%10);try{for(var A=(c=void 0,__values$B(y)),I=A.next();!I.done;I=A.next()){var R=I.value;h+=R}}catch(B){c={error:B}}finally{try{I&&!I.done&&(f=A.return)&&f.call(A)}finally{if(c)throw c.error}}_>=10&&(d|=1<<5-v)}l=n.determineFirstDigit(l,d);var P=UPCEANReader.findGuardPattern(a,h,!0,UPCEANReader.MIDDLE_PATTERN,new Int32Array(UPCEANReader.MIDDLE_PATTERN.length).fill(0));h=P[1];for(var v=0;v<6&&h<b;v++){var _=UPCEANReader.decodeDigit(a,y,h,UPCEANReader.L_PATTERNS);l+=String.fromCharCode(48+_);try{for(var $=(p=void 0,__values$B(y)),M=$.next();!M.done;M=$.next()){var R=M.value;h+=R}}catch(q){p={error:q}}finally{try{M&&!M.done&&(g=$.return)&&g.call($)}finally{if(p)throw p.error}}}return{rowOffset:h,resultString:l}},n.prototype.getBarcodeFormat=function(){return BarcodeFormat$1.EAN_13},n.determineFirstDigit=function(a,s){for(var l=0;l<10;l++)if(s===this.FIRST_DIGIT_ENCODINGS[l])return a=String.fromCharCode(48+l)+a,a;throw new NotFoundException},n.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],n}(UPCEANReader),__extends$J=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$A=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},EAN8Reader=function(i){__extends$J(n,i);function n(){var a=i.call(this)||this;return a.decodeMiddleCounters=Int32Array.from([0,0,0,0]),a}return n.prototype.decodeMiddle=function(a,s,l){var c,f,p,g,y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;for(var b=a.getSize(),h=s[1],d=0;d<4&&h<b;d++){var v=UPCEANReader.decodeDigit(a,y,h,UPCEANReader.L_PATTERNS);l+=String.fromCharCode(48+v);try{for(var _=(c=void 0,__values$A(y)),A=_.next();!A.done;A=_.next()){var I=A.value;h+=I}}catch(M){c={error:M}}finally{try{A&&!A.done&&(f=_.return)&&f.call(_)}finally{if(c)throw c.error}}}var R=UPCEANReader.findGuardPattern(a,h,!0,UPCEANReader.MIDDLE_PATTERN,new Int32Array(UPCEANReader.MIDDLE_PATTERN.length).fill(0));h=R[1];for(var d=0;d<4&&h<b;d++){var v=UPCEANReader.decodeDigit(a,y,h,UPCEANReader.L_PATTERNS);l+=String.fromCharCode(48+v);try{for(var P=(p=void 0,__values$A(y)),$=P.next();!$.done;$=P.next()){var I=$.value;h+=I}}catch(F){p={error:F}}finally{try{$&&!$.done&&(g=P.return)&&g.call(P)}finally{if(p)throw p.error}}}return{rowOffset:h,resultString:l}},n.prototype.getBarcodeFormat=function(){return BarcodeFormat$1.EAN_8},n}(UPCEANReader),__extends$I=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),UPCAReader=function(i){__extends$I(n,i);function n(){var a=i!==null&&i.apply(this,arguments)||this;return a.ean13Reader=new EAN13Reader,a}return n.prototype.getBarcodeFormat=function(){return BarcodeFormat$1.UPC_A},n.prototype.decode=function(a,s){return this.maybeReturnResult(this.ean13Reader.decode(a))},n.prototype.decodeRow=function(a,s,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,s,l))},n.prototype.decodeMiddle=function(a,s,l){return this.ean13Reader.decodeMiddle(a,s,l)},n.prototype.maybeReturnResult=function(a){var s=a.getText();if(s.charAt(0)==="0"){var l=new Result(s.substring(1),null,null,a.getResultPoints(),BarcodeFormat$1.UPC_A);return a.getResultMetadata()!=null&&l.putAllMetadata(a.getResultMetadata()),l}else throw new NotFoundException},n.prototype.reset=function(){this.ean13Reader.reset()},n}(UPCEANReader),__extends$H=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$z=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},UPCEReader=function(i){__extends$H(n,i);function n(){var a=i.call(this)||this;return a.decodeMiddleCounters=new Int32Array(4),a}return n.prototype.decodeMiddle=function(a,s,l){var c,f,p=this.decodeMiddleCounters.map(function(I){return I});p[0]=0,p[1]=0,p[2]=0,p[3]=0;for(var g=a.getSize(),y=s[1],b=0,h=0;h<6&&y<g;h++){var d=n.decodeDigit(a,p,y,n.L_AND_G_PATTERNS);l+=String.fromCharCode(48+d%10);try{for(var v=(c=void 0,__values$z(p)),_=v.next();!_.done;_=v.next()){var A=_.value;y+=A}}catch(I){c={error:I}}finally{try{_&&!_.done&&(f=v.return)&&f.call(v)}finally{if(c)throw c.error}}d>=10&&(b|=1<<5-h)}return n.determineNumSysAndCheckDigit(new StringBuilder(l),b),y},n.prototype.decodeEnd=function(a,s){return n.findGuardPatternWithoutCounters(a,s,!0,n.MIDDLE_END_PATTERN)},n.prototype.checkChecksum=function(a){return UPCEANReader.checkChecksum(n.convertUPCEtoUPCA(a))},n.determineNumSysAndCheckDigit=function(a,s){for(var l=0;l<=1;l++)for(var c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){a.insert(0,"0"+l),a.append("0"+c);return}throw NotFoundException.getNotFoundInstance()},n.prototype.getBarcodeFormat=function(){return BarcodeFormat$1.UPC_E},n.convertUPCEtoUPCA=function(a){var s=a.slice(1,7).split("").map(function(f){return f.charCodeAt(0)}),l=new StringBuilder;l.append(a.charAt(0));var c=s[5];switch(c){case 0:case 1:case 2:l.appendChars(s,0,2),l.append(c),l.append("0000"),l.appendChars(s,2,3);break;case 3:l.appendChars(s,0,3),l.append("00000"),l.appendChars(s,3,2);break;case 4:l.appendChars(s,0,4),l.append("00000"),l.append(s[4]);break;default:l.appendChars(s,0,5),l.append("0000"),l.append(c);break}return a.length>=8&&l.append(a.charAt(7)),l.toString()},n.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),n.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],n}(UPCEANReader),__extends$G=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$y=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},MultiFormatUPCEANReader=function(i){__extends$G(n,i);function n(a){var s=i.call(this)||this,l=a==null?null:a.get(DecodeHintType$1.POSSIBLE_FORMATS),c=[];return l!=null&&(l.indexOf(BarcodeFormat$1.EAN_13)>-1&&c.push(new EAN13Reader),l.indexOf(BarcodeFormat$1.UPC_A)>-1&&c.push(new UPCAReader),l.indexOf(BarcodeFormat$1.EAN_8)>-1&&c.push(new EAN8Reader),l.indexOf(BarcodeFormat$1.UPC_E)>-1&&c.push(new UPCEReader)),c.length===0&&(c.push(new EAN13Reader),c.push(new UPCAReader),c.push(new EAN8Reader),c.push(new UPCEReader)),s.readers=c,s}return n.prototype.decodeRow=function(a,s,l){var c,f;try{for(var p=__values$y(this.readers),g=p.next();!g.done;g=p.next()){var y=g.value;try{var b=y.decodeRow(a,s,l),h=b.getBarcodeFormat()===BarcodeFormat$1.EAN_13&&b.getText().charAt(0)==="0",d=l==null?null:l.get(DecodeHintType$1.POSSIBLE_FORMATS),v=d==null||d.includes(BarcodeFormat$1.UPC_A);if(h&&v){var _=b.getRawBytes(),A=new Result(b.getText().substring(1),_,_?_.length:null,b.getResultPoints(),BarcodeFormat$1.UPC_A);return A.putAllMetadata(b.getResultMetadata()),A}return b}catch{}}}catch(I){c={error:I}}finally{try{g&&!g.done&&(f=p.return)&&f.call(p)}finally{if(c)throw c.error}}throw new NotFoundException},n.prototype.reset=function(){var a,s;try{for(var l=__values$y(this.readers),c=l.next();!c.done;c=l.next()){var f=c.value;f.reset()}}catch(p){a={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},n}(OneDReader),__extends$F=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),CodaBarReader=function(i){__extends$F(n,i);function n(){var a=i!==null&&i.apply(this,arguments)||this;return a.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},a}return n.prototype.decodeRow=function(a,s,l){var c=this.getValidRowData(s);if(!c)throw new NotFoundException;var f=this.codaBarDecodeRow(c.row);if(!f)throw new NotFoundException;return new Result(f,null,0,[new ResultPoint(c.left,a),new ResultPoint(c.right,a)],BarcodeFormat$1.CODABAR,new Date().getTime())},n.prototype.getValidRowData=function(a){var s=a.toArray(),l=s.indexOf(!0);if(l===-1)return null;var c=s.lastIndexOf(!0);if(c<=l)return null;s=s.slice(l,c+1);for(var f=[],p=s[0],g=1,y=1;y<s.length;y++)s[y]===p?g++:(p=s[y],f.push(g),g=1);return f.push(g),f.length<23&&(f.length+1)%8!==0?null:{row:f,left:l,right:c}},n.prototype.codaBarDecodeRow=function(a){for(var s=[],l=Math.ceil(a.reduce(function(g,y){return(g+y)/2},0));a.length>0;){var c=a.splice(0,8).splice(0,7),f=c.map(function(g){return g<l?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[f]===void 0)return null;s.push(this.CODA_BAR_CHAR_SET[f])}var p=s.join("");return this.validCodaBarString(p)?p:null},n.prototype.validCodaBarString=function(a){var s=/^[A-D].{1,}[A-D]$/;return s.test(a)},n}(OneDReader),__extends$E=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$x=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},AbstractRSSReader=function(i){__extends$E(n,i);function n(){var a=i.call(this)||this;return a.decodeFinderCounters=new Int32Array(4),a.dataCharacterCounters=new Int32Array(8),a.oddRoundingErrors=new Array(4),a.evenRoundingErrors=new Array(4),a.oddCounts=new Array(a.dataCharacterCounters.length/2),a.evenCounts=new Array(a.dataCharacterCounters.length/2),a}return n.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},n.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},n.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},n.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},n.prototype.getOddCounts=function(){return this.oddCounts},n.prototype.getEvenCounts=function(){return this.evenCounts},n.prototype.parseFinderValue=function(a,s){for(var l=0;l<s.length;l++)if(OneDReader.patternMatchVariance(a,s[l],n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return l;throw new NotFoundException},n.count=function(a){return MathUtils.sum(new Int32Array(a))},n.increment=function(a,s){for(var l=0,c=s[0],f=1;f<a.length;f++)s[f]>c&&(c=s[f],l=f);a[l]++},n.decrement=function(a,s){for(var l=0,c=s[0],f=1;f<a.length;f++)s[f]<c&&(c=s[f],l=f);a[l]--},n.isFinderPattern=function(a){var s,l,c=a[0]+a[1],f=c+a[2]+a[3],p=c/f;if(p>=n.MIN_FINDER_PATTERN_RATIO&&p<=n.MAX_FINDER_PATTERN_RATIO){var g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;try{for(var b=__values$x(a),h=b.next();!h.done;h=b.next()){var d=h.value;d>y&&(y=d),d<g&&(g=d)}}catch(v){s={error:v}}finally{try{h&&!h.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}return y<10*g}return!1},n.MAX_AVG_VARIANCE=.2,n.MAX_INDIVIDUAL_VARIANCE=.45,n.MIN_FINDER_PATTERN_RATIO=9.5/12,n.MAX_FINDER_PATTERN_RATIO=12.5/14,n}(OneDReader),DataCharacter=function(){function i(n,a){this.value=n,this.checksumPortion=a}return i.prototype.getValue=function(){return this.value},i.prototype.getChecksumPortion=function(){return this.checksumPortion},i.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;return this.value===a.value&&this.checksumPortion===a.checksumPortion},i.prototype.hashCode=function(){return this.value^this.checksumPortion},i}(),FinderPattern$1=function(){function i(n,a,s,l,c){this.value=n,this.startEnd=a,this.value=n,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new ResultPoint(s,c)),this.resultPoints.push(new ResultPoint(l,c))}return i.prototype.getValue=function(){return this.value},i.prototype.getStartEnd=function(){return this.startEnd},i.prototype.getResultPoints=function(){return this.resultPoints},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;return this.value===a.value},i.prototype.hashCode=function(){return this.value},i}(),__values$w=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},RSSUtils=function(){function i(){}return i.getRSSvalue=function(n,a,s){var l,c,f=0;try{for(var p=__values$w(n),g=p.next();!g.done;g=p.next()){var y=g.value;f+=y}}catch(P){l={error:P}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}for(var b=0,h=0,d=n.length,v=0;v<d-1;v++){var _=void 0;for(_=1,h|=1<<v;_<n[v];_++,h&=~(1<<v)){var A=i.combins(f-_-1,d-v-2);if(s&&h===0&&f-_-(d-v-1)>=d-v-1&&(A-=i.combins(f-_-(d-v),d-v-2)),d-v-1>1){for(var I=0,R=f-_-(d-v-2);R>a;R--)I+=i.combins(f-_-R-1,d-v-3);A-=I*(d-1-v)}else f-_>a&&A--;b+=A}f-=_}return b},i.combins=function(n,a){var s,l;n-a>a?(l=a,s=n-a):(l=n-a,s=a);for(var c=1,f=1,p=n;p>s;p--)c*=p,f<=l&&(c/=f,f++);for(;f<=l;)c/=f,f++;return c},i}(),BitArrayBuilder=function(){function i(){}return i.buildBitArray=function(n){var a=n.length*2-1;n[n.length-1].getRightChar()==null&&(a-=1);for(var s=12*a,l=new BitArray(s),c=0,f=n[0],p=f.getRightChar().getValue(),g=11;g>=0;--g)(p&1<<g)!==0&&l.set(c),c++;for(var g=1;g<n.length;++g){for(var y=n[g],b=y.getLeftChar().getValue(),h=11;h>=0;--h)(b&1<<h)!==0&&l.set(c),c++;if(y.getRightChar()!==null)for(var d=y.getRightChar().getValue(),h=11;h>=0;--h)(d&1<<h)!==0&&l.set(c),c++}return l},i}(),BlockParsedResult=function(){function i(n,a){a?this.decodedInformation=null:(this.finished=n,this.decodedInformation=a)}return i.prototype.getDecodedInformation=function(){return this.decodedInformation},i.prototype.isFinished=function(){return this.finished},i}(),DecodedObject=function(){function i(n){this.newPosition=n}return i.prototype.getNewPosition=function(){return this.newPosition},i}(),__extends$D=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),DecodedChar=function(i){__extends$D(n,i);function n(a,s){var l=i.call(this,a)||this;return l.value=s,l}return n.prototype.getValue=function(){return this.value},n.prototype.isFNC1=function(){return this.value===n.FNC1},n.FNC1="$",n}(DecodedObject),__extends$C=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),DecodedInformation=function(i){__extends$C(n,i);function n(a,s,l){var c=i.call(this,a)||this;return l?(c.remaining=!0,c.remainingValue=c.remainingValue):(c.remaining=!1,c.remainingValue=0),c.newString=s,c}return n.prototype.getNewString=function(){return this.newString},n.prototype.isRemaining=function(){return this.remaining},n.prototype.getRemainingValue=function(){return this.remainingValue},n}(DecodedObject),__extends$B=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),DecodedNumeric=function(i){__extends$B(n,i);function n(a,s,l){var c=i.call(this,a)||this;if(s<0||s>10||l<0||l>10)throw new FormatException;return c.firstDigit=s,c.secondDigit=l,c}return n.prototype.getFirstDigit=function(){return this.firstDigit},n.prototype.getSecondDigit=function(){return this.secondDigit},n.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},n.prototype.isFirstDigitFNC1=function(){return this.firstDigit===n.FNC1},n.prototype.isSecondDigitFNC1=function(){return this.secondDigit===n.FNC1},n.prototype.isAnyFNC1=function(){return this.firstDigit===n.FNC1||this.secondDigit===n.FNC1},n.FNC1=10,n}(DecodedObject),__values$v=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},FieldParser=function(){function i(){}return i.parseFieldsInGeneralPurpose=function(n){var a,s,l,c,f,p,g,y;if(!n)return null;if(n.length<2)throw new NotFoundException;var b=n.substring(0,2);try{for(var h=__values$v(i.TWO_DIGIT_DATA_LENGTH),d=h.next();!d.done;d=h.next()){var v=d.value;if(v[0]===b)return v[1]===i.VARIABLE_LENGTH?i.processVariableAI(2,v[2],n):i.processFixedAI(2,v[1],n)}}catch(F){a={error:F}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}if(n.length<3)throw new NotFoundException;var _=n.substring(0,3);try{for(var A=__values$v(i.THREE_DIGIT_DATA_LENGTH),I=A.next();!I.done;I=A.next()){var v=I.value;if(v[0]===_)return v[1]===i.VARIABLE_LENGTH?i.processVariableAI(3,v[2],n):i.processFixedAI(3,v[1],n)}}catch(F){l={error:F}}finally{try{I&&!I.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}try{for(var R=__values$v(i.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),P=R.next();!P.done;P=R.next()){var v=P.value;if(v[0]===_)return v[1]===i.VARIABLE_LENGTH?i.processVariableAI(4,v[2],n):i.processFixedAI(4,v[1],n)}}catch(F){f={error:F}}finally{try{P&&!P.done&&(p=R.return)&&p.call(R)}finally{if(f)throw f.error}}if(n.length<4)throw new NotFoundException;var $=n.substring(0,4);try{for(var M=__values$v(i.FOUR_DIGIT_DATA_LENGTH),B=M.next();!B.done;B=M.next()){var v=B.value;if(v[0]===$)return v[1]===i.VARIABLE_LENGTH?i.processVariableAI(4,v[2],n):i.processFixedAI(4,v[1],n)}}catch(F){g={error:F}}finally{try{B&&!B.done&&(y=M.return)&&y.call(M)}finally{if(g)throw g.error}}throw new NotFoundException},i.processFixedAI=function(n,a,s){if(s.length<n)throw new NotFoundException;var l=s.substring(0,n);if(s.length<n+a)throw new NotFoundException;var c=s.substring(n,n+a),f=s.substring(n+a),p="("+l+")"+c,g=i.parseFieldsInGeneralPurpose(f);return g==null?p:p+g},i.processVariableAI=function(n,a,s){var l=s.substring(0,n),c;s.length<n+a?c=s.length:c=n+a;var f=s.substring(n,c),p=s.substring(c),g="("+l+")"+f,y=i.parseFieldsInGeneralPurpose(p);return y==null?g:g+y},i.VARIABLE_LENGTH=[],i.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",i.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",i.VARIABLE_LENGTH,20],["22",i.VARIABLE_LENGTH,29],["30",i.VARIABLE_LENGTH,8],["37",i.VARIABLE_LENGTH,8],["90",i.VARIABLE_LENGTH,30],["91",i.VARIABLE_LENGTH,30],["92",i.VARIABLE_LENGTH,30],["93",i.VARIABLE_LENGTH,30],["94",i.VARIABLE_LENGTH,30],["95",i.VARIABLE_LENGTH,30],["96",i.VARIABLE_LENGTH,30],["97",i.VARIABLE_LENGTH,3],["98",i.VARIABLE_LENGTH,30],["99",i.VARIABLE_LENGTH,30]],i.THREE_DIGIT_DATA_LENGTH=[["240",i.VARIABLE_LENGTH,30],["241",i.VARIABLE_LENGTH,30],["242",i.VARIABLE_LENGTH,6],["250",i.VARIABLE_LENGTH,30],["251",i.VARIABLE_LENGTH,30],["253",i.VARIABLE_LENGTH,17],["254",i.VARIABLE_LENGTH,20],["400",i.VARIABLE_LENGTH,30],["401",i.VARIABLE_LENGTH,30],["402",17],["403",i.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",i.VARIABLE_LENGTH,20],["421",i.VARIABLE_LENGTH,15],["422",3],["423",i.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],i.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",i.VARIABLE_LENGTH,15],["391",i.VARIABLE_LENGTH,18],["392",i.VARIABLE_LENGTH,15],["393",i.VARIABLE_LENGTH,18],["703",i.VARIABLE_LENGTH,30]],i.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",i.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",i.VARIABLE_LENGTH,20],["8003",i.VARIABLE_LENGTH,30],["8004",i.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",i.VARIABLE_LENGTH,30],["8008",i.VARIABLE_LENGTH,12],["8018",18],["8020",i.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",i.VARIABLE_LENGTH,70],["8200",i.VARIABLE_LENGTH,70]],i}(),GeneralAppIdDecoder=function(){function i(n){this.buffer=new StringBuilder,this.information=n}return i.prototype.decodeAllCodes=function(n,a){var s=a,l=null;do{var c=this.decodeGeneralPurposeField(s,l),f=FieldParser.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&n.append(f),c.isRemaining()?l=""+c.getRemainingValue():l=null,s===c.getNewPosition())break;s=c.getNewPosition()}while(!0);return n.toString()},i.prototype.isStillNumeric=function(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(var a=n;a<n+3;++a)if(this.information.get(a))return!0;return this.information.get(n+3)},i.prototype.decodeNumeric=function(n){if(n+7>this.information.getSize()){var a=this.extractNumericValueFromBitArray(n,4);return a===0?new DecodedNumeric(this.information.getSize(),DecodedNumeric.FNC1,DecodedNumeric.FNC1):new DecodedNumeric(this.information.getSize(),a-1,DecodedNumeric.FNC1)}var s=this.extractNumericValueFromBitArray(n,7),l=(s-8)/11,c=(s-8)%11;return new DecodedNumeric(n+7,l,c)},i.prototype.extractNumericValueFromBitArray=function(n,a){return i.extractNumericValueFromBitArray(this.information,n,a)},i.extractNumericValueFromBitArray=function(n,a,s){for(var l=0,c=0;c<s;++c)n.get(a+c)&&(l|=1<<s-c-1);return l},i.prototype.decodeGeneralPurposeField=function(n,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(n);var s=this.parseBlocks();return s!=null&&s.isRemaining()?new DecodedInformation(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new DecodedInformation(this.current.getPosition(),this.buffer.toString())},i.prototype.parseBlocks=function(){var n,a;do{var s=this.current.getPosition();this.current.isAlpha()?(a=this.parseAlphaBlock(),n=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),n=a.isFinished()):(a=this.parseNumericBlock(),n=a.isFinished());var l=s!==this.current.getPosition();if(!l&&!n)break}while(!n);return a.getDecodedInformation()},i.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){var a=void 0;return n.isSecondDigitFNC1()?a=new DecodedInformation(this.current.getPosition(),this.buffer.toString()):a=new DecodedInformation(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new BlockParsedResult(!0,a)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){var a=new DecodedInformation(this.current.getPosition(),this.buffer.toString());return new BlockParsedResult(!0,a)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new BlockParsedResult(!1)},i.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){var a=new DecodedInformation(this.current.getPosition(),this.buffer.toString());return new BlockParsedResult(!0,a)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new BlockParsedResult(!1)},i.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){var a=new DecodedInformation(this.current.getPosition(),this.buffer.toString());return new BlockParsedResult(!0,a)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new BlockParsedResult(!1)},i.prototype.isStillIsoIec646=function(n){if(n+5>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(n,5);if(a>=5&&a<16)return!0;if(n+7>this.information.getSize())return!1;var s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;var l=this.extractNumericValueFromBitArray(n,8);return l>=232&&l<253},i.prototype.decodeIsoIec646=function(n){var a=this.extractNumericValueFromBitArray(n,5);if(a===15)return new DecodedChar(n+5,DecodedChar.FNC1);if(a>=5&&a<15)return new DecodedChar(n+5,"0"+(a-5));var s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new DecodedChar(n+7,""+(s+1));if(s>=90&&s<116)return new DecodedChar(n+7,""+(s+7));var l=this.extractNumericValueFromBitArray(n,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new FormatException}return new DecodedChar(n+8,c)},i.prototype.isStillAlpha=function(n){if(n+5>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(n,5);if(a>=5&&a<16)return!0;if(n+6>this.information.getSize())return!1;var s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63},i.prototype.decodeAlphanumeric=function(n){var a=this.extractNumericValueFromBitArray(n,5);if(a===15)return new DecodedChar(n+5,DecodedChar.FNC1);if(a>=5&&a<15)return new DecodedChar(n+5,"0"+(a-5));var s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new DecodedChar(n+6,""+(s+33));var l;switch(s){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new IllegalStateException("Decoding invalid alphanumeric value: "+s)}return new DecodedChar(n+6,l)},i.prototype.isAlphaTo646ToAlphaLatch=function(n){if(n+1>this.information.getSize())return!1;for(var a=0;a<5&&a+n<this.information.getSize();++a)if(a===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+a))return!1;return!0},i.prototype.isAlphaOr646ToNumericLatch=function(n){if(n+3>this.information.getSize())return!1;for(var a=n;a<n+3;++a)if(this.information.get(a))return!1;return!0},i.prototype.isNumericToAlphaNumericLatch=function(n){if(n+1>this.information.getSize())return!1;for(var a=0;a<4&&a+n<this.information.getSize();++a)if(this.information.get(n+a))return!1;return!0},i}(),AbstractExpandedDecoder=function(){function i(n){this.information=n,this.generalDecoder=new GeneralAppIdDecoder(n)}return i.prototype.getInformation=function(){return this.information},i.prototype.getGeneralDecoder=function(){return this.generalDecoder},i}(),__extends$A=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI01decoder=function(i){__extends$A(n,i);function n(a){return i.call(this,a)||this}return n.prototype.encodeCompressedGtin=function(a,s){a.append("(01)");var l=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,s,l)},n.prototype.encodeCompressedGtinWithoutAI=function(a,s,l){for(var c=0;c<4;++c){var f=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);f/100===0&&a.append("0"),f/10===0&&a.append("0"),a.append(f)}n.appendCheckDigit(a,l)},n.appendCheckDigit=function(a,s){for(var l=0,c=0;c<13;c++){var f=a.charAt(c+s).charCodeAt(0)-48;l+=(c&1)===0?3*f:f}l=10-l%10,l===10&&(l=0),a.append(l)},n.GTIN_SIZE=40,n}(AbstractExpandedDecoder),__extends$z=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI01AndOtherAIs=function(i){__extends$z(n,i);function n(a){return i.call(this,a)||this}return n.prototype.parseInformation=function(){var a=new StringBuilder;a.append("(01)");var s=a.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(n.HEADER_SIZE,4);return a.append(l),this.encodeCompressedGtinWithoutAI(a,n.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(a,n.HEADER_SIZE+44)},n.HEADER_SIZE=4,n}(AI01decoder),__extends$y=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AnyAIDecoder=function(i){__extends$y(n,i);function n(a){return i.call(this,a)||this}return n.prototype.parseInformation=function(){var a=new StringBuilder;return this.getGeneralDecoder().decodeAllCodes(a,n.HEADER_SIZE)},n.HEADER_SIZE=5,n}(AbstractExpandedDecoder),__extends$x=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI01weightDecoder=function(i){__extends$x(n,i);function n(a){return i.call(this,a)||this}return n.prototype.encodeCompressedWeight=function(a,s,l){var c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,l);this.addWeightCode(a,c);for(var f=this.checkWeight(c),p=1e5,g=0;g<5;++g)f/p===0&&a.append("0"),p/=10;a.append(f)},n}(AI01decoder),__extends$w=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI013x0xDecoder=function(i){__extends$w(n,i);function n(a){return i.call(this,a)||this}return n.prototype.parseInformation=function(){if(this.getInformation().getSize()!==n.HEADER_SIZE+AI01weightDecoder.GTIN_SIZE+n.WEIGHT_SIZE)throw new NotFoundException;var a=new StringBuilder;return this.encodeCompressedGtin(a,n.HEADER_SIZE),this.encodeCompressedWeight(a,n.HEADER_SIZE+AI01weightDecoder.GTIN_SIZE,n.WEIGHT_SIZE),a.toString()},n.HEADER_SIZE=5,n.WEIGHT_SIZE=15,n}(AI01weightDecoder),__extends$v=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI013103decoder=function(i){__extends$v(n,i);function n(a){return i.call(this,a)||this}return n.prototype.addWeightCode=function(a,s){a.append("(3103)")},n.prototype.checkWeight=function(a){return a},n}(AI013x0xDecoder),__extends$u=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI01320xDecoder=function(i){__extends$u(n,i);function n(a){return i.call(this,a)||this}return n.prototype.addWeightCode=function(a,s){s<1e4?a.append("(3202)"):a.append("(3203)")},n.prototype.checkWeight=function(a){return a<1e4?a:a-1e4},n}(AI013x0xDecoder),__extends$t=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI01392xDecoder=function(i){__extends$t(n,i);function n(a){return i.call(this,a)||this}return n.prototype.parseInformation=function(){if(this.getInformation().getSize()<n.HEADER_SIZE+AI01decoder.GTIN_SIZE)throw new NotFoundException;var a=new StringBuilder;this.encodeCompressedGtin(a,n.HEADER_SIZE);var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n.HEADER_SIZE+AI01decoder.GTIN_SIZE,n.LAST_DIGIT_SIZE);a.append("(392"),a.append(s),a.append(")");var l=this.getGeneralDecoder().decodeGeneralPurposeField(n.HEADER_SIZE+AI01decoder.GTIN_SIZE+n.LAST_DIGIT_SIZE,null);return a.append(l.getNewString()),a.toString()},n.HEADER_SIZE=8,n.LAST_DIGIT_SIZE=2,n}(AI01decoder),__extends$s=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI01393xDecoder=function(i){__extends$s(n,i);function n(a){return i.call(this,a)||this}return n.prototype.parseInformation=function(){if(this.getInformation().getSize()<n.HEADER_SIZE+AI01decoder.GTIN_SIZE)throw new NotFoundException;var a=new StringBuilder;this.encodeCompressedGtin(a,n.HEADER_SIZE);var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n.HEADER_SIZE+AI01decoder.GTIN_SIZE,n.LAST_DIGIT_SIZE);a.append("(393"),a.append(s),a.append(")");var l=this.getGeneralDecoder().extractNumericValueFromBitArray(n.HEADER_SIZE+AI01decoder.GTIN_SIZE+n.LAST_DIGIT_SIZE,n.FIRST_THREE_DIGITS_SIZE);l/100===0&&a.append("0"),l/10===0&&a.append("0"),a.append(l);var c=this.getGeneralDecoder().decodeGeneralPurposeField(n.HEADER_SIZE+AI01decoder.GTIN_SIZE+n.LAST_DIGIT_SIZE+n.FIRST_THREE_DIGITS_SIZE,null);return a.append(c.getNewString()),a.toString()},n.HEADER_SIZE=8,n.LAST_DIGIT_SIZE=2,n.FIRST_THREE_DIGITS_SIZE=10,n}(AI01decoder),__extends$r=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AI013x0x1xDecoder=function(i){__extends$r(n,i);function n(a,s,l){var c=i.call(this,a)||this;return c.dateCode=l,c.firstAIdigits=s,c}return n.prototype.parseInformation=function(){if(this.getInformation().getSize()!==n.HEADER_SIZE+n.GTIN_SIZE+n.WEIGHT_SIZE+n.DATE_SIZE)throw new NotFoundException;var a=new StringBuilder;return this.encodeCompressedGtin(a,n.HEADER_SIZE),this.encodeCompressedWeight(a,n.HEADER_SIZE+n.GTIN_SIZE,n.WEIGHT_SIZE),this.encodeCompressedDate(a,n.HEADER_SIZE+n.GTIN_SIZE+n.WEIGHT_SIZE),a.toString()},n.prototype.encodeCompressedDate=function(a,s){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(s,n.DATE_SIZE);if(l!==38400){a.append("("),a.append(this.dateCode),a.append(")");var c=l%32;l/=32;var f=l%12+1;l/=12;var p=l;p/10===0&&a.append("0"),a.append(p),f/10===0&&a.append("0"),a.append(f),c/10===0&&a.append("0"),a.append(c)}},n.prototype.addWeightCode=function(a,s){a.append("("),a.append(this.firstAIdigits),a.append(s/1e5),a.append(")")},n.prototype.checkWeight=function(a){return a%1e5},n.HEADER_SIZE=8,n.WEIGHT_SIZE=20,n.DATE_SIZE=16,n}(AI01weightDecoder);function createDecoder(i){try{if(i.get(1))return new AI01AndOtherAIs(i);if(!i.get(2))return new AnyAIDecoder(i);var n=GeneralAppIdDecoder.extractNumericValueFromBitArray(i,1,4);switch(n){case 4:return new AI013103decoder(i);case 5:return new AI01320xDecoder(i)}var a=GeneralAppIdDecoder.extractNumericValueFromBitArray(i,1,5);switch(a){case 12:return new AI01392xDecoder(i);case 13:return new AI01393xDecoder(i)}var s=GeneralAppIdDecoder.extractNumericValueFromBitArray(i,1,7);switch(s){case 56:return new AI013x0x1xDecoder(i,"310","11");case 57:return new AI013x0x1xDecoder(i,"320","11");case 58:return new AI013x0x1xDecoder(i,"310","13");case 59:return new AI013x0x1xDecoder(i,"320","13");case 60:return new AI013x0x1xDecoder(i,"310","15");case 61:return new AI013x0x1xDecoder(i,"320","15");case 62:return new AI013x0x1xDecoder(i,"310","17");case 63:return new AI013x0x1xDecoder(i,"320","17")}}catch(l){throw console.log(l),new IllegalStateException("unknown decoder: "+i)}}var ExpandedPair=function(){function i(n,a,s,l){this.leftchar=n,this.rightchar=a,this.finderpattern=s,this.maybeLast=l}return i.prototype.mayBeLast=function(){return this.maybeLast},i.prototype.getLeftChar=function(){return this.leftchar},i.prototype.getRightChar=function(){return this.rightchar},i.prototype.getFinderPattern=function(){return this.finderpattern},i.prototype.mustBeLast=function(){return this.rightchar==null},i.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},i.equals=function(n,a){return n instanceof i?i.equalsOrNull(n.leftchar,a.leftchar)&&i.equalsOrNull(n.rightchar,a.rightchar)&&i.equalsOrNull(n.finderpattern,a.finderpattern):!1},i.equalsOrNull=function(n,a){return n===null?a===null:i.equals(n,a)},i.prototype.hashCode=function(){var n=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return n},i}(),ExpandedRow=function(){function i(n,a,s){this.pairs=n,this.rowNumber=a,this.wasReversed=s}return i.prototype.getPairs=function(){return this.pairs},i.prototype.getRowNumber=function(){return this.rowNumber},i.prototype.isReversed=function(){return this.wasReversed},i.prototype.isEquivalent=function(n){return this.checkEqualitity(this,n)},i.prototype.toString=function(){return"{ "+this.pairs+" }"},i.prototype.equals=function(n,a){return n instanceof i?this.checkEqualitity(n,a)&&n.wasReversed===a.wasReversed:!1},i.prototype.checkEqualitity=function(n,a){if(!(!n||!a)){var s;return n.forEach(function(l,c){a.forEach(function(f){l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(s=!0)})}),s}},i}(),__extends$q=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$u=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},RSSExpandedReader=function(i){__extends$q(n,i);function n(){var a=i!==null&&i.apply(this,arguments)||this;return a.pairs=new Array(n.MAX_PAIRS),a.rows=new Array,a.startEnd=[2],a}return n.prototype.decodeRow=function(a,s,l){this.pairs.length=0,this.startFromEven=!1;try{return n.constructResult(this.decodeRow2pairs(a,s))}catch{}return this.pairs.length=0,this.startFromEven=!0,n.constructResult(this.decodeRow2pairs(a,s))},n.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},n.prototype.decodeRow2pairs=function(a,s){for(var l=!1;!l;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,a))}catch(p){if(p instanceof NotFoundException){if(!this.pairs.length)throw new NotFoundException;l=!0}}if(this.checkChecksum())return this.pairs;var c;if(this.rows.length?c=!0:c=!1,this.storeRow(a,!1),c){var f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new NotFoundException},n.prototype.checkRowsBoolean=function(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());var s=null;try{s=this.checkRows(new Array,0)}catch(l){console.log(l)}return a&&(this.rows=this.rows.reverse()),s},n.prototype.checkRows=function(a,s){for(var l,c,f=s;f<this.rows.length;f++){var p=this.rows[f];this.pairs.length=0;try{for(var g=(l=void 0,__values$u(a)),y=g.next();!y.done;y=g.next()){var b=y.value;this.pairs.push(b.getPairs())}}catch(d){l={error:d}}finally{try{y&&!y.done&&(c=g.return)&&c.call(g)}finally{if(l)throw l.error}}if(this.pairs.push(p.getPairs()),!!n.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var h=new Array(a);h.push(p);try{return this.checkRows(h,f+1)}catch(d){console.log(d)}}}throw new NotFoundException},n.isValidSequence=function(a){var s,l;try{for(var c=__values$u(n.FINDER_PATTERN_SEQUENCES),f=c.next();!f.done;f=c.next()){var p=f.value;if(!(a.length>p.length)){for(var g=!0,y=0;y<a.length;y++)if(a[y].getFinderPattern().getValue()!==p[y]){g=!1;break}if(g)return!0}}}catch(b){s={error:b}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}return!1},n.prototype.storeRow=function(a,s){for(var l=0,c=!1,f=!1;l<this.rows.length;){var p=this.rows[l];if(p.getRowNumber()>a){f=p.isEquivalent(this.pairs);break}c=p.isEquivalent(this.pairs),l++}f||c||n.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new ExpandedRow(this.pairs,a,s)),this.removePartialRows(this.pairs,this.rows))},n.prototype.removePartialRows=function(a,s){var l,c,f,p,g,y;try{for(var b=__values$u(s),h=b.next();!h.done;h=b.next()){var d=h.value;if(d.getPairs().length!==a.length){var v=!0;try{for(var _=(f=void 0,__values$u(d.getPairs())),A=_.next();!A.done;A=_.next()){var I=A.value,R=!1;try{for(var P=(g=void 0,__values$u(a)),$=P.next();!$.done;$=P.next()){var M=$.value;if(ExpandedPair.equals(I,M)){R=!0;break}}}catch(B){g={error:B}}finally{try{$&&!$.done&&(y=P.return)&&y.call(P)}finally{if(g)throw g.error}}R||(v=!1)}}catch(B){f={error:B}}finally{try{A&&!A.done&&(p=_.return)&&p.call(_)}finally{if(f)throw f.error}}}}}catch(B){l={error:B}}finally{try{h&&!h.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}},n.isPartialRow=function(a,s){var l,c,f,p,g,y;try{for(var b=__values$u(s),h=b.next();!h.done;h=b.next()){var d=h.value,v=!0;try{for(var _=(f=void 0,__values$u(a)),A=_.next();!A.done;A=_.next()){var I=A.value,R=!1;try{for(var P=(g=void 0,__values$u(d.getPairs())),$=P.next();!$.done;$=P.next()){var M=$.value;if(I.equals(M)){R=!0;break}}}catch(B){g={error:B}}finally{try{$&&!$.done&&(y=P.return)&&y.call(P)}finally{if(g)throw g.error}}if(!R){v=!1;break}}}catch(B){f={error:B}}finally{try{A&&!A.done&&(p=_.return)&&p.call(_)}finally{if(f)throw f.error}}if(v)return!0}}catch(B){l={error:B}}finally{try{h&&!h.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}return!1},n.prototype.getRows=function(){return this.rows},n.constructResult=function(a){var s=BitArrayBuilder.buildBitArray(a),l=createDecoder(s),c=l.parseInformation(),f=a[0].getFinderPattern().getResultPoints(),p=a[a.length-1].getFinderPattern().getResultPoints(),g=[f[0],f[1],p[0],p[1]];return new Result(c,null,null,g,BarcodeFormat$1.RSS_EXPANDED,null)},n.prototype.checkChecksum=function(){var a=this.pairs.get(0),s=a.getLeftChar(),l=a.getRightChar();if(l===null)return!1;for(var c=l.getChecksumPortion(),f=2,p=1;p<this.pairs.size();++p){var g=this.pairs.get(p);c+=g.getLeftChar().getChecksumPortion(),f++;var y=g.getRightChar();y!=null&&(c+=y.getChecksumPortion(),f++)}c%=211;var b=211*(f-4)+c;return b===s.getValue()},n.getNextSecondBar=function(a,s){var l;return a.get(s)?(l=a.getNextUnset(s),l=a.getNextSet(l)):(l=a.getNextSet(s),l=a.getNextUnset(l)),l},n.prototype.retrieveNextPair=function(a,s,l){var c=s.length%2===0;this.startFromEven&&(c=!c);var f,p=!0,g=-1;do this.findNextPair(a,s,g),f=this.parseFoundFinderPattern(a,l,c),f===null?g=n.getNextSecondBar(a,this.startEnd[0]):p=!1;while(p);var y=this.decodeDataCharacter(a,f,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new NotFoundException;var b;try{b=this.decodeDataCharacter(a,f,c,!1)}catch(h){b=null,console.log(h)}return new ExpandedPair(y,b,f,!0)},n.prototype.isEmptyPair=function(a){return a.length===0},n.prototype.findNextPair=function(a,s,l){var c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;var f=a.getSize(),p;if(l>=0)p=l;else if(this.isEmptyPair(s))p=0;else{var g=s[s.length-1];p=g.getFinderPattern().getStartEnd()[1]}var y=s.length%2!==0;this.startFromEven&&(y=!y);for(var b=!1;p<f&&(b=!a.get(p),!!b);)p++;for(var h=0,d=p,v=p;v<f;v++)if(a.get(v)!==b)c[h]++;else{if(h===3){if(y&&n.reverseCounters(c),n.isFinderPattern(c)){this.startEnd[0]=d,this.startEnd[1]=v;return}y&&n.reverseCounters(c),d+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,h--}else h++;c[h]=1,b=!b}throw new NotFoundException},n.reverseCounters=function(a){for(var s=a.length,l=0;l<s/2;++l){var c=a[l];a[l]=a[s-l-1],a[s-l-1]=c}},n.prototype.parseFoundFinderPattern=function(a,s,l){var c,f,p;if(l){for(var g=this.startEnd[0]-1;g>=0&&!a.get(g);)g--;g++,c=this.startEnd[0]-g,f=g,p=this.startEnd[1]}else f=this.startEnd[0],p=a.getNextUnset(this.startEnd[1]+1),c=p-this.startEnd[1];var y=this.getDecodeFinderCounters();System.arraycopy(y,0,y,1,y.length-1),y[0]=c;var b;try{b=this.parseFinderValue(y,n.FINDER_PATTERNS)}catch{return null}return new FinderPattern$1(b,[f,p],f,p,s)},n.prototype.decodeDataCharacter=function(a,s,l,c){for(var f=this.getDataCharacterCounters(),p=0;p<f.length;p++)f[p]=0;if(c)n.recordPatternInReverse(a,s.getStartEnd()[0],f);else{n.recordPattern(a,s.getStartEnd()[1],f);for(var g=0,y=f.length-1;g<y;g++,y--){var b=f[g];f[g]=f[y],f[y]=b}}var h=17,d=MathUtils.sum(new Int32Array(f))/h,v=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(d-v)/v>.3)throw new NotFoundException;for(var _=this.getOddCounts(),A=this.getEvenCounts(),I=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors(),g=0;g<f.length;g++){var P=1*f[g]/d,$=P+.5;if($<1){if(P<.3)throw new NotFoundException;$=1}else if($>8){if(P>8.7)throw new NotFoundException;$=8}var M=g/2;(g&1)===0?(_[M]=$,I[M]=P-$):(A[M]=$,R[M]=P-$)}this.adjustOddEvenCounts(h);for(var B=4*s.getValue()+(l?0:2)+(c?0:1)-1,F=0,q=0,g=_.length-1;g>=0;g--){if(n.isNotA1left(s,l,c)){var H=n.WEIGHTS[B][2*g];q+=_[g]*H}F+=_[g]}for(var z=0,g=A.length-1;g>=0;g--)if(n.isNotA1left(s,l,c)){var H=n.WEIGHTS[B][2*g+1];z+=A[g]*H}var L=q+z;if((F&1)!==0||F>13||F<4)throw new NotFoundException;var ee=(13-F)/2,Z=n.SYMBOL_WIDEST[ee],V=9-Z,X=RSSUtils.getRSSvalue(_,Z,!0),Q=RSSUtils.getRSSvalue(A,V,!1),G=n.EVEN_TOTAL_SUBSET[ee],te=n.GSUM[ee],ue=X*G+Q+te;return new DataCharacter(ue,L)},n.isNotA1left=function(a,s,l){return!(a.getValue()===0&&s&&l)},n.prototype.adjustOddEvenCounts=function(a){var s=MathUtils.sum(new Int32Array(this.getOddCounts())),l=MathUtils.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1;s>13?f=!0:s<4&&(c=!0);var p=!1,g=!1;l>13?g=!0:l<4&&(p=!0);var y=s+l-a,b=(s&1)===1,h=(l&1)===0;if(y===1)if(b){if(h)throw new NotFoundException;f=!0}else{if(!h)throw new NotFoundException;g=!0}else if(y===-1)if(b){if(h)throw new NotFoundException;c=!0}else{if(!h)throw new NotFoundException;p=!0}else if(y===0){if(b){if(!h)throw new NotFoundException;s<l?(c=!0,g=!0):(f=!0,p=!0)}else if(h)throw new NotFoundException}else throw new NotFoundException;if(c){if(f)throw new NotFoundException;n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(g)throw new NotFoundException;n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},n.SYMBOL_WIDEST=[7,5,4,3,1],n.EVEN_TOTAL_SUBSET=[4,20,52,104,204],n.GSUM=[0,348,1388,2948,3988],n.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],n.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],n.FINDER_PAT_A=0,n.FINDER_PAT_B=1,n.FINDER_PAT_C=2,n.FINDER_PAT_D=3,n.FINDER_PAT_E=4,n.FINDER_PAT_F=5,n.FINDER_PATTERN_SEQUENCES=[[n.FINDER_PAT_A,n.FINDER_PAT_A],[n.FINDER_PAT_A,n.FINDER_PAT_B,n.FINDER_PAT_B],[n.FINDER_PAT_A,n.FINDER_PAT_C,n.FINDER_PAT_B,n.FINDER_PAT_D],[n.FINDER_PAT_A,n.FINDER_PAT_E,n.FINDER_PAT_B,n.FINDER_PAT_D,n.FINDER_PAT_C],[n.FINDER_PAT_A,n.FINDER_PAT_E,n.FINDER_PAT_B,n.FINDER_PAT_D,n.FINDER_PAT_D,n.FINDER_PAT_F],[n.FINDER_PAT_A,n.FINDER_PAT_E,n.FINDER_PAT_B,n.FINDER_PAT_D,n.FINDER_PAT_E,n.FINDER_PAT_F,n.FINDER_PAT_F],[n.FINDER_PAT_A,n.FINDER_PAT_A,n.FINDER_PAT_B,n.FINDER_PAT_B,n.FINDER_PAT_C,n.FINDER_PAT_C,n.FINDER_PAT_D,n.FINDER_PAT_D],[n.FINDER_PAT_A,n.FINDER_PAT_A,n.FINDER_PAT_B,n.FINDER_PAT_B,n.FINDER_PAT_C,n.FINDER_PAT_C,n.FINDER_PAT_D,n.FINDER_PAT_E,n.FINDER_PAT_E],[n.FINDER_PAT_A,n.FINDER_PAT_A,n.FINDER_PAT_B,n.FINDER_PAT_B,n.FINDER_PAT_C,n.FINDER_PAT_C,n.FINDER_PAT_D,n.FINDER_PAT_E,n.FINDER_PAT_F,n.FINDER_PAT_F],[n.FINDER_PAT_A,n.FINDER_PAT_A,n.FINDER_PAT_B,n.FINDER_PAT_B,n.FINDER_PAT_C,n.FINDER_PAT_D,n.FINDER_PAT_D,n.FINDER_PAT_E,n.FINDER_PAT_E,n.FINDER_PAT_F,n.FINDER_PAT_F]],n.MAX_PAIRS=11,n}(AbstractRSSReader),__extends$p=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),Pair=function(i){__extends$p(n,i);function n(a,s,l){var c=i.call(this,a,s)||this;return c.count=0,c.finderPattern=l,c}return n.prototype.getFinderPattern=function(){return this.finderPattern},n.prototype.getCount=function(){return this.count},n.prototype.incrementCount=function(){this.count++},n}(DataCharacter),__extends$o=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$t=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},RSS14Reader=function(i){__extends$o(n,i);function n(){var a=i!==null&&i.apply(this,arguments)||this;return a.possibleLeftPairs=[],a.possibleRightPairs=[],a}return n.prototype.decodeRow=function(a,s,l){var c,f,p,g,y=this.decodePair(s,!1,a,l);n.addOrTally(this.possibleLeftPairs,y),s.reverse();var b=this.decodePair(s,!0,a,l);n.addOrTally(this.possibleRightPairs,b),s.reverse();try{for(var h=__values$t(this.possibleLeftPairs),d=h.next();!d.done;d=h.next()){var v=d.value;if(v.getCount()>1)try{for(var _=(p=void 0,__values$t(this.possibleRightPairs)),A=_.next();!A.done;A=_.next()){var I=A.value;if(I.getCount()>1&&n.checkChecksum(v,I))return n.constructResult(v,I)}}catch(R){p={error:R}}finally{try{A&&!A.done&&(g=_.return)&&g.call(_)}finally{if(p)throw p.error}}}}catch(R){c={error:R}}finally{try{d&&!d.done&&(f=h.return)&&f.call(h)}finally{if(c)throw c.error}}throw new NotFoundException},n.addOrTally=function(a,s){var l,c;if(s!=null){var f=!1;try{for(var p=__values$t(a),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.getValue()===s.getValue()){y.incrementCount(),f=!0;break}}}catch(b){l={error:b}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}f||a.push(s)}},n.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},n.constructResult=function(a,s){for(var l=4537077*a.getValue()+s.getValue(),c=new String(l).toString(),f=new StringBuilder,p=13-c.length;p>0;p--)f.append("0");f.append(c);for(var g=0,p=0;p<13;p++){var y=f.charAt(p).charCodeAt(0)-48;g+=(p&1)===0?3*y:y}g=10-g%10,g===10&&(g=0),f.append(g.toString());var b=a.getFinderPattern().getResultPoints(),h=s.getFinderPattern().getResultPoints();return new Result(f.toString(),null,0,[b[0],b[1],h[0],h[1]],BarcodeFormat$1.RSS_14,new Date().getTime())},n.checkChecksum=function(a,s){var l=(a.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*a.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c},n.prototype.decodePair=function(a,s,l,c){try{var f=this.findFinderPattern(a,s),p=this.parseFoundFinderPattern(a,l,s,f),g=c==null?null:c.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);if(g!=null){var y=(f[0]+f[1])/2;s&&(y=a.getSize()-1-y),g.foundPossibleResultPoint(new ResultPoint(y,l))}var b=this.decodeDataCharacter(a,p,!0),h=this.decodeDataCharacter(a,p,!1);return new Pair(1597*b.getValue()+h.getValue(),b.getChecksumPortion()+4*h.getChecksumPortion(),p)}catch{return null}},n.prototype.decodeDataCharacter=function(a,s,l){for(var c=this.getDataCharacterCounters(),f=0;f<c.length;f++)c[f]=0;if(l)OneDReader.recordPatternInReverse(a,s.getStartEnd()[0],c);else{OneDReader.recordPattern(a,s.getStartEnd()[1]+1,c);for(var p=0,g=c.length-1;p<g;p++,g--){var y=c[p];c[p]=c[g],c[g]=y}}for(var b=l?16:15,h=MathUtils.sum(new Int32Array(c))/b,d=this.getOddCounts(),v=this.getEvenCounts(),_=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),p=0;p<c.length;p++){var I=c[p]/h,R=Math.floor(I+.5);R<1?R=1:R>8&&(R=8);var P=Math.floor(p/2);(p&1)===0?(d[P]=R,_[P]=I-R):(v[P]=R,A[P]=I-R)}this.adjustOddEvenCounts(l,b);for(var $=0,M=0,p=d.length-1;p>=0;p--)M*=9,M+=d[p],$+=d[p];for(var B=0,F=0,p=v.length-1;p>=0;p--)B*=9,B+=v[p],F+=v[p];var q=M+3*B;if(l){if(($&1)!==0||$>12||$<4)throw new NotFoundException;var H=(12-$)/2,z=n.OUTSIDE_ODD_WIDEST[H],L=9-z,ee=RSSUtils.getRSSvalue(d,z,!1),Z=RSSUtils.getRSSvalue(v,L,!0),V=n.OUTSIDE_EVEN_TOTAL_SUBSET[H],X=n.OUTSIDE_GSUM[H];return new DataCharacter(ee*V+Z+X,q)}else{if((F&1)!==0||F>10||F<4)throw new NotFoundException;var H=(10-F)/2,z=n.INSIDE_ODD_WIDEST[H],L=9-z,ee=RSSUtils.getRSSvalue(d,z,!0),Z=RSSUtils.getRSSvalue(v,L,!1),Q=n.INSIDE_ODD_TOTAL_SUBSET[H],X=n.INSIDE_GSUM[H];return new DataCharacter(Z*Q+ee+X,q)}},n.prototype.findFinderPattern=function(a,s){var l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=a.getSize(),f=!1,p=0;p<c&&(f=!a.get(p),s!==f);)p++;for(var g=0,y=p,b=p;b<c;b++)if(a.get(b)!==f)l[g]++;else{if(g===3){if(AbstractRSSReader.isFinderPattern(l))return[y,b];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,f=!f}throw new NotFoundException},n.prototype.parseFoundFinderPattern=function(a,s,l,c){for(var f=a.get(c[0]),p=c[0]-1;p>=0&&f!==a.get(p);)p--;p++;var g=c[0]-p,y=this.getDecodeFinderCounters(),b=new Int32Array(y.length);System.arraycopy(y,0,b,1,y.length-1),b[0]=g;var h=this.parseFinderValue(b,n.FINDER_PATTERNS),d=p,v=c[1];return l&&(d=a.getSize()-1-d,v=a.getSize()-1-v),new FinderPattern$1(h,[p,c[1]],d,v,s)},n.prototype.adjustOddEvenCounts=function(a,s){var l=MathUtils.sum(new Int32Array(this.getOddCounts())),c=MathUtils.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1,g=!1,y=!1;a?(l>12?p=!0:l<4&&(f=!0),c>12?y=!0:c<4&&(g=!0)):(l>11?p=!0:l<5&&(f=!0),c>10?y=!0:c<4&&(g=!0));var b=l+c-s,h=(l&1)===(a?1:0),d=(c&1)===1;if(b===1)if(h){if(d)throw new NotFoundException;p=!0}else{if(!d)throw new NotFoundException;y=!0}else if(b===-1)if(h){if(d)throw new NotFoundException;f=!0}else{if(!d)throw new NotFoundException;g=!0}else if(b===0){if(h){if(!d)throw new NotFoundException;l<c?(f=!0,y=!0):(p=!0,g=!0)}else if(d)throw new NotFoundException}else throw new NotFoundException;if(f){if(p)throw new NotFoundException;AbstractRSSReader.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&AbstractRSSReader.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new NotFoundException;AbstractRSSReader.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&AbstractRSSReader.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},n.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],n.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],n.OUTSIDE_GSUM=[0,161,961,2015,2715],n.INSIDE_GSUM=[0,336,1036,1516],n.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],n.INSIDE_ODD_WIDEST=[2,4,6,8],n.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],n}(AbstractRSSReader),__extends$n=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),MultiFormatOneDReader=function(i){__extends$n(n,i);function n(a){var s=i.call(this)||this;s.readers=[];var l=a?a.get(DecodeHintType$1.POSSIBLE_FORMATS):null,c=a&&a.get(DecodeHintType$1.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,f=a&&a.get(DecodeHintType$1.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return l&&((l.includes(BarcodeFormat$1.EAN_13)||l.includes(BarcodeFormat$1.UPC_A)||l.includes(BarcodeFormat$1.EAN_8)||l.includes(BarcodeFormat$1.UPC_E))&&s.readers.push(new MultiFormatUPCEANReader(a)),l.includes(BarcodeFormat$1.CODE_39)&&s.readers.push(new Code39Reader(c,f)),l.includes(BarcodeFormat$1.CODE_93)&&s.readers.push(new Code93Reader),l.includes(BarcodeFormat$1.CODE_128)&&s.readers.push(new Code128Reader),l.includes(BarcodeFormat$1.ITF)&&s.readers.push(new ITFReader),l.includes(BarcodeFormat$1.CODABAR)&&s.readers.push(new CodaBarReader),l.includes(BarcodeFormat$1.RSS_14)&&s.readers.push(new RSS14Reader),l.includes(BarcodeFormat$1.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),s.readers.push(new RSSExpandedReader))),s.readers.length===0&&(s.readers.push(new MultiFormatUPCEANReader(a)),s.readers.push(new Code39Reader),s.readers.push(new Code93Reader),s.readers.push(new MultiFormatUPCEANReader(a)),s.readers.push(new Code128Reader),s.readers.push(new ITFReader),s.readers.push(new RSS14Reader)),s}return n.prototype.decodeRow=function(a,s,l){for(var c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(a,s,l)}catch{}throw new NotFoundException},n.prototype.reset=function(){this.readers.forEach(function(a){return a.reset()})},n}(OneDReader),__extends$m=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();(function(i){__extends$m(n,i);function n(a,s){return a===void 0&&(a=500),i.call(this,new MultiFormatOneDReader(s),a,s)||this}return n})(BrowserCodeReader);var __values$s=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ECBlocks$1=function(){function i(n,a,s){this.ecCodewords=n,this.ecBlocks=[a],s&&this.ecBlocks.push(s)}return i.prototype.getECCodewords=function(){return this.ecCodewords},i.prototype.getECBlocks=function(){return this.ecBlocks},i}(),ECB$1=function(){function i(n,a){this.count=n,this.dataCodewords=a}return i.prototype.getCount=function(){return this.count},i.prototype.getDataCodewords=function(){return this.dataCodewords},i}(),Version$1=function(){function i(n,a,s,l,c,f){var p,g;this.versionNumber=n,this.symbolSizeRows=a,this.symbolSizeColumns=s,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=f;var y=0,b=f.getECCodewords(),h=f.getECBlocks();try{for(var d=__values$s(h),v=d.next();!v.done;v=d.next()){var _=v.value;y+=_.getCount()*(_.getDataCodewords()+b)}}catch(A){p={error:A}}finally{try{v&&!v.done&&(g=d.return)&&g.call(d)}finally{if(p)throw p.error}}this.totalCodewords=y}return i.prototype.getVersionNumber=function(){return this.versionNumber},i.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},i.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},i.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},i.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},i.prototype.getTotalCodewords=function(){return this.totalCodewords},i.prototype.getECBlocks=function(){return this.ecBlocks},i.getVersionForDimensions=function(n,a){var s,l;if((n&1)!==0||(a&1)!==0)throw new FormatException;try{for(var c=__values$s(i.VERSIONS),f=c.next();!f.done;f=c.next()){var p=f.value;if(p.symbolSizeRows===n&&p.symbolSizeColumns===a)return p}}catch(g){s={error:g}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}throw new FormatException},i.prototype.toString=function(){return""+this.versionNumber},i.buildVersions=function(){return[new i(1,10,10,8,8,new ECBlocks$1(5,new ECB$1(1,3))),new i(2,12,12,10,10,new ECBlocks$1(7,new ECB$1(1,5))),new i(3,14,14,12,12,new ECBlocks$1(10,new ECB$1(1,8))),new i(4,16,16,14,14,new ECBlocks$1(12,new ECB$1(1,12))),new i(5,18,18,16,16,new ECBlocks$1(14,new ECB$1(1,18))),new i(6,20,20,18,18,new ECBlocks$1(18,new ECB$1(1,22))),new i(7,22,22,20,20,new ECBlocks$1(20,new ECB$1(1,30))),new i(8,24,24,22,22,new ECBlocks$1(24,new ECB$1(1,36))),new i(9,26,26,24,24,new ECBlocks$1(28,new ECB$1(1,44))),new i(10,32,32,14,14,new ECBlocks$1(36,new ECB$1(1,62))),new i(11,36,36,16,16,new ECBlocks$1(42,new ECB$1(1,86))),new i(12,40,40,18,18,new ECBlocks$1(48,new ECB$1(1,114))),new i(13,44,44,20,20,new ECBlocks$1(56,new ECB$1(1,144))),new i(14,48,48,22,22,new ECBlocks$1(68,new ECB$1(1,174))),new i(15,52,52,24,24,new ECBlocks$1(42,new ECB$1(2,102))),new i(16,64,64,14,14,new ECBlocks$1(56,new ECB$1(2,140))),new i(17,72,72,16,16,new ECBlocks$1(36,new ECB$1(4,92))),new i(18,80,80,18,18,new ECBlocks$1(48,new ECB$1(4,114))),new i(19,88,88,20,20,new ECBlocks$1(56,new ECB$1(4,144))),new i(20,96,96,22,22,new ECBlocks$1(68,new ECB$1(4,174))),new i(21,104,104,24,24,new ECBlocks$1(56,new ECB$1(6,136))),new i(22,120,120,18,18,new ECBlocks$1(68,new ECB$1(6,175))),new i(23,132,132,20,20,new ECBlocks$1(62,new ECB$1(8,163))),new i(24,144,144,22,22,new ECBlocks$1(62,new ECB$1(8,156),new ECB$1(2,155))),new i(25,8,18,6,16,new ECBlocks$1(7,new ECB$1(1,5))),new i(26,8,32,6,14,new ECBlocks$1(11,new ECB$1(1,10))),new i(27,12,26,10,24,new ECBlocks$1(14,new ECB$1(1,16))),new i(28,12,36,10,16,new ECBlocks$1(18,new ECB$1(1,22))),new i(29,16,36,14,16,new ECBlocks$1(24,new ECB$1(1,32))),new i(30,16,48,14,22,new ECBlocks$1(28,new ECB$1(1,49)))]},i.VERSIONS=i.buildVersions(),i}(),BitMatrixParser$1=function(){function i(n){var a=n.getHeight();if(a<8||a>144||(a&1)!==0)throw new FormatException;this.version=i.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new BitMatrix(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return i.prototype.getVersion=function(){return this.version},i.readVersion=function(n){var a=n.getHeight(),s=n.getWidth();return Version$1.getVersionForDimensions(a,s)},i.prototype.readCodewords=function(){var n=new Int8Array(this.version.getTotalCodewords()),a=0,s=4,l=0,c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth(),p=!1,g=!1,y=!1,b=!1;do if(s===c&&l===0&&!p)n[a++]=this.readCorner1(c,f)&255,s-=2,l+=2,p=!0;else if(s===c-2&&l===0&&(f&3)!==0&&!g)n[a++]=this.readCorner2(c,f)&255,s-=2,l+=2,g=!0;else if(s===c+4&&l===2&&(f&7)===0&&!y)n[a++]=this.readCorner3(c,f)&255,s-=2,l+=2,y=!0;else if(s===c-2&&l===0&&(f&7)===4&&!b)n[a++]=this.readCorner4(c,f)&255,s-=2,l+=2,b=!0;else{do s<c&&l>=0&&!this.readMappingMatrix.get(l,s)&&(n[a++]=this.readUtah(s,l,c,f)&255),s-=2,l+=2;while(s>=0&&l<f);s+=1,l+=3;do s>=0&&l<f&&!this.readMappingMatrix.get(l,s)&&(n[a++]=this.readUtah(s,l,c,f)&255),s+=2,l-=2;while(s<c&&l>=0);s+=3,l+=1}while(s<c||l<f);if(a!==this.version.getTotalCodewords())throw new FormatException;return n},i.prototype.readModule=function(n,a,s,l){return n<0&&(n+=s,a+=4-(s+4&7)),a<0&&(a+=l,n+=4-(l+4&7)),this.readMappingMatrix.set(a,n),this.mappingBitMatrix.get(a,n)},i.prototype.readUtah=function(n,a,s,l){var c=0;return this.readModule(n-2,a-2,s,l)&&(c|=1),c<<=1,this.readModule(n-2,a-1,s,l)&&(c|=1),c<<=1,this.readModule(n-1,a-2,s,l)&&(c|=1),c<<=1,this.readModule(n-1,a-1,s,l)&&(c|=1),c<<=1,this.readModule(n-1,a,s,l)&&(c|=1),c<<=1,this.readModule(n,a-2,s,l)&&(c|=1),c<<=1,this.readModule(n,a-1,s,l)&&(c|=1),c<<=1,this.readModule(n,a,s,l)&&(c|=1),c},i.prototype.readCorner1=function(n,a){var s=0;return this.readModule(n-1,0,n,a)&&(s|=1),s<<=1,this.readModule(n-1,1,n,a)&&(s|=1),s<<=1,this.readModule(n-1,2,n,a)&&(s|=1),s<<=1,this.readModule(0,a-2,n,a)&&(s|=1),s<<=1,this.readModule(0,a-1,n,a)&&(s|=1),s<<=1,this.readModule(1,a-1,n,a)&&(s|=1),s<<=1,this.readModule(2,a-1,n,a)&&(s|=1),s<<=1,this.readModule(3,a-1,n,a)&&(s|=1),s},i.prototype.readCorner2=function(n,a){var s=0;return this.readModule(n-3,0,n,a)&&(s|=1),s<<=1,this.readModule(n-2,0,n,a)&&(s|=1),s<<=1,this.readModule(n-1,0,n,a)&&(s|=1),s<<=1,this.readModule(0,a-4,n,a)&&(s|=1),s<<=1,this.readModule(0,a-3,n,a)&&(s|=1),s<<=1,this.readModule(0,a-2,n,a)&&(s|=1),s<<=1,this.readModule(0,a-1,n,a)&&(s|=1),s<<=1,this.readModule(1,a-1,n,a)&&(s|=1),s},i.prototype.readCorner3=function(n,a){var s=0;return this.readModule(n-1,0,n,a)&&(s|=1),s<<=1,this.readModule(n-1,a-1,n,a)&&(s|=1),s<<=1,this.readModule(0,a-3,n,a)&&(s|=1),s<<=1,this.readModule(0,a-2,n,a)&&(s|=1),s<<=1,this.readModule(0,a-1,n,a)&&(s|=1),s<<=1,this.readModule(1,a-3,n,a)&&(s|=1),s<<=1,this.readModule(1,a-2,n,a)&&(s|=1),s<<=1,this.readModule(1,a-1,n,a)&&(s|=1),s},i.prototype.readCorner4=function(n,a){var s=0;return this.readModule(n-3,0,n,a)&&(s|=1),s<<=1,this.readModule(n-2,0,n,a)&&(s|=1),s<<=1,this.readModule(n-1,0,n,a)&&(s|=1),s<<=1,this.readModule(0,a-2,n,a)&&(s|=1),s<<=1,this.readModule(0,a-1,n,a)&&(s|=1),s<<=1,this.readModule(1,a-1,n,a)&&(s|=1),s<<=1,this.readModule(2,a-1,n,a)&&(s|=1),s<<=1,this.readModule(3,a-1,n,a)&&(s|=1),s},i.prototype.extractDataRegion=function(n){var a=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==a)throw new IllegalArgumentException("Dimension of bitMatrix must match the version size");for(var l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=a/l|0,p=s/c|0,g=f*l,y=p*c,b=new BitMatrix(y,g),h=0;h<f;++h)for(var d=h*l,v=0;v<p;++v)for(var _=v*c,A=0;A<l;++A)for(var I=h*(l+2)+1+A,R=d+A,P=0;P<c;++P){var $=v*(c+2)+1+P;if(n.get($,I)){var M=_+P;b.set(M,R)}}return b},i}(),__values$r=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},DataBlock$1=function(){function i(n,a){this.numDataCodewords=n,this.codewords=a}return i.getDataBlocks=function(n,a){var s,l,c,f,p=a.getECBlocks(),g=0,y=p.getECBlocks();try{for(var b=__values$r(y),h=b.next();!h.done;h=b.next()){var d=h.value;g+=d.getCount()}}catch(X){s={error:X}}finally{try{h&&!h.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}var v=new Array(g),_=0;try{for(var A=__values$r(y),I=A.next();!I.done;I=A.next())for(var d=I.value,R=0;R<d.getCount();R++){var P=d.getDataCodewords(),$=p.getECCodewords()+P;v[_++]=new i(P,new Uint8Array($))}}catch(X){c={error:X}}finally{try{I&&!I.done&&(f=A.return)&&f.call(A)}finally{if(c)throw c.error}}for(var M=v[0].codewords.length,B=M-p.getECCodewords(),F=B-1,q=0,R=0;R<F;R++)for(var H=0;H<_;H++)v[H].codewords[R]=n[q++];for(var z=a.getVersionNumber()===24,L=z?8:_,H=0;H<L;H++)v[H].codewords[B-1]=n[q++];for(var ee=v[0].codewords.length,R=B;R<ee;R++)for(var H=0;H<_;H++){var Z=z?(H+8)%_:H,V=z&&Z>7?R-1:R;v[Z].codewords[V]=n[q++]}if(q!==n.length)throw new IllegalArgumentException;return v},i.prototype.getNumDataCodewords=function(){return this.numDataCodewords},i.prototype.getCodewords=function(){return this.codewords},i}(),BitSource=function(){function i(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}return i.prototype.getBitOffset=function(){return this.bitOffset},i.prototype.getByteOffset=function(){return this.byteOffset},i.prototype.readBits=function(n){if(n<1||n>32||n>this.available())throw new IllegalArgumentException(""+n);var a=0,s=this.bitOffset,l=this.byteOffset,c=this.bytes;if(s>0){var f=8-s,p=n<f?n:f,g=f-p,y=255>>8-p<<g;a=(c[l]&y)>>g,n-=p,s+=p,s===8&&(s=0,l++)}if(n>0){for(;n>=8;)a=a<<8|c[l]&255,l++,n-=8;if(n>0){var g=8-n,y=255>>g<<g;a=a<<n|(c[l]&y)>>g,s+=n}}return this.bitOffset=s,this.byteOffset=l,a},i.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},i}(),Mode$3;(function(i){i[i.PAD_ENCODE=0]="PAD_ENCODE",i[i.ASCII_ENCODE=1]="ASCII_ENCODE",i[i.C40_ENCODE=2]="C40_ENCODE",i[i.TEXT_ENCODE=3]="TEXT_ENCODE",i[i.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",i[i.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",i[i.BASE256_ENCODE=6]="BASE256_ENCODE"})(Mode$3||(Mode$3={}));var DecodedBitStreamParser$2=function(){function i(){}return i.decode=function(n){var a=new BitSource(n),s=new StringBuilder,l=new StringBuilder,c=new Array,f=Mode$3.ASCII_ENCODE;do if(f===Mode$3.ASCII_ENCODE)f=this.decodeAsciiSegment(a,s,l);else{switch(f){case Mode$3.C40_ENCODE:this.decodeC40Segment(a,s);break;case Mode$3.TEXT_ENCODE:this.decodeTextSegment(a,s);break;case Mode$3.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,s);break;case Mode$3.EDIFACT_ENCODE:this.decodeEdifactSegment(a,s);break;case Mode$3.BASE256_ENCODE:this.decodeBase256Segment(a,s,c);break;default:throw new FormatException}f=Mode$3.ASCII_ENCODE}while(f!==Mode$3.PAD_ENCODE&&a.available()>0);return l.length()>0&&s.append(l.toString()),new DecoderResult(n,s.toString(),c.length===0?null:c,null)},i.decodeAsciiSegment=function(n,a,s){var l=!1;do{var c=n.readBits(8);if(c===0)throw new FormatException;if(c<=128)return l&&(c+=128),a.append(String.fromCharCode(c-1)),Mode$3.ASCII_ENCODE;if(c===129)return Mode$3.PAD_ENCODE;if(c<=229){var f=c-130;f<10&&a.append("0"),a.append(""+f)}else switch(c){case 230:return Mode$3.C40_ENCODE;case 231:return Mode$3.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:a.append("[)>05"),s.insert(0,"");break;case 237:a.append("[)>06"),s.insert(0,"");break;case 238:return Mode$3.ANSIX12_ENCODE;case 239:return Mode$3.TEXT_ENCODE;case 240:return Mode$3.EDIFACT_ENCODE;case 241:break;default:if(c!==254||n.available()!==0)throw new FormatException;break}}while(n.available()>0);return Mode$3.ASCII_ENCODE},i.decodeC40Segment=function(n,a){var s=!1,l=[],c=0;do{if(n.available()===8)return;var f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),l);for(var p=0;p<3;p++){var g=l[p];switch(c){case 0:if(g<3)c=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){var y=this.C40_BASIC_SET_CHARS[g];s?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):a.append(y)}else throw new FormatException;break;case 1:s?(a.append(String.fromCharCode(g+128)),s=!1):a.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){var y=this.C40_SHIFT2_SET_CHARS[g];s?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):a.append(y)}else switch(g){case 27:a.append("");break;case 30:s=!0;break;default:throw new FormatException}c=0;break;case 3:s?(a.append(String.fromCharCode(g+224)),s=!1):a.append(String.fromCharCode(g+96)),c=0;break;default:throw new FormatException}}}while(n.available()>0)},i.decodeTextSegment=function(n,a){var s=!1,l=[],c=0;do{if(n.available()===8)return;var f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),l);for(var p=0;p<3;p++){var g=l[p];switch(c){case 0:if(g<3)c=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){var y=this.TEXT_BASIC_SET_CHARS[g];s?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):a.append(y)}else throw new FormatException;break;case 1:s?(a.append(String.fromCharCode(g+128)),s=!1):a.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){var y=this.TEXT_SHIFT2_SET_CHARS[g];s?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):a.append(y)}else switch(g){case 27:a.append("");break;case 30:s=!0;break;default:throw new FormatException}c=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){var y=this.TEXT_SHIFT3_SET_CHARS[g];s?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),s=!1):a.append(y),c=0}else throw new FormatException;break;default:throw new FormatException}}}while(n.available()>0)},i.decodeAnsiX12Segment=function(n,a){var s=[];do{if(n.available()===8)return;var l=n.readBits(8);if(l===254)return;this.parseTwoBytes(l,n.readBits(8),s);for(var c=0;c<3;c++){var f=s[c];switch(f){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(f<14)a.append(String.fromCharCode(f+44));else if(f<40)a.append(String.fromCharCode(f+51));else throw new FormatException;break}}}while(n.available()>0)},i.parseTwoBytes=function(n,a,s){var l=(n<<8)+a-1,c=Math.floor(l/1600);s[0]=c,l-=c*1600,c=Math.floor(l/40),s[1]=c,s[2]=l-c*40},i.decodeEdifactSegment=function(n,a){do{if(n.available()<=16)return;for(var s=0;s<4;s++){var l=n.readBits(6);if(l===31){var c=8-n.getBitOffset();c!==8&&n.readBits(c);return}(l&32)===0&&(l|=64),a.append(String.fromCharCode(l))}}while(n.available()>0)},i.decodeBase256Segment=function(n,a,s){var l=1+n.getByteOffset(),c=this.unrandomize255State(n.readBits(8),l++),f;if(c===0?f=n.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(n.readBits(8),l++),f<0)throw new FormatException;for(var p=new Uint8Array(f),g=0;g<f;g++){if(n.available()<8)throw new FormatException;p[g]=this.unrandomize255State(n.readBits(8),l++)}s.push(p);try{a.append(StringEncoding.decode(p,StringUtils.ISO88591))}catch(y){throw new IllegalStateException("Platform does not support required encoding: "+y.message)}},i.unrandomize255State=function(n,a){var s=149*a%255+1,l=n-s;return l>=0?l:l+256},i.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],i.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i.TEXT_SHIFT2_SET_CHARS=i.C40_SHIFT2_SET_CHARS,i.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],i}(),__values$q=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Decoder$1=function(){function i(){this.rsDecoder=new ReedSolomonDecoder(GenericGF.DATA_MATRIX_FIELD_256)}return i.prototype.decode=function(n){var a,s,l=new BitMatrixParser$1(n),c=l.getVersion(),f=l.readCodewords(),p=DataBlock$1.getDataBlocks(f,c),g=0;try{for(var y=__values$q(p),b=y.next();!b.done;b=y.next()){var h=b.value;g+=h.getNumDataCodewords()}}catch($){a={error:$}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}for(var d=new Uint8Array(g),v=p.length,_=0;_<v;_++){var A=p[_],I=A.getCodewords(),R=A.getNumDataCodewords();this.correctErrors(I,R);for(var P=0;P<R;P++)d[P*v+_]=I[P]}return DecodedBitStreamParser$2.decode(d)},i.prototype.correctErrors=function(n,a){var s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-a)}catch{throw new ChecksumException}for(var l=0;l<a;l++)n[l]=s[l]},i}(),Detector$2=function(){function i(n){this.image=n,this.rectangleDetector=new WhiteRectangleDetector(this.image)}return i.prototype.detect=function(){var n=this.rectangleDetector.detect(),a=this.detectSolid1(n);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new NotFoundException;a=this.shiftToModuleCenter(a);var s=a[0],l=a[1],c=a[2],f=a[3],p=this.transitionsBetween(s,f)+1,g=this.transitionsBetween(c,f)+1;(p&1)===1&&(p+=1),(g&1)===1&&(g+=1),4*p<7*g&&4*g<7*p&&(p=g=Math.max(p,g));var y=i.sampleGrid(this.image,s,l,c,f,p,g);return new DetectorResult(y,[s,l,c,f])},i.shiftPoint=function(n,a,s){var l=(a.getX()-n.getX())/(s+1),c=(a.getY()-n.getY())/(s+1);return new ResultPoint(n.getX()+l,n.getY()+c)},i.moveAway=function(n,a,s){var l=n.getX(),c=n.getY();return l<a?l-=1:l+=1,c<s?c-=1:c+=1,new ResultPoint(l,c)},i.prototype.detectSolid1=function(n){var a=n[0],s=n[1],l=n[3],c=n[2],f=this.transitionsBetween(a,s),p=this.transitionsBetween(s,l),g=this.transitionsBetween(l,c),y=this.transitionsBetween(c,a),b=f,h=[c,a,s,l];return b>p&&(b=p,h[0]=a,h[1]=s,h[2]=l,h[3]=c),b>g&&(b=g,h[0]=s,h[1]=l,h[2]=c,h[3]=a),b>y&&(h[0]=l,h[1]=c,h[2]=a,h[3]=s),h},i.prototype.detectSolid2=function(n){var a=n[0],s=n[1],l=n[2],c=n[3],f=this.transitionsBetween(a,c),p=i.shiftPoint(s,l,(f+1)*4),g=i.shiftPoint(l,s,(f+1)*4),y=this.transitionsBetween(p,a),b=this.transitionsBetween(g,c);return y<b?(n[0]=a,n[1]=s,n[2]=l,n[3]=c):(n[0]=s,n[1]=l,n[2]=c,n[3]=a),n},i.prototype.correctTopRight=function(n){var a=n[0],s=n[1],l=n[2],c=n[3],f=this.transitionsBetween(a,c),p=this.transitionsBetween(s,c),g=i.shiftPoint(a,s,(p+1)*4),y=i.shiftPoint(l,s,(f+1)*4);f=this.transitionsBetween(g,c),p=this.transitionsBetween(y,c);var b=new ResultPoint(c.getX()+(l.getX()-s.getX())/(f+1),c.getY()+(l.getY()-s.getY())/(f+1)),h=new ResultPoint(c.getX()+(a.getX()-s.getX())/(p+1),c.getY()+(a.getY()-s.getY())/(p+1));if(!this.isValid(b))return this.isValid(h)?h:null;if(!this.isValid(h))return b;var d=this.transitionsBetween(g,b)+this.transitionsBetween(y,b),v=this.transitionsBetween(g,h)+this.transitionsBetween(y,h);return d>v?b:h},i.prototype.shiftToModuleCenter=function(n){var a=n[0],s=n[1],l=n[2],c=n[3],f=this.transitionsBetween(a,c)+1,p=this.transitionsBetween(l,c)+1,g=i.shiftPoint(a,s,p*4),y=i.shiftPoint(l,s,f*4);f=this.transitionsBetween(g,c)+1,p=this.transitionsBetween(y,c)+1,(f&1)===1&&(f+=1),(p&1)===1&&(p+=1);var b=(a.getX()+s.getX()+l.getX()+c.getX())/4,h=(a.getY()+s.getY()+l.getY()+c.getY())/4;a=i.moveAway(a,b,h),s=i.moveAway(s,b,h),l=i.moveAway(l,b,h),c=i.moveAway(c,b,h);var d,v;return g=i.shiftPoint(a,s,p*4),g=i.shiftPoint(g,c,f*4),d=i.shiftPoint(s,a,p*4),d=i.shiftPoint(d,l,f*4),y=i.shiftPoint(l,c,p*4),y=i.shiftPoint(y,s,f*4),v=i.shiftPoint(c,l,p*4),v=i.shiftPoint(v,a,f*4),[g,d,y,v]},i.prototype.isValid=function(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()},i.sampleGrid=function(n,a,s,l,c,f,p){var g=GridSamplerInstance.getInstance();return g.sampleGrid(n,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,a.getX(),a.getY(),c.getX(),c.getY(),l.getX(),l.getY(),s.getX(),s.getY())},i.prototype.transitionsBetween=function(n,a){var s=Math.trunc(n.getX()),l=Math.trunc(n.getY()),c=Math.trunc(a.getX()),f=Math.trunc(a.getY()),p=Math.abs(f-l)>Math.abs(c-s);if(p){var g=s;s=l,l=g,g=c,c=f,f=g}for(var y=Math.abs(c-s),b=Math.abs(f-l),h=-y/2,d=l<f?1:-1,v=s<c?1:-1,_=0,A=this.image.get(p?l:s,p?s:l),I=s,R=l;I!==c;I+=v){var P=this.image.get(p?R:I,p?I:R);if(P!==A&&(_++,A=P),h+=b,h>0){if(R===f)break;R+=d,h-=y}}return _},i}(),DataMatrixReader=function(){function i(){this.decoder=new Decoder$1}return i.prototype.decode=function(n,a){a===void 0&&(a=null);var s,l;if(a!=null&&a.has(DecodeHintType$1.PURE_BARCODE)){var c=i.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(c),l=i.NO_POINTS}else{var f=new Detector$2(n.getBlackMatrix()).detect();s=this.decoder.decode(f.getBits()),l=f.getPoints()}var p=s.getRawBytes(),g=new Result(s.getText(),p,8*p.length,l,BarcodeFormat$1.DATA_MATRIX,System.currentTimeMillis()),y=s.getByteSegments();y!=null&&g.putMetadata(ResultMetadataType$1.BYTE_SEGMENTS,y);var b=s.getECLevel();return b!=null&&g.putMetadata(ResultMetadataType$1.ERROR_CORRECTION_LEVEL,b),g},i.prototype.reset=function(){},i.extractPureBits=function(n){var a=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(a==null||s==null)throw new NotFoundException;var l=this.moduleSize(a,n),c=a[1],f=s[1],p=a[0],g=s[0],y=(g-p+1)/l,b=(f-c+1)/l;if(y<=0||b<=0)throw new NotFoundException;var h=l/2;c+=h,p+=h;for(var d=new BitMatrix(y,b),v=0;v<b;v++)for(var _=c+v*l,A=0;A<y;A++)n.get(p+A*l,_)&&d.set(A,v);return d},i.moduleSize=function(n,a){for(var s=a.getWidth(),l=n[0],c=n[1];l<s&&a.get(l,c);)l++;if(l===s)throw new NotFoundException;var f=l-n[0];if(f===0)throw new NotFoundException;return f},i.NO_POINTS=[],i}(),__extends$l=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();(function(i){__extends$l(n,i);function n(a){return a===void 0&&(a=500),i.call(this,new DataMatrixReader,a)||this}return n})(BrowserCodeReader);var ErrorCorrectionLevelValues;(function(i){i[i.L=0]="L",i[i.M=1]="M",i[i.Q=2]="Q",i[i.H=3]="H"})(ErrorCorrectionLevelValues||(ErrorCorrectionLevelValues={}));var ErrorCorrectionLevel=function(){function i(n,a,s){this.value=n,this.stringValue=a,this.bits=s,i.FOR_BITS.set(s,this),i.FOR_VALUE.set(n,this)}return i.prototype.getValue=function(){return this.value},i.prototype.getBits=function(){return this.bits},i.fromString=function(n){switch(n){case"L":return i.L;case"M":return i.M;case"Q":return i.Q;case"H":return i.H;default:throw new ArgumentException(n+"not available")}},i.prototype.toString=function(){return this.stringValue},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;return this.value===a.value},i.forBits=function(n){if(n<0||n>=i.FOR_BITS.size)throw new IllegalArgumentException;return i.FOR_BITS.get(n)},i.FOR_BITS=new Map,i.FOR_VALUE=new Map,i.L=new i(ErrorCorrectionLevelValues.L,"L",1),i.M=new i(ErrorCorrectionLevelValues.M,"M",0),i.Q=new i(ErrorCorrectionLevelValues.Q,"Q",3),i.H=new i(ErrorCorrectionLevelValues.H,"H",2),i}(),__values$p=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},FormatInformation=function(){function i(n){this.errorCorrectionLevel=ErrorCorrectionLevel.forBits(n>>3&3),this.dataMask=n&7}return i.numBitsDiffering=function(n,a){return Integer.bitCount(n^a)},i.decodeFormatInformation=function(n,a){var s=i.doDecodeFormatInformation(n,a);return s!==null?s:i.doDecodeFormatInformation(n^i.FORMAT_INFO_MASK_QR,a^i.FORMAT_INFO_MASK_QR)},i.doDecodeFormatInformation=function(n,a){var s,l,c=Number.MAX_SAFE_INTEGER,f=0;try{for(var p=__values$p(i.FORMAT_INFO_DECODE_LOOKUP),g=p.next();!g.done;g=p.next()){var y=g.value,b=y[0];if(b===n||b===a)return new i(y[1]);var h=i.numBitsDiffering(n,b);h<c&&(f=y[1],c=h),n!==a&&(h=i.numBitsDiffering(a,b),h<c&&(f=y[1],c=h))}}catch(d){s={error:d}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return c<=3?new i(f):null},i.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},i.prototype.getDataMask=function(){return this.dataMask},i.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask},i.FORMAT_INFO_MASK_QR=21522,i.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],i}(),__values$o=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ECBlocks=function(){function i(n){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];this.ecCodewordsPerBlock=n,this.ecBlocks=a}return i.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},i.prototype.getNumBlocks=function(){var n,a,s=0,l=this.ecBlocks;try{for(var c=__values$o(l),f=c.next();!f.done;f=c.next()){var p=f.value;s+=p.getCount()}}catch(g){n={error:g}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return s},i.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},i.prototype.getECBlocks=function(){return this.ecBlocks},i}(),ECB=function(){function i(n,a){this.count=n,this.dataCodewords=a}return i.prototype.getCount=function(){return this.count},i.prototype.getDataCodewords=function(){return this.dataCodewords},i}(),__values$n=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Version=function(){function i(n,a){for(var s,l,c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];this.versionNumber=n,this.alignmentPatternCenters=a,this.ecBlocks=c;var p=0,g=c[0].getECCodewordsPerBlock(),y=c[0].getECBlocks();try{for(var b=__values$n(y),h=b.next();!h.done;h=b.next()){var d=h.value;p+=d.getCount()*(d.getDataCodewords()+g)}}catch(v){s={error:v}}finally{try{h&&!h.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}this.totalCodewords=p}return i.prototype.getVersionNumber=function(){return this.versionNumber},i.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},i.prototype.getTotalCodewords=function(){return this.totalCodewords},i.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},i.prototype.getECBlocksForLevel=function(n){return this.ecBlocks[n.getValue()]},i.getProvisionalVersionForDimension=function(n){if(n%4!==1)throw new FormatException;try{return this.getVersionForNumber((n-17)/4)}catch{throw new FormatException}},i.getVersionForNumber=function(n){if(n<1||n>40)throw new IllegalArgumentException;return i.VERSIONS[n-1]},i.decodeVersionInformation=function(n){for(var a=Number.MAX_SAFE_INTEGER,s=0,l=0;l<i.VERSION_DECODE_INFO.length;l++){var c=i.VERSION_DECODE_INFO[l];if(c===n)return i.getVersionForNumber(l+7);var f=FormatInformation.numBitsDiffering(n,c);f<a&&(s=l+7,a=f)}return a<=3?i.getVersionForNumber(s):null},i.prototype.buildFunctionPattern=function(){var n=this.getDimensionForVersion(),a=new BitMatrix(n);a.setRegion(0,0,9,9),a.setRegion(n-8,0,8,9),a.setRegion(0,n-8,9,8);for(var s=this.alignmentPatternCenters.length,l=0;l<s;l++)for(var c=this.alignmentPatternCenters[l]-2,f=0;f<s;f++)l===0&&(f===0||f===s-1)||l===s-1&&f===0||a.setRegion(this.alignmentPatternCenters[f]-2,c,5,5);return a.setRegion(6,9,1,n-17),a.setRegion(9,6,n-17,1),this.versionNumber>6&&(a.setRegion(n-11,0,3,6),a.setRegion(0,n-11,6,3)),a},i.prototype.toString=function(){return""+this.versionNumber},i.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),i.VERSIONS=[new i(1,new Int32Array(0),new ECBlocks(7,new ECB(1,19)),new ECBlocks(10,new ECB(1,16)),new ECBlocks(13,new ECB(1,13)),new ECBlocks(17,new ECB(1,9))),new i(2,Int32Array.from([6,18]),new ECBlocks(10,new ECB(1,34)),new ECBlocks(16,new ECB(1,28)),new ECBlocks(22,new ECB(1,22)),new ECBlocks(28,new ECB(1,16))),new i(3,Int32Array.from([6,22]),new ECBlocks(15,new ECB(1,55)),new ECBlocks(26,new ECB(1,44)),new ECBlocks(18,new ECB(2,17)),new ECBlocks(22,new ECB(2,13))),new i(4,Int32Array.from([6,26]),new ECBlocks(20,new ECB(1,80)),new ECBlocks(18,new ECB(2,32)),new ECBlocks(26,new ECB(2,24)),new ECBlocks(16,new ECB(4,9))),new i(5,Int32Array.from([6,30]),new ECBlocks(26,new ECB(1,108)),new ECBlocks(24,new ECB(2,43)),new ECBlocks(18,new ECB(2,15),new ECB(2,16)),new ECBlocks(22,new ECB(2,11),new ECB(2,12))),new i(6,Int32Array.from([6,34]),new ECBlocks(18,new ECB(2,68)),new ECBlocks(16,new ECB(4,27)),new ECBlocks(24,new ECB(4,19)),new ECBlocks(28,new ECB(4,15))),new i(7,Int32Array.from([6,22,38]),new ECBlocks(20,new ECB(2,78)),new ECBlocks(18,new ECB(4,31)),new ECBlocks(18,new ECB(2,14),new ECB(4,15)),new ECBlocks(26,new ECB(4,13),new ECB(1,14))),new i(8,Int32Array.from([6,24,42]),new ECBlocks(24,new ECB(2,97)),new ECBlocks(22,new ECB(2,38),new ECB(2,39)),new ECBlocks(22,new ECB(4,18),new ECB(2,19)),new ECBlocks(26,new ECB(4,14),new ECB(2,15))),new i(9,Int32Array.from([6,26,46]),new ECBlocks(30,new ECB(2,116)),new ECBlocks(22,new ECB(3,36),new ECB(2,37)),new ECBlocks(20,new ECB(4,16),new ECB(4,17)),new ECBlocks(24,new ECB(4,12),new ECB(4,13))),new i(10,Int32Array.from([6,28,50]),new ECBlocks(18,new ECB(2,68),new ECB(2,69)),new ECBlocks(26,new ECB(4,43),new ECB(1,44)),new ECBlocks(24,new ECB(6,19),new ECB(2,20)),new ECBlocks(28,new ECB(6,15),new ECB(2,16))),new i(11,Int32Array.from([6,30,54]),new ECBlocks(20,new ECB(4,81)),new ECBlocks(30,new ECB(1,50),new ECB(4,51)),new ECBlocks(28,new ECB(4,22),new ECB(4,23)),new ECBlocks(24,new ECB(3,12),new ECB(8,13))),new i(12,Int32Array.from([6,32,58]),new ECBlocks(24,new ECB(2,92),new ECB(2,93)),new ECBlocks(22,new ECB(6,36),new ECB(2,37)),new ECBlocks(26,new ECB(4,20),new ECB(6,21)),new ECBlocks(28,new ECB(7,14),new ECB(4,15))),new i(13,Int32Array.from([6,34,62]),new ECBlocks(26,new ECB(4,107)),new ECBlocks(22,new ECB(8,37),new ECB(1,38)),new ECBlocks(24,new ECB(8,20),new ECB(4,21)),new ECBlocks(22,new ECB(12,11),new ECB(4,12))),new i(14,Int32Array.from([6,26,46,66]),new ECBlocks(30,new ECB(3,115),new ECB(1,116)),new ECBlocks(24,new ECB(4,40),new ECB(5,41)),new ECBlocks(20,new ECB(11,16),new ECB(5,17)),new ECBlocks(24,new ECB(11,12),new ECB(5,13))),new i(15,Int32Array.from([6,26,48,70]),new ECBlocks(22,new ECB(5,87),new ECB(1,88)),new ECBlocks(24,new ECB(5,41),new ECB(5,42)),new ECBlocks(30,new ECB(5,24),new ECB(7,25)),new ECBlocks(24,new ECB(11,12),new ECB(7,13))),new i(16,Int32Array.from([6,26,50,74]),new ECBlocks(24,new ECB(5,98),new ECB(1,99)),new ECBlocks(28,new ECB(7,45),new ECB(3,46)),new ECBlocks(24,new ECB(15,19),new ECB(2,20)),new ECBlocks(30,new ECB(3,15),new ECB(13,16))),new i(17,Int32Array.from([6,30,54,78]),new ECBlocks(28,new ECB(1,107),new ECB(5,108)),new ECBlocks(28,new ECB(10,46),new ECB(1,47)),new ECBlocks(28,new ECB(1,22),new ECB(15,23)),new ECBlocks(28,new ECB(2,14),new ECB(17,15))),new i(18,Int32Array.from([6,30,56,82]),new ECBlocks(30,new ECB(5,120),new ECB(1,121)),new ECBlocks(26,new ECB(9,43),new ECB(4,44)),new ECBlocks(28,new ECB(17,22),new ECB(1,23)),new ECBlocks(28,new ECB(2,14),new ECB(19,15))),new i(19,Int32Array.from([6,30,58,86]),new ECBlocks(28,new ECB(3,113),new ECB(4,114)),new ECBlocks(26,new ECB(3,44),new ECB(11,45)),new ECBlocks(26,new ECB(17,21),new ECB(4,22)),new ECBlocks(26,new ECB(9,13),new ECB(16,14))),new i(20,Int32Array.from([6,34,62,90]),new ECBlocks(28,new ECB(3,107),new ECB(5,108)),new ECBlocks(26,new ECB(3,41),new ECB(13,42)),new ECBlocks(30,new ECB(15,24),new ECB(5,25)),new ECBlocks(28,new ECB(15,15),new ECB(10,16))),new i(21,Int32Array.from([6,28,50,72,94]),new ECBlocks(28,new ECB(4,116),new ECB(4,117)),new ECBlocks(26,new ECB(17,42)),new ECBlocks(28,new ECB(17,22),new ECB(6,23)),new ECBlocks(30,new ECB(19,16),new ECB(6,17))),new i(22,Int32Array.from([6,26,50,74,98]),new ECBlocks(28,new ECB(2,111),new ECB(7,112)),new ECBlocks(28,new ECB(17,46)),new ECBlocks(30,new ECB(7,24),new ECB(16,25)),new ECBlocks(24,new ECB(34,13))),new i(23,Int32Array.from([6,30,54,78,102]),new ECBlocks(30,new ECB(4,121),new ECB(5,122)),new ECBlocks(28,new ECB(4,47),new ECB(14,48)),new ECBlocks(30,new ECB(11,24),new ECB(14,25)),new ECBlocks(30,new ECB(16,15),new ECB(14,16))),new i(24,Int32Array.from([6,28,54,80,106]),new ECBlocks(30,new ECB(6,117),new ECB(4,118)),new ECBlocks(28,new ECB(6,45),new ECB(14,46)),new ECBlocks(30,new ECB(11,24),new ECB(16,25)),new ECBlocks(30,new ECB(30,16),new ECB(2,17))),new i(25,Int32Array.from([6,32,58,84,110]),new ECBlocks(26,new ECB(8,106),new ECB(4,107)),new ECBlocks(28,new ECB(8,47),new ECB(13,48)),new ECBlocks(30,new ECB(7,24),new ECB(22,25)),new ECBlocks(30,new ECB(22,15),new ECB(13,16))),new i(26,Int32Array.from([6,30,58,86,114]),new ECBlocks(28,new ECB(10,114),new ECB(2,115)),new ECBlocks(28,new ECB(19,46),new ECB(4,47)),new ECBlocks(28,new ECB(28,22),new ECB(6,23)),new ECBlocks(30,new ECB(33,16),new ECB(4,17))),new i(27,Int32Array.from([6,34,62,90,118]),new ECBlocks(30,new ECB(8,122),new ECB(4,123)),new ECBlocks(28,new ECB(22,45),new ECB(3,46)),new ECBlocks(30,new ECB(8,23),new ECB(26,24)),new ECBlocks(30,new ECB(12,15),new ECB(28,16))),new i(28,Int32Array.from([6,26,50,74,98,122]),new ECBlocks(30,new ECB(3,117),new ECB(10,118)),new ECBlocks(28,new ECB(3,45),new ECB(23,46)),new ECBlocks(30,new ECB(4,24),new ECB(31,25)),new ECBlocks(30,new ECB(11,15),new ECB(31,16))),new i(29,Int32Array.from([6,30,54,78,102,126]),new ECBlocks(30,new ECB(7,116),new ECB(7,117)),new ECBlocks(28,new ECB(21,45),new ECB(7,46)),new ECBlocks(30,new ECB(1,23),new ECB(37,24)),new ECBlocks(30,new ECB(19,15),new ECB(26,16))),new i(30,Int32Array.from([6,26,52,78,104,130]),new ECBlocks(30,new ECB(5,115),new ECB(10,116)),new ECBlocks(28,new ECB(19,47),new ECB(10,48)),new ECBlocks(30,new ECB(15,24),new ECB(25,25)),new ECBlocks(30,new ECB(23,15),new ECB(25,16))),new i(31,Int32Array.from([6,30,56,82,108,134]),new ECBlocks(30,new ECB(13,115),new ECB(3,116)),new ECBlocks(28,new ECB(2,46),new ECB(29,47)),new ECBlocks(30,new ECB(42,24),new ECB(1,25)),new ECBlocks(30,new ECB(23,15),new ECB(28,16))),new i(32,Int32Array.from([6,34,60,86,112,138]),new ECBlocks(30,new ECB(17,115)),new ECBlocks(28,new ECB(10,46),new ECB(23,47)),new ECBlocks(30,new ECB(10,24),new ECB(35,25)),new ECBlocks(30,new ECB(19,15),new ECB(35,16))),new i(33,Int32Array.from([6,30,58,86,114,142]),new ECBlocks(30,new ECB(17,115),new ECB(1,116)),new ECBlocks(28,new ECB(14,46),new ECB(21,47)),new ECBlocks(30,new ECB(29,24),new ECB(19,25)),new ECBlocks(30,new ECB(11,15),new ECB(46,16))),new i(34,Int32Array.from([6,34,62,90,118,146]),new ECBlocks(30,new ECB(13,115),new ECB(6,116)),new ECBlocks(28,new ECB(14,46),new ECB(23,47)),new ECBlocks(30,new ECB(44,24),new ECB(7,25)),new ECBlocks(30,new ECB(59,16),new ECB(1,17))),new i(35,Int32Array.from([6,30,54,78,102,126,150]),new ECBlocks(30,new ECB(12,121),new ECB(7,122)),new ECBlocks(28,new ECB(12,47),new ECB(26,48)),new ECBlocks(30,new ECB(39,24),new ECB(14,25)),new ECBlocks(30,new ECB(22,15),new ECB(41,16))),new i(36,Int32Array.from([6,24,50,76,102,128,154]),new ECBlocks(30,new ECB(6,121),new ECB(14,122)),new ECBlocks(28,new ECB(6,47),new ECB(34,48)),new ECBlocks(30,new ECB(46,24),new ECB(10,25)),new ECBlocks(30,new ECB(2,15),new ECB(64,16))),new i(37,Int32Array.from([6,28,54,80,106,132,158]),new ECBlocks(30,new ECB(17,122),new ECB(4,123)),new ECBlocks(28,new ECB(29,46),new ECB(14,47)),new ECBlocks(30,new ECB(49,24),new ECB(10,25)),new ECBlocks(30,new ECB(24,15),new ECB(46,16))),new i(38,Int32Array.from([6,32,58,84,110,136,162]),new ECBlocks(30,new ECB(4,122),new ECB(18,123)),new ECBlocks(28,new ECB(13,46),new ECB(32,47)),new ECBlocks(30,new ECB(48,24),new ECB(14,25)),new ECBlocks(30,new ECB(42,15),new ECB(32,16))),new i(39,Int32Array.from([6,26,54,82,110,138,166]),new ECBlocks(30,new ECB(20,117),new ECB(4,118)),new ECBlocks(28,new ECB(40,47),new ECB(7,48)),new ECBlocks(30,new ECB(43,24),new ECB(22,25)),new ECBlocks(30,new ECB(10,15),new ECB(67,16))),new i(40,Int32Array.from([6,30,58,86,114,142,170]),new ECBlocks(30,new ECB(19,118),new ECB(6,119)),new ECBlocks(28,new ECB(18,47),new ECB(31,48)),new ECBlocks(30,new ECB(34,24),new ECB(34,25)),new ECBlocks(30,new ECB(20,15),new ECB(61,16)))],i}(),DataMaskValues;(function(i){i[i.DATA_MASK_000=0]="DATA_MASK_000",i[i.DATA_MASK_001=1]="DATA_MASK_001",i[i.DATA_MASK_010=2]="DATA_MASK_010",i[i.DATA_MASK_011=3]="DATA_MASK_011",i[i.DATA_MASK_100=4]="DATA_MASK_100",i[i.DATA_MASK_101=5]="DATA_MASK_101",i[i.DATA_MASK_110=6]="DATA_MASK_110",i[i.DATA_MASK_111=7]="DATA_MASK_111"})(DataMaskValues||(DataMaskValues={}));var DataMask=function(){function i(n,a){this.value=n,this.isMasked=a}return i.prototype.unmaskBitMatrix=function(n,a){for(var s=0;s<a;s++)for(var l=0;l<a;l++)this.isMasked(s,l)&&n.flip(l,s)},i.values=new Map([[DataMaskValues.DATA_MASK_000,new i(DataMaskValues.DATA_MASK_000,function(n,a){return(n+a&1)===0})],[DataMaskValues.DATA_MASK_001,new i(DataMaskValues.DATA_MASK_001,function(n,a){return(n&1)===0})],[DataMaskValues.DATA_MASK_010,new i(DataMaskValues.DATA_MASK_010,function(n,a){return a%3===0})],[DataMaskValues.DATA_MASK_011,new i(DataMaskValues.DATA_MASK_011,function(n,a){return(n+a)%3===0})],[DataMaskValues.DATA_MASK_100,new i(DataMaskValues.DATA_MASK_100,function(n,a){return(Math.floor(n/2)+Math.floor(a/3)&1)===0})],[DataMaskValues.DATA_MASK_101,new i(DataMaskValues.DATA_MASK_101,function(n,a){return n*a%6===0})],[DataMaskValues.DATA_MASK_110,new i(DataMaskValues.DATA_MASK_110,function(n,a){return n*a%6<3})],[DataMaskValues.DATA_MASK_111,new i(DataMaskValues.DATA_MASK_111,function(n,a){return(n+a+n*a%3&1)===0})]]),i}(),BitMatrixParser=function(){function i(n){var a=n.getHeight();if(a<21||(a&3)!==1)throw new FormatException;this.bitMatrix=n}return i.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var n=0,a=0;a<6;a++)n=this.copyBit(a,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(var s=5;s>=0;s--)n=this.copyBit(8,s,n);for(var l=this.bitMatrix.getHeight(),c=0,f=l-7,s=l-1;s>=f;s--)c=this.copyBit(8,s,c);for(var a=l-8;a<l;a++)c=this.copyBit(a,8,c);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(n,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new FormatException},i.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var n=this.bitMatrix.getHeight(),a=Math.floor((n-17)/4);if(a<=6)return Version.getVersionForNumber(a);for(var s=0,l=n-11,c=5;c>=0;c--)for(var f=n-9;f>=l;f--)s=this.copyBit(f,c,s);var p=Version.decodeVersionInformation(s);if(p!==null&&p.getDimensionForVersion()===n)return this.parsedVersion=p,p;s=0;for(var f=5;f>=0;f--)for(var c=n-9;c>=l;c--)s=this.copyBit(f,c,s);if(p=Version.decodeVersionInformation(s),p!==null&&p.getDimensionForVersion()===n)return this.parsedVersion=p,p;throw new FormatException},i.prototype.copyBit=function(n,a,s){var l=this.isMirror?this.bitMatrix.get(a,n):this.bitMatrix.get(n,a);return l?s<<1|1:s<<1},i.prototype.readCodewords=function(){var n=this.readFormatInformation(),a=this.readVersion(),s=DataMask.values.get(n.getDataMask()),l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l);for(var c=a.buildFunctionPattern(),f=!0,p=new Uint8Array(a.getTotalCodewords()),g=0,y=0,b=0,h=l-1;h>0;h-=2){h===6&&h--;for(var d=0;d<l;d++)for(var v=f?l-1-d:d,_=0;_<2;_++)c.get(h-_,v)||(b++,y<<=1,this.bitMatrix.get(h-_,v)&&(y|=1),b===8&&(p[g++]=y,b=0,y=0));f=!f}if(g!==a.getTotalCodewords())throw new FormatException;return p},i.prototype.remask=function(){if(this.parsedFormatInfo!==null){var n=DataMask.values.get(this.parsedFormatInfo.getDataMask()),a=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,a)}},i.prototype.setMirror=function(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n},i.prototype.mirror=function(){for(var n=this.bitMatrix,a=0,s=n.getWidth();a<s;a++)for(var l=a+1,c=n.getHeight();l<c;l++)n.get(a,l)!==n.get(l,a)&&(n.flip(l,a),n.flip(a,l))},i}(),__values$m=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},DataBlock=function(){function i(n,a){this.numDataCodewords=n,this.codewords=a}return i.getDataBlocks=function(n,a,s){var l,c,f,p;if(n.length!==a.getTotalCodewords())throw new IllegalArgumentException;var g=a.getECBlocksForLevel(s),y=0,b=g.getECBlocks();try{for(var h=__values$m(b),d=h.next();!d.done;d=h.next()){var v=d.value;y+=v.getCount()}}catch(V){l={error:V}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}var _=new Array(y),A=0;try{for(var I=__values$m(b),R=I.next();!R.done;R=I.next())for(var v=R.value,P=0;P<v.getCount();P++){var $=v.getDataCodewords(),M=g.getECCodewordsPerBlock()+$;_[A++]=new i($,new Uint8Array(M))}}catch(V){f={error:V}}finally{try{R&&!R.done&&(p=I.return)&&p.call(I)}finally{if(f)throw f.error}}for(var B=_[0].codewords.length,F=_.length-1;F>=0;){var q=_[F].codewords.length;if(q===B)break;F--}F++;for(var H=B-g.getECCodewordsPerBlock(),z=0,P=0;P<H;P++)for(var L=0;L<A;L++)_[L].codewords[P]=n[z++];for(var L=F;L<A;L++)_[L].codewords[H]=n[z++];for(var ee=_[0].codewords.length,P=H;P<ee;P++)for(var L=0;L<A;L++){var Z=L<F?P:P+1;_[L].codewords[Z]=n[z++]}return _},i.prototype.getNumDataCodewords=function(){return this.numDataCodewords},i.prototype.getCodewords=function(){return this.codewords},i}(),ModeValues;(function(i){i[i.TERMINATOR=0]="TERMINATOR",i[i.NUMERIC=1]="NUMERIC",i[i.ALPHANUMERIC=2]="ALPHANUMERIC",i[i.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",i[i.BYTE=4]="BYTE",i[i.ECI=5]="ECI",i[i.KANJI=6]="KANJI",i[i.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",i[i.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",i[i.HANZI=9]="HANZI"})(ModeValues||(ModeValues={}));var Mode$2=function(){function i(n,a,s,l){this.value=n,this.stringValue=a,this.characterCountBitsForVersions=s,this.bits=l,i.FOR_BITS.set(l,this),i.FOR_VALUE.set(n,this)}return i.forBits=function(n){var a=i.FOR_BITS.get(n);if(a===void 0)throw new IllegalArgumentException;return a},i.prototype.getCharacterCountBits=function(n){var a=n.getVersionNumber(),s;return a<=9?s=0:a<=26?s=1:s=2,this.characterCountBitsForVersions[s]},i.prototype.getValue=function(){return this.value},i.prototype.getBits=function(){return this.bits},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;return this.value===a.value},i.prototype.toString=function(){return this.stringValue},i.FOR_BITS=new Map,i.FOR_VALUE=new Map,i.TERMINATOR=new i(ModeValues.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),i.NUMERIC=new i(ModeValues.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),i.ALPHANUMERIC=new i(ModeValues.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),i.STRUCTURED_APPEND=new i(ModeValues.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),i.BYTE=new i(ModeValues.BYTE,"BYTE",Int32Array.from([8,16,16]),4),i.ECI=new i(ModeValues.ECI,"ECI",Int32Array.from([0,0,0]),7),i.KANJI=new i(ModeValues.KANJI,"KANJI",Int32Array.from([8,10,12]),8),i.FNC1_FIRST_POSITION=new i(ModeValues.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),i.FNC1_SECOND_POSITION=new i(ModeValues.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),i.HANZI=new i(ModeValues.HANZI,"HANZI",Int32Array.from([8,10,12]),13),i}(),DecodedBitStreamParser$1=function(){function i(){}return i.decode=function(n,a,s,l){var c=new BitSource(n),f=new StringBuilder,p=new Array,g=-1,y=-1;try{var b=null,h=!1,d=void 0;do{if(c.available()<4)d=Mode$2.TERMINATOR;else{var v=c.readBits(4);d=Mode$2.forBits(v)}switch(d){case Mode$2.TERMINATOR:break;case Mode$2.FNC1_FIRST_POSITION:case Mode$2.FNC1_SECOND_POSITION:h=!0;break;case Mode$2.STRUCTURED_APPEND:if(c.available()<16)throw new FormatException;g=c.readBits(8),y=c.readBits(8);break;case Mode$2.ECI:var _=i.parseECIValue(c);if(b=CharacterSetECI.getCharacterSetECIByValue(_),b===null)throw new FormatException;break;case Mode$2.HANZI:var A=c.readBits(4),I=c.readBits(d.getCharacterCountBits(a));A===i.GB2312_SUBSET&&i.decodeHanziSegment(c,f,I);break;default:var R=c.readBits(d.getCharacterCountBits(a));switch(d){case Mode$2.NUMERIC:i.decodeNumericSegment(c,f,R);break;case Mode$2.ALPHANUMERIC:i.decodeAlphanumericSegment(c,f,R,h);break;case Mode$2.BYTE:i.decodeByteSegment(c,f,R,b,p,l);break;case Mode$2.KANJI:i.decodeKanjiSegment(c,f,R);break;default:throw new FormatException}break}}while(d!==Mode$2.TERMINATOR)}catch{throw new FormatException}return new DecoderResult(n,f.toString(),p.length===0?null:p,s===null?null:s.toString(),g,y)},i.decodeHanziSegment=function(n,a,s){if(s*13>n.available())throw new FormatException;for(var l=new Uint8Array(2*s),c=0;s>0;){var f=n.readBits(13),p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,l[c]=p>>8&255,l[c+1]=p&255,c+=2,s--}try{a.append(StringEncoding.decode(l,StringUtils.GB2312))}catch(g){throw new FormatException(g)}},i.decodeKanjiSegment=function(n,a,s){if(s*13>n.available())throw new FormatException;for(var l=new Uint8Array(2*s),c=0;s>0;){var f=n.readBits(13),p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,l[c]=p>>8,l[c+1]=p,c+=2,s--}try{a.append(StringEncoding.decode(l,StringUtils.SHIFT_JIS))}catch(g){throw new FormatException(g)}},i.decodeByteSegment=function(n,a,s,l,c,f){if(8*s>n.available())throw new FormatException;for(var p=new Uint8Array(s),g=0;g<s;g++)p[g]=n.readBits(8);var y;l===null?y=StringUtils.guessEncoding(p,f):y=l.getName();try{a.append(StringEncoding.decode(p,y))}catch(b){throw new FormatException(b)}c.push(p)},i.toAlphaNumericChar=function(n){if(n>=i.ALPHANUMERIC_CHARS.length)throw new FormatException;return i.ALPHANUMERIC_CHARS[n]},i.decodeAlphanumericSegment=function(n,a,s,l){for(var c=a.length();s>1;){if(n.available()<11)throw new FormatException;var f=n.readBits(11);a.append(i.toAlphaNumericChar(Math.floor(f/45))),a.append(i.toAlphaNumericChar(f%45)),s-=2}if(s===1){if(n.available()<6)throw new FormatException;a.append(i.toAlphaNumericChar(n.readBits(6)))}if(l)for(var p=c;p<a.length();p++)a.charAt(p)==="%"&&(p<a.length()-1&&a.charAt(p+1)==="%"?a.deleteCharAt(p+1):a.setCharAt(p,""))},i.decodeNumericSegment=function(n,a,s){for(;s>=3;){if(n.available()<10)throw new FormatException;var l=n.readBits(10);if(l>=1e3)throw new FormatException;a.append(i.toAlphaNumericChar(Math.floor(l/100))),a.append(i.toAlphaNumericChar(Math.floor(l/10)%10)),a.append(i.toAlphaNumericChar(l%10)),s-=3}if(s===2){if(n.available()<7)throw new FormatException;var c=n.readBits(7);if(c>=100)throw new FormatException;a.append(i.toAlphaNumericChar(Math.floor(c/10))),a.append(i.toAlphaNumericChar(c%10))}else if(s===1){if(n.available()<4)throw new FormatException;var f=n.readBits(4);if(f>=10)throw new FormatException;a.append(i.toAlphaNumericChar(f))}},i.parseECIValue=function(n){var a=n.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){var s=n.readBits(8);return(a&63)<<8&4294967295|s}if((a&224)===192){var l=n.readBits(16);return(a&31)<<16&4294967295|l}throw new FormatException},i.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",i.GB2312_SUBSET=1,i}(),QRCodeDecoderMetaData=function(){function i(n){this.mirrored=n}return i.prototype.isMirrored=function(){return this.mirrored},i.prototype.applyMirroredCorrection=function(n){if(!(!this.mirrored||n===null||n.length<3)){var a=n[0];n[0]=n[2],n[2]=a}},i}(),__values$l=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Decoder=function(){function i(){this.rsDecoder=new ReedSolomonDecoder(GenericGF.QR_CODE_FIELD_256)}return i.prototype.decodeBooleanArray=function(n,a){return this.decodeBitMatrix(BitMatrix.parseFromBooleanArray(n),a)},i.prototype.decodeBitMatrix=function(n,a){var s=new BitMatrixParser(n),l=null;try{return this.decodeBitMatrixParser(s,a)}catch(f){l=f}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();var c=this.decodeBitMatrixParser(s,a);return c.setOther(new QRCodeDecoderMetaData(!0)),c}catch(f){throw l!==null?l:f}},i.prototype.decodeBitMatrixParser=function(n,a){var s,l,c,f,p=n.readVersion(),g=n.readFormatInformation().getErrorCorrectionLevel(),y=n.readCodewords(),b=DataBlock.getDataBlocks(y,p,g),h=0;try{for(var d=__values$l(b),v=d.next();!v.done;v=d.next()){var _=v.value;h+=_.getNumDataCodewords()}}catch(F){s={error:F}}finally{try{v&&!v.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}var A=new Uint8Array(h),I=0;try{for(var R=__values$l(b),P=R.next();!P.done;P=R.next()){var _=P.value,$=_.getCodewords(),M=_.getNumDataCodewords();this.correctErrors($,M);for(var B=0;B<M;B++)A[I++]=$[B]}}catch(F){c={error:F}}finally{try{P&&!P.done&&(f=R.return)&&f.call(R)}finally{if(c)throw c.error}}return DecodedBitStreamParser$1.decode(A,p,g,a)},i.prototype.correctErrors=function(n,a){var s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-a)}catch{throw new ChecksumException}for(var l=0;l<a;l++)n[l]=s[l]},i}(),__extends$k=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),AlignmentPattern=function(i){__extends$k(n,i);function n(a,s,l){var c=i.call(this,a,s)||this;return c.estimatedModuleSize=l,c}return n.prototype.aboutEquals=function(a,s,l){if(Math.abs(s-this.getY())<=a&&Math.abs(l-this.getX())<=a){var c=Math.abs(a-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1},n.prototype.combineEstimate=function(a,s,l){var c=(this.getX()+s)/2,f=(this.getY()+a)/2,p=(this.estimatedModuleSize+l)/2;return new n(c,f,p)},n}(ResultPoint),__values$k=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},AlignmentPatternFinder=function(){function i(n,a,s,l,c,f,p){this.image=n,this.startX=a,this.startY=s,this.width=l,this.height=c,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return i.prototype.find=function(){for(var n=this.startX,a=this.height,s=this.width,l=n+s,c=this.startY+a/2,f=new Int32Array(3),p=this.image,g=0;g<a;g++){var y=c+((g&1)===0?Math.floor((g+1)/2):-Math.floor((g+1)/2));f[0]=0,f[1]=0,f[2]=0;for(var b=n;b<l&&!p.get(b,y);)b++;for(var h=0;b<l;){if(p.get(b,y))if(h===1)f[1]++;else if(h===2){if(this.foundPatternCross(f)){var d=this.handlePossibleCenter(f,y,b);if(d!==null)return d}f[0]=f[2],f[1]=1,f[2]=0,h=1}else f[++h]++;else h===1&&h++,f[h]++;b++}if(this.foundPatternCross(f)){var d=this.handlePossibleCenter(f,y,l);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new NotFoundException},i.centerFromEnd=function(n,a){return a-n[2]-n[1]/2},i.prototype.foundPatternCross=function(n){for(var a=this.moduleSize,s=a/2,l=0;l<3;l++)if(Math.abs(a-n[l])>=s)return!1;return!0},i.prototype.crossCheckVertical=function(n,a,s,l){var c=this.image,f=c.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;for(var g=n;g>=0&&c.get(a,g)&&p[1]<=s;)p[1]++,g--;if(g<0||p[1]>s)return NaN;for(;g>=0&&!c.get(a,g)&&p[0]<=s;)p[0]++,g--;if(p[0]>s)return NaN;for(g=n+1;g<f&&c.get(a,g)&&p[1]<=s;)p[1]++,g++;if(g===f||p[1]>s)return NaN;for(;g<f&&!c.get(a,g)&&p[2]<=s;)p[2]++,g++;if(p[2]>s)return NaN;var y=p[0]+p[1]+p[2];return 5*Math.abs(y-l)>=2*l?NaN:this.foundPatternCross(p)?i.centerFromEnd(p,g):NaN},i.prototype.handlePossibleCenter=function(n,a,s){var l,c,f=n[0]+n[1]+n[2],p=i.centerFromEnd(n,s),g=this.crossCheckVertical(a,p,2*n[1],f);if(!isNaN(g)){var y=(n[0]+n[1]+n[2])/3;try{for(var b=__values$k(this.possibleCenters),h=b.next();!h.done;h=b.next()){var d=h.value;if(d.aboutEquals(y,g,p))return d.combineEstimate(g,p,y)}}catch(_){l={error:_}}finally{try{h&&!h.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}var v=new AlignmentPattern(p,g,y);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null},i}(),__extends$j=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),FinderPattern=function(i){__extends$j(n,i);function n(a,s,l,c){var f=i.call(this,a,s)||this;return f.estimatedModuleSize=l,f.count=c,c===void 0&&(f.count=1),f}return n.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},n.prototype.getCount=function(){return this.count},n.prototype.aboutEquals=function(a,s,l){if(Math.abs(s-this.getY())<=a&&Math.abs(l-this.getX())<=a){var c=Math.abs(a-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1},n.prototype.combineEstimate=function(a,s,l){var c=this.count+1,f=(this.count*this.getX()+s)/c,p=(this.count*this.getY()+a)/c,g=(this.count*this.estimatedModuleSize+l)/c;return new n(f,p,g,c)},n}(ResultPoint),FinderPatternInfo=function(){function i(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}return i.prototype.getBottomLeft=function(){return this.bottomLeft},i.prototype.getTopLeft=function(){return this.topLeft},i.prototype.getTopRight=function(){return this.topRight},i}(),__values$j=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},FinderPatternFinder=function(){function i(n,a){this.image=n,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}return i.prototype.getImage=function(){return this.image},i.prototype.getPossibleCenters=function(){return this.possibleCenters},i.prototype.find=function(n){var a=n!=null&&n.get(DecodeHintType$1.TRY_HARDER)!==void 0,s=n!=null&&n.get(DecodeHintType$1.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),f=l.getWidth(),p=Math.floor(3*c/(4*i.MAX_MODULES));(p<i.MIN_SKIP||a)&&(p=i.MIN_SKIP);for(var g=!1,y=new Int32Array(5),b=p-1;b<c&&!g;b+=p){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;for(var h=0,d=0;d<f;d++)if(l.get(d,b))(h&1)===1&&h++,y[h]++;else if((h&1)===0)if(h===4)if(i.foundPatternCross(y)){var v=this.handlePossibleCenter(y,b,d,s);if(v===!0)if(p=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>y[2]&&(b+=_-y[2]-p,d=f-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,h=3;continue}h=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,h=3;else y[++h]++;else y[h]++;if(i.foundPatternCross(y)){var v=this.handlePossibleCenter(y,b,f,s);v===!0&&(p=y[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}}var A=this.selectBestPatterns();return ResultPoint.orderBestPatterns(A),new FinderPatternInfo(A)},i.centerFromEnd=function(n,a){return a-n[4]-n[3]-n[2]/2},i.foundPatternCross=function(n){for(var a=0,s=0;s<5;s++){var l=n[s];if(l===0)return!1;a+=l}if(a<7)return!1;var c=a/7,f=c/2;return Math.abs(c-n[0])<f&&Math.abs(c-n[1])<f&&Math.abs(3*c-n[2])<3*f&&Math.abs(c-n[3])<f&&Math.abs(c-n[4])<f},i.prototype.getCrossCheckStateCount=function(){var n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n},i.prototype.crossCheckDiagonal=function(n,a,s,l){for(var c=this.getCrossCheckStateCount(),f=0,p=this.image;n>=f&&a>=f&&p.get(a-f,n-f);)c[2]++,f++;if(n<f||a<f)return!1;for(;n>=f&&a>=f&&!p.get(a-f,n-f)&&c[1]<=s;)c[1]++,f++;if(n<f||a<f||c[1]>s)return!1;for(;n>=f&&a>=f&&p.get(a-f,n-f)&&c[0]<=s;)c[0]++,f++;if(c[0]>s)return!1;var g=p.getHeight(),y=p.getWidth();for(f=1;n+f<g&&a+f<y&&p.get(a+f,n+f);)c[2]++,f++;if(n+f>=g||a+f>=y)return!1;for(;n+f<g&&a+f<y&&!p.get(a+f,n+f)&&c[3]<s;)c[3]++,f++;if(n+f>=g||a+f>=y||c[3]>=s)return!1;for(;n+f<g&&a+f<y&&p.get(a+f,n+f)&&c[4]<s;)c[4]++,f++;if(c[4]>=s)return!1;var b=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(b-l)<2*l&&i.foundPatternCross(c)},i.prototype.crossCheckVertical=function(n,a,s,l){for(var c=this.image,f=c.getHeight(),p=this.getCrossCheckStateCount(),g=n;g>=0&&c.get(a,g);)p[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(a,g)&&p[1]<=s;)p[1]++,g--;if(g<0||p[1]>s)return NaN;for(;g>=0&&c.get(a,g)&&p[0]<=s;)p[0]++,g--;if(p[0]>s)return NaN;for(g=n+1;g<f&&c.get(a,g);)p[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(a,g)&&p[3]<s;)p[3]++,g++;if(g===f||p[3]>=s)return NaN;for(;g<f&&c.get(a,g)&&p[4]<s;)p[4]++,g++;if(p[4]>=s)return NaN;var y=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(y-l)>=2*l?NaN:i.foundPatternCross(p)?i.centerFromEnd(p,g):NaN},i.prototype.crossCheckHorizontal=function(n,a,s,l){for(var c=this.image,f=c.getWidth(),p=this.getCrossCheckStateCount(),g=n;g>=0&&c.get(g,a);)p[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(g,a)&&p[1]<=s;)p[1]++,g--;if(g<0||p[1]>s)return NaN;for(;g>=0&&c.get(g,a)&&p[0]<=s;)p[0]++,g--;if(p[0]>s)return NaN;for(g=n+1;g<f&&c.get(g,a);)p[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(g,a)&&p[3]<s;)p[3]++,g++;if(g===f||p[3]>=s)return NaN;for(;g<f&&c.get(g,a)&&p[4]<s;)p[4]++,g++;if(p[4]>=s)return NaN;var y=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(y-l)>=l?NaN:i.foundPatternCross(p)?i.centerFromEnd(p,g):NaN},i.prototype.handlePossibleCenter=function(n,a,s,l){var c=n[0]+n[1]+n[2]+n[3]+n[4],f=i.centerFromEnd(n,s),p=this.crossCheckVertical(a,Math.floor(f),n[2],c);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),n[2],c),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),n[2],c)))){for(var g=c/7,y=!1,b=this.possibleCenters,h=0,d=b.length;h<d;h++){var v=b[h];if(v.aboutEquals(g,p,f)){b[h]=v.combineEstimate(p,f,g),y=!0;break}}if(!y){var _=new FinderPattern(f,p,g);b.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},i.prototype.findRowSkip=function(){var n,a,s=this.possibleCenters.length;if(s<=1)return 0;var l=null;try{for(var c=__values$j(this.possibleCenters),f=c.next();!f.done;f=c.next()){var p=f.value;if(p.getCount()>=i.CENTER_QUORUM)if(l==null)l=p;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-p.getX())-Math.abs(l.getY()-p.getY()))/2)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return 0},i.prototype.haveMultiplyConfirmedCenters=function(){var n,a,s,l,c=0,f=0,p=this.possibleCenters.length;try{for(var g=__values$j(this.possibleCenters),y=g.next();!y.done;y=g.next()){var b=y.value;b.getCount()>=i.CENTER_QUORUM&&(c++,f+=b.getEstimatedModuleSize())}}catch(A){n={error:A}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}if(c<3)return!1;var h=f/p,d=0;try{for(var v=__values$j(this.possibleCenters),_=v.next();!_.done;_=v.next()){var b=_.value;d+=Math.abs(b.getEstimatedModuleSize()-h)}}catch(A){s={error:A}}finally{try{_&&!_.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}return d<=.05*f},i.prototype.selectBestPatterns=function(){var n,a,s,l,c=this.possibleCenters.length;if(c<3)throw new NotFoundException;var f=this.possibleCenters,p;if(c>3){var g=0,y=0;try{for(var b=__values$j(this.possibleCenters),h=b.next();!h.done;h=b.next()){var d=h.value,v=d.getEstimatedModuleSize();g+=v,y+=v*v}}catch(B){n={error:B}}finally{try{h&&!h.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}p=g/c;var _=Math.sqrt(y/c-p*p);f.sort(function(B,F){var q=Math.abs(F.getEstimatedModuleSize()-p),H=Math.abs(B.getEstimatedModuleSize()-p);return q<H?-1:q>H?1:0});for(var A=Math.max(.2*p,_),I=0;I<f.length&&f.length>3;I++){var R=f[I];Math.abs(R.getEstimatedModuleSize()-p)>A&&(f.splice(I,1),I--)}}if(f.length>3){var g=0;try{for(var P=__values$j(f),$=P.next();!$.done;$=P.next()){var M=$.value;g+=M.getEstimatedModuleSize()}}catch(F){s={error:F}}finally{try{$&&!$.done&&(l=P.return)&&l.call(P)}finally{if(s)throw s.error}}p=g/f.length,f.sort(function(F,q){if(q.getCount()===F.getCount()){var H=Math.abs(q.getEstimatedModuleSize()-p),z=Math.abs(F.getEstimatedModuleSize()-p);return H<z?1:H>z?-1:0}else return q.getCount()-F.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]},i.CENTER_QUORUM=2,i.MIN_SKIP=3,i.MAX_MODULES=57,i}(),Detector$1=function(){function i(n){this.image=n}return i.prototype.getImage=function(){return this.image},i.prototype.getResultPointCallback=function(){return this.resultPointCallback},i.prototype.detect=function(n){this.resultPointCallback=n==null?null:n.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);var a=new FinderPatternFinder(this.image,this.resultPointCallback),s=a.find(n);return this.processFinderPatternInfo(s)},i.prototype.processFinderPatternInfo=function(n){var a=n.getTopLeft(),s=n.getTopRight(),l=n.getBottomLeft(),c=this.calculateModuleSize(a,s,l);if(c<1)throw new NotFoundException("No pattern found in proccess finder.");var f=i.computeDimension(a,s,l,c),p=Version.getProvisionalVersionForDimension(f),g=p.getDimensionForVersion()-7,y=null;if(p.getAlignmentPatternCenters().length>0)for(var b=s.getX()-a.getX()+l.getX(),h=s.getY()-a.getY()+l.getY(),d=1-3/g,v=Math.floor(a.getX()+d*(b-a.getX())),_=Math.floor(a.getY()+d*(h-a.getY())),A=4;A<=16;A<<=1)try{y=this.findAlignmentInRegion(c,v,_,A);break}catch($){if(!($ instanceof NotFoundException))throw $}var I=i.createTransform(a,s,l,y,f),R=i.sampleGrid(this.image,I,f),P;return y===null?P=[l,a,s]:P=[l,a,s,y],new DetectorResult(R,P)},i.createTransform=function(n,a,s,l,c){var f=c-3.5,p,g,y,b;return l!==null?(p=l.getX(),g=l.getY(),y=f-3,b=y):(p=a.getX()-n.getX()+s.getX(),g=a.getY()-n.getY()+s.getY(),y=f,b=f),PerspectiveTransform.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,y,b,3.5,f,n.getX(),n.getY(),a.getX(),a.getY(),p,g,s.getX(),s.getY())},i.sampleGrid=function(n,a,s){var l=GridSamplerInstance.getInstance();return l.sampleGridWithTransform(n,s,s,a)},i.computeDimension=function(n,a,s,l){var c=MathUtils.round(ResultPoint.distance(n,a)/l),f=MathUtils.round(ResultPoint.distance(n,s)/l),p=Math.floor((c+f)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new NotFoundException("Dimensions could be not found.")}return p},i.prototype.calculateModuleSize=function(n,a,s){return(this.calculateModuleSizeOneWay(n,a)+this.calculateModuleSizeOneWay(n,s))/2},i.prototype.calculateModuleSizeOneWay=function(n,a){var s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(a.getX()),Math.floor(a.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?l/7:isNaN(l)?s/7:(s+l)/14},i.prototype.sizeOfBlackWhiteBlackRunBothWays=function(n,a,s,l){var c=this.sizeOfBlackWhiteBlackRun(n,a,s,l),f=1,p=n-(s-n);p<0?(f=n/(n-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-n)/(p-n),p=this.image.getWidth()-1);var g=Math.floor(a-(l-a)*f);return f=1,g<0?(f=a/(a-g),g=0):g>=this.image.getHeight()&&(f=(this.image.getHeight()-1-a)/(g-a),g=this.image.getHeight()-1),p=Math.floor(n+(p-n)*f),c+=this.sizeOfBlackWhiteBlackRun(n,a,p,g),c-1},i.prototype.sizeOfBlackWhiteBlackRun=function(n,a,s,l){var c=Math.abs(l-a)>Math.abs(s-n);if(c){var f=n;n=a,a=f,f=s,s=l,l=f}for(var p=Math.abs(s-n),g=Math.abs(l-a),y=-p/2,b=n<s?1:-1,h=a<l?1:-1,d=0,v=s+b,_=n,A=a;_!==v;_+=b){var I=c?A:_,R=c?_:A;if(d===1===this.image.get(I,R)){if(d===2)return MathUtils.distance(_,A,n,a);d++}if(y+=g,y>0){if(A===l)break;A+=h,y-=p}}return d===2?MathUtils.distance(s+b,l,n,a):NaN},i.prototype.findAlignmentInRegion=function(n,a,s,l){var c=Math.floor(l*n),f=Math.max(0,a-c),p=Math.min(this.image.getWidth()-1,a+c);if(p-f<n*3)throw new NotFoundException("Alignment top exceeds estimated module size.");var g=Math.max(0,s-c),y=Math.min(this.image.getHeight()-1,s+c);if(y-g<n*3)throw new NotFoundException("Alignment bottom exceeds estimated module size.");var b=new AlignmentPatternFinder(this.image,f,g,p-f,y-g,n,this.resultPointCallback);return b.find()},i}(),QRCodeReader=function(){function i(){this.decoder=new Decoder}return i.prototype.getDecoder=function(){return this.decoder},i.prototype.decode=function(n,a){var s,l;if(a!=null&&a.get(DecodeHintType$1.PURE_BARCODE)!==void 0){var c=i.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(c,a),l=i.NO_POINTS}else{var f=new Detector$1(n.getBlackMatrix()).detect(a);s=this.decoder.decodeBitMatrix(f.getBits(),a),l=f.getPoints()}s.getOther()instanceof QRCodeDecoderMetaData&&s.getOther().applyMirroredCorrection(l);var p=new Result(s.getText(),s.getRawBytes(),void 0,l,BarcodeFormat$1.QR_CODE,void 0),g=s.getByteSegments();g!==null&&p.putMetadata(ResultMetadataType$1.BYTE_SEGMENTS,g);var y=s.getECLevel();return y!==null&&p.putMetadata(ResultMetadataType$1.ERROR_CORRECTION_LEVEL,y),s.hasStructuredAppend()&&(p.putMetadata(ResultMetadataType$1.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),p.putMetadata(ResultMetadataType$1.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),p},i.prototype.reset=function(){},i.extractPureBits=function(n){var a=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(a===null||s===null)throw new NotFoundException;var l=this.moduleSize(a,n),c=a[1],f=s[1],p=a[0],g=s[0];if(p>=g||c>=f)throw new NotFoundException;if(f-c!==g-p&&(g=p+(f-c),g>=n.getWidth()))throw new NotFoundException;var y=Math.round((g-p+1)/l),b=Math.round((f-c+1)/l);if(y<=0||b<=0)throw new NotFoundException;if(b!==y)throw new NotFoundException;var h=Math.floor(l/2);c+=h,p+=h;var d=p+Math.floor((y-1)*l)-g;if(d>0){if(d>h)throw new NotFoundException;p-=d}var v=c+Math.floor((b-1)*l)-f;if(v>0){if(v>h)throw new NotFoundException;c-=v}for(var _=new BitMatrix(y,b),A=0;A<b;A++)for(var I=c+Math.floor(A*l),R=0;R<y;R++)n.get(p+Math.floor(R*l),I)&&_.set(R,A);return _},i.moduleSize=function(n,a){for(var s=a.getHeight(),l=a.getWidth(),c=n[0],f=n[1],p=!0,g=0;c<l&&f<s;){if(p!==a.get(c,f)){if(++g===5)break;p=!p}c++,f++}if(c===l||f===s)throw new NotFoundException;return(c-n[0])/7},i.NO_POINTS=new Array,i}(),__values$i=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},PDF417Common=function(){function i(){}return i.prototype.PDF417Common=function(){},i.getBitCountSum=function(n){return MathUtils.sum(n)},i.toIntArray=function(n){var a,s;if(n==null||!n.length)return i.EMPTY_INT_ARRAY;var l=new Int32Array(n.length),c=0;try{for(var f=__values$i(n),p=f.next();!p.done;p=f.next()){var g=p.value;l[c++]=g}}catch(y){a={error:y}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}return l},i.getCodeword=function(n){var a=Arrays.binarySearch(i.SYMBOL_TABLE,n&262143);return a<0?-1:(i.CODEWORD_TABLE[a]-1)%i.NUMBER_OF_CODEWORDS},i.NUMBER_OF_CODEWORDS=929,i.MAX_CODEWORDS_IN_BARCODE=i.NUMBER_OF_CODEWORDS-1,i.MIN_ROWS_IN_BARCODE=3,i.MAX_ROWS_IN_BARCODE=90,i.MODULES_IN_CODEWORD=17,i.MODULES_IN_STOP_PATTERN=18,i.BARS_IN_MODULE=8,i.EMPTY_INT_ARRAY=new Int32Array([]),i.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),i.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),i}(),PDF417DetectorResult=function(){function i(n,a){this.bits=n,this.points=a}return i.prototype.getBits=function(){return this.bits},i.prototype.getPoints=function(){return this.points},i}(),__values$h=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Detector=function(){function i(){}return i.detectMultiple=function(n,a,s){var l=n.getBlackMatrix(),c=i.detect(s,l);return c.length||(l=l.clone(),l.rotate180(),c=i.detect(s,l)),new PDF417DetectorResult(l,c)},i.detect=function(n,a){for(var s,l,c=new Array,f=0,p=0,g=!1;f<a.getHeight();){var y=i.findVertices(a,f,p);if(y[0]==null&&y[3]==null){if(!g)break;g=!1,p=0;try{for(var b=(s=void 0,__values$h(c)),h=b.next();!h.done;h=b.next()){var d=h.value;d[1]!=null&&(f=Math.trunc(Math.max(f,d[1].getY()))),d[3]!=null&&(f=Math.max(f,Math.trunc(d[3].getY())))}}catch(v){s={error:v}}finally{try{h&&!h.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}f+=i.ROW_STEP;continue}if(g=!0,c.push(y),!n)break;y[2]!=null?(p=Math.trunc(y[2].getX()),f=Math.trunc(y[2].getY())):(p=Math.trunc(y[4].getX()),f=Math.trunc(y[4].getY()))}return c},i.findVertices=function(n,a,s){var l=n.getHeight(),c=n.getWidth(),f=new Array(8);return i.copyToResult(f,i.findRowsWithPattern(n,l,c,a,s,i.START_PATTERN),i.INDEXES_START_PATTERN),f[4]!=null&&(s=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY())),i.copyToResult(f,i.findRowsWithPattern(n,l,c,a,s,i.STOP_PATTERN),i.INDEXES_STOP_PATTERN),f},i.copyToResult=function(n,a,s){for(var l=0;l<s.length;l++)n[s[l]]=a[l]},i.findRowsWithPattern=function(n,a,s,l,c,f){for(var p=new Array(4),g=!1,y=new Int32Array(f.length);l<a;l+=i.ROW_STEP){var b=i.findGuardPattern(n,c,l,s,!1,f,y);if(b!=null){for(;l>0;){var h=i.findGuardPattern(n,c,--l,s,!1,f,y);if(h!=null)b=h;else{l++;break}}p[0]=new ResultPoint(b[0],l),p[1]=new ResultPoint(b[1],l),g=!0;break}}var d=l+1;if(g){for(var v=0,h=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);d<a;d++){var b=i.findGuardPattern(n,h[0],d,s,!1,f,y);if(b!=null&&Math.abs(h[0]-b[0])<i.MAX_PATTERN_DRIFT&&Math.abs(h[1]-b[1])<i.MAX_PATTERN_DRIFT)h=b,v=0;else{if(v>i.SKIPPED_ROW_COUNT_MAX)break;v++}}d-=v+1,p[2]=new ResultPoint(h[0],d),p[3]=new ResultPoint(h[1],d)}return d-l<i.BARCODE_MIN_HEIGHT&&Arrays.fill(p,null),p},i.findGuardPattern=function(n,a,s,l,c,f,p){Arrays.fillWithin(p,0,p.length,0);for(var g=a,y=0;n.get(g,s)&&g>0&&y++<i.MAX_PIXEL_DRIFT;)g--;for(var b=g,h=0,d=f.length,v=c;b<l;b++){var _=n.get(b,s);if(_!==v)p[h]++;else{if(h===d-1){if(i.patternMatchVariance(p,f,i.MAX_INDIVIDUAL_VARIANCE)<i.MAX_AVG_VARIANCE)return new Int32Array([g,b]);g+=p[0]+p[1],System.arraycopy(p,2,p,0,h-1),p[h-1]=0,p[h]=0,h--}else h++;p[h]=1,v=!v}}return h===d-1&&i.patternMatchVariance(p,f,i.MAX_INDIVIDUAL_VARIANCE)<i.MAX_AVG_VARIANCE?new Int32Array([g,b-1]):null},i.patternMatchVariance=function(n,a,s){for(var l=n.length,c=0,f=0,p=0;p<l;p++)c+=n[p],f+=a[p];if(c<f)return 1/0;var g=c/f;s*=g;for(var y=0,b=0;b<l;b++){var h=n[b],d=a[b]*g,v=h>d?h-d:d-h;if(v>s)return 1/0;y+=v}return y/c},i.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),i.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),i.MAX_AVG_VARIANCE=.42,i.MAX_INDIVIDUAL_VARIANCE=.8,i.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),i.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),i.MAX_PIXEL_DRIFT=3,i.MAX_PATTERN_DRIFT=5,i.SKIPPED_ROW_COUNT_MAX=25,i.ROW_STEP=5,i.BARCODE_MIN_HEIGHT=10,i}(),__values$g=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ModulusPoly=function(){function i(n,a){if(a.length===0)throw new IllegalArgumentException;this.field=n;var s=a.length;if(s>1&&a[0]===0){for(var l=1;l<s&&a[l]===0;)l++;l===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-l),System.arraycopy(a,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}return i.prototype.getCoefficients=function(){return this.coefficients},i.prototype.getDegree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return this.coefficients[0]===0},i.prototype.getCoefficient=function(n){return this.coefficients[this.coefficients.length-1-n]},i.prototype.evaluateAt=function(n){var a,s;if(n===0)return this.getCoefficient(0);if(n===1){var l=0;try{for(var c=__values$g(this.coefficients),f=c.next();!f.done;f=c.next()){var p=f.value;l=this.field.add(l,p)}}catch(h){a={error:h}}finally{try{f&&!f.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return l}for(var g=this.coefficients[0],y=this.coefficients.length,b=1;b<y;b++)g=this.field.add(this.field.multiply(n,g),this.coefficients[b]);return g},i.prototype.add=function(n){if(!this.field.equals(n.field))throw new IllegalArgumentException("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;var a=this.coefficients,s=n.coefficients;if(a.length>s.length){var l=a;a=s,s=l}var c=new Int32Array(s.length),f=s.length-a.length;System.arraycopy(s,0,c,0,f);for(var p=f;p<s.length;p++)c[p]=this.field.add(a[p-f],s[p]);return new i(this.field,c)},i.prototype.subtract=function(n){if(!this.field.equals(n.field))throw new IllegalArgumentException("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())},i.prototype.multiply=function(n){return n instanceof i?this.multiplyOther(n):this.multiplyScalar(n)},i.prototype.multiplyOther=function(n){if(!this.field.equals(n.field))throw new IllegalArgumentException("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new i(this.field,new Int32Array([0]));for(var a=this.coefficients,s=a.length,l=n.coefficients,c=l.length,f=new Int32Array(s+c-1),p=0;p<s;p++)for(var g=a[p],y=0;y<c;y++)f[p+y]=this.field.add(f[p+y],this.field.multiply(g,l[y]));return new i(this.field,f)},i.prototype.negative=function(){for(var n=this.coefficients.length,a=new Int32Array(n),s=0;s<n;s++)a[s]=this.field.subtract(0,this.coefficients[s]);return new i(this.field,a)},i.prototype.multiplyScalar=function(n){if(n===0)return new i(this.field,new Int32Array([0]));if(n===1)return this;for(var a=this.coefficients.length,s=new Int32Array(a),l=0;l<a;l++)s[l]=this.field.multiply(this.coefficients[l],n);return new i(this.field,s)},i.prototype.multiplyByMonomial=function(n,a){if(n<0)throw new IllegalArgumentException;if(a===0)return new i(this.field,new Int32Array([0]));for(var s=this.coefficients.length,l=new Int32Array(s+n),c=0;c<s;c++)l[c]=this.field.multiply(this.coefficients[c],a);return new i(this.field,l)},i.prototype.toString=function(){for(var n=new StringBuilder,a=this.getDegree();a>=0;a--){var s=this.getCoefficient(a);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(a===0||s!==1)&&n.append(s),a!==0&&(a===1?n.append("x"):(n.append("x^"),n.append(a))))}return n.toString()},i}(),ModulusBase=function(){function i(){}return i.prototype.add=function(n,a){return(n+a)%this.modulus},i.prototype.subtract=function(n,a){return(this.modulus+n-a)%this.modulus},i.prototype.exp=function(n){return this.expTable[n]},i.prototype.log=function(n){if(n===0)throw new IllegalArgumentException;return this.logTable[n]},i.prototype.inverse=function(n){if(n===0)throw new ArithmeticException;return this.expTable[this.modulus-this.logTable[n]-1]},i.prototype.multiply=function(n,a){return n===0||a===0?0:this.expTable[(this.logTable[n]+this.logTable[a])%(this.modulus-1)]},i.prototype.getSize=function(){return this.modulus},i.prototype.equals=function(n){return n===this},i}(),__extends$i=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),ModulusGF=function(i){__extends$i(n,i);function n(a,s){var l=i.call(this)||this;l.modulus=a,l.expTable=new Int32Array(a),l.logTable=new Int32Array(a);for(var c=1,f=0;f<a;f++)l.expTable[f]=c,c=c*s%a;for(var f=0;f<a-1;f++)l.logTable[l.expTable[f]]=f;return l.zero=new ModulusPoly(l,new Int32Array([0])),l.one=new ModulusPoly(l,new Int32Array([1])),l}return n.prototype.getZero=function(){return this.zero},n.prototype.getOne=function(){return this.one},n.prototype.buildMonomial=function(a,s){if(a<0)throw new IllegalArgumentException;if(s===0)return this.zero;var l=new Int32Array(a+1);return l[0]=s,new ModulusPoly(this,l)},n.PDF417_GF=new n(PDF417Common.NUMBER_OF_CODEWORDS,3),n}(ModulusBase),__values$f=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ErrorCorrection=function(){function i(){this.field=ModulusGF.PDF417_GF}return i.prototype.decode=function(n,a,s){for(var l,c,f=new ModulusPoly(this.field,n),p=new Int32Array(a),g=!1,y=a;y>0;y--){var b=f.evaluateAt(this.field.exp(y));p[a-y]=b,b!==0&&(g=!0)}if(!g)return 0;var h=this.field.getOne();if(s!=null)try{for(var d=__values$f(s),v=d.next();!v.done;v=d.next()){var _=v.value,A=this.field.exp(n.length-1-_),I=new ModulusPoly(this.field,new Int32Array([this.field.subtract(0,A),1]));h=h.multiply(I)}}catch(H){l={error:H}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}for(var R=new ModulusPoly(this.field,p),P=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),R,a),$=P[0],M=P[1],B=this.findErrorLocations($),F=this.findErrorMagnitudes(M,$,B),y=0;y<B.length;y++){var q=n.length-1-this.field.log(B[y]);if(q<0)throw ChecksumException.getChecksumInstance();n[q]=this.field.subtract(n[q],F[y])}return B.length},i.prototype.runEuclideanAlgorithm=function(n,a,s){if(n.getDegree()<a.getDegree()){var l=n;n=a,a=l}for(var c=n,f=a,p=this.field.getZero(),g=this.field.getOne();f.getDegree()>=Math.round(s/2);){var y=c,b=p;if(c=f,p=g,c.isZero())throw ChecksumException.getChecksumInstance();f=y;for(var h=this.field.getZero(),d=c.getCoefficient(c.getDegree()),v=this.field.inverse(d);f.getDegree()>=c.getDegree()&&!f.isZero();){var _=f.getDegree()-c.getDegree(),A=this.field.multiply(f.getCoefficient(f.getDegree()),v);h=h.add(this.field.buildMonomial(_,A)),f=f.subtract(c.multiplyByMonomial(_,A))}g=h.multiply(p).subtract(b).negative()}var I=g.getCoefficient(0);if(I===0)throw ChecksumException.getChecksumInstance();var R=this.field.inverse(I),P=g.multiply(R),$=f.multiply(R);return[P,$]},i.prototype.findErrorLocations=function(n){for(var a=n.getDegree(),s=new Int32Array(a),l=0,c=1;c<this.field.getSize()&&l<a;c++)n.evaluateAt(c)===0&&(s[l]=this.field.inverse(c),l++);if(l!==a)throw ChecksumException.getChecksumInstance();return s},i.prototype.findErrorMagnitudes=function(n,a,s){for(var l=a.getDegree(),c=new Int32Array(l),f=1;f<=l;f++)c[l-f]=this.field.multiply(f,a.getCoefficient(f));for(var p=new ModulusPoly(this.field,c),g=s.length,y=new Int32Array(g),f=0;f<g;f++){var b=this.field.inverse(s[f]),h=this.field.subtract(0,n.evaluateAt(b)),d=this.field.inverse(p.evaluateAt(b));y[f]=this.field.multiply(h,d)}return y},i}(),BoundingBox=function(){function i(n,a,s,l,c){n instanceof i?this.constructor_2(n):this.constructor_1(n,a,s,l,c)}return i.prototype.constructor_1=function(n,a,s,l,c){var f=a==null||s==null,p=l==null||c==null;if(f&&p)throw new NotFoundException;f?(a=new ResultPoint(0,l.getY()),s=new ResultPoint(0,c.getY())):p&&(l=new ResultPoint(n.getWidth()-1,a.getY()),c=new ResultPoint(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=a,this.bottomLeft=s,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(a.getX(),s.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(a.getY(),l.getY())),this.maxY=Math.trunc(Math.max(s.getY(),c.getY()))},i.prototype.constructor_2=function(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()},i.merge=function(n,a){return n==null?a:a==null?n:new i(n.image,n.topLeft,n.bottomLeft,a.topRight,a.bottomRight)},i.prototype.addMissingRows=function(n,a,s){var l=this.topLeft,c=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(n>0){var g=s?this.topLeft:this.topRight,y=Math.trunc(g.getY()-n);y<0&&(y=0);var b=new ResultPoint(g.getX(),y);s?l=b:f=b}if(a>0){var h=s?this.bottomLeft:this.bottomRight,d=Math.trunc(h.getY()+a);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var v=new ResultPoint(h.getX(),d);s?c=v:p=v}return new i(this.image,l,c,f,p)},i.prototype.getMinX=function(){return this.minX},i.prototype.getMaxX=function(){return this.maxX},i.prototype.getMinY=function(){return this.minY},i.prototype.getMaxY=function(){return this.maxY},i.prototype.getTopLeft=function(){return this.topLeft},i.prototype.getTopRight=function(){return this.topRight},i.prototype.getBottomLeft=function(){return this.bottomLeft},i.prototype.getBottomRight=function(){return this.bottomRight},i}(),BarcodeMetadata=function(){function i(n,a,s,l){this.columnCount=n,this.errorCorrectionLevel=l,this.rowCountUpperPart=a,this.rowCountLowerPart=s,this.rowCount=a+s}return i.prototype.getColumnCount=function(){return this.columnCount},i.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},i.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},i}(),Formatter=function(){function i(){this.buffer=""}return i.form=function(n,a){var s=-1;function l(f,p,g,y,b,h){if(f==="%%")return"%";if(a[++s]!==void 0){f=y?parseInt(y.substr(1)):void 0;var d=b?parseInt(b.substr(1)):void 0,v;switch(h){case"s":v=a[s];break;case"c":v=a[s][0];break;case"f":v=parseFloat(a[s]).toFixed(f);break;case"p":v=parseFloat(a[s]).toPrecision(f);break;case"e":v=parseFloat(a[s]).toExponential(f);break;case"x":v=parseInt(a[s]).toString(d||16);break;case"d":v=parseFloat(parseInt(a[s],d||10).toPrecision(f)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(d);for(var _=parseInt(g),A=g&&g[0]+""=="0"?"0":" ";v.length<_;)v=p!==void 0?v+A:A+v;return v}}var c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,l)},i.prototype.format=function(n){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];this.buffer+=i.form(n,a)},i.prototype.toString=function(){return this.buffer},i}(),__values$e=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},DetectionResultColumn=function(){function i(n){this.boundingBox=new BoundingBox(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}return i.prototype.getCodewordNearby=function(n){var a=this.getCodeword(n);if(a!=null)return a;for(var s=1;s<i.MAX_NEARBY_DISTANCE;s++){var l=this.imageRowToCodewordIndex(n)-s;if(l>=0&&(a=this.codewords[l],a!=null)||(l=this.imageRowToCodewordIndex(n)+s,l<this.codewords.length&&(a=this.codewords[l],a!=null)))return a}return null},i.prototype.imageRowToCodewordIndex=function(n){return n-this.boundingBox.getMinY()},i.prototype.setCodeword=function(n,a){this.codewords[this.imageRowToCodewordIndex(n)]=a},i.prototype.getCodeword=function(n){return this.codewords[this.imageRowToCodewordIndex(n)]},i.prototype.getBoundingBox=function(){return this.boundingBox},i.prototype.getCodewords=function(){return this.codewords},i.prototype.toString=function(){var n,a,s=new Formatter,l=0;try{for(var c=__values$e(this.codewords),f=c.next();!f.done;f=c.next()){var p=f.value;if(p==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,p.getRowNumber(),p.getValue())}}catch(g){n={error:g}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return s.toString()},i.MAX_NEARBY_DISTANCE=5,i}(),__values$d=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$1=function(i,n){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var s=a.call(i),l,c=[],f;try{for(;(n===void 0||n-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(p){f={error:p}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(f)throw f.error}}return c},BarcodeValue=function(){function i(){this.values=new Map}return i.prototype.setValue=function(n){n=Math.trunc(n);var a=this.values.get(n);a==null&&(a=0),a++,this.values.set(n,a)},i.prototype.getValue=function(){var n,a,s=-1,l=new Array,c=function(h,d){var v={getKey:function(){return h},getValue:function(){return d}};v.getValue()>s?(s=v.getValue(),l=[],l.push(v.getKey())):v.getValue()===s&&l.push(v.getKey())};try{for(var f=__values$d(this.values.entries()),p=f.next();!p.done;p=f.next()){var g=__read$1(p.value,2),y=g[0],b=g[1];c(y,b)}}catch(h){n={error:h}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}return PDF417Common.toIntArray(l)},i.prototype.getConfidence=function(n){return this.values.get(n)},i}(),__extends$h=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$c=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},DetectionResultRowIndicatorColumn=function(i){__extends$h(n,i);function n(a,s){var l=i.call(this,a)||this;return l._isLeft=s,l}return n.prototype.setRowNumbers=function(){var a,s;try{for(var l=__values$c(this.getCodewords()),c=l.next();!c.done;c=l.next()){var f=c.value;f!=null&&f.setRowNumberAsRowIndicatorColumn()}}catch(p){a={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},n.prototype.adjustCompleteIndicatorColumnRowNumbers=function(a){var s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,a);for(var l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=-1,b=1,h=0,d=p;d<g;d++)if(s[d]!=null){var v=s[d],_=v.getRowNumber()-y;if(_===0)h++;else if(_===1)b=Math.max(b,h),h=1,y=v.getRowNumber();else if(_<0||v.getRowNumber()>=a.getRowCount()||_>d)s[d]=null;else{var A=void 0;b>2?A=(b-2)*_:A=_;for(var I=A>=d,R=1;R<=A&&!I;R++)I=s[d-R]!=null;I?s[d]=null:(y=v.getRowNumber(),h=1)}}},n.prototype.getRowHeights=function(){var a,s,l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);var c=new Int32Array(l.getRowCount());try{for(var f=__values$c(this.getCodewords()),p=f.next();!p.done;p=f.next()){var g=p.value;if(g!=null){var y=g.getRowNumber();if(y>=c.length)continue;c[y]++}}}catch(b){a={error:b}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}return c},n.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(a){for(var s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),y=-1,b=f;b<p;b++)if(g[b]!=null){var h=g[b];h.setRowNumberAsRowIndicatorColumn();var d=h.getRowNumber()-y;d===0||(d===1?y=h.getRowNumber():h.getRowNumber()>=a.getRowCount()?g[b]=null:y=h.getRowNumber())}},n.prototype.getBarcodeMetadata=function(){var a,s,l=this.getCodewords(),c=new BarcodeValue,f=new BarcodeValue,p=new BarcodeValue,g=new BarcodeValue;try{for(var y=__values$c(l),b=y.next();!b.done;b=y.next()){var h=b.value;if(h!=null){h.setRowNumberAsRowIndicatorColumn();var d=h.getValue()%30,v=h.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:f.setValue(d*3+1);break;case 1:g.setValue(d/3),p.setValue(d%3);break;case 2:c.setValue(d+1);break}}}}catch(A){a={error:A}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(c.getValue().length===0||f.getValue().length===0||p.getValue().length===0||g.getValue().length===0||c.getValue()[0]<1||f.getValue()[0]+p.getValue()[0]<PDF417Common.MIN_ROWS_IN_BARCODE||f.getValue()[0]+p.getValue()[0]>PDF417Common.MAX_ROWS_IN_BARCODE)return null;var _=new BarcodeMetadata(c.getValue()[0],f.getValue()[0],p.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(l,_),_},n.prototype.removeIncorrectCodewords=function(a,s){for(var l=0;l<a.length;l++){var c=a[l];if(a[l]!=null){var f=c.getValue()%30,p=c.getRowNumber();if(p>s.getRowCount()){a[l]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:f*3+1!==s.getRowCountUpperPart()&&(a[l]=null);break;case 1:(Math.trunc(f/3)!==s.getErrorCorrectionLevel()||f%3!==s.getRowCountLowerPart())&&(a[l]=null);break;case 2:f+1!==s.getColumnCount()&&(a[l]=null);break}}}},n.prototype.isLeft=function(){return this._isLeft},n.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+i.prototype.toString.call(this)},n}(DetectionResultColumn),__values$b=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},DetectionResult=function(){function i(n,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return i.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var n=PDF417Common.MAX_CODEWORDS_IN_BARCODE,a;do a=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<a);return this.detectionResultColumns},i.prototype.adjustIndicatorColumnRowNumbers=function(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},i.prototype.adjustRowNumbersAndGetCount=function(){var n=this.adjustRowNumbersByRow();if(n===0)return 0;for(var a=1;a<this.barcodeColumnCount+1;a++)for(var s=this.detectionResultColumns[a].getCodewords(),l=0;l<s.length;l++)s[l]!=null&&(s[l].hasValidRowNumber()||this.adjustRowNumbers(a,l,s));return n},i.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var n=this.adjustRowNumbersFromLRI();return n+this.adjustRowNumbersFromRRI()},i.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var n=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),s=0;s<n.length;s++)if(n[s]!=null&&a[s]!=null&&n[s].getRowNumber()===a[s].getRowNumber())for(var l=1;l<=this.barcodeColumnCount;l++){var c=this.detectionResultColumns[l].getCodewords()[s];c!=null&&(c.setRowNumber(n[s].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[s]=null))}}},i.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var n=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),s=0;s<a.length;s++)if(a[s]!=null)for(var l=a[s].getRowNumber(),c=0,f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){var p=this.detectionResultColumns[f].getCodewords()[s];p!=null&&(c=i.adjustRowNumberIfValid(l,c,p),p.hasValidRowNumber()||n++)}return n},i.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var n=0,a=this.detectionResultColumns[0].getCodewords(),s=0;s<a.length;s++)if(a[s]!=null)for(var l=a[s].getRowNumber(),c=0,f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){var p=this.detectionResultColumns[f].getCodewords()[s];p!=null&&(c=i.adjustRowNumberIfValid(l,c,p),p.hasValidRowNumber()||n++)}return n},i.adjustRowNumberIfValid=function(n,a,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),a=0):++a),a},i.prototype.adjustRowNumbers=function(n,a,s){var l,c;if(this.detectionResultColumns[n-1]!=null){var f=s[a],p=this.detectionResultColumns[n-1].getCodewords(),g=p;this.detectionResultColumns[n+1]!=null&&(g=this.detectionResultColumns[n+1].getCodewords());var y=new Array(14);y[2]=p[a],y[3]=g[a],a>0&&(y[0]=s[a-1],y[4]=p[a-1],y[5]=g[a-1]),a>1&&(y[8]=s[a-2],y[10]=p[a-2],y[11]=g[a-2]),a<s.length-1&&(y[1]=s[a+1],y[6]=p[a+1],y[7]=g[a+1]),a<s.length-2&&(y[9]=s[a+2],y[12]=p[a+2],y[13]=g[a+2]);try{for(var b=__values$b(y),h=b.next();!h.done;h=b.next()){var d=h.value;if(i.adjustRowNumber(f,d))return}}catch(v){l={error:v}}finally{try{h&&!h.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}}},i.adjustRowNumber=function(n,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===n.getBucket()?(n.setRowNumber(a.getRowNumber()),!0):!1},i.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},i.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},i.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},i.prototype.setBoundingBox=function(n){this.boundingBox=n},i.prototype.getBoundingBox=function(){return this.boundingBox},i.prototype.setDetectionResultColumn=function(n,a){this.detectionResultColumns[n]=a},i.prototype.getDetectionResultColumn=function(n){return this.detectionResultColumns[n]},i.prototype.toString=function(){var n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var a=new Formatter,s=0;s<n.getCodewords().length;s++){a.format("CW %3d:",s);for(var l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){a.format("    |   ");continue}var c=this.detectionResultColumns[l].getCodewords()[s];if(c==null){a.format("    |   ");continue}a.format(" %3d|%3d",c.getRowNumber(),c.getValue())}a.format("%n")}return a.toString()},i}(),Codeword=function(){function i(n,a,s,l){this.rowNumber=i.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(a),this.bucket=Math.trunc(s),this.value=Math.trunc(l)}return i.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},i.prototype.isValidRowNumber=function(n){return n!==i.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3},i.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},i.prototype.getWidth=function(){return this.endX-this.startX},i.prototype.getStartX=function(){return this.startX},i.prototype.getEndX=function(){return this.endX},i.prototype.getBucket=function(){return this.bucket},i.prototype.getValue=function(){return this.value},i.prototype.getRowNumber=function(){return this.rowNumber},i.prototype.setRowNumber=function(n){this.rowNumber=n},i.prototype.toString=function(){return this.rowNumber+"|"+this.value},i.BARCODE_ROW_UNKNOWN=-1,i}(),PDF417CodewordDecoder=function(){function i(){}return i.initialize=function(){for(var n=0;n<PDF417Common.SYMBOL_TABLE.length;n++)for(var a=PDF417Common.SYMBOL_TABLE[n],s=a&1,l=0;l<PDF417Common.BARS_IN_MODULE;l++){for(var c=0;(a&1)===s;)c+=1,a>>=1;s=a&1,i.RATIOS_TABLE[n]||(i.RATIOS_TABLE[n]=new Array(PDF417Common.BARS_IN_MODULE)),i.RATIOS_TABLE[n][PDF417Common.BARS_IN_MODULE-l-1]=Math.fround(c/PDF417Common.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},i.getDecodedValue=function(n){var a=i.getDecodedCodewordValue(i.sampleBitCounts(n));return a!==-1?a:i.getClosestDecodedValue(n)},i.sampleBitCounts=function(n){for(var a=MathUtils.sum(n),s=new Int32Array(PDF417Common.BARS_IN_MODULE),l=0,c=0,f=0;f<PDF417Common.MODULES_IN_CODEWORD;f++){var p=a/(2*PDF417Common.MODULES_IN_CODEWORD)+f*a/PDF417Common.MODULES_IN_CODEWORD;c+n[l]<=p&&(c+=n[l],l++),s[l]++}return s},i.getDecodedCodewordValue=function(n){var a=i.getBitValue(n);return PDF417Common.getCodeword(a)===-1?-1:a},i.getBitValue=function(n){for(var a=0,s=0;s<n.length;s++)for(var l=0;l<n[s];l++)a=a<<1|(s%2===0?1:0);return Math.trunc(a)},i.getClosestDecodedValue=function(n){var a=MathUtils.sum(n),s=new Array(PDF417Common.BARS_IN_MODULE);if(a>1)for(var l=0;l<s.length;l++)s[l]=Math.fround(n[l]/a);var c=Float.MAX_VALUE,f=-1;this.bSymbolTableReady||i.initialize();for(var p=0;p<i.RATIOS_TABLE.length;p++){for(var g=0,y=i.RATIOS_TABLE[p],b=0;b<PDF417Common.BARS_IN_MODULE;b++){var h=Math.fround(y[b]-s[b]);if(g+=Math.fround(h*h),g>=c)break}g<c&&(c=g,f=PDF417Common.SYMBOL_TABLE[p])}return f},i.bSymbolTableReady=!1,i.RATIOS_TABLE=new Array(PDF417Common.SYMBOL_TABLE.length).map(function(n){return new Array(PDF417Common.BARS_IN_MODULE)}),i}(),PDF417ResultMetadata=function(){function i(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return i.prototype.getSegmentIndex=function(){return this.segmentIndex},i.prototype.setSegmentIndex=function(n){this.segmentIndex=n},i.prototype.getFileId=function(){return this.fileId},i.prototype.setFileId=function(n){this.fileId=n},i.prototype.getOptionalData=function(){return this.optionalData},i.prototype.setOptionalData=function(n){this.optionalData=n},i.prototype.isLastSegment=function(){return this.lastSegment},i.prototype.setLastSegment=function(n){this.lastSegment=n},i.prototype.getSegmentCount=function(){return this.segmentCount},i.prototype.setSegmentCount=function(n){this.segmentCount=n},i.prototype.getSender=function(){return this.sender||null},i.prototype.setSender=function(n){this.sender=n},i.prototype.getAddressee=function(){return this.addressee||null},i.prototype.setAddressee=function(n){this.addressee=n},i.prototype.getFileName=function(){return this.fileName},i.prototype.setFileName=function(n){this.fileName=n},i.prototype.getFileSize=function(){return this.fileSize},i.prototype.setFileSize=function(n){this.fileSize=n},i.prototype.getChecksum=function(){return this.checksum},i.prototype.setChecksum=function(n){this.checksum=n},i.prototype.getTimestamp=function(){return this.timestamp},i.prototype.setTimestamp=function(n){this.timestamp=n},i}(),Long=function(){function i(){}return i.parseLong=function(n,a){return a===void 0&&(a=void 0),parseInt(n,a)},i}(),__extends$g=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),NullPointerException=function(i){__extends$g(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="NullPointerException",n}(Exception),OutputStream=function(){function i(){}return i.prototype.writeBytes=function(n){this.writeBytesOffset(n,0,n.length)},i.prototype.writeBytesOffset=function(n,a,s){if(n==null)throw new NullPointerException;if(a<0||a>n.length||s<0||a+s>n.length||a+s<0)throw new IndexOutOfBoundsException;if(s===0)return;for(var l=0;l<s;l++)this.write(n[a+l])},i.prototype.flush=function(){},i.prototype.close=function(){},i}(),__extends$f=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),OutOfMemoryError=function(i){__extends$f(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n}(Exception),__extends$e=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),ByteArrayOutputStream=function(i){__extends$e(n,i);function n(a){a===void 0&&(a=32);var s=i.call(this)||this;if(s.count=0,a<0)throw new IllegalArgumentException("Negative initial size: "+a);return s.buf=new Uint8Array(a),s}return n.prototype.ensureCapacity=function(a){a-this.buf.length>0&&this.grow(a)},n.prototype.grow=function(a){var s=this.buf.length,l=s<<1;if(l-a<0&&(l=a),l<0){if(a<0)throw new OutOfMemoryError;l=Integer.MAX_VALUE}this.buf=Arrays.copyOfUint8Array(this.buf,l)},n.prototype.write=function(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1},n.prototype.writeBytesOffset=function(a,s,l){if(s<0||s>a.length||l<0||s+l-a.length>0)throw new IndexOutOfBoundsException;this.ensureCapacity(this.count+l),System.arraycopy(a,s,this.buf,this.count,l),this.count+=l},n.prototype.writeTo=function(a){a.writeBytesOffset(this.buf,0,this.count)},n.prototype.reset=function(){this.count=0},n.prototype.toByteArray=function(){return Arrays.copyOfUint8Array(this.buf,this.count)},n.prototype.size=function(){return this.count},n.prototype.toString=function(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()},n.prototype.toString_void=function(){return new String(this.buf).toString()},n.prototype.toString_string=function(a){return new String(this.buf).toString()},n.prototype.toString_number=function(a){return new String(this.buf).toString()},n.prototype.close=function(){},n}(OutputStream),Mode$1;(function(i){i[i.ALPHA=0]="ALPHA",i[i.LOWER=1]="LOWER",i[i.MIXED=2]="MIXED",i[i.PUNCT=3]="PUNCT",i[i.ALPHA_SHIFT=4]="ALPHA_SHIFT",i[i.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mode$1||(Mode$1={}));function getBigIntConstructor(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var BigInteger;function createBigInt(i){if(typeof BigInteger>"u"&&(BigInteger=getBigIntConstructor()),BigInteger===null)throw new Error("BigInt is not supported!");return BigInteger(i)}function getEXP900(){var i=[];i[0]=createBigInt(1);var n=createBigInt(900);i[1]=n;for(var a=2;a<16;a++)i[a]=i[a-1]*n;return i}var DecodedBitStreamParser=function(){function i(){}return i.decode=function(n,a){var s=new StringBuilder(""),l=CharacterSetECI.ISO8859_1;s.enableDecoding(l);for(var c=1,f=n[c++],p=new PDF417ResultMetadata;c<n[0];){switch(f){case i.TEXT_COMPACTION_MODE_LATCH:c=i.textCompaction(n,c,s);break;case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:c=i.byteCompaction(f,n,l,c,s);break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[c++]);break;case i.NUMERIC_COMPACTION_MODE_LATCH:c=i.numericCompaction(n,c,s);break;case i.ECI_CHARSET:CharacterSetECI.getCharacterSetECIByValue(n[c++]);break;case i.ECI_GENERAL_PURPOSE:c+=2;break;case i.ECI_USER_DEFINED:c++;break;case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=i.decodeMacroBlock(n,c,p);break;case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:throw new FormatException;default:c--,c=i.textCompaction(n,c,s);break}if(c<n.length)f=n[c++];else throw FormatException.getFormatInstance()}if(s.length()===0)throw FormatException.getFormatInstance();var g=new DecoderResult(null,s.toString(),null,a);return g.setOther(p),g},i.decodeMacroBlock=function(n,a,s){if(a+i.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw FormatException.getFormatInstance();for(var l=new Int32Array(i.NUMBER_OF_SEQUENCE_CODEWORDS),c=0;c<i.NUMBER_OF_SEQUENCE_CODEWORDS;c++,a++)l[c]=n[a];s.setSegmentIndex(Integer.parseInt(i.decodeBase900toBase10(l,i.NUMBER_OF_SEQUENCE_CODEWORDS)));var f=new StringBuilder;a=i.textCompaction(n,a,f),s.setFileId(f.toString());var p=-1;for(n[a]===i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=a+1);a<n[0];)switch(n[a]){case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,n[a]){case i.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var g=new StringBuilder;a=i.textCompaction(n,a+1,g),s.setFileName(g.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var y=new StringBuilder;a=i.textCompaction(n,a+1,y),s.setSender(y.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var b=new StringBuilder;a=i.textCompaction(n,a+1,b),s.setAddressee(b.toString());break;case i.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new StringBuilder;a=i.numericCompaction(n,a+1,h),s.setSegmentCount(Integer.parseInt(h.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new StringBuilder;a=i.numericCompaction(n,a+1,d),s.setTimestamp(Long.parseLong(d.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var v=new StringBuilder;a=i.numericCompaction(n,a+1,v),s.setChecksum(Integer.parseInt(v.toString()));break;case i.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new StringBuilder;a=i.numericCompaction(n,a+1,_),s.setFileSize(Long.parseLong(_.toString()));break;default:throw FormatException.getFormatInstance()}break;case i.MACRO_PDF417_TERMINATOR:a++,s.setLastSegment(!0);break;default:throw FormatException.getFormatInstance()}if(p!==-1){var A=a-p;s.isLastSegment()&&A--,s.setOptionalData(Arrays.copyOfRange(n,p,p+A))}return a},i.textCompaction=function(n,a,s){for(var l=new Int32Array((n[0]-a)*2),c=new Int32Array((n[0]-a)*2),f=0,p=!1;a<n[0]&&!p;){var g=n[a++];if(g<i.TEXT_COMPACTION_MODE_LATCH)l[f]=g/30,l[f+1]=g%30,f+=2;else switch(g){case i.TEXT_COMPACTION_MODE_LATCH:l[f++]=i.TEXT_COMPACTION_MODE_LATCH;break;case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:a--,p=!0;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=n[a++],c[f]=g,f++;break}}return i.decodeTextCompaction(l,c,f,s),a},i.decodeTextCompaction=function(n,a,s,l){for(var c=Mode$1.ALPHA,f=Mode$1.ALPHA,p=0;p<s;){var g=n[p],y="";switch(c){case Mode$1.ALPHA:if(g<26)y=String.fromCharCode(65+g);else switch(g){case 26:y=" ";break;case i.LL:c=Mode$1.LOWER;break;case i.ML:c=Mode$1.MIXED;break;case i.PS:f=c,c=Mode$1.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[p]);break;case i.TEXT_COMPACTION_MODE_LATCH:c=Mode$1.ALPHA;break}break;case Mode$1.LOWER:if(g<26)y=String.fromCharCode(97+g);else switch(g){case 26:y=" ";break;case i.AS:f=c,c=Mode$1.ALPHA_SHIFT;break;case i.ML:c=Mode$1.MIXED;break;case i.PS:f=c,c=Mode$1.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[p]);break;case i.TEXT_COMPACTION_MODE_LATCH:c=Mode$1.ALPHA;break}break;case Mode$1.MIXED:if(g<i.PL)y=i.MIXED_CHARS[g];else switch(g){case i.PL:c=Mode$1.PUNCT;break;case 26:y=" ";break;case i.LL:c=Mode$1.LOWER;break;case i.AL:c=Mode$1.ALPHA;break;case i.PS:f=c,c=Mode$1.PUNCT_SHIFT;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[p]);break;case i.TEXT_COMPACTION_MODE_LATCH:c=Mode$1.ALPHA;break}break;case Mode$1.PUNCT:if(g<i.PAL)y=i.PUNCT_CHARS[g];else switch(g){case i.PAL:c=Mode$1.ALPHA;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[p]);break;case i.TEXT_COMPACTION_MODE_LATCH:c=Mode$1.ALPHA;break}break;case Mode$1.ALPHA_SHIFT:if(c=f,g<26)y=String.fromCharCode(65+g);else switch(g){case 26:y=" ";break;case i.TEXT_COMPACTION_MODE_LATCH:c=Mode$1.ALPHA;break}break;case Mode$1.PUNCT_SHIFT:if(c=f,g<i.PAL)y=i.PUNCT_CHARS[g];else switch(g){case i.PAL:c=Mode$1.ALPHA;break;case i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[p]);break;case i.TEXT_COMPACTION_MODE_LATCH:c=Mode$1.ALPHA;break}break}y!==""&&l.append(y),p++}},i.byteCompaction=function(n,a,s,l,c){var f=new ByteArrayOutputStream,p=0,g=0,y=!1;switch(n){case i.BYTE_COMPACTION_MODE_LATCH:for(var b=new Int32Array(6),h=a[l++];l<a[0]&&!y;)switch(b[p++]=h,g=900*g+h,h=a[l++],h){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:l--,y=!0;break;default:if(p%5===0&&p>0){for(var d=0;d<6;++d)f.write(Number(createBigInt(g)>>createBigInt(8*(5-d))));g=0,p=0}break}l===a[0]&&h<i.TEXT_COMPACTION_MODE_LATCH&&(b[p++]=h);for(var v=0;v<p;v++)f.write(b[v]);break;case i.BYTE_COMPACTION_MODE_LATCH_6:for(;l<a[0]&&!y;){var _=a[l++];if(_<i.TEXT_COMPACTION_MODE_LATCH)p++,g=900*g+_;else switch(_){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.NUMERIC_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:l--,y=!0;break}if(p%5===0&&p>0){for(var d=0;d<6;++d)f.write(Number(createBigInt(g)>>createBigInt(8*(5-d))));g=0,p=0}}break}return c.append(StringEncoding.decode(f.toByteArray(),s)),l},i.numericCompaction=function(n,a,s){for(var l=0,c=!1,f=new Int32Array(i.MAX_NUMERIC_CODEWORDS);a<n[0]&&!c;){var p=n[a++];if(a===n[0]&&(c=!0),p<i.TEXT_COMPACTION_MODE_LATCH)f[l]=p,l++;else switch(p){case i.TEXT_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH:case i.BYTE_COMPACTION_MODE_LATCH_6:case i.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case i.MACRO_PDF417_TERMINATOR:a--,c=!0;break}(l%i.MAX_NUMERIC_CODEWORDS===0||p===i.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(s.append(i.decodeBase900toBase10(f,l)),l=0)}return a},i.decodeBase900toBase10=function(n,a){for(var s=createBigInt(0),l=0;l<a;l++)s+=i.EXP900[a-l-1]*createBigInt(n[l]);var c=s.toString();if(c.charAt(0)!=="1")throw new FormatException;return c.substring(1)},i.TEXT_COMPACTION_MODE_LATCH=900,i.BYTE_COMPACTION_MODE_LATCH=901,i.NUMERIC_COMPACTION_MODE_LATCH=902,i.BYTE_COMPACTION_MODE_LATCH_6=924,i.ECI_USER_DEFINED=925,i.ECI_GENERAL_PURPOSE=926,i.ECI_CHARSET=927,i.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,i.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,i.MACRO_PDF417_TERMINATOR=922,i.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,i.MAX_NUMERIC_CODEWORDS=15,i.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,i.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,i.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,i.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,i.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,i.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,i.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,i.PL=25,i.LL=27,i.AS=27,i.ML=28,i.AL=28,i.PS=29,i.PAL=29,i.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,i.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",i.EXP900=getBigIntConstructor()?getEXP900():[],i.NUMBER_OF_SEQUENCE_CODEWORDS=2,i}(),__values$a=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},PDF417ScanningDecoder=function(){function i(){}return i.decode=function(n,a,s,l,c,f,p){for(var g=new BoundingBox(n,a,s,l,c),y=null,b=null,h,d=!0;;d=!1){if(a!=null&&(y=i.getRowIndicatorColumn(n,g,a,!0,f,p)),l!=null&&(b=i.getRowIndicatorColumn(n,g,l,!1,f,p)),h=i.merge(y,b),h==null)throw NotFoundException.getNotFoundInstance();var v=h.getBoundingBox();if(d&&v!=null&&(v.getMinY()<g.getMinY()||v.getMaxY()>g.getMaxY()))g=v;else break}h.setBoundingBox(g);var _=h.getBarcodeColumnCount()+1;h.setDetectionResultColumn(0,y),h.setDetectionResultColumn(_,b);for(var A=y!=null,I=1;I<=_;I++){var R=A?I:_-I;if(h.getDetectionResultColumn(R)===void 0){var P=void 0;R===0||R===_?P=new DetectionResultRowIndicatorColumn(g,R===0):P=new DetectionResultColumn(g),h.setDetectionResultColumn(R,P);for(var $=-1,M=$,B=g.getMinY();B<=g.getMaxY();B++){if($=i.getStartColumn(h,R,B,A),$<0||$>g.getMaxX()){if(M===-1)continue;$=M}var F=i.detectCodeword(n,g.getMinX(),g.getMaxX(),A,$,B,f,p);F!=null&&(P.setCodeword(B,F),M=$,f=Math.min(f,F.getWidth()),p=Math.max(p,F.getWidth()))}}}return i.createDecoderResult(h)},i.merge=function(n,a){if(n==null&&a==null)return null;var s=i.getBarcodeMetadata(n,a);if(s==null)return null;var l=BoundingBox.merge(i.adjustBoundingBox(n),i.adjustBoundingBox(a));return new DetectionResult(s,l)},i.adjustBoundingBox=function(n){var a,s;if(n==null)return null;var l=n.getRowHeights();if(l==null)return null;var c=i.getMax(l),f=0;try{for(var p=__values$a(l),g=p.next();!g.done;g=p.next()){var y=g.value;if(f+=c-y,y>0)break}}catch(v){a={error:v}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}for(var b=n.getCodewords(),h=0;f>0&&b[h]==null;h++)f--;for(var d=0,h=l.length-1;h>=0&&(d+=c-l[h],!(l[h]>0));h--);for(var h=b.length-1;d>0&&b[h]==null;h--)d--;return n.getBoundingBox().addMissingRows(f,d,n.isLeft())},i.getMax=function(n){var a,s,l=-1;try{for(var c=__values$a(n),f=c.next();!f.done;f=c.next()){var p=f.value;l=Math.max(l,p)}}catch(g){a={error:g}}finally{try{f&&!f.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return l},i.getBarcodeMetadata=function(n,a){var s;if(n==null||(s=n.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();var l;return a==null||(l=a.getBarcodeMetadata())==null?s:s.getColumnCount()!==l.getColumnCount()&&s.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&s.getRowCount()!==l.getRowCount()?null:s},i.getRowIndicatorColumn=function(n,a,s,l,c,f){for(var p=new DetectionResultRowIndicatorColumn(a,l),g=0;g<2;g++)for(var y=g===0?1:-1,b=Math.trunc(Math.trunc(s.getX())),h=Math.trunc(Math.trunc(s.getY()));h<=a.getMaxY()&&h>=a.getMinY();h+=y){var d=i.detectCodeword(n,0,n.getWidth(),l,b,h,c,f);d!=null&&(p.setCodeword(h,d),l?b=d.getStartX():b=d.getEndX())}return p},i.adjustCodewordCount=function(n,a){var s=a[0][1],l=s.getValue(),c=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-i.getNumberOfECCodeWords(n.getBarcodeECLevel());if(l.length===0){if(c<1||c>PDF417Common.MAX_CODEWORDS_IN_BARCODE)throw NotFoundException.getNotFoundInstance();s.setValue(c)}else l[0]!==c&&s.setValue(c)},i.createDecoderResult=function(n){var a=i.createBarcodeMatrix(n);i.adjustCodewordCount(n,a);for(var s=new Array,l=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),c=[],f=new Array,p=0;p<n.getBarcodeRowCount();p++)for(var g=0;g<n.getBarcodeColumnCount();g++){var y=a[p][g+1].getValue(),b=p*n.getBarcodeColumnCount()+g;y.length===0?s.push(b):y.length===1?l[b]=y[0]:(f.push(b),c.push(y))}for(var h=new Array(c.length),d=0;d<h.length;d++)h[d]=c[d];return i.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),l,PDF417Common.toIntArray(s),PDF417Common.toIntArray(f),h)},i.createDecoderResultFromAmbiguousValues=function(n,a,s,l,c){for(var f=new Int32Array(l.length),p=100;p-- >0;){for(var g=0;g<f.length;g++)a[l[g]]=c[g][f[g]];try{return i.decodeCodewords(a,n,s)}catch(b){var y=b instanceof ChecksumException;if(!y)throw b}if(f.length===0)throw ChecksumException.getChecksumInstance();for(var g=0;g<f.length;g++)if(f[g]<c[g].length-1){f[g]++;break}else if(f[g]=0,g===f.length-1)throw ChecksumException.getChecksumInstance()}throw ChecksumException.getChecksumInstance()},i.createBarcodeMatrix=function(n){for(var a,s,l,c,f=Array.from({length:n.getBarcodeRowCount()},function(){return new Array(n.getBarcodeColumnCount()+2)}),p=0;p<f.length;p++)for(var g=0;g<f[p].length;g++)f[p][g]=new BarcodeValue;var y=0;try{for(var b=__values$a(n.getDetectionResultColumns()),h=b.next();!h.done;h=b.next()){var d=h.value;if(d!=null)try{for(var v=(l=void 0,__values$a(d.getCodewords())),_=v.next();!_.done;_=v.next()){var A=_.value;if(A!=null){var I=A.getRowNumber();if(I>=0){if(I>=f.length)continue;f[I][y].setValue(A.getValue())}}}}catch(R){l={error:R}}finally{try{_&&!_.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}y++}}catch(R){a={error:R}}finally{try{h&&!h.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}return f},i.isValidBarcodeColumn=function(n,a){return a>=0&&a<=n.getBarcodeColumnCount()+1},i.getStartColumn=function(n,a,s,l){var c,f,p=l?1:-1,g=null;if(i.isValidBarcodeColumn(n,a-p)&&(g=n.getDetectionResultColumn(a-p).getCodeword(s)),g!=null)return l?g.getEndX():g.getStartX();if(g=n.getDetectionResultColumn(a).getCodewordNearby(s),g!=null)return l?g.getStartX():g.getEndX();if(i.isValidBarcodeColumn(n,a-p)&&(g=n.getDetectionResultColumn(a-p).getCodewordNearby(s)),g!=null)return l?g.getEndX():g.getStartX();for(var y=0;i.isValidBarcodeColumn(n,a-p);){a-=p;try{for(var b=(c=void 0,__values$a(n.getDetectionResultColumn(a).getCodewords())),h=b.next();!h.done;h=b.next()){var d=h.value;if(d!=null)return(l?d.getEndX():d.getStartX())+p*y*(d.getEndX()-d.getStartX())}}catch(v){c={error:v}}finally{try{h&&!h.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}y++}return l?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()},i.detectCodeword=function(n,a,s,l,c,f,p,g){c=i.adjustCodewordStartColumn(n,a,s,l,c,f);var y=i.getModuleBitCount(n,a,s,l,c,f);if(y==null)return null;var b,h=MathUtils.sum(y);if(l)b=c+h;else{for(var d=0;d<y.length/2;d++){var v=y[d];y[d]=y[y.length-1-d],y[y.length-1-d]=v}b=c,c=b-h}if(!i.checkCodewordSkew(h,p,g))return null;var _=PDF417CodewordDecoder.getDecodedValue(y),A=PDF417Common.getCodeword(_);return A===-1?null:new Codeword(c,b,i.getCodewordBucketNumber(_),A)},i.getModuleBitCount=function(n,a,s,l,c,f){for(var p=c,g=new Int32Array(8),y=0,b=l?1:-1,h=l;(l?p<s:p>=a)&&y<g.length;)n.get(p,f)===h?(g[y]++,p+=b):(y++,h=!h);return y===g.length||p===(l?s:a)&&y===g.length-1?g:null},i.getNumberOfECCodeWords=function(n){return 2<<n},i.adjustCodewordStartColumn=function(n,a,s,l,c,f){for(var p=c,g=l?-1:1,y=0;y<2;y++){for(;(l?p>=a:p<s)&&l===n.get(p,f);){if(Math.abs(c-p)>i.CODEWORD_SKEW_SIZE)return c;p+=g}g=-g,l=!l}return p},i.checkCodewordSkew=function(n,a,s){return a-i.CODEWORD_SKEW_SIZE<=n&&n<=s+i.CODEWORD_SKEW_SIZE},i.decodeCodewords=function(n,a,s){if(n.length===0)throw FormatException.getFormatInstance();var l=1<<a+1,c=i.correctErrors(n,s,l);i.verifyCodewordCount(n,l);var f=DecodedBitStreamParser.decode(n,""+a);return f.setErrorsCorrected(c),f.setErasures(s.length),f},i.correctErrors=function(n,a,s){if(a!=null&&a.length>s/2+i.MAX_ERRORS||s<0||s>i.MAX_EC_CODEWORDS)throw ChecksumException.getChecksumInstance();return i.errorCorrection.decode(n,s,a)},i.verifyCodewordCount=function(n,a){if(n.length<4)throw FormatException.getFormatInstance();var s=n[0];if(s>n.length)throw FormatException.getFormatInstance();if(s===0)if(a<n.length)n[0]=n.length-a;else throw FormatException.getFormatInstance()},i.getBitCountForCodeword=function(n){for(var a=new Int32Array(8),s=0,l=a.length-1;!((n&1)!==s&&(s=n&1,l--,l<0));)a[l]++,n>>=1;return a},i.getCodewordBucketNumber=function(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)},i.getCodewordBucketNumber_number=function(n){return i.getCodewordBucketNumber(i.getBitCountForCodeword(n))},i.getCodewordBucketNumber_Int32Array=function(n){return(n[0]-n[2]+n[4]-n[6]+9)%9},i.toString=function(n){for(var a=new Formatter,s=0;s<n.length;s++){a.format("Row %2d: ",s);for(var l=0;l<n[s].length;l++){var c=n[s][l];c.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}a.format("%n")}return a.toString()},i.CODEWORD_SKEW_SIZE=2,i.MAX_ERRORS=3,i.MAX_EC_CODEWORDS=512,i.errorCorrection=new ErrorCorrection,i}(),__values$9=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},PDF417Reader=function(){function i(){}return i.prototype.decode=function(n,a){a===void 0&&(a=null);var s=i.decode(n,a,!1);if(s==null||s.length===0||s[0]==null)throw NotFoundException.getNotFoundInstance();return s[0]},i.prototype.decodeMultiple=function(n,a){a===void 0&&(a=null);try{return i.decode(n,a,!0)}catch(s){throw s instanceof FormatException||s instanceof ChecksumException?NotFoundException.getNotFoundInstance():s}},i.decode=function(n,a,s){var l,c,f=new Array,p=Detector.detectMultiple(n,a,s);try{for(var g=__values$9(p.getPoints()),y=g.next();!y.done;y=g.next()){var b=y.value,h=PDF417ScanningDecoder.decode(p.getBits(),b[4],b[5],b[6],b[7],i.getMinCodewordWidth(b),i.getMaxCodewordWidth(b)),d=new Result(h.getText(),h.getRawBytes(),void 0,b,BarcodeFormat$1.PDF_417);d.putMetadata(ResultMetadataType$1.ERROR_CORRECTION_LEVEL,h.getECLevel());var v=h.getOther();v!=null&&d.putMetadata(ResultMetadataType$1.PDF417_EXTRA_METADATA,v),f.push(d)}}catch(_){l={error:_}}finally{try{y&&!y.done&&(c=g.return)&&c.call(g)}finally{if(l)throw l.error}}return f.map(function(_){return _})},i.getMaxWidth=function(n,a){return n==null||a==null?0:Math.trunc(Math.abs(n.getX()-a.getX()))},i.getMinWidth=function(n,a){return n==null||a==null?Integer.MAX_VALUE:Math.trunc(Math.abs(n.getX()-a.getX()))},i.getMaxCodewordWidth=function(n){return Math.floor(Math.max(Math.max(i.getMaxWidth(n[0],n[4]),i.getMaxWidth(n[6],n[2])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN),Math.max(i.getMaxWidth(n[1],n[5]),i.getMaxWidth(n[7],n[3])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN)))},i.getMinCodewordWidth=function(n){return Math.floor(Math.min(Math.min(i.getMinWidth(n[0],n[4]),i.getMinWidth(n[6],n[2])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN),Math.min(i.getMinWidth(n[1],n[5]),i.getMinWidth(n[7],n[3])*PDF417Common.MODULES_IN_CODEWORD/PDF417Common.MODULES_IN_STOP_PATTERN)))},i.prototype.reset=function(){},i}(),__extends$d=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),ReaderException=function(i){__extends$d(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="ReaderException",n}(Exception),__values$8=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},MultiFormatReader=function(){function i(){}return i.prototype.decode=function(n,a){return this.setHints(a),this.decodeInternal(n)},i.prototype.decodeWithState=function(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)},i.prototype.setHints=function(n){this.hints=n;var a=n!=null&&n.get(DecodeHintType$1.TRY_HARDER)!==void 0,s=n==null?null:n.get(DecodeHintType$1.POSSIBLE_FORMATS),l=new Array;if(s!=null){var c=s.some(function(f){return f===BarcodeFormat$1.UPC_A||f===BarcodeFormat$1.UPC_E||f===BarcodeFormat$1.EAN_13||f===BarcodeFormat$1.EAN_8||f===BarcodeFormat$1.CODABAR||f===BarcodeFormat$1.CODE_39||f===BarcodeFormat$1.CODE_93||f===BarcodeFormat$1.CODE_128||f===BarcodeFormat$1.ITF||f===BarcodeFormat$1.RSS_14||f===BarcodeFormat$1.RSS_EXPANDED});c&&!a&&l.push(new MultiFormatOneDReader(n)),s.includes(BarcodeFormat$1.QR_CODE)&&l.push(new QRCodeReader),s.includes(BarcodeFormat$1.DATA_MATRIX)&&l.push(new DataMatrixReader),s.includes(BarcodeFormat$1.AZTEC)&&l.push(new AztecReader),s.includes(BarcodeFormat$1.PDF_417)&&l.push(new PDF417Reader),c&&a&&l.push(new MultiFormatOneDReader(n))}l.length===0&&(a||l.push(new MultiFormatOneDReader(n)),l.push(new QRCodeReader),l.push(new DataMatrixReader),l.push(new AztecReader),l.push(new PDF417Reader),a&&l.push(new MultiFormatOneDReader(n))),this.readers=l},i.prototype.reset=function(){var n,a;if(this.readers!==null)try{for(var s=__values$8(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;c.reset()}}catch(f){n={error:f}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},i.prototype.decodeInternal=function(n){var a,s;if(this.readers===null)throw new ReaderException("No readers where selected, nothing can be read.");try{for(var l=__values$8(this.readers),c=l.next();!c.done;c=l.next()){var f=c.value;try{return f.decode(n,this.hints)}catch(p){if(p instanceof ReaderException)continue}}}catch(p){a={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}throw new NotFoundException("No MultiFormat Readers were able to detect the code.")},i}(),__extends$c=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();(function(i){__extends$c(n,i);function n(a,s){a===void 0&&(a=null),s===void 0&&(s=500);var l=this,c=new MultiFormatReader;return c.setHints(a),l=i.call(this,c,s)||this,l}return n.prototype.decodeBitmap=function(a){return this.reader.decodeWithState(a)},n})(BrowserCodeReader);var __extends$b=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();(function(i){__extends$b(n,i);function n(a){return a===void 0&&(a=500),i.call(this,new PDF417Reader,a)||this}return n})(BrowserCodeReader);var __extends$a=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),BrowserQRCodeReader=function(i){__extends$a(n,i);function n(a){return a===void 0&&(a=500),i.call(this,new QRCodeReader,a)||this}return n}(BrowserCodeReader),EncodeHintType;(function(i){i[i.ERROR_CORRECTION=0]="ERROR_CORRECTION",i[i.CHARACTER_SET=1]="CHARACTER_SET",i[i.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",i[i.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",i[i.MIN_SIZE=4]="MIN_SIZE",i[i.MAX_SIZE=5]="MAX_SIZE",i[i.MARGIN=6]="MARGIN",i[i.PDF417_COMPACT=7]="PDF417_COMPACT",i[i.PDF417_COMPACTION=8]="PDF417_COMPACTION",i[i.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",i[i.AZTEC_LAYERS=10]="AZTEC_LAYERS",i[i.QR_VERSION=11]="QR_VERSION",i[i.GS1_FORMAT=12]="GS1_FORMAT",i[i.FORCE_C40=13]="FORCE_C40"})(EncodeHintType||(EncodeHintType={}));const EncodeHintType$1=EncodeHintType;var ReedSolomonEncoder=function(){function i(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new GenericGFPoly(n,Int32Array.from([1])))}return i.prototype.buildGenerator=function(n){var a=this.cachedGenerators;if(n>=a.length)for(var s=a[a.length-1],l=this.field,c=a.length;c<=n;c++){var f=s.multiply(new GenericGFPoly(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));a.push(f),s=f}return a[n]},i.prototype.encode=function(n,a){if(a===0)throw new IllegalArgumentException("No error correction bytes");var s=n.length-a;if(s<=0)throw new IllegalArgumentException("No data bytes provided");var l=this.buildGenerator(a),c=new Int32Array(s);System.arraycopy(n,0,c,0,s);var f=new GenericGFPoly(this.field,c);f=f.multiplyByMonomial(a,1);for(var p=f.divide(l)[1],g=p.getCoefficients(),y=a-g.length,b=0;b<y;b++)n[s+b]=0;System.arraycopy(g,0,n,s+y,g.length)},i}(),MaskUtil=function(){function i(){}return i.applyMaskPenaltyRule1=function(n){return i.applyMaskPenaltyRule1Internal(n,!0)+i.applyMaskPenaltyRule1Internal(n,!1)},i.applyMaskPenaltyRule2=function(n){for(var a=0,s=n.getArray(),l=n.getWidth(),c=n.getHeight(),f=0;f<c-1;f++)for(var p=s[f],g=0;g<l-1;g++){var y=p[g];y===p[g+1]&&y===s[f+1][g]&&y===s[f+1][g+1]&&a++}return i.N2*a},i.applyMaskPenaltyRule3=function(n){for(var a=0,s=n.getArray(),l=n.getWidth(),c=n.getHeight(),f=0;f<c;f++)for(var p=0;p<l;p++){var g=s[f];p+6<l&&g[p]===1&&g[p+1]===0&&g[p+2]===1&&g[p+3]===1&&g[p+4]===1&&g[p+5]===0&&g[p+6]===1&&(i.isWhiteHorizontal(g,p-4,p)||i.isWhiteHorizontal(g,p+7,p+11))&&a++,f+6<c&&s[f][p]===1&&s[f+1][p]===0&&s[f+2][p]===1&&s[f+3][p]===1&&s[f+4][p]===1&&s[f+5][p]===0&&s[f+6][p]===1&&(i.isWhiteVertical(s,p,f-4,f)||i.isWhiteVertical(s,p,f+7,f+11))&&a++}return a*i.N3},i.isWhiteHorizontal=function(n,a,s){a=Math.max(a,0),s=Math.min(s,n.length);for(var l=a;l<s;l++)if(n[l]===1)return!1;return!0},i.isWhiteVertical=function(n,a,s,l){s=Math.max(s,0),l=Math.min(l,n.length);for(var c=s;c<l;c++)if(n[c][a]===1)return!1;return!0},i.applyMaskPenaltyRule4=function(n){for(var a=0,s=n.getArray(),l=n.getWidth(),c=n.getHeight(),f=0;f<c;f++)for(var p=s[f],g=0;g<l;g++)p[g]===1&&a++;var y=n.getHeight()*n.getWidth(),b=Math.floor(Math.abs(a*2-y)*10/y);return b*i.N4},i.getDataMaskBit=function(n,a,s){var l,c;switch(n){case 0:l=s+a&1;break;case 1:l=s&1;break;case 2:l=a%3;break;case 3:l=(s+a)%3;break;case 4:l=Math.floor(s/2)+Math.floor(a/3)&1;break;case 5:c=s*a,l=(c&1)+c%3;break;case 6:c=s*a,l=(c&1)+c%3&1;break;case 7:c=s*a,l=c%3+(s+a&1)&1;break;default:throw new IllegalArgumentException("Invalid mask pattern: "+n)}return l===0},i.applyMaskPenaltyRule1Internal=function(n,a){for(var s=0,l=a?n.getHeight():n.getWidth(),c=a?n.getWidth():n.getHeight(),f=n.getArray(),p=0;p<l;p++){for(var g=0,y=-1,b=0;b<c;b++){var h=a?f[p][b]:f[b][p];h===y?g++:(g>=5&&(s+=i.N1+(g-5)),g=1,y=h)}g>=5&&(s+=i.N1+(g-5))}return s},i.N1=3,i.N2=3,i.N3=40,i.N4=10,i}(),__values$7=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ByteMatrix=function(){function i(n,a){this.width=n,this.height=a;for(var s=new Array(a),l=0;l!==a;l++)s[l]=new Uint8Array(n);this.bytes=s}return i.prototype.getHeight=function(){return this.height},i.prototype.getWidth=function(){return this.width},i.prototype.get=function(n,a){return this.bytes[a][n]},i.prototype.getArray=function(){return this.bytes},i.prototype.setNumber=function(n,a,s){this.bytes[a][n]=s},i.prototype.setBoolean=function(n,a,s){this.bytes[a][n]=s?1:0},i.prototype.clear=function(n){var a,s;try{for(var l=__values$7(this.bytes),c=l.next();!c.done;c=l.next()){var f=c.value;Arrays.fill(f,n)}}catch(p){a={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},i.prototype.equals=function(n){if(!(n instanceof i))return!1;var a=n;if(this.width!==a.width||this.height!==a.height)return!1;for(var s=0,l=this.height;s<l;++s)for(var c=this.bytes[s],f=a.bytes[s],p=0,g=this.width;p<g;++p)if(c[p]!==f[p])return!1;return!0},i.prototype.toString=function(){for(var n=new StringBuilder,a=0,s=this.height;a<s;++a){for(var l=this.bytes[a],c=0,f=this.width;c<f;++c)switch(l[c]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()},i}(),QRCode=function(){function i(){this.maskPattern=-1}return i.prototype.getMode=function(){return this.mode},i.prototype.getECLevel=function(){return this.ecLevel},i.prototype.getVersion=function(){return this.version},i.prototype.getMaskPattern=function(){return this.maskPattern},i.prototype.getMatrix=function(){return this.matrix},i.prototype.toString=function(){var n=new StringBuilder;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()},i.prototype.setMode=function(n){this.mode=n},i.prototype.setECLevel=function(n){this.ecLevel=n},i.prototype.setVersion=function(n){this.version=n},i.prototype.setMaskPattern=function(n){this.maskPattern=n},i.prototype.setMatrix=function(n){this.matrix=n},i.isValidMaskPattern=function(n){return n>=0&&n<i.NUM_MASK_PATTERNS},i.NUM_MASK_PATTERNS=8,i}(),__extends$9=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),WriterException=function(i){__extends$9(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.kind="WriterException",n}(Exception),MatrixUtil=function(){function i(){}return i.clearMatrix=function(n){n.clear(255)},i.buildMatrix=function(n,a,s,l,c){i.clearMatrix(c),i.embedBasicPatterns(s,c),i.embedTypeInfo(a,l,c),i.maybeEmbedVersionInfo(s,c),i.embedDataBits(n,l,c)},i.embedBasicPatterns=function(n,a){i.embedPositionDetectionPatternsAndSeparators(a),i.embedDarkDotAtLeftBottomCorner(a),i.maybeEmbedPositionAdjustmentPatterns(n,a),i.embedTimingPatterns(a)},i.embedTypeInfo=function(n,a,s){var l=new BitArray;i.makeTypeInfoBits(n,a,l);for(var c=0,f=l.getSize();c<f;++c){var p=l.get(l.getSize()-1-c),g=i.TYPE_INFO_COORDINATES[c],y=g[0],b=g[1];if(s.setBoolean(y,b,p),c<8){var h=s.getWidth()-c-1,d=8;s.setBoolean(h,d,p)}else{var h=8,d=s.getHeight()-7+(c-8);s.setBoolean(h,d,p)}}},i.maybeEmbedVersionInfo=function(n,a){if(!(n.getVersionNumber()<7)){var s=new BitArray;i.makeVersionInfoBits(n,s);for(var l=6*3-1,c=0;c<6;++c)for(var f=0;f<3;++f){var p=s.get(l);l--,a.setBoolean(c,a.getHeight()-11+f,p),a.setBoolean(a.getHeight()-11+f,c,p)}}},i.embedDataBits=function(n,a,s){for(var l=0,c=-1,f=s.getWidth()-1,p=s.getHeight()-1;f>0;){for(f===6&&(f-=1);p>=0&&p<s.getHeight();){for(var g=0;g<2;++g){var y=f-g;if(i.isEmpty(s.get(y,p))){var b=void 0;l<n.getSize()?(b=n.get(l),++l):b=!1,a!==255&&MaskUtil.getDataMaskBit(a,y,p)&&(b=!b),s.setBoolean(y,p,b)}}p+=c}c=-c,p+=c,f-=2}if(l!==n.getSize())throw new WriterException("Not all bits consumed: "+l+"/"+n.getSize())},i.findMSBSet=function(n){return 32-Integer.numberOfLeadingZeros(n)},i.calculateBCHCode=function(n,a){if(a===0)throw new IllegalArgumentException("0 polynomial");var s=i.findMSBSet(a);for(n<<=s-1;i.findMSBSet(n)>=s;)n^=a<<i.findMSBSet(n)-s;return n},i.makeTypeInfoBits=function(n,a,s){if(!QRCode.isValidMaskPattern(a))throw new WriterException("Invalid mask pattern");var l=n.getBits()<<3|a;s.appendBits(l,5);var c=i.calculateBCHCode(l,i.TYPE_INFO_POLY);s.appendBits(c,10);var f=new BitArray;if(f.appendBits(i.TYPE_INFO_MASK_PATTERN,15),s.xor(f),s.getSize()!==15)throw new WriterException("should not happen but we got: "+s.getSize())},i.makeVersionInfoBits=function(n,a){a.appendBits(n.getVersionNumber(),6);var s=i.calculateBCHCode(n.getVersionNumber(),i.VERSION_INFO_POLY);if(a.appendBits(s,12),a.getSize()!==18)throw new WriterException("should not happen but we got: "+a.getSize())},i.isEmpty=function(n){return n===255},i.embedTimingPatterns=function(n){for(var a=8;a<n.getWidth()-8;++a){var s=(a+1)%2;i.isEmpty(n.get(a,6))&&n.setNumber(a,6,s),i.isEmpty(n.get(6,a))&&n.setNumber(6,a,s)}},i.embedDarkDotAtLeftBottomCorner=function(n){if(n.get(8,n.getHeight()-8)===0)throw new WriterException;n.setNumber(8,n.getHeight()-8,1)},i.embedHorizontalSeparationPattern=function(n,a,s){for(var l=0;l<8;++l){if(!i.isEmpty(s.get(n+l,a)))throw new WriterException;s.setNumber(n+l,a,0)}},i.embedVerticalSeparationPattern=function(n,a,s){for(var l=0;l<7;++l){if(!i.isEmpty(s.get(n,a+l)))throw new WriterException;s.setNumber(n,a+l,0)}},i.embedPositionAdjustmentPattern=function(n,a,s){for(var l=0;l<5;++l)for(var c=i.POSITION_ADJUSTMENT_PATTERN[l],f=0;f<5;++f)s.setNumber(n+f,a+l,c[f])},i.embedPositionDetectionPattern=function(n,a,s){for(var l=0;l<7;++l)for(var c=i.POSITION_DETECTION_PATTERN[l],f=0;f<7;++f)s.setNumber(n+f,a+l,c[f])},i.embedPositionDetectionPatternsAndSeparators=function(n){var a=i.POSITION_DETECTION_PATTERN[0].length;i.embedPositionDetectionPattern(0,0,n),i.embedPositionDetectionPattern(n.getWidth()-a,0,n),i.embedPositionDetectionPattern(0,n.getWidth()-a,n);var s=8;i.embedHorizontalSeparationPattern(0,s-1,n),i.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),i.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);var l=7;i.embedVerticalSeparationPattern(l,0,n),i.embedVerticalSeparationPattern(n.getHeight()-l-1,0,n),i.embedVerticalSeparationPattern(l,n.getHeight()-l,n)},i.maybeEmbedPositionAdjustmentPatterns=function(n,a){if(!(n.getVersionNumber()<2))for(var s=n.getVersionNumber()-1,l=i.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s],c=0,f=l.length;c!==f;c++){var p=l[c];if(p>=0)for(var g=0;g!==f;g++){var y=l[g];y>=0&&i.isEmpty(a.get(y,p))&&i.embedPositionAdjustmentPattern(y-2,p-2,a)}}},i.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),i.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),i.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),i.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),i.VERSION_INFO_POLY=7973,i.TYPE_INFO_POLY=1335,i.TYPE_INFO_MASK_PATTERN=21522,i}(),BlockPair=function(){function i(n,a){this.dataBytes=n,this.errorCorrectionBytes=a}return i.prototype.getDataBytes=function(){return this.dataBytes},i.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},i}(),__values$6=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function i(){}return i.calculateMaskPenalty=function(n){return MaskUtil.applyMaskPenaltyRule1(n)+MaskUtil.applyMaskPenaltyRule2(n)+MaskUtil.applyMaskPenaltyRule3(n)+MaskUtil.applyMaskPenaltyRule4(n)},i.encode=function(n,a,s){s===void 0&&(s=null);var l=i.DEFAULT_BYTE_MODE_ENCODING,c=s!==null&&s.get(EncodeHintType$1.CHARACTER_SET)!==void 0;c&&(l=s.get(EncodeHintType$1.CHARACTER_SET).toString());var f=this.chooseMode(n,l),p=new BitArray;if(f===Mode$2.BYTE&&(c||i.DEFAULT_BYTE_MODE_ENCODING!==l)){var g=CharacterSetECI.getCharacterSetECIByName(l);g!==void 0&&this.appendECI(g,p)}this.appendModeInfo(f,p);var y=new BitArray;this.appendBytes(n,f,y,l);var b;if(s!==null&&s.get(EncodeHintType$1.QR_VERSION)!==void 0){var h=Number.parseInt(s.get(EncodeHintType$1.QR_VERSION).toString(),10);b=Version.getVersionForNumber(h);var d=this.calculateBitsNeeded(f,p,y,b);if(!this.willFit(d,b,a))throw new WriterException("Data too big for requested version")}else b=this.recommendVersion(a,f,p,y);var v=new BitArray;v.appendBitArray(p);var _=f===Mode$2.BYTE?y.getSizeInBytes():n.length;this.appendLengthInfo(_,b,f,v),v.appendBitArray(y);var A=b.getECBlocksForLevel(a),I=b.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(I,v);var R=this.interleaveWithECBytes(v,b.getTotalCodewords(),I,A.getNumBlocks()),P=new QRCode;P.setECLevel(a),P.setMode(f),P.setVersion(b);var $=b.getDimensionForVersion(),M=new ByteMatrix($,$),B=this.chooseMaskPattern(R,a,b,M);return P.setMaskPattern(B),MatrixUtil.buildMatrix(R,a,b,B,M),P.setMatrix(M),P},i.recommendVersion=function(n,a,s,l){var c=this.calculateBitsNeeded(a,s,l,Version.getVersionForNumber(1)),f=this.chooseVersion(c,n),p=this.calculateBitsNeeded(a,s,l,f);return this.chooseVersion(p,n)},i.calculateBitsNeeded=function(n,a,s,l){return a.getSize()+n.getCharacterCountBits(l)+s.getSize()},i.getAlphanumericCode=function(n){return n<i.ALPHANUMERIC_TABLE.length?i.ALPHANUMERIC_TABLE[n]:-1},i.chooseMode=function(n,a){if(a===void 0&&(a=null),CharacterSetECI.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(n))return Mode$2.KANJI;for(var s=!1,l=!1,c=0,f=n.length;c<f;++c){var p=n.charAt(c);if(i.isDigit(p))s=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)l=!0;else return Mode$2.BYTE}return l?Mode$2.ALPHANUMERIC:s?Mode$2.NUMERIC:Mode$2.BYTE},i.isOnlyDoubleByteKanji=function(n){var a;try{a=StringEncoding.encode(n,CharacterSetECI.SJIS)}catch{return!1}var s=a.length;if(s%2!==0)return!1;for(var l=0;l<s;l+=2){var c=a[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0},i.chooseMaskPattern=function(n,a,s,l){for(var c=Number.MAX_SAFE_INTEGER,f=-1,p=0;p<QRCode.NUM_MASK_PATTERNS;p++){MatrixUtil.buildMatrix(n,a,s,p,l);var g=this.calculateMaskPenalty(l);g<c&&(c=g,f=p)}return f},i.chooseVersion=function(n,a){for(var s=1;s<=40;s++){var l=Version.getVersionForNumber(s);if(i.willFit(n,l,a))return l}throw new WriterException("Data too big")},i.willFit=function(n,a,s){var l=a.getTotalCodewords(),c=a.getECBlocksForLevel(s),f=c.getTotalECCodewords(),p=l-f,g=(n+7)/8;return p>=g},i.terminateBits=function(n,a){var s=n*8;if(a.getSize()>s)throw new WriterException("data bits cannot fit in the QR Code"+a.getSize()+" > "+s);for(var l=0;l<4&&a.getSize()<s;++l)a.appendBit(!1);var c=a.getSize()&7;if(c>0)for(var l=c;l<8;l++)a.appendBit(!1);for(var f=n-a.getSizeInBytes(),l=0;l<f;++l)a.appendBits((l&1)===0?236:17,8);if(a.getSize()!==s)throw new WriterException("Bits size does not equal capacity")},i.getNumDataBytesAndNumECBytesForBlockID=function(n,a,s,l,c,f){if(l>=s)throw new WriterException("Block ID too large");var p=n%s,g=s-p,y=Math.floor(n/s),b=y+1,h=Math.floor(a/s),d=h+1,v=y-h,_=b-d;if(v!==_)throw new WriterException("EC bytes mismatch");if(s!==g+p)throw new WriterException("RS blocks mismatch");if(n!==(h+v)*g+(d+_)*p)throw new WriterException("Total bytes mismatch");l<g?(c[0]=h,f[0]=v):(c[0]=d,f[0]=_)},i.interleaveWithECBytes=function(n,a,s,l){var c,f,p,g;if(n.getSizeInBytes()!==s)throw new WriterException("Number of bits and data bytes does not match");for(var y=0,b=0,h=0,d=new Array,v=0;v<l;++v){var _=new Int32Array(1),A=new Int32Array(1);i.getNumDataBytesAndNumECBytesForBlockID(a,s,l,v,_,A);var I=_[0],R=new Uint8Array(I);n.toBytes(8*y,R,0,I);var P=i.generateECBytes(R,A[0]);d.push(new BlockPair(R,P)),b=Math.max(b,I),h=Math.max(h,P.length),y+=_[0]}if(s!==y)throw new WriterException("Data bytes does not match offset");for(var $=new BitArray,v=0;v<b;++v)try{for(var M=(c=void 0,__values$6(d)),B=M.next();!B.done;B=M.next()){var F=B.value,R=F.getDataBytes();v<R.length&&$.appendBits(R[v],8)}}catch(L){c={error:L}}finally{try{B&&!B.done&&(f=M.return)&&f.call(M)}finally{if(c)throw c.error}}for(var v=0;v<h;++v)try{for(var q=(p=void 0,__values$6(d)),H=q.next();!H.done;H=q.next()){var F=H.value,P=F.getErrorCorrectionBytes();v<P.length&&$.appendBits(P[v],8)}}catch(L){p={error:L}}finally{try{H&&!H.done&&(g=q.return)&&g.call(q)}finally{if(p)throw p.error}}if(a!==$.getSizeInBytes())throw new WriterException("Interleaving error: "+a+" and "+$.getSizeInBytes()+" differ.");return $},i.generateECBytes=function(n,a){for(var s=n.length,l=new Int32Array(s+a),c=0;c<s;c++)l[c]=n[c]&255;new ReedSolomonEncoder(GenericGF.QR_CODE_FIELD_256).encode(l,a);for(var f=new Uint8Array(a),c=0;c<a;c++)f[c]=l[s+c];return f},i.appendModeInfo=function(n,a){a.appendBits(n.getBits(),4)},i.appendLengthInfo=function(n,a,s,l){var c=s.getCharacterCountBits(a);if(n>=1<<c)throw new WriterException(n+" is bigger than "+((1<<c)-1));l.appendBits(n,c)},i.appendBytes=function(n,a,s,l){switch(a){case Mode$2.NUMERIC:i.appendNumericBytes(n,s);break;case Mode$2.ALPHANUMERIC:i.appendAlphanumericBytes(n,s);break;case Mode$2.BYTE:i.append8BitBytes(n,s,l);break;case Mode$2.KANJI:i.appendKanjiBytes(n,s);break;default:throw new WriterException("Invalid mode: "+a)}},i.getDigit=function(n){return n.charCodeAt(0)-48},i.isDigit=function(n){var a=i.getDigit(n);return a>=0&&a<=9},i.appendNumericBytes=function(n,a){for(var s=n.length,l=0;l<s;){var c=i.getDigit(n.charAt(l));if(l+2<s){var f=i.getDigit(n.charAt(l+1)),p=i.getDigit(n.charAt(l+2));a.appendBits(c*100+f*10+p,10),l+=3}else if(l+1<s){var f=i.getDigit(n.charAt(l+1));a.appendBits(c*10+f,7),l+=2}else a.appendBits(c,4),l++}},i.appendAlphanumericBytes=function(n,a){for(var s=n.length,l=0;l<s;){var c=i.getAlphanumericCode(n.charCodeAt(l));if(c===-1)throw new WriterException;if(l+1<s){var f=i.getAlphanumericCode(n.charCodeAt(l+1));if(f===-1)throw new WriterException;a.appendBits(c*45+f,11),l+=2}else a.appendBits(c,6),l++}},i.append8BitBytes=function(n,a,s){var l;try{l=StringEncoding.encode(n,s)}catch(g){throw new WriterException(g)}for(var c=0,f=l.length;c!==f;c++){var p=l[c];a.appendBits(p,8)}},i.appendKanjiBytes=function(n,a){var s;try{s=StringEncoding.encode(n,CharacterSetECI.SJIS)}catch(h){throw new WriterException(h)}for(var l=s.length,c=0;c<l;c+=2){var f=s[c]&255,p=s[c+1]&255,g=f<<8&4294967295|p,y=-1;if(g>=33088&&g<=40956?y=g-33088:g>=57408&&g<=60351&&(y=g-49472),y===-1)throw new WriterException("Invalid byte sequence");var b=(y>>8)*192+(y&255);a.appendBits(b,13)}},i.appendECI=function(n,a){a.appendBits(Mode$2.ECI.getBits(),4),a.appendBits(n.getValue(),8)},i.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),i.DEFAULT_BYTE_MODE_ENCODING=CharacterSetECI.UTF8.getName(),i})();var __extends$8=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();(function(i){__extends$8(n,i);function n(a,s,l,c,f,p,g,y){var b=i.call(this,p,g)||this;if(b.yuvData=a,b.dataWidth=s,b.dataHeight=l,b.left=c,b.top=f,c+p>s||f+g>l)throw new IllegalArgumentException("Crop rectangle does not fit within image data.");return y&&b.reverseHorizontal(p,g),b}return n.prototype.getRow=function(a,s){if(a<0||a>=this.getHeight())throw new IllegalArgumentException("Requested row is outside the image: "+a);var l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));var c=(a+this.top)*this.dataWidth+this.left;return System.arraycopy(this.yuvData,c,s,0,l),s},n.prototype.getMatrix=function(){var a=this.getWidth(),s=this.getHeight();if(a===this.dataWidth&&s===this.dataHeight)return this.yuvData;var l=a*s,c=new Uint8ClampedArray(l),f=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return System.arraycopy(this.yuvData,f,c,0,l),c;for(var p=0;p<s;p++){var g=p*a;System.arraycopy(this.yuvData,f,c,g,a),f+=this.dataWidth}return c},n.prototype.isCropSupported=function(){return!0},n.prototype.crop=function(a,s,l,c){return new n(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+s,l,c,!1)},n.prototype.renderThumbnail=function(){for(var a=this.getWidth()/n.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/n.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(a*s),c=this.yuvData,f=this.top*this.dataWidth+this.left,p=0;p<s;p++){for(var g=p*a,y=0;y<a;y++){var b=c[f+y*n.THUMBNAIL_SCALE_FACTOR]&255;l[g+y]=4278190080|b*65793}f+=this.dataWidth*n.THUMBNAIL_SCALE_FACTOR}return l},n.prototype.getThumbnailWidth=function(){return this.getWidth()/n.THUMBNAIL_SCALE_FACTOR},n.prototype.getThumbnailHeight=function(){return this.getHeight()/n.THUMBNAIL_SCALE_FACTOR},n.prototype.reverseHorizontal=function(a,s){for(var l=this.yuvData,c=0,f=this.top*this.dataWidth+this.left;c<s;c++,f+=this.dataWidth)for(var p=f+a/2,g=f,y=f+a-1;g<p;g++,y--){var b=l[g];l[g]=l[y],l[y]=b}},n.prototype.invert=function(){return new InvertedLuminanceSource(this)},n.THUMBNAIL_SCALE_FACTOR=2,n})(LuminanceSource);var __extends$7=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();(function(i){__extends$7(n,i);function n(a,s,l,c,f,p,g){var y=i.call(this,s,l)||this;if(y.dataWidth=c,y.dataHeight=f,y.left=p,y.top=g,a.BYTES_PER_ELEMENT===4){for(var b=s*l,h=new Uint8ClampedArray(b),d=0;d<b;d++){var v=a[d],_=v>>16&255,A=v>>7&510,I=v&255;h[d]=(_+A+I)/4&255}y.luminances=h}else y.luminances=a;if(c===void 0&&(y.dataWidth=s),f===void 0&&(y.dataHeight=l),p===void 0&&(y.left=0),g===void 0&&(y.top=0),y.left+s>y.dataWidth||y.top+l>y.dataHeight)throw new IllegalArgumentException("Crop rectangle does not fit within image data.");return y}return n.prototype.getRow=function(a,s){if(a<0||a>=this.getHeight())throw new IllegalArgumentException("Requested row is outside the image: "+a);var l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));var c=(a+this.top)*this.dataWidth+this.left;return System.arraycopy(this.luminances,c,s,0,l),s},n.prototype.getMatrix=function(){var a=this.getWidth(),s=this.getHeight();if(a===this.dataWidth&&s===this.dataHeight)return this.luminances;var l=a*s,c=new Uint8ClampedArray(l),f=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return System.arraycopy(this.luminances,f,c,0,l),c;for(var p=0;p<s;p++){var g=p*a;System.arraycopy(this.luminances,f,c,g,a),f+=this.dataWidth}return c},n.prototype.isCropSupported=function(){return!0},n.prototype.crop=function(a,s,l,c){return new n(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+a,this.top+s)},n.prototype.invert=function(){return new InvertedLuminanceSource(this)},n})(LuminanceSource);var __extends$6=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),Charset=function(i){__extends$6(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.forName=function(a){return this.getCharacterSetECIByName(a)},n}(CharacterSetECI),StandardCharsets=function(){function i(){}return i.ISO_8859_1=CharacterSetECI.ISO8859_1,i}(),_a,MODULO_VALUE=301,static_LOG=function(i,n){for(var a=1,s=0;s<255;s++)n[s]=a,i[a]=s,a*=2,a>=256&&(a^=MODULO_VALUE);return{LOG:i,ALOG:n}};_a=static_LOG([],[]),_a.LOG;_a.ALOG;var SymbolShapeHint;(function(i){i[i.FORCE_NONE=0]="FORCE_NONE",i[i.FORCE_SQUARE=1]="FORCE_SQUARE",i[i.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(SymbolShapeHint||(SymbolShapeHint={}));var PAD=129,LATCH_TO_C40=230,LATCH_TO_BASE256=231,UPPER_SHIFT=235,MACRO_05=236,MACRO_06=237,LATCH_TO_ANSIX12=238,LATCH_TO_TEXT=239,LATCH_TO_EDIFACT=240,C40_UNLATCH=254,X12_UNLATCH=254,MACRO_05_HEADER="[)>05",MACRO_06_HEADER="[)>06",MACRO_TRAILER="",ASCII_ENCODATION=0,C40_ENCODATION=1,TEXT_ENCODATION=2,X12_ENCODATION=3,EDIFACT_ENCODATION=4,BASE256_ENCODATION=5,ASCIIEncoder=function(){function i(){}return i.prototype.getEncodingMode=function(){return ASCII_ENCODATION},i.prototype.encode=function(n){var a=HighLevelEncoder$1.determineConsecutiveDigitCount(n.getMessage(),n.pos);if(a>=2)n.writeCodeword(this.encodeASCIIDigits(n.getMessage().charCodeAt(n.pos),n.getMessage().charCodeAt(n.pos+1))),n.pos+=2;else{var s=n.getCurrentChar(),l=HighLevelEncoder$1.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(l!==this.getEncodingMode())switch(l){case BASE256_ENCODATION:n.writeCodeword(LATCH_TO_BASE256),n.signalEncoderChange(BASE256_ENCODATION);return;case C40_ENCODATION:n.writeCodeword(LATCH_TO_C40),n.signalEncoderChange(C40_ENCODATION);return;case X12_ENCODATION:n.writeCodeword(LATCH_TO_ANSIX12),n.signalEncoderChange(X12_ENCODATION);break;case TEXT_ENCODATION:n.writeCodeword(LATCH_TO_TEXT),n.signalEncoderChange(TEXT_ENCODATION);break;case EDIFACT_ENCODATION:n.writeCodeword(LATCH_TO_EDIFACT),n.signalEncoderChange(EDIFACT_ENCODATION);break;default:throw new Error("Illegal mode: "+l)}else HighLevelEncoder$1.isExtendedASCII(s)?(n.writeCodeword(UPPER_SHIFT),n.writeCodeword(s-128+1),n.pos++):(n.writeCodeword(s+1),n.pos++)}},i.prototype.encodeASCIIDigits=function(n,a){if(HighLevelEncoder$1.isDigit(n)&&HighLevelEncoder$1.isDigit(a)){var s=(n-48)*10+(a-48);return s+130}throw new Error("not digits: "+n+a)},i}(),Base256Encoder=function(){function i(){}return i.prototype.getEncodingMode=function(){return BASE256_ENCODATION},i.prototype.encode=function(n){var a=new StringBuilder;for(a.append(0);n.hasMoreCharacters();){var s=n.getCurrentChar();a.append(s),n.pos++;var l=HighLevelEncoder$1.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){n.signalEncoderChange(ASCII_ENCODATION);break}}var c=a.length()-1,f=1,p=n.getCodewordCount()+c+f;n.updateSymbolInfo(p);var g=n.getSymbolInfo().getDataCapacity()-p>0;if(n.hasMoreCharacters()||g)if(c<=249)a.setCharAt(0,StringUtils.getCharAt(c));else if(c<=1555)a.setCharAt(0,StringUtils.getCharAt(Math.floor(c/250)+249)),a.insert(1,StringUtils.getCharAt(c%250));else throw new Error("Message length not in valid ranges: "+c);for(var y=0,s=a.length();y<s;y++)n.writeCodeword(this.randomize255State(a.charAt(y).charCodeAt(0),n.getCodewordCount()+1))},i.prototype.randomize255State=function(n,a){var s=149*a%255+1,l=n+s;return l<=255?l:l-256},i}(),C40Encoder=function(){function i(){}return i.prototype.getEncodingMode=function(){return C40_ENCODATION},i.prototype.encodeMaximal=function(n){for(var a=new StringBuilder,s=0,l=n.pos,c=0;n.hasMoreCharacters();){var f=n.getCurrentChar();n.pos++,s=this.encodeChar(f,a),a.length()%3===0&&(l=n.pos,c=a.length())}if(c!==a.length()){var p=Math.floor(a.length()/3*2),g=Math.floor(n.getCodewordCount()+p+1);n.updateSymbolInfo(g);var y=n.getSymbolInfo().getDataCapacity()-g,b=Math.floor(a.length()%3);(b===2&&y!==2||b===1&&(s>3||y!==1))&&(n.pos=l)}a.length()>0&&n.writeCodeword(LATCH_TO_C40),this.handleEOD(n,a)},i.prototype.encode=function(n){for(var a=new StringBuilder;n.hasMoreCharacters();){var s=n.getCurrentChar();n.pos++;var l=this.encodeChar(s,a),c=Math.floor(a.length()/3)*2,f=n.getCodewordCount()+c;n.updateSymbolInfo(f);var p=n.getSymbolInfo().getDataCapacity()-f;if(!n.hasMoreCharacters()){var g=new StringBuilder;for(a.length()%3===2&&p!==2&&(l=this.backtrackOneCharacter(n,a,g,l));a.length()%3===1&&(l>3||p!==1);)l=this.backtrackOneCharacter(n,a,g,l);break}var y=a.length();if(y%3===0){var b=HighLevelEncoder$1.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(b!==this.getEncodingMode()){n.signalEncoderChange(ASCII_ENCODATION);break}}}this.handleEOD(n,a)},i.prototype.backtrackOneCharacter=function(n,a,s,l){var c=a.length(),f=a.toString().substring(0,c-l);a.setLengthToZero(),a.append(f),n.pos--;var p=n.getCurrentChar();return l=this.encodeChar(p,s),n.resetSymbolInfo(),l},i.prototype.writeNextTriplet=function(n,a){n.writeCodewords(this.encodeToCodewords(a.toString()));var s=a.toString().substring(3);a.setLengthToZero(),a.append(s)},i.prototype.handleEOD=function(n,a){var s=Math.floor(a.length()/3*2),l=a.length()%3,c=n.getCodewordCount()+s;n.updateSymbolInfo(c);var f=n.getSymbolInfo().getDataCapacity()-c;if(l===2){for(a.append("\0");a.length()>=3;)this.writeNextTriplet(n,a);n.hasMoreCharacters()&&n.writeCodeword(C40_UNLATCH)}else if(f===1&&l===1){for(;a.length()>=3;)this.writeNextTriplet(n,a);n.hasMoreCharacters()&&n.writeCodeword(C40_UNLATCH),n.pos--}else if(l===0){for(;a.length()>=3;)this.writeNextTriplet(n,a);(f>0||n.hasMoreCharacters())&&n.writeCodeword(C40_UNLATCH)}else throw new Error("Unexpected case. Please report!");n.signalEncoderChange(ASCII_ENCODATION)},i.prototype.encodeChar=function(n,a){if(n===32)return a.append(3),1;if(n>=48&&n<=57)return a.append(n-48+4),1;if(n>=65&&n<=90)return a.append(n-65+14),1;if(n<32)return a.append(0),a.append(n),2;if(n<=47)return a.append(1),a.append(n-33),2;if(n<=64)return a.append(1),a.append(n-58+15),2;if(n<=95)return a.append(1),a.append(n-91+22),2;if(n<=127)return a.append(2),a.append(n-96),2;a.append("1");var s=2;return s+=this.encodeChar(n-128,a),s},i.prototype.encodeToCodewords=function(n){var a=1600*n.charCodeAt(0)+40*n.charCodeAt(1)+n.charCodeAt(2)+1,s=a/256,l=a%256,c=new StringBuilder;return c.append(s),c.append(l),c.toString()},i}(),EdifactEncoder=function(){function i(){}return i.prototype.getEncodingMode=function(){return EDIFACT_ENCODATION},i.prototype.encode=function(n){for(var a=new StringBuilder;n.hasMoreCharacters();){var s=n.getCurrentChar();this.encodeChar(s,a),n.pos++;var l=a.length();if(l>=4){n.writeCodewords(this.encodeToCodewords(a.toString()));var c=a.toString().substring(4);a.setLengthToZero(),a.append(c);var f=HighLevelEncoder$1.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(f!==this.getEncodingMode()){n.signalEncoderChange(ASCII_ENCODATION);break}}}a.append(StringUtils.getCharAt(31)),this.handleEOD(n,a)},i.prototype.handleEOD=function(n,a){try{var s=a.length();if(s===0)return;if(s===1){n.updateSymbolInfo();var l=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),c=n.getRemainingCharacters();if(c>l&&(n.updateSymbolInfo(n.getCodewordCount()+1),l=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount()),c<=l&&l<=2)return}if(s>4)throw new Error("Count must not exceed 4");var f=s-1,p=this.encodeToCodewords(a.toString()),g=!n.hasMoreCharacters(),y=g&&f<=2;if(f<=2){n.updateSymbolInfo(n.getCodewordCount()+f);var l=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount();l>=3&&(y=!1,n.updateSymbolInfo(n.getCodewordCount()+p.length))}y?(n.resetSymbolInfo(),n.pos-=f):n.writeCodewords(p)}finally{n.signalEncoderChange(ASCII_ENCODATION)}},i.prototype.encodeChar=function(n,a){n>=32&&n<=63?a.append(n):n>=64&&n<=94?a.append(StringUtils.getCharAt(n-64)):HighLevelEncoder$1.illegalCharacter(StringUtils.getCharAt(n))},i.prototype.encodeToCodewords=function(n){var a=n.length;if(a===0)throw new Error("StringBuilder must not be empty");var s=n.charAt(0).charCodeAt(0),l=a>=2?n.charAt(1).charCodeAt(0):0,c=a>=3?n.charAt(2).charCodeAt(0):0,f=a>=4?n.charAt(3).charCodeAt(0):0,p=(s<<18)+(l<<12)+(c<<6)+f,g=p>>16&255,y=p>>8&255,b=p&255,h=new StringBuilder;return h.append(g),a>=2&&h.append(y),a>=3&&h.append(b),h.toString()},i}(),__extends$5=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__values$5=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},SymbolInfo=function(){function i(n,a,s,l,c,f,p,g){p===void 0&&(p=0),g===void 0&&(g=0),this.rectangular=n,this.dataCapacity=a,this.errorCodewords=s,this.matrixWidth=l,this.matrixHeight=c,this.dataRegions=f,this.rsBlockData=p,this.rsBlockError=g}return i.lookup=function(n,a,s,l,c){var f,p;a===void 0&&(a=0),s===void 0&&(s=null),l===void 0&&(l=null),c===void 0&&(c=!0);try{for(var g=__values$5(PROD_SYMBOLS),y=g.next();!y.done;y=g.next()){var b=y.value;if(!(a===1&&b.rectangular)&&!(a===2&&!b.rectangular)&&!(s!=null&&(b.getSymbolWidth()<s.getWidth()||b.getSymbolHeight()<s.getHeight()))&&!(l!=null&&(b.getSymbolWidth()>l.getWidth()||b.getSymbolHeight()>l.getHeight()))&&n<=b.dataCapacity)return b}}catch(h){f={error:h}}finally{try{y&&!y.done&&(p=g.return)&&p.call(g)}finally{if(f)throw f.error}}if(c)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+n);return null},i.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},i.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},i.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},i.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},i.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},i.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},i.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},i.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},i.prototype.getDataCapacity=function(){return this.dataCapacity},i.prototype.getErrorCodewords=function(){return this.errorCodewords},i.prototype.getDataLengthForInterleavedBlock=function(n){return this.rsBlockData},i.prototype.getErrorLengthForInterleavedBlock=function(n){return this.rsBlockError},i}(),DataMatrixSymbolInfo144=function(i){__extends$5(n,i);function n(){return i.call(this,!1,1558,620,22,22,36,-1,62)||this}return n.prototype.getInterleavedBlockCount=function(){return 10},n.prototype.getDataLengthForInterleavedBlock=function(a){return a<=8?156:155},n}(SymbolInfo),PROD_SYMBOLS=[new SymbolInfo(!1,3,5,8,8,1),new SymbolInfo(!1,5,7,10,10,1),new SymbolInfo(!0,5,7,16,6,1),new SymbolInfo(!1,8,10,12,12,1),new SymbolInfo(!0,10,11,14,6,2),new SymbolInfo(!1,12,12,14,14,1),new SymbolInfo(!0,16,14,24,10,1),new SymbolInfo(!1,18,14,16,16,1),new SymbolInfo(!1,22,18,18,18,1),new SymbolInfo(!0,22,18,16,10,2),new SymbolInfo(!1,30,20,20,20,1),new SymbolInfo(!0,32,24,16,14,2),new SymbolInfo(!1,36,24,22,22,1),new SymbolInfo(!1,44,28,24,24,1),new SymbolInfo(!0,49,28,22,14,2),new SymbolInfo(!1,62,36,14,14,4),new SymbolInfo(!1,86,42,16,16,4),new SymbolInfo(!1,114,48,18,18,4),new SymbolInfo(!1,144,56,20,20,4),new SymbolInfo(!1,174,68,22,22,4),new SymbolInfo(!1,204,84,24,24,4,102,42),new SymbolInfo(!1,280,112,14,14,16,140,56),new SymbolInfo(!1,368,144,16,16,16,92,36),new SymbolInfo(!1,456,192,18,18,16,114,48),new SymbolInfo(!1,576,224,20,20,16,144,56),new SymbolInfo(!1,696,272,22,22,16,174,68),new SymbolInfo(!1,816,336,24,24,16,136,56),new SymbolInfo(!1,1050,408,18,18,36,175,68),new SymbolInfo(!1,1304,496,20,20,36,163,62),new DataMatrixSymbolInfo144],EncoderContext=function(){function i(n){this.msg=n,this.pos=0,this.skipAtEnd=0;for(var a=n.split("").map(function(p){return p.charCodeAt(0)}),s=new StringBuilder,l=0,c=a.length;l<c;l++){var f=String.fromCharCode(a[l]&255);if(f==="?"&&n.charAt(l)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");s.append(f)}this.msg=s.toString(),this.shape=0,this.codewords=new StringBuilder,this.newEncoding=-1}return i.prototype.setSymbolShape=function(n){this.shape=n},i.prototype.setSizeConstraints=function(n,a){this.minSize=n,this.maxSize=a},i.prototype.getMessage=function(){return this.msg},i.prototype.setSkipAtEnd=function(n){this.skipAtEnd=n},i.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},i.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},i.prototype.getCodewords=function(){return this.codewords},i.prototype.writeCodewords=function(n){this.codewords.append(n)},i.prototype.writeCodeword=function(n){this.codewords.append(n)},i.prototype.getCodewordCount=function(){return this.codewords.length()},i.prototype.getNewEncoding=function(){return this.newEncoding},i.prototype.signalEncoderChange=function(n){this.newEncoding=n},i.prototype.resetEncoderSignal=function(){this.newEncoding=-1},i.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},i.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},i.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},i.prototype.getSymbolInfo=function(){return this.symbolInfo},i.prototype.updateSymbolInfo=function(n){n===void 0&&(n=this.getCodewordCount()),(this.symbolInfo==null||n>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=SymbolInfo.lookup(n,this.shape,this.minSize,this.maxSize,!0))},i.prototype.resetSymbolInfo=function(){this.symbolInfo=null},i}(),__extends$4=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),X12Encoder=function(i){__extends$4(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.getEncodingMode=function(){return X12_ENCODATION},n.prototype.encode=function(a){for(var s=new StringBuilder;a.hasMoreCharacters();){var l=a.getCurrentChar();a.pos++,this.encodeChar(l,s);var c=s.length();if(c%3===0){this.writeNextTriplet(a,s);var f=HighLevelEncoder$1.lookAheadTest(a.getMessage(),a.pos,this.getEncodingMode());if(f!==this.getEncodingMode()){a.signalEncoderChange(ASCII_ENCODATION);break}}}this.handleEOD(a,s)},n.prototype.encodeChar=function(a,s){switch(a){case 13:s.append(0);break;case 42:s.append(1);break;case 62:s.append(2);break;case 32:s.append(3);break;default:a>=48&&a<=57?s.append(a-48+4):a>=65&&a<=90?s.append(a-65+14):HighLevelEncoder$1.illegalCharacter(StringUtils.getCharAt(a));break}return 1},n.prototype.handleEOD=function(a,s){a.updateSymbolInfo();var l=a.getSymbolInfo().getDataCapacity()-a.getCodewordCount(),c=s.length();a.pos-=c,(a.getRemainingCharacters()>1||l>1||a.getRemainingCharacters()!==l)&&a.writeCodeword(X12_UNLATCH),a.getNewEncoding()<0&&a.signalEncoderChange(ASCII_ENCODATION)},n}(C40Encoder),__extends$3=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),TextEncoder$1=function(i){__extends$3(n,i);function n(){return i!==null&&i.apply(this,arguments)||this}return n.prototype.getEncodingMode=function(){return TEXT_ENCODATION},n.prototype.encodeChar=function(a,s){if(a===32)return s.append(3),1;if(a>=48&&a<=57)return s.append(a-48+4),1;if(a>=97&&a<=122)return s.append(a-97+14),1;if(a<32)return s.append(0),s.append(a),2;if(a<=47)return s.append(1),s.append(a-33),2;if(a<=64)return s.append(1),s.append(a-58+15),2;if(a>=91&&a<=95)return s.append(1),s.append(a-91+22),2;if(a===96)return s.append(2),s.append(0),2;if(a<=90)return s.append(2),s.append(a-65+1),2;if(a<=127)return s.append(2),s.append(a-123+27),2;s.append("1");var l=2;return l+=this.encodeChar(a-128,s),l},n}(C40Encoder),HighLevelEncoder$1=function(){function i(){}return i.randomize253State=function(n){var a=149*n%253+1,s=PAD+a;return s<=254?s:s-254},i.encodeHighLevel=function(n,a,s,l,c){a===void 0&&(a=0),s===void 0&&(s=null),l===void 0&&(l=null),c===void 0&&(c=!1);var f=new C40Encoder,p=[new ASCIIEncoder,f,new TextEncoder$1,new X12Encoder,new EdifactEncoder,new Base256Encoder],g=new EncoderContext(n);g.setSymbolShape(a),g.setSizeConstraints(s,l),n.startsWith(MACRO_05_HEADER)&&n.endsWith(MACRO_TRAILER)?(g.writeCodeword(MACRO_05),g.setSkipAtEnd(2),g.pos+=MACRO_05_HEADER.length):n.startsWith(MACRO_06_HEADER)&&n.endsWith(MACRO_TRAILER)&&(g.writeCodeword(MACRO_06),g.setSkipAtEnd(2),g.pos+=MACRO_06_HEADER.length);var y=ASCII_ENCODATION;for(c&&(f.encodeMaximal(g),y=g.getNewEncoding(),g.resetEncoderSignal());g.hasMoreCharacters();)p[y].encode(g),g.getNewEncoding()>=0&&(y=g.getNewEncoding(),g.resetEncoderSignal());var b=g.getCodewordCount();g.updateSymbolInfo();var h=g.getSymbolInfo().getDataCapacity();b<h&&y!==ASCII_ENCODATION&&y!==BASE256_ENCODATION&&y!==EDIFACT_ENCODATION&&g.writeCodeword("þ");var d=g.getCodewords();for(d.length()<h&&d.append(PAD);d.length()<h;)d.append(this.randomize253State(d.length()+1));return g.getCodewords().toString()},i.lookAheadTest=function(n,a,s){var l=this.lookAheadTestIntern(n,a,s);if(s===X12_ENCODATION&&l===X12_ENCODATION){for(var c=Math.min(a+3,n.length),f=a;f<c;f++)if(!this.isNativeX12(n.charCodeAt(f)))return ASCII_ENCODATION}else if(s===EDIFACT_ENCODATION&&l===EDIFACT_ENCODATION){for(var c=Math.min(a+4,n.length),f=a;f<c;f++)if(!this.isNativeEDIFACT(n.charCodeAt(f)))return ASCII_ENCODATION}return l},i.lookAheadTestIntern=function(n,a,s){if(a>=n.length)return s;var l;s===ASCII_ENCODATION?l=[0,1,1,1,1,1.25]:(l=[1,2,2,2,2,2.25],l[s]=0);for(var c=0,f=new Uint8Array(6),p=[];;){if(a+c===n.length){Arrays.fill(f,0),Arrays.fill(p,0);var g=this.findMinimums(l,p,Integer.MAX_VALUE,f),y=this.getMinimumCount(f);if(p[ASCII_ENCODATION]===g)return ASCII_ENCODATION;if(y===1){if(f[BASE256_ENCODATION]>0)return BASE256_ENCODATION;if(f[EDIFACT_ENCODATION]>0)return EDIFACT_ENCODATION;if(f[TEXT_ENCODATION]>0)return TEXT_ENCODATION;if(f[X12_ENCODATION]>0)return X12_ENCODATION}return C40_ENCODATION}var b=n.charCodeAt(a+c);if(c++,this.isDigit(b)?l[ASCII_ENCODATION]+=.5:this.isExtendedASCII(b)?(l[ASCII_ENCODATION]=Math.ceil(l[ASCII_ENCODATION]),l[ASCII_ENCODATION]+=2):(l[ASCII_ENCODATION]=Math.ceil(l[ASCII_ENCODATION]),l[ASCII_ENCODATION]++),this.isNativeC40(b)?l[C40_ENCODATION]+=2/3:this.isExtendedASCII(b)?l[C40_ENCODATION]+=8/3:l[C40_ENCODATION]+=4/3,this.isNativeText(b)?l[TEXT_ENCODATION]+=2/3:this.isExtendedASCII(b)?l[TEXT_ENCODATION]+=8/3:l[TEXT_ENCODATION]+=4/3,this.isNativeX12(b)?l[X12_ENCODATION]+=2/3:this.isExtendedASCII(b)?l[X12_ENCODATION]+=13/3:l[X12_ENCODATION]+=10/3,this.isNativeEDIFACT(b)?l[EDIFACT_ENCODATION]+=3/4:this.isExtendedASCII(b)?l[EDIFACT_ENCODATION]+=17/4:l[EDIFACT_ENCODATION]+=13/4,this.isSpecialB256(b)?l[BASE256_ENCODATION]+=4:l[BASE256_ENCODATION]++,c>=4){if(Arrays.fill(f,0),Arrays.fill(p,0),this.findMinimums(l,p,Integer.MAX_VALUE,f),p[ASCII_ENCODATION]<this.min(p[BASE256_ENCODATION],p[C40_ENCODATION],p[TEXT_ENCODATION],p[X12_ENCODATION],p[EDIFACT_ENCODATION]))return ASCII_ENCODATION;if(p[BASE256_ENCODATION]<p[ASCII_ENCODATION]||p[BASE256_ENCODATION]+1<this.min(p[C40_ENCODATION],p[TEXT_ENCODATION],p[X12_ENCODATION],p[EDIFACT_ENCODATION]))return BASE256_ENCODATION;if(p[EDIFACT_ENCODATION]+1<this.min(p[BASE256_ENCODATION],p[C40_ENCODATION],p[TEXT_ENCODATION],p[X12_ENCODATION],p[ASCII_ENCODATION]))return EDIFACT_ENCODATION;if(p[TEXT_ENCODATION]+1<this.min(p[BASE256_ENCODATION],p[C40_ENCODATION],p[EDIFACT_ENCODATION],p[X12_ENCODATION],p[ASCII_ENCODATION]))return TEXT_ENCODATION;if(p[X12_ENCODATION]+1<this.min(p[BASE256_ENCODATION],p[C40_ENCODATION],p[EDIFACT_ENCODATION],p[TEXT_ENCODATION],p[ASCII_ENCODATION]))return X12_ENCODATION;if(p[C40_ENCODATION]+1<this.min(p[ASCII_ENCODATION],p[BASE256_ENCODATION],p[EDIFACT_ENCODATION],p[TEXT_ENCODATION])){if(p[C40_ENCODATION]<p[X12_ENCODATION])return C40_ENCODATION;if(p[C40_ENCODATION]===p[X12_ENCODATION]){for(var h=a+c+1;h<n.length;){var d=n.charCodeAt(h);if(this.isX12TermSep(d))return X12_ENCODATION;if(!this.isNativeX12(d))break;h++}return C40_ENCODATION}}}}},i.min=function(n,a,s,l,c){var f=Math.min(n,Math.min(a,Math.min(s,l)));return c===void 0?f:Math.min(f,c)},i.findMinimums=function(n,a,s,l){for(var c=0;c<6;c++){var f=a[c]=Math.ceil(n[c]);s>f&&(s=f,Arrays.fill(l,0)),s===f&&(l[c]=l[c]+1)}return s},i.getMinimumCount=function(n){for(var a=0,s=0;s<6;s++)a+=n[s];return a||0},i.isDigit=function(n){return n>=48&&n<=57},i.isExtendedASCII=function(n){return n>=128&&n<=255},i.isNativeC40=function(n){return n===32||n>=48&&n<=57||n>=65&&n<=90},i.isNativeText=function(n){return n===32||n>=48&&n<=57||n>=97&&n<=122},i.isNativeX12=function(n){return this.isX12TermSep(n)||n===32||n>=48&&n<=57||n>=65&&n<=90},i.isX12TermSep=function(n){return n===13||n===42||n===62},i.isNativeEDIFACT=function(n){return n>=32&&n<=94},i.isSpecialB256=function(n){return!1},i.determineConsecutiveDigitCount=function(n,a){a===void 0&&(a=0);for(var s=n.length,l=a;l<s&&this.isDigit(n.charCodeAt(l));)l++;return l-a},i.illegalCharacter=function(n){var a=Integer.toHexString(n.charCodeAt(0));throw a="0000".substring(0,4-a.length)+a,new Error("Illegal character: "+n+" (0x"+a+")")},i}(),__values$4=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},CharsetEncoder=function(){function i(n){this.charset=n,this.name=n.name}return i.prototype.canEncode=function(n){try{return StringEncoding.encode(n,this.charset)!=null}catch{return!1}},i}(),ECIEncoderSet=function(){function i(n,a,s){var l,c,f,p,g,y;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(z){return new CharsetEncoder(Charset.forName(z))}),this.encoders=[];var b=[];b.push(new CharsetEncoder(StandardCharsets.ISO_8859_1));for(var h=a!=null&&a.name.startsWith("UTF"),d=0;d<n.length;d++){var v=!1;try{for(var _=(l=void 0,__values$4(b)),A=_.next();!A.done;A=_.next()){var I=A.value,R=n.charAt(d),P=R.charCodeAt(0);if(P===s||I.canEncode(R)){v=!0;break}}}catch(z){l={error:z}}finally{try{A&&!A.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}if(!v)try{for(var $=(f=void 0,__values$4(this.ENCODERS)),M=$.next();!M.done;M=$.next()){var I=M.value;if(I.canEncode(n.charAt(d))){b.push(I),v=!0;break}}}catch(z){f={error:z}}finally{try{M&&!M.done&&(p=$.return)&&p.call($)}finally{if(f)throw f.error}}v||(h=!0)}if(b.length===1&&!h)this.encoders=[b[0]];else{this.encoders=[];var B=0;try{for(var F=__values$4(b),q=F.next();!q.done;q=F.next()){var I=q.value;this.encoders[B++]=I}}catch(z){g={error:z}}finally{try{q&&!q.done&&(y=F.return)&&y.call(F)}finally{if(g)throw g.error}}}var H=-1;if(a!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&a.name===this.encoders[d].name){H=d;break}}this.priorityEncoderIndex=H}return i.prototype.length=function(){return this.encoders.length},i.prototype.getCharsetName=function(n){if(!(n<this.length()))throw new Error("index must be less than length");return this.encoders[n].name},i.prototype.getCharset=function(n){if(!(n<this.length()))throw new Error("index must be less than length");return this.encoders[n].charset},i.prototype.getECIValue=function(n){return this.encoders[n].charset.getValueIdentifier()},i.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},i.prototype.canEncode=function(n,a){if(!(a<this.length()))throw new Error("index must be less than length");return!0},i.prototype.encode=function(n,a){if(!(a<this.length()))throw new Error("index must be less than length");return StringEncoding.encode(StringUtils.getCharAt(n),this.encoders[a].name)},i}(),COST_PER_ECI=3,MinimalECIInput=function(){function i(n,a,s){this.fnc1=s;var l=new ECIEncoderSet(n,a,s);if(l.length()===1)for(var c=0;c<this.bytes.length;c++){var f=n.charAt(c).charCodeAt(0);this.bytes[c]=f===s?1e3:f}else this.bytes=this.encodeMinimally(n,l,s)}return i.prototype.getFNC1Character=function(){return this.fnc1},i.prototype.length=function(){return this.bytes.length},i.prototype.haveNCharacters=function(n,a){if(n+a-1>=this.bytes.length)return!1;for(var s=0;s<a;s++)if(this.isECI(n+s))return!1;return!0},i.prototype.charAt=function(n){if(n<0||n>=this.length())throw new Error(""+n);if(this.isECI(n))throw new Error("value at "+n+" is not a character but an ECI");return this.isFNC1(n)?this.fnc1:this.bytes[n]},i.prototype.subSequence=function(n,a){if(n<0||n>a||a>this.length())throw new Error(""+n);for(var s=new StringBuilder,l=n;l<a;l++){if(this.isECI(l))throw new Error("value at "+l+" is not a character but an ECI");s.append(this.charAt(l))}return s.toString()},i.prototype.isECI=function(n){if(n<0||n>=this.length())throw new Error(""+n);return this.bytes[n]>255&&this.bytes[n]<=999},i.prototype.isFNC1=function(n){if(n<0||n>=this.length())throw new Error(""+n);return this.bytes[n]===1e3},i.prototype.getECIValue=function(n){if(n<0||n>=this.length())throw new Error(""+n);if(!this.isECI(n))throw new Error("value at "+n+" is not an ECI but a character");return this.bytes[n]-256},i.prototype.addEdge=function(n,a,s){(n[a][s.encoderIndex]==null||n[a][s.encoderIndex].cachedTotalSize>s.cachedTotalSize)&&(n[a][s.encoderIndex]=s)},i.prototype.addEdges=function(n,a,s,l,c,f){var p=n.charAt(l).charCodeAt(0),g=0,y=a.length();a.getPriorityEncoderIndex()>=0&&(p===f||a.canEncode(p,a.getPriorityEncoderIndex()))&&(g=a.getPriorityEncoderIndex(),y=g+1);for(var b=g;b<y;b++)(p===f||a.canEncode(p,b))&&this.addEdge(s,l+1,new InputEdge(p,a,b,c,f))},i.prototype.encodeMinimally=function(n,a,s){var l=n.length,c=new InputEdge[l+1][a.length()];this.addEdges(n,a,c,0,null,s);for(var f=1;f<=l;f++){for(var p=0;p<a.length();p++)c[f][p]!=null&&f<l&&this.addEdges(n,a,c,f,c[f][p],s);for(var p=0;p<a.length();p++)c[f-1][p]=null}for(var g=-1,y=Integer.MAX_VALUE,p=0;p<a.length();p++)if(c[l][p]!=null){var b=c[l][p];b.cachedTotalSize<y&&(y=b.cachedTotalSize,g=p)}if(g<0)throw new Error('Failed to encode "'+n+'"');for(var h=[],d=c[l][g];d!=null;){if(d.isFNC1())h.unshift(1e3);else for(var v=a.encode(d.c,d.encoderIndex),f=v.length-1;f>=0;f--)h.unshift(v[f]&255);var _=d.previous===null?0:d.previous.encoderIndex;_!==d.encoderIndex&&h.unshift(256+a.getECIValue(d.encoderIndex)),d=d.previous}for(var A=[],f=0;f<A.length;f++)A[f]=h[f];return A},i}(),InputEdge=function(){function i(n,a,s,l,c){this.c=n,this.encoderSet=a,this.encoderIndex=s,this.previous=l,this.fnc1=c,this.c=n===c?1e3:n;var f=this.isFNC1()?1:a.encode(n,s).length,p=l===null?0:l.encoderIndex;p!==s&&(f+=COST_PER_ECI),l!=null&&(f+=l.cachedTotalSize),this.cachedTotalSize=f}return i.prototype.isFNC1=function(){return this.c===1e3},i}(),__extends$2=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),__read=function(i,n){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var s=a.call(i),l,c=[],f;try{for(;(n===void 0||n-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(p){f={error:p}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(f)throw f.error}}return c},Mode;(function(i){i[i.ASCII=0]="ASCII",i[i.C40=1]="C40",i[i.TEXT=2]="TEXT",i[i.X12=3]="X12",i[i.EDF=4]="EDF",i[i.B256=5]="B256"})(Mode||(Mode={}));(function(i){__extends$2(n,i);function n(a,s,l,c,f){var p=i.call(this,a,s,l)||this;return p.shape=c,p.macroId=f,p}return n.prototype.getMacroId=function(){return this.macroId},n.prototype.getShapeHint=function(){return this.shape},n})(MinimalECIInput);var AztecCode=function(){function i(){}return i.prototype.isCompact=function(){return this.compact},i.prototype.setCompact=function(n){this.compact=n},i.prototype.getSize=function(){return this.size},i.prototype.setSize=function(n){this.size=n},i.prototype.getLayers=function(){return this.layers},i.prototype.setLayers=function(n){this.layers=n},i.prototype.getCodeWords=function(){return this.codeWords},i.prototype.setCodeWords=function(n){this.codeWords=n},i.prototype.getMatrix=function(){return this.matrix},i.prototype.setMatrix=function(n){this.matrix=n},i}(),Collections=function(){function i(){}return i.singletonList=function(n){return[n]},i.min=function(n,a){return n.sort(a)[0]},i}(),Token=function(){function i(n){this.previous=n}return i.prototype.getPrevious=function(){return this.previous},i}(),__extends$1=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),SimpleToken=function(i){__extends$1(n,i);function n(a,s,l){var c=i.call(this,a)||this;return c.value=s,c.bitCount=l,c}return n.prototype.appendTo=function(a,s){a.appendBits(this.value,this.bitCount)},n.prototype.add=function(a,s){return new n(this,a,s)},n.prototype.addBinaryShift=function(a,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new n(this,a,s)},n.prototype.toString=function(){var a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+Integer.toBinaryString(a|1<<this.bitCount).substring(1)+">"},n}(Token),__extends=function(){var i=function(n,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])},i(n,a)};return function(n,a){i(n,a);function s(){this.constructor=n}n.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}(),BinaryShiftToken=function(i){__extends(n,i);function n(a,s,l){var c=i.call(this,a,0,0)||this;return c.binaryShiftStart=s,c.binaryShiftByteCount=l,c}return n.prototype.appendTo=function(a,s){for(var l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):l===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(s[this.binaryShiftStart+l],8)},n.prototype.addBinaryShift=function(a,s){return new n(this,a,s)},n.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},n}(SimpleToken);function addBinaryShift(i,n,a){return new BinaryShiftToken(i,n,a)}function add(i,n,a){return new SimpleToken(i,n,a)}var MODE_NAMES=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],MODE_UPPER=0,MODE_LOWER=1,MODE_DIGIT=2,MODE_MIXED=3,MODE_PUNCT=4,EMPTY_TOKEN=new SimpleToken(null,0,0),LATCH_TABLE=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],__values$3=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};function static_SHIFT_TABLE(i){var n,a;try{for(var s=__values$3(i),l=s.next();!l.done;l=s.next()){var c=l.value;Arrays.fill(c,-1)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}return i[MODE_UPPER][MODE_PUNCT]=0,i[MODE_LOWER][MODE_PUNCT]=0,i[MODE_LOWER][MODE_UPPER]=28,i[MODE_MIXED][MODE_PUNCT]=0,i[MODE_DIGIT][MODE_PUNCT]=0,i[MODE_DIGIT][MODE_UPPER]=15,i}var SHIFT_TABLE=static_SHIFT_TABLE(Arrays.createInt32Array(6,6)),__values$2=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},State=function(){function i(n,a,s,l){this.token=n,this.mode=a,this.binaryShiftByteCount=s,this.bitCount=l}return i.prototype.getMode=function(){return this.mode},i.prototype.getToken=function(){return this.token},i.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},i.prototype.getBitCount=function(){return this.bitCount},i.prototype.latchAndAppend=function(n,a){var s=this.bitCount,l=this.token;if(n!==this.mode){var c=LATCH_TABLE[this.mode][n];l=add(l,c&65535,c>>16),s+=c>>16}var f=n===MODE_DIGIT?4:5;return l=add(l,a,f),new i(l,n,0,s+f)},i.prototype.shiftAndAppend=function(n,a){var s=this.token,l=this.mode===MODE_DIGIT?4:5;return s=add(s,SHIFT_TABLE[this.mode][n],l),s=add(s,a,5),new i(s,this.mode,0,this.bitCount+l+5)},i.prototype.addBinaryShiftChar=function(n){var a=this.token,s=this.mode,l=this.bitCount;if(this.mode===MODE_PUNCT||this.mode===MODE_DIGIT){var c=LATCH_TABLE[s][MODE_UPPER];a=add(a,c&65535,c>>16),l+=c>>16,s=MODE_UPPER}var f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new i(a,s,this.binaryShiftByteCount+1,l+f);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(n+1)),p},i.prototype.endBinaryShift=function(n){if(this.binaryShiftByteCount===0)return this;var a=this.token;return a=addBinaryShift(a,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new i(a,this.mode,0,this.bitCount)},i.prototype.isBetterThanOrEqualTo=function(n){var a=this.bitCount+(LATCH_TABLE[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?a+=i.calculateBinaryShiftCost(n)-i.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(a+=10),a<=n.bitCount},i.prototype.toBitArray=function(n){for(var a,s,l=[],c=this.endBinaryShift(n.length).token;c!==null;c=c.getPrevious())l.unshift(c);var f=new BitArray;try{for(var p=__values$2(l),g=p.next();!g.done;g=p.next()){var y=g.value;y.appendTo(f,n)}}catch(b){a={error:b}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}return f},i.prototype.toString=function(){return StringUtils.format("%s bits=%d bytes=%d",MODE_NAMES[this.mode],this.bitCount,this.binaryShiftByteCount)},i.calculateBinaryShiftCost=function(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0},i.INITIAL_STATE=new i(EMPTY_TOKEN,MODE_UPPER,0,0),i}();function static_CHAR_MAP(i){var n=StringUtils.getCharCode(" "),a=StringUtils.getCharCode("."),s=StringUtils.getCharCode(",");i[MODE_UPPER][n]=1;for(var l=StringUtils.getCharCode("Z"),c=StringUtils.getCharCode("A"),f=c;f<=l;f++)i[MODE_UPPER][f]=f-c+2;i[MODE_LOWER][n]=1;for(var p=StringUtils.getCharCode("z"),g=StringUtils.getCharCode("a"),f=g;f<=p;f++)i[MODE_LOWER][f]=f-g+2;i[MODE_DIGIT][n]=1;for(var y=StringUtils.getCharCode("9"),b=StringUtils.getCharCode("0"),f=b;f<=y;f++)i[MODE_DIGIT][f]=f-b+2;i[MODE_DIGIT][s]=12,i[MODE_DIGIT][a]=13;for(var h=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<h.length;d++)i[MODE_MIXED][StringUtils.getCharCode(h[d])]=d;for(var v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<v.length;d++)StringUtils.getCharCode(v[d])>0&&(i[MODE_PUNCT][StringUtils.getCharCode(v[d])]=d);return i}var CHAR_MAP=static_CHAR_MAP(Arrays.createInt32Array(5,256)),__values$1=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},HighLevelEncoder=function(){function i(n){this.text=n}return i.prototype.encode=function(){for(var n=StringUtils.getCharCode(" "),a=StringUtils.getCharCode(`
`),s=Collections.singletonList(State.INITIAL_STATE),l=0;l<this.text.length;l++){var c=void 0,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case StringUtils.getCharCode("\r"):c=f===a?2:0;break;case StringUtils.getCharCode("."):c=f===n?3:0;break;case StringUtils.getCharCode(","):c=f===n?4:0;break;case StringUtils.getCharCode(":"):c=f===n?5:0;break;default:c=0}c>0?(s=i.updateStateListForPair(s,l,c),l++):s=this.updateStateListForChar(s,l)}var p=Collections.min(s,function(g,y){return g.getBitCount()-y.getBitCount()});return p.toBitArray(this.text)},i.prototype.updateStateListForChar=function(n,a){var s,l,c=[];try{for(var f=__values$1(n),p=f.next();!p.done;p=f.next()){var g=p.value;this.updateStateForChar(g,a,c)}}catch(y){s={error:y}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}return i.simplifyStates(c)},i.prototype.updateStateForChar=function(n,a,s){for(var l=this.text[a]&255,c=CHAR_MAP[n.getMode()][l]>0,f=null,p=0;p<=MODE_PUNCT;p++){var g=CHAR_MAP[p][l];if(g>0){if(f==null&&(f=n.endBinaryShift(a)),!c||p===n.getMode()||p===MODE_DIGIT){var y=f.latchAndAppend(p,g);s.push(y)}if(!c&&SHIFT_TABLE[n.getMode()][p]>=0){var b=f.shiftAndAppend(p,g);s.push(b)}}}if(n.getBinaryShiftByteCount()>0||CHAR_MAP[n.getMode()][l]===0){var h=n.addBinaryShiftChar(a);s.push(h)}},i.updateStateListForPair=function(n,a,s){var l,c,f=[];try{for(var p=__values$1(n),g=p.next();!g.done;g=p.next()){var y=g.value;this.updateStateForPair(y,a,s,f)}}catch(b){l={error:b}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}return this.simplifyStates(f)},i.updateStateForPair=function(n,a,s,l){var c=n.endBinaryShift(a);if(l.push(c.latchAndAppend(MODE_PUNCT,s)),n.getMode()!==MODE_PUNCT&&l.push(c.shiftAndAppend(MODE_PUNCT,s)),s===3||s===4){var f=c.latchAndAppend(MODE_DIGIT,16-s).latchAndAppend(MODE_DIGIT,1);l.push(f)}if(n.getBinaryShiftByteCount()>0){var p=n.addBinaryShiftChar(a).addBinaryShiftChar(a+1);l.push(p)}},i.simplifyStates=function(n){var a,s,l,c,f=[];try{for(var p=__values$1(n),g=p.next();!g.done;g=p.next()){var y=g.value,b=!0,h=function(I){if(I.isBetterThanOrEqualTo(y))return b=!1,"break";y.isBetterThanOrEqualTo(I)&&(f=f.filter(function(R){return R!==I}))};try{for(var d=(l=void 0,__values$1(f)),v=d.next();!v.done;v=d.next()){var _=v.value,A=h(_);if(A==="break")break}}catch(I){l={error:I}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}b&&f.push(y)}}catch(I){a={error:I}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}return f},i}(),__values=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&i[n],s=0;if(a)return a.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function i(){}return i.encodeBytes=function(n){return i.encode(n,i.DEFAULT_EC_PERCENT,i.DEFAULT_AZTEC_LAYERS)},i.encode=function(n,a,s){var l=new HighLevelEncoder(n).encode(),c=Integer.truncDivision(l.getSize()*a,100)+11,f=l.getSize()+c,p,g,y,b,h;if(s!==i.DEFAULT_AZTEC_LAYERS){if(p=s<0,g=Math.abs(s),g>(p?i.MAX_NB_BITS_COMPACT:i.MAX_NB_BITS))throw new IllegalArgumentException(StringUtils.format("Illegal value %s for layers",s));y=i.totalBitsInLayer(g,p),b=i.WORD_SIZE[g];var d=y-y%b;if(h=i.stuffBits(l,b),h.getSize()+c>d)throw new IllegalArgumentException("Data to large for user specified layer");if(p&&h.getSize()>b*64)throw new IllegalArgumentException("Data to large for user specified layer")}else{b=0,h=null;for(var v=0;;v++){if(v>i.MAX_NB_BITS)throw new IllegalArgumentException("Data too large for an Aztec code");if(p=v<=3,g=p?v+1:v,y=i.totalBitsInLayer(g,p),!(f>y)){(h==null||b!==i.WORD_SIZE[g])&&(b=i.WORD_SIZE[g],h=i.stuffBits(l,b));var d=y-y%b;if(!(p&&h.getSize()>b*64)&&h.getSize()+c<=d)break}}}var _=i.generateCheckWords(h,y,b),A=h.getSize()/b,I=i.generateModeMessage(p,g,A),R=(p?11:14)+g*4,P=new Int32Array(R),$;if(p){$=R;for(var v=0;v<P.length;v++)P[v]=v}else{$=R+1+2*Integer.truncDivision(Integer.truncDivision(R,2)-1,15);for(var M=Integer.truncDivision(R,2),B=Integer.truncDivision($,2),v=0;v<M;v++){var F=v+Integer.truncDivision(v,15);P[M-v-1]=B-F-1,P[M+v]=B+F+1}}for(var q=new BitMatrix($),v=0,H=0;v<g;v++){for(var z=(g-v)*4+(p?9:12),L=0;L<z;L++)for(var ee=L*2,Z=0;Z<2;Z++)_.get(H+ee+Z)&&q.set(P[v*2+Z],P[v*2+L]),_.get(H+z*2+ee+Z)&&q.set(P[v*2+L],P[R-1-v*2-Z]),_.get(H+z*4+ee+Z)&&q.set(P[R-1-v*2-Z],P[R-1-v*2-L]),_.get(H+z*6+ee+Z)&&q.set(P[R-1-v*2-L],P[v*2+Z]);H+=z*8}if(i.drawModeMessage(q,p,$,I),p)i.drawBullsEye(q,Integer.truncDivision($,2),5);else{i.drawBullsEye(q,Integer.truncDivision($,2),7);for(var v=0,L=0;v<Integer.truncDivision(R,2)-1;v+=15,L+=16)for(var Z=Integer.truncDivision($,2)&1;Z<$;Z+=2)q.set(Integer.truncDivision($,2)-L,Z),q.set(Integer.truncDivision($,2)+L,Z),q.set(Z,Integer.truncDivision($,2)-L),q.set(Z,Integer.truncDivision($,2)+L)}var V=new AztecCode;return V.setCompact(p),V.setSize($),V.setLayers(g),V.setCodeWords(A),V.setMatrix(q),V},i.drawBullsEye=function(n,a,s){for(var l=0;l<s;l+=2)for(var c=a-l;c<=a+l;c++)n.set(c,a-l),n.set(c,a+l),n.set(a-l,c),n.set(a+l,c);n.set(a-s,a-s),n.set(a-s+1,a-s),n.set(a-s,a-s+1),n.set(a+s,a-s),n.set(a+s,a-s+1),n.set(a+s,a+s-1)},i.generateModeMessage=function(n,a,s){var l=new BitArray;return n?(l.appendBits(a-1,2),l.appendBits(s-1,6),l=i.generateCheckWords(l,28,4)):(l.appendBits(a-1,5),l.appendBits(s-1,11),l=i.generateCheckWords(l,40,4)),l},i.drawModeMessage=function(n,a,s,l){var c=Integer.truncDivision(s,2);if(a)for(var f=0;f<7;f++){var p=c-3+f;l.get(f)&&n.set(p,c-5),l.get(f+7)&&n.set(c+5,p),l.get(20-f)&&n.set(p,c+5),l.get(27-f)&&n.set(c-5,p)}else for(var f=0;f<10;f++){var p=c-5+f+Integer.truncDivision(f,5);l.get(f)&&n.set(p,c-7),l.get(f+10)&&n.set(c+7,p),l.get(29-f)&&n.set(p,c+7),l.get(39-f)&&n.set(c-7,p)}},i.generateCheckWords=function(n,a,s){var l,c,f=n.getSize()/s,p=new ReedSolomonEncoder(i.getGF(s)),g=Integer.truncDivision(a,s),y=i.bitsToWords(n,s,g);p.encode(y,g-f);var b=a%s,h=new BitArray;h.appendBits(0,b);try{for(var d=__values(Array.from(y)),v=d.next();!v.done;v=d.next()){var _=v.value;h.appendBits(_,s)}}catch(A){l={error:A}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(l)throw l.error}}return h},i.bitsToWords=function(n,a,s){var l=new Int32Array(s),c,f;for(c=0,f=n.getSize()/a;c<f;c++){for(var p=0,g=0;g<a;g++)p|=n.get(c*a+g)?1<<a-g-1:0;l[c]=p}return l},i.getGF=function(n){switch(n){case 4:return GenericGF.AZTEC_PARAM;case 6:return GenericGF.AZTEC_DATA_6;case 8:return GenericGF.AZTEC_DATA_8;case 10:return GenericGF.AZTEC_DATA_10;case 12:return GenericGF.AZTEC_DATA_12;default:throw new IllegalArgumentException("Unsupported word size "+n)}},i.stuffBits=function(n,a){for(var s=new BitArray,l=n.getSize(),c=(1<<a)-2,f=0;f<l;f+=a){for(var p=0,g=0;g<a;g++)(f+g>=l||n.get(f+g))&&(p|=1<<a-1-g);(p&c)===c?(s.appendBits(p&c,a),f--):(p&c)===0?(s.appendBits(p|1,a),f--):s.appendBits(p,a)}return s},i.totalBitsInLayer=function(n,a){return((a?88:112)+16*n)*n},i.DEFAULT_EC_PERCENT=33,i.DEFAULT_AZTEC_LAYERS=0,i.MAX_NB_BITS=32,i.MAX_NB_BITS_COMPACT=4,i.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),i})();const QRCodeHandler=()=>{const[i,n]=reactExports.useState(""),[a,s]=reactExports.useState(""),[l,c]=reactExports.useState(""),f=async()=>{try{const g=await QRCode$1.toDataURL(i);s(g)}catch(g){console.error("Error generating QR code:",g)}},p=async g=>{try{const b=await new BrowserQRCodeReader().decodeFromImage(g);c(b.getText())}catch(y){console.error("Error decoding QR code:",y),c("Failed to decode QR code.")}};return jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"h5",gutterBottom:!0,children:"QR Code Generator & Reader"}),jsxRuntimeExports.jsxs(Box,{sx:{mb:4},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,children:"Generate a QR Code"}),jsxRuntimeExports.jsx(TextField,{label:"Text to Encode",variant:"outlined",fullWidth:!0,value:i,onChange:g=>n(g.target.value),sx:{mb:2}}),jsxRuntimeExports.jsx(Button,{variant:"contained",onClick:f,children:"Generate QR Code"}),a&&jsxRuntimeExports.jsxs(Box,{sx:{mt:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",children:"Generated QR Code:"}),jsxRuntimeExports.jsx("img",{src:a,alt:"Generated QR Code",style:{marginTop:"10px",maxWidth:"100%"}})]})]}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle1",gutterBottom:!0,children:"Decode a QR Code"}),jsxRuntimeExports.jsxs(Button,{variant:"contained",component:"label",children:["Upload QR Code Image",jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:g=>{var b;const y=(b=g.target.files)==null?void 0:b[0];y&&p(y)}})]}),l&&jsxRuntimeExports.jsxs(Typography,{variant:"body1",sx:{mt:2},children:["Decoded Text: ",l]})]})]})},QRCodeScanner=({onScan:i})=>{const[n,a]=reactExports.useState(null),[s,l]=reactExports.useState(null),[c,f]=reactExports.useState(!1),p="qr-video",g=async()=>{try{const b=new BrowserQRCodeReader;f(!0);const h=await b.listVideoInputDevices();if(h.length===0)throw new Error("No camera devices found.");const d=h[0].deviceId;b.decodeFromVideoDevice(d,p,(v,_)=>{v&&(a(v.getText()),f(!1),b.reset(),i(v.getText())),_&&l("Unable to decode QR code. Try again.")})}catch(b){l(b.message||"An unknown error occurred.")}},y=()=>{new BrowserQRCodeReader().reset(),f(!1)};return reactExports.useEffect(()=>()=>{y()},[]),jsxRuntimeExports.jsxs(Box,{sx:{p:2},children:[jsxRuntimeExports.jsx(Typography,{variant:"h5",gutterBottom:!0,children:"Camera QR Code Scanner"}),jsxRuntimeExports.jsx(Box,{sx:{mb:2},children:jsxRuntimeExports.jsx("video",{id:p,style:{width:"100%",border:"1px solid #ccc"},autoPlay:!0,muted:!0})}),c?jsxRuntimeExports.jsx(Button,{variant:"contained",color:"error",onClick:y,children:"Stop Scanning"}):jsxRuntimeExports.jsx(Button,{variant:"contained",onClick:g,children:"Start Scanning"}),n&&jsxRuntimeExports.jsxs(Typography,{variant:"body1",sx:{mt:2},children:["Decoded Text: ",n]}),s&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"error",sx:{mt:1},children:["Error: ",s]})]})},CameraButton=()=>{const i=reactExports.useRef(null),[n,a]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{if(n&&i.current)try{const l=await navigator.mediaDevices.getUserMedia({video:!0});console.log("Stream:",l),i.current.srcObject=l,i.current.onloadedmetadata=()=>{var c;(c=i.current)==null||c.play()},console.log("Video stream assigned:",l)}catch(l){console.error("Error accessing camera:",l),a(!1)}})()},[n]),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Button,{variant:"contained",onClick:()=>a(!0),children:["Enable Camera ",n?"✅":"❌"]}),n&&jsxRuntimeExports.jsx(Box,{mt:2,children:jsxRuntimeExports.jsx("video",{ref:i,style:{width:"100%",maxWidth:"300px"}})})]})},ConfigButton=()=>{const[i,n]=reactExports.useState(!1),[a,s]=reactExports.useState("");reactExports.useEffect(()=>{Idbs.get(AppConfig,"config").then(f=>{s((f==null?void 0:f.authToken)||"")})},[]);const l=()=>{n(!0)},c=()=>{n(!1),Idbs.update(AppConfig,"config",f=>({...f,authToken:a}))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{onClick:l,children:"Config"}),jsxRuntimeExports.jsxs(Dialog,{open:i,onClose:c,children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Configuration"}),jsxRuntimeExports.jsx(DialogContent,{style:{paddingTop:"20px"},children:jsxRuntimeExports.jsx(TextField,{label:"Auth Token",type:"password",fullWidth:!0,value:a,onChange:f=>{s(f.target.value)}})}),jsxRuntimeExports.jsx(DialogActions,{children:jsxRuntimeExports.jsx(Button,{onClick:c,children:"Save"})})]})]})},FullscreenButton=()=>{const i=()=>{var a,s;const n=document.documentElement;document.fullscreenElement?(s=document.exitFullscreen)==null||s.call(document).catch(l=>{console.error("Error attempting to exit full-screen mode:",l)}):(a=n.requestFullscreen)==null||a.call(n).catch(l=>{console.error("Error attempting to enable full-screen mode:",l)})};return jsxRuntimeExports.jsx("button",{onClick:i,style:{padding:"10px",fontSize:"16px",cursor:"pointer"},children:"Toggle Fullscreen"})},getMicAudio=async i=>{var n;const a=new AudioContext;a.state==="suspended"&&(await a.resume(),console.log("Audio context resumed after user gesture."));const s=(await navigator.mediaDevices.enumerateDevices()).filter(g=>g.kind==="audioinput");console.log("Available microphones:",s);const l=i||((n=s[0])==null?void 0:n.deviceId);if(!l)throw new Error("No microphone devices available");const c=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:l}}});console.log("Audio stream captured from microphone:",c);const f=a.createMediaStreamSource(c),p=a.createAnalyser();return p.fftSize=2048,f.connect(p),{audioCtx:a,stream:c,analyserNode:p,mics:s}};async function getMicrophoneInput(){try{const i=await navigator.mediaDevices.getUserMedia({audio:!0}),n=new AudioContext,a=n.createMediaStreamSource(i);return{audioContext:n,source:a,stream:i}}catch(i){throw new Error("Unable to access microphone",{cause:i})}}function getAugmentedNamespace(i){if(i.__esModule)return i;var n=i.default;if(typeof n=="function"){var a=function s(){return this instanceof s?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var l=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(a,s,l.get?l:{enumerable:!0,get:function(){return i[s]}})}),a}var dist={},ortWeb_min={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(i,n,a)=>{if(n&&typeof n.init=="function"&&typeof n.createSessionHandler=="function"){const s=backends[i];if(s===void 0)backends[i]={backend:n,priority:a};else{if(s.priority>a)return;if(s.priority===a&&s.backend!==n)throw new Error(`cannot register backend "${i}" using priority ${a}`)}if(a>=0){const l=backendsSortedByPriority.indexOf(i);l!==-1&&backendsSortedByPriority.splice(l,1);for(let c=0;c<backendsSortedByPriority.length;c++)if(backends[backendsSortedByPriority[c]].priority<=a){backendsSortedByPriority.splice(c,0,i);return}backendsSortedByPriority.push(i)}return}throw new TypeError("not a valid backend")},resolveBackend=async i=>{const n=i.length===0?backendsSortedByPriority:i,a=[];for(const s of n){const l=backends[s];if(l){if(l.initialized)return l.backend;if(l.aborted)continue;const c=!!l.initPromise;try{return c||(l.initPromise=l.backend.init()),await l.initPromise,l.initialized=!0,l.backend}catch(f){c||a.push({name:s,err:f}),l.aborted=!0}finally{delete l.initPromise}}}throw new Error(`no available backend found. ERR: ${a.map(s=>`[${s.name}] ${s.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(n){if(n!==void 0){if(typeof n!="string"||["verbose","info","warning","error","fatal"].indexOf(n)===-1)throw new Error(`Unsupported logging level: ${n}`);this.logLevelInternal=n}}get logLevel(){return this.logLevelInternal}}const env=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=i=>{let n=1;for(let a=0;a<i.length;a++){const s=i[a];if(typeof s!="number"||!Number.isSafeInteger(s))throw new TypeError(`dims[${a}] must be an integer, got: ${s}`);if(s<0)throw new RangeError(`dims[${a}] must be a non-negative integer, got: ${s}`);n*=s}return n};let Tensor$1=class Oi{constructor(n,a,s){let l,c,f;if(typeof n=="string")if(l=n,f=s,n==="string"){if(!Array.isArray(a))throw new TypeError("A string tensor's data must be a string array.");c=a}else{const g=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(n);if(g===void 0)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(a))c=g.from(a);else if(a instanceof g)c=a;else throw new TypeError(`A ${l} tensor's data must be type of ${g}`)}else if(f=a,Array.isArray(n)){if(n.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const g=typeof n[0];if(g==="string")l="string",c=n;else if(g==="boolean")l="bool",c=Uint8Array.from(n);else throw new TypeError(`Invalid element type of data array: ${g}.`)}else{const g=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(n.constructor);if(g===void 0)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);l=g,c=n}if(f===void 0)f=[c.length];else if(!Array.isArray(f))throw new TypeError("A tensor's dims must be a number array");const p=calculateSize(f);if(p!==c.length)throw new Error(`Tensor's size(${p}) does not match data length(${c.length}).`);this.dims=f,this.type=l,this.data=c,this.size=p}static bufferToTensor(n,a){if(n===void 0)throw new Error("Image buffer must be defined");if(a.height===void 0||a.width===void 0)throw new Error("Image height and width must be defined");const{height:s,width:l}=a,c=a.norm;let f,p;c===void 0||c.mean===void 0?f=255:f=c.mean,c===void 0||c.bias===void 0?p=0:p=c.bias;const g=a.bitmapFormat!==void 0?a.bitmapFormat:"RGBA",y=a.tensorFormat!==void 0&&a.tensorFormat!==void 0?a.tensorFormat:"RGB",b=s*l,h=y==="RGBA"?new Float32Array(b*4):new Float32Array(b*3);let d=4,v=0,_=1,A=2,I=3,R=0,P=b,$=b*2,M=-1;g==="RGB"&&(d=3,v=0,_=1,A=2,I=-1),y==="RGBA"?M=b*3:y==="RBG"?(R=0,$=b,P=b*2):y==="BGR"&&($=0,P=b,R=b*2);for(let B=0;B<b;B++,v+=d,A+=d,_+=d,I+=d)h[R++]=(n[v]+p)/f,h[P++]=(n[_]+p)/f,h[$++]=(n[A]+p)/f,M!==-1&&I!==-1&&(h[M++]=(n[I]+p)/f);return y==="RGBA"?new Oi("float32",h,[1,4,s,l]):new Oi("float32",h,[1,3,s,l])}static async fromImage(n,a){const s=typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement,l=typeof ImageData<"u"&&n instanceof ImageData,c=typeof ImageBitmap<"u"&&n instanceof ImageBitmap,f=typeof String<"u"&&(n instanceof String||typeof n=="string");let p,g={};if(s){const y=document.createElement("canvas"),b=y.getContext("2d");if(b!=null){let h=n.naturalHeight,d=n.naturalWidth;if(a!==void 0&&a.resizedHeight!==void 0&&a.resizedWidth!==void 0&&(h=a.resizedHeight,d=a.resizedWidth),a!==void 0){if(g=a,a.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(g.tensorFormat="RGBA",a.height!==void 0&&a.height!==h)throw new Error("Image input config height doesn't match HTMLImageElement height");if(g.height=h,a.width!==void 0&&a.width!==d)throw new Error("Image input config width doesn't match HTMLImageElement width");g.width=d}else g.tensorFormat="RGBA",g.height=h,g.width=d;y.width=d,y.height=h,b.drawImage(n,0,0,d,h),p=b.getImageData(0,0,d,h).data}else throw new Error("Can not access image data")}else if(l){const y="RGBA";let b,h;if(a!==void 0&&a.resizedWidth!==void 0&&a.resizedHeight!==void 0?(b=a.resizedHeight,h=a.resizedWidth):(b=n.height,h=n.width),a!==void 0){if(g=a,a.bitmapFormat!==void 0&&a.bitmapFormat!==y)throw new Error("Image input config format must be RGBA for ImageData");g.bitmapFormat="RGBA"}else g.bitmapFormat="RGBA";if(g.height=b,g.width=h,a!==void 0){const d=document.createElement("canvas");d.width=h,d.height=b;const v=d.getContext("2d");if(v!=null)v.putImageData(n,0,0),p=v.getImageData(0,0,h,b).data;else throw new Error("Can not access image data")}else p=n.data}else if(c){if(a===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(a.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const y=document.createElement("canvas").getContext("2d");if(y!=null){const b=n.height,h=n.width;if(y.drawImage(n,0,0,h,b),p=y.getImageData(0,0,h,b).data,a!==void 0){if(a.height!==void 0&&a.height!==b)throw new Error("Image input config height doesn't match ImageBitmap height");if(g.height=b,a.width!==void 0&&a.width!==h)throw new Error("Image input config width doesn't match ImageBitmap width");g.width=h}else g.height=b,g.width=h;return Oi.bufferToTensor(p,g)}else throw new Error("Can not access image data")}else{if(f)return new Promise((y,b)=>{const h=document.createElement("canvas"),d=h.getContext("2d");if(!n||!d)return b();const v=new Image;v.crossOrigin="Anonymous",v.src=n,v.onload=()=>{h.width=v.width,h.height=v.height,d.drawImage(v,0,0,h.width,h.height);const _=d.getImageData(0,0,h.width,h.height);if(a!==void 0){if(a.height!==void 0&&a.height!==h.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(g.height=h.height,a.width!==void 0&&a.width!==h.width)throw new Error("Image input config width doesn't match ImageBitmap width");g.width=h.width}else g.height=h.height,g.width=h.width;y(Oi.bufferToTensor(_.data,g))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(p!==void 0)return Oi.bufferToTensor(p,g);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(n){var a,s;const l=document.createElement("canvas").getContext("2d");let c;if(l!=null){const f=this.dims[3],p=this.dims[2],g=this.dims[1],y=n!==void 0&&n.format!==void 0?n.format:"RGB",b=n!==void 0&&((a=n.norm)===null||a===void 0?void 0:a.mean)!==void 0?n.norm.mean:255,h=n!==void 0&&((s=n.norm)===null||s===void 0?void 0:s.bias)!==void 0?n.norm.bias:0,d=p*f;if(n!==void 0){if(n.height!==void 0&&n.height!==p)throw new Error("Image output config height doesn't match tensor height");if(n.width!==void 0&&n.width!==f)throw new Error("Image output config width doesn't match tensor width");if(n.format!==void 0&&g===4&&n.format!=="RGBA"||g===3&&n.format!=="RGB"&&n.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const v=4;let _=0,A=1,I=2,R=3,P=0,$=d,M=d*2,B=-1;y==="RGBA"?(P=0,$=d,M=d*2,B=d*3):y==="RGB"?(P=0,$=d,M=d*2):y==="RBG"&&(P=0,M=d,$=d*2),c=l.createImageData(f,p);for(let F=0;F<p*f;_+=v,A+=v,I+=v,R+=v,F++)c.data[_]=(this.data[P++]-h)*b,c.data[A]=(this.data[$++]-h)*b,c.data[I]=(this.data[M++]-h)*b,c.data[R]=B===-1?255:(this.data[B++]-h)*b}else throw new Error("Can not access image data");return c}reshape(n){return new Oi(this.type,this.data,n)}};const Tensor=Tensor$1;let InferenceSession$1=class Od{constructor(n){this.handler=n}async run(n,a,s){const l={};let c={};if(typeof n!="object"||n===null||n instanceof Tensor||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let f=!0;if(typeof a=="object"){if(a===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(a instanceof Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(a)){if(a.length===0)throw new TypeError("'fetches' cannot be an empty array.");f=!1;for(const y of a){if(typeof y!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(y)===-1)throw new RangeError(`'fetches' contains invalid output name: ${y}.`);l[y]=null}if(typeof s=="object"&&s!==null)c=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else{let y=!1;const b=Object.getOwnPropertyNames(a);for(const h of this.outputNames)if(b.indexOf(h)!==-1){const d=a[h];(d===null||d instanceof Tensor)&&(y=!0,f=!1,l[h]=d)}if(y){if(typeof s=="object"&&s!==null)c=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else c=a}}else if(typeof a<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const y of this.inputNames)if(typeof n[y]>"u")throw new Error(`input '${y}' is missing in 'feeds'.`);if(f)for(const y of this.outputNames)l[y]=null;const p=await this.handler.run(n,l,c),g={};for(const y in p)Object.hasOwnProperty.call(p,y)&&(g[y]=new Tensor(p[y].type,p[y].data,p[y].dims));return g}static async create(n,a,s,l){let c,f={};if(typeof n=="string"){if(c=n,typeof a=="object"&&a!==null)f=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(c=n,typeof a=="object"&&a!==null)f=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){const y=n;let b=0,h=n.byteLength;if(typeof a=="object"&&a!==null)f=a;else if(typeof a=="number"){if(b=a,!Number.isSafeInteger(b))throw new RangeError("'byteOffset' must be an integer.");if(b<0||b>=y.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${y.byteLength}).`);if(h=n.byteLength-b,typeof s=="number"){if(h=s,!Number.isSafeInteger(h))throw new RangeError("'byteLength' must be an integer.");if(h<=0||b+h>y.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${y.byteLength-b}].`);if(typeof l=="object"&&l!==null)f=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else if(typeof s<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof a<"u")throw new TypeError("'options' must be an object.");c=new Uint8Array(y,b,h)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const p=(f.executionProviders||[]).map(y=>typeof y=="string"?y:y.name),g=await(await resolveBackend(p)).createSessionHandler(c,f);return new Od(g)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession=InferenceSession$1,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession,Tensor,env,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/var hasRequiredOrtWeb_min;function requireOrtWeb_min(){return hasRequiredOrtWeb_min||(hasRequiredOrtWeb_min=1,function(module,exports){(function(i,n){module.exports=n(require$$0)})(self,__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(i,n,a)=>{var s,l=(s=(s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(c){function f(){return fe.buffer!=de&&kt(fe.buffer),we}function p(){return fe.buffer!=de&&kt(fe.buffer),oe}function g(){return fe.buffer!=de&&kt(fe.buffer),Ne}function y(){return fe.buffer!=de&&kt(fe.buffer),Ie}function b(){return fe.buffer!=de&&kt(fe.buffer),Le}var h,d,v;c=c||{},h||(h=c!==void 0?c:{}),h.ready=new Promise(function(ne,he){d=ne,v=he});var _,A,I,R,P,$,M=Object.assign({},h),B="./this.program",F=(ne,he)=>{throw he},q=typeof window=="object",H=typeof importScripts=="function",z=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",L=h.ENVIRONMENT_IS_PTHREAD||!1,ee="";function Z(ne){return h.locateFile?h.locateFile(ne,ee):ee+ne}if(z){let ne;ee=H?a(908).dirname(ee)+"/":"//",$=()=>{P||(R=a(1384),P=a(908))},_=function(he,Ee){return $(),he=P.normalize(he),R.readFileSync(he,Ee?void 0:"utf8")},I=he=>((he=_(he,!0)).buffer||(he=new Uint8Array(he)),he),A=(he,Ee,ke)=>{$(),he=P.normalize(he),R.readFile(he,function(Xe,ft){Xe?ke(Xe):Ee(ft.buffer)})},1<process.argv.length&&(B=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(he){if(!(he instanceof ce))throw he}),process.on("unhandledRejection",function(he){throw he}),F=(he,Ee)=>{if(Bt())throw process.exitCode=he,Ee;Ee instanceof ce||te("exiting due to exception: "+Ee),process.exit(he)},h.inspect=function(){return"[Emscripten Module object]"};try{ne=a(9925)}catch(he){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),he}a.g.Worker=ne.Worker}else(q||H)&&(H?ee=self.location.href:typeof document<"u"&&document.currentScript&&(ee=document.currentScript.src),s&&(ee=s),ee=ee.indexOf("blob:")!==0?ee.substr(0,ee.replace(/[?#].*/,"").lastIndexOf("/")+1):"",z||(_=ne=>{var he=new XMLHttpRequest;return he.open("GET",ne,!1),he.send(null),he.responseText},H&&(I=ne=>{var he=new XMLHttpRequest;return he.open("GET",ne,!1),he.responseType="arraybuffer",he.send(null),new Uint8Array(he.response)}),A=(ne,he,Ee)=>{var ke=new XMLHttpRequest;ke.open("GET",ne,!0),ke.responseType="arraybuffer",ke.onload=()=>{ke.status==200||ke.status==0&&ke.response?he(ke.response):Ee()},ke.onerror=Ee,ke.send(null)}));z&&typeof performance>"u"&&(a.g.performance=a(6953).performance);var V=console.log.bind(console),X=console.warn.bind(console);z&&($(),V=ne=>R.writeSync(1,ne+`
`),X=ne=>R.writeSync(2,ne+`
`));var Q,G=h.print||V,te=h.printErr||X;Object.assign(h,M),M=null,h.thisProgram&&(B=h.thisProgram),h.quit&&(F=h.quit),h.wasmBinary&&(Q=h.wasmBinary);var ue=h.noExitRuntime||!1;typeof WebAssembly!="object"&&at("no native wasm support detected");var fe,K,de,we,oe,Ne,Ie,Le,ut=!1,mt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function vt(ne,he,Ee){var ke=(he>>>=0)+Ee;for(Ee=he;ne[Ee]&&!(Ee>=ke);)++Ee;if(16<Ee-he&&ne.buffer&&mt)return mt.decode(ne.buffer instanceof SharedArrayBuffer?ne.slice(he,Ee):ne.subarray(he,Ee));for(ke="";he<Ee;){var Xe=ne[he++];if(128&Xe){var ft=63&ne[he++];if((224&Xe)==192)ke+=String.fromCharCode((31&Xe)<<6|ft);else{var It=63&ne[he++];65536>(Xe=(240&Xe)==224?(15&Xe)<<12|ft<<6|It:(7&Xe)<<18|ft<<12|It<<6|63&ne[he++])?ke+=String.fromCharCode(Xe):(Xe-=65536,ke+=String.fromCharCode(55296|Xe>>10,56320|1023&Xe))}}else ke+=String.fromCharCode(Xe)}return ke}function it(ne,he){return(ne>>>=0)?vt(p(),ne,he):""}function pt(ne,he,Ee,ke){if(!(0<ke))return 0;var Xe=Ee>>>=0;ke=Ee+ke-1;for(var ft=0;ft<ne.length;++ft){var It=ne.charCodeAt(ft);if(55296<=It&&57343>=It&&(It=65536+((1023&It)<<10)|1023&ne.charCodeAt(++ft)),127>=It){if(Ee>=ke)break;he[Ee++>>>0]=It}else{if(2047>=It){if(Ee+1>=ke)break;he[Ee++>>>0]=192|It>>6}else{if(65535>=It){if(Ee+2>=ke)break;he[Ee++>>>0]=224|It>>12}else{if(Ee+3>=ke)break;he[Ee++>>>0]=240|It>>18,he[Ee++>>>0]=128|It>>12&63}he[Ee++>>>0]=128|It>>6&63}he[Ee++>>>0]=128|63&It}}return he[Ee>>>0]=0,Ee-Xe}function xt(ne){for(var he=0,Ee=0;Ee<ne.length;++Ee){var ke=ne.charCodeAt(Ee);127>=ke?he++:2047>=ke?he+=2:55296<=ke&&57343>=ke?(he+=4,++Ee):he+=3}return he}function kt(ne){de=ne,h.HEAP8=we=new Int8Array(ne),h.HEAP16=new Int16Array(ne),h.HEAP32=Ne=new Int32Array(ne),h.HEAPU8=oe=new Uint8Array(ne),h.HEAPU16=new Uint16Array(ne),h.HEAPU32=Ie=new Uint32Array(ne),h.HEAPF32=new Float32Array(ne),h.HEAPF64=Le=new Float64Array(ne)}L&&(de=h.buffer);var _t=h.INITIAL_MEMORY||16777216;if(L)fe=h.wasmMemory,de=h.buffer;else if(h.wasmMemory)fe=h.wasmMemory;else if(!((fe=new WebAssembly.Memory({initial:_t/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw te("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),z&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");fe&&(de=fe.buffer),_t=de.byteLength,kt(de);var Nt,Vt=[],Mt=[],$t=[],Ht=[];function Bt(){return ue||!1}function Ut(){var ne=h.preRun.shift();Vt.unshift(ne)}var St,Lt=0,st=null;function at(ne){throw L?postMessage({cmd:"onAbort",arg:ne}):h.onAbort&&h.onAbort(ne),te(ne="Aborted("+ne+")"),ut=!0,ne=new WebAssembly.RuntimeError(ne+". Build with -sASSERTIONS for more info."),v(ne),ne}function Ue(){return St.startsWith("data:application/octet-stream;base64,")}function nt(){var ne=St;try{if(ne==St&&Q)return new Uint8Array(Q);if(I)return I(ne);throw"both async and sync fetching of the wasm failed"}catch(he){at(he)}}St="ort-wasm-threaded.wasm",Ue()||(St=Z(St));var Ct={};function ce(ne){this.name="ExitStatus",this.message="Program terminated with exit("+ne+")",this.status=ne}function He(ne){(ne=lt.Vb[ne])||at(),lt.mc(ne)}function Je(ne){var he=lt.Cc();if(!he)return 6;lt.ac.push(he),lt.Vb[ne.Ub]=he,he.Ub=ne.Ub;var Ee={cmd:"run",start_routine:ne.Ic,arg:ne.zc,pthread_ptr:ne.Ub};return he.$b=()=>{Ee.time=performance.now(),he.postMessage(Ee,ne.Nc)},he.loaded&&(he.$b(),delete he.$b),0}function gt(ne){if(L)return se(1,1,ne);Bt()||(lt.oc(),h.onExit&&h.onExit(ne),ut=!0),F(ne,new ce(ne))}function Et(ne,he){if(!he&&L)throw le(ne),"unwind";Bt()||L||(ho(),Se($t),Ri(0),Ft[1].length&&Qt(1,10),Ft[2].length&&Qt(2,10),lt.oc()),gt(ne)}var lt={Yb:[],ac:[],qc:[],Vb:{},fc:function(){L&&lt.Ec()},Pc:function(){},Ec:function(){lt.receiveObjectTransfer=lt.Gc,lt.threadInitTLS=lt.pc,lt.setExitStatus=lt.nc,ue=!1},nc:function(){},oc:function(){for(var ne of Object.values(lt.Vb))lt.mc(ne);for(ne of lt.Yb)ne.terminate();lt.Yb=[]},mc:function(ne){var he=ne.Ub;delete lt.Vb[he],lt.Yb.push(ne),lt.ac.splice(lt.ac.indexOf(ne),1),ne.Ub=0,bn(he)},Gc:function(){},pc:function(){lt.qc.forEach(ne=>ne())},Fc:function(ne,he){ne.onmessage=Ee=>{var ke=(Ee=Ee.data).cmd;if(ne.Ub&&(lt.Bc=ne.Ub),Ee.targetThread&&Ee.targetThread!=An()){var Xe=lt.Vb[Ee.Qc];Xe?Xe.postMessage(Ee,Ee.transferList):te('Internal error! Worker sent a message "'+ke+'" to target pthread '+Ee.targetThread+", but that thread no longer exists!")}else ke==="processProxyingQueue"?De(Ee.queue):ke==="spawnThread"?Je(Ee):ke==="cleanupThread"?He(Ee.thread):ke==="killThread"?(Ee=Ee.thread,ke=lt.Vb[Ee],delete lt.Vb[Ee],ke.terminate(),bn(Ee),lt.ac.splice(lt.ac.indexOf(ke),1),ke.Ub=0):ke==="cancelThread"?lt.Vb[Ee.thread].postMessage({cmd:"cancel"}):ke==="loaded"?(ne.loaded=!0,he&&he(ne),ne.$b&&(ne.$b(),delete ne.$b)):ke==="print"?G("Thread "+Ee.threadId+": "+Ee.text):ke==="printErr"?te("Thread "+Ee.threadId+": "+Ee.text):ke==="alert"?alert("Thread "+Ee.threadId+": "+Ee.text):Ee.target==="setimmediate"?ne.postMessage(Ee):ke==="onAbort"?h.onAbort&&h.onAbort(Ee.arg):ke&&te("worker sent an unknown command "+ke);lt.Bc=void 0},ne.onerror=Ee=>{throw te("worker sent an error! "+Ee.filename+":"+Ee.lineno+": "+Ee.message),Ee},z&&(ne.on("message",function(Ee){ne.onmessage({data:Ee})}),ne.on("error",function(Ee){ne.onerror(Ee)}),ne.on("detachedExit",function(){})),ne.postMessage({cmd:"load",urlOrBlob:h.mainScriptUrlOrBlob||s,wasmMemory:fe,wasmModule:K})},yc:function(){var ne=Z("ort-wasm-threaded.worker.js");lt.Yb.push(new Worker(ne))},Cc:function(){return lt.Yb.length==0&&(lt.yc(),lt.Fc(lt.Yb[0])),lt.Yb.pop()}};function Se(ne){for(;0<ne.length;)ne.shift()(h)}function ze(ne){var he=er();return ne=ne(),nr(he),ne}function le(ne){if(L)return se(2,0,ne);try{Et(ne)}catch(he){he instanceof ce||he=="unwind"||F(1,he)}}h.PThread=lt,h.establishStackSpace=function(){var ne=An(),he=g()[ne+44>>2>>>0];ne=g()[ne+48>>2>>>0],yo(he,he-ne),nr(he)};var ae=[];function _e(ne){var he=ae[ne];return he||(ne>=ae.length&&(ae.length=ne+1),ae[ne]=he=Nt.get(ne)),he}h.invokeEntryPoint=function(ne,he){ne=_e(ne)(he),Bt()?lt.nc(ne):fa(ne)};var Oe,We,je=[],Ye=0,Te=0;function Me(ne){this.Zb=ne,this.Sb=ne-24,this.xc=function(he){y()[this.Sb+4>>2>>>0]=he},this.bc=function(){return y()[this.Sb+4>>2>>>0]},this.wc=function(he){y()[this.Sb+8>>2>>>0]=he},this.Dc=function(){return y()[this.Sb+8>>2>>>0]},this.rc=function(){g()[this.Sb>>2>>>0]=0},this.hc=function(he){he=he?1:0,f()[this.Sb+12>>0>>>0]=he},this.uc=function(){return f()[this.Sb+12>>0>>>0]!=0},this.ic=function(he){he=he?1:0,f()[this.Sb+13>>0>>>0]=he},this.kc=function(){return f()[this.Sb+13>>0>>>0]!=0},this.fc=function(he,Ee){this.cc(0),this.xc(he),this.wc(Ee),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(g(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(g(),this.Sb>>2,1)===1},this.cc=function(he){y()[this.Sb+16>>2>>>0]=he},this.tc=function(){return y()[this.Sb+16>>2>>>0]},this.vc=function(){if(Di(this.bc()))return y()[this.Zb>>2>>>0];var he=this.tc();return he!==0?he:this.Zb}}function Kt(ne){return Hr(new Me(ne).Sb)}function Rt(ne,he,Ee,ke){return L?se(3,1,ne,he,Ee,ke):Y(ne,he,Ee,ke)}function Y(ne,he,Ee,ke){if(typeof SharedArrayBuffer>"u")return te("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var Xe=[];return L&&Xe.length===0?Rt(ne,he,Ee,ke):(ne={Ic:Ee,Ub:ne,zc:ke,Nc:Xe},L?(ne.Oc="spawnThread",postMessage(ne,Xe),0):Je(ne))}function Ke(ne,he,Ee){return L?se(4,1,ne,he,Ee):0}function be(ne,he){if(L)return se(5,1,ne,he)}function $e(ne,he){if(L)return se(6,1,ne,he)}function Fe(ne,he,Ee){if(L)return se(7,1,ne,he,Ee)}function Ot(ne,he,Ee){return L?se(8,1,ne,he,Ee):0}function Dt(ne,he){if(L)return se(9,1,ne,he)}function Pt(ne,he,Ee){if(L)return se(10,1,ne,he,Ee)}function dr(ne,he,Ee,ke){if(L)return se(11,1,ne,he,Ee,ke)}function Wt(ne,he,Ee,ke){if(L)return se(12,1,ne,he,Ee,ke)}function Jt(ne,he,Ee,ke){if(L)return se(13,1,ne,he,Ee,ke)}function ir(ne){if(L)return se(14,1,ne)}function pe(ne,he){if(L)return se(15,1,ne,he)}function Ae(ne,he,Ee){if(L)return se(16,1,ne,he,Ee)}function De(ne){Atomics.store(g(),ne>>2,1),An()&&mo(ne),Atomics.compareExchange(g(),ne>>2,1,0)}function qe(ne){return y()[ne>>>2]+4294967296*g()[ne+4>>>2]}function Ge(ne,he,Ee,ke,Xe,ft){return L?se(17,1,ne,he,Ee,ke,Xe,ft):-52}function dt(ne,he,Ee,ke,Xe,ft){if(L)return se(18,1,ne,he,Ee,ke,Xe,ft)}function Tt(ne){var he=xt(ne)+1,Ee=po(he);return Ee&&pt(ne,f(),Ee,he),Ee}function jt(ne,he,Ee){function ke(rr){return(rr=rr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?rr[1]:"GMT"}if(L)return se(19,1,ne,he,Ee);var Xe=new Date().getFullYear(),ft=new Date(Xe,0,1),It=new Date(Xe,6,1);Xe=ft.getTimezoneOffset();var zt=It.getTimezoneOffset(),tr=Math.max(Xe,zt);g()[ne>>2>>>0]=60*tr,g()[he>>2>>>0]=+(Xe!=zt),ne=ke(ft),he=ke(It),ne=Tt(ne),he=Tt(he),zt<Xe?(y()[Ee>>2>>>0]=ne,y()[Ee+4>>2>>>0]=he):(y()[Ee>>2>>>0]=he,y()[Ee+4>>2>>>0]=ne)}function se(ne,he){var Ee=arguments.length-2,ke=arguments;return ze(()=>{for(var Xe=xo(8*Ee),ft=Xe>>3,It=0;It<Ee;It++){var zt=ke[2+It];b()[ft+It>>>0]=zt}return go(ne,Ee,Xe,he)})}h.executeNotifiedProxyingQueue=De,We=z?()=>{var ne=process.hrtime();return 1e3*ne[0]+ne[1]/1e6}:L?()=>performance.now()-h.__performance_now_clock_drift:()=>performance.now();var xe,ye=[],Ce={};function Pe(){if(!xe){var ne,he={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"};for(ne in Ce)Ce[ne]===void 0?delete he[ne]:he[ne]=Ce[ne];var Ee=[];for(ne in he)Ee.push(ne+"="+he[ne]);xe=Ee}return xe}function ve(ne,he){if(L)return se(20,1,ne,he);var Ee=0;return Pe().forEach(function(ke,Xe){var ft=he+Ee;for(Xe=y()[ne+4*Xe>>2>>>0]=ft,ft=0;ft<ke.length;++ft)f()[Xe++>>0>>>0]=ke.charCodeAt(ft);f()[Xe>>0>>>0]=0,Ee+=ke.length+1}),0}function tt(ne,he){if(L)return se(21,1,ne,he);var Ee=Pe();y()[ne>>2>>>0]=Ee.length;var ke=0;return Ee.forEach(function(Xe){ke+=Xe.length+1}),y()[he>>2>>>0]=ke,0}function ht(ne){return L?se(22,1,ne):52}function et(ne,he,Ee,ke){return L?se(23,1,ne,he,Ee,ke):52}function yt(ne,he,Ee,ke,Xe){return L?se(24,1,ne,he,Ee,ke,Xe):70}var Ft=[null,[],[]];function Qt(ne,he){var Ee=Ft[ne];he===0||he===10?((ne===1?G:te)(vt(Ee,0)),Ee.length=0):Ee.push(he)}function gr(ne,he,Ee,ke){if(L)return se(25,1,ne,he,Ee,ke);for(var Xe=0,ft=0;ft<Ee;ft++){var It=y()[he>>2>>>0],zt=y()[he+4>>2>>>0];he+=8;for(var tr=0;tr<zt;tr++)Qt(ne,p()[It+tr>>>0]);Xe+=zt}return y()[ke>>2>>>0]=Xe,0}var xr=0;function Wr(ne){return ne%4==0&&(ne%100!=0||ne%400==0)}var Vr=[31,29,31,30,31,30,31,31,30,31,30,31],fo=[31,28,31,30,31,30,31,31,30,31,30,31];function ua(ne,he,Ee,ke){function Xe(ct,ar,Er){for(ct=typeof ct=="number"?ct.toString():ct||"";ct.length<ar;)ct=Er[0]+ct;return ct}function ft(ct,ar){return Xe(ct,ar,"0")}function It(ct,ar){function Er(Hn){return 0>Hn?-1:0<Hn?1:0}var mn;return(mn=Er(ct.getFullYear()-ar.getFullYear()))===0&&(mn=Er(ct.getMonth()-ar.getMonth()))===0&&(mn=Er(ct.getDate()-ar.getDate())),mn}function zt(ct){switch(ct.getDay()){case 0:return new Date(ct.getFullYear()-1,11,29);case 1:return ct;case 2:return new Date(ct.getFullYear(),0,3);case 3:return new Date(ct.getFullYear(),0,2);case 4:return new Date(ct.getFullYear(),0,1);case 5:return new Date(ct.getFullYear()-1,11,31);case 6:return new Date(ct.getFullYear()-1,11,30)}}function tr(ct){var ar=ct.Wb;for(ct=new Date(new Date(ct.Xb+1900,0,1).getTime());0<ar;){var Er=ct.getMonth(),mn=(Wr(ct.getFullYear())?Vr:fo)[Er];if(!(ar>mn-ct.getDate())){ct.setDate(ct.getDate()+ar);break}ar-=mn-ct.getDate()+1,ct.setDate(1),11>Er?ct.setMonth(Er+1):(ct.setMonth(0),ct.setFullYear(ct.getFullYear()+1))}return Er=new Date(ct.getFullYear()+1,0,4),ar=zt(new Date(ct.getFullYear(),0,4)),Er=zt(Er),0>=It(ar,ct)?0>=It(Er,ct)?ct.getFullYear()+1:ct.getFullYear():ct.getFullYear()-1}var rr=g()[ke+40>>2>>>0];for(var Cr in ke={Lc:g()[ke>>2>>>0],Kc:g()[ke+4>>2>>>0],dc:g()[ke+8>>2>>>0],jc:g()[ke+12>>2>>>0],ec:g()[ke+16>>2>>>0],Xb:g()[ke+20>>2>>>0],Tb:g()[ke+24>>2>>>0],Wb:g()[ke+28>>2>>>0],Rc:g()[ke+32>>2>>>0],Jc:g()[ke+36>>2>>>0],Mc:rr?it(rr):""},Ee=it(Ee),rr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Ee=Ee.replace(new RegExp(Cr,"g"),rr[Cr]);var Xr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),zr="January February March April May June July August September October November December".split(" ");for(Cr in rr={"%a":function(ct){return Xr[ct.Tb].substring(0,3)},"%A":function(ct){return Xr[ct.Tb]},"%b":function(ct){return zr[ct.ec].substring(0,3)},"%B":function(ct){return zr[ct.ec]},"%C":function(ct){return ft((ct.Xb+1900)/100|0,2)},"%d":function(ct){return ft(ct.jc,2)},"%e":function(ct){return Xe(ct.jc,2," ")},"%g":function(ct){return tr(ct).toString().substring(2)},"%G":function(ct){return tr(ct)},"%H":function(ct){return ft(ct.dc,2)},"%I":function(ct){return(ct=ct.dc)==0?ct=12:12<ct&&(ct-=12),ft(ct,2)},"%j":function(ct){for(var ar=0,Er=0;Er<=ct.ec-1;ar+=(Wr(ct.Xb+1900)?Vr:fo)[Er++]);return ft(ct.jc+ar,3)},"%m":function(ct){return ft(ct.ec+1,2)},"%M":function(ct){return ft(ct.Kc,2)},"%n":function(){return`
`},"%p":function(ct){return 0<=ct.dc&&12>ct.dc?"AM":"PM"},"%S":function(ct){return ft(ct.Lc,2)},"%t":function(){return"	"},"%u":function(ct){return ct.Tb||7},"%U":function(ct){return ft(Math.floor((ct.Wb+7-ct.Tb)/7),2)},"%V":function(ct){var ar=Math.floor((ct.Wb+7-(ct.Tb+6)%7)/7);if(2>=(ct.Tb+371-ct.Wb-2)%7&&ar++,ar)ar==53&&((Er=(ct.Tb+371-ct.Wb)%7)==4||Er==3&&Wr(ct.Xb)||(ar=1));else{ar=52;var Er=(ct.Tb+7-ct.Wb-1)%7;(Er==4||Er==5&&Wr(ct.Xb%400-1))&&ar++}return ft(ar,2)},"%w":function(ct){return ct.Tb},"%W":function(ct){return ft(Math.floor((ct.Wb+7-(ct.Tb+6)%7)/7),2)},"%y":function(ct){return(ct.Xb+1900).toString().substring(2)},"%Y":function(ct){return ct.Xb+1900},"%z":function(ct){var ar=0<=(ct=ct.Jc);return ct=Math.abs(ct)/60,(ar?"+":"-")+("0000"+(ct/60*100+ct%60)).slice(-4)},"%Z":function(ct){return ct.Mc},"%%":function(){return"%"}},Ee=Ee.replace(/%%/g,"\0\0"),rr)Ee.includes(Cr)&&(Ee=Ee.replace(new RegExp(Cr,"g"),rr[Cr](ke)));return Cr=function(ct){var ar=Array(xt(ct)+1);return pt(ct,ar,0,ar.length),ar}(Ee=Ee.replace(/\0\0/g,"%")),Cr.length>he?0:(function(ct,ar){f().set(ct,ar>>>0)}(Cr,ne),Cr.length-1)}lt.fc();var Ii=[null,gt,le,Rt,Ke,be,$e,Fe,Ot,Dt,Pt,dr,Wt,Jt,ir,pe,Ae,Ge,dt,jt,ve,tt,ht,et,yt,gr],ca={b:function(ne){return po(ne+24)+24},n:function(ne){return(ne=new Me(ne)).uc()||(ne.hc(!0),Ye--),ne.ic(!1),je.push(ne),ne.sc(),ne.vc()},ma:function(ne){throw te("Unexpected exception thrown, this is not properly supported - aborting"),ut=!0,ne},x:function(){or(0);var ne=je.pop();if(ne.Hc()&&!ne.kc()){var he=ne.Dc();he&&_e(he)(ne.Zb),Kt(ne.Zb)}Te=0},e:function(){var ne=Te;if(!ne)return xr=0;var he=new Me(ne);he.cc(ne);var Ee=he.bc();if(!Ee)return xr=0,ne;for(var ke=Array.prototype.slice.call(arguments),Xe=0;Xe<ke.length;Xe++){var ft=ke[Xe];if(ft===0||ft===Ee)break;if(Tn(ft,Ee,he.Sb+16))return xr=ft,ne}return xr=Ee,ne},l:function(){var ne=Te;if(!ne)return xr=0;var he=new Me(ne);he.cc(ne);var Ee=he.bc();if(!Ee)return xr=0,ne;for(var ke=Array.prototype.slice.call(arguments),Xe=0;Xe<ke.length;Xe++){var ft=ke[Xe];if(ft===0||ft===Ee)break;if(Tn(ft,Ee,he.Sb+16))return xr=ft,ne}return xr=Ee,ne},h:function(){var ne=Te;if(!ne)return xr=0;var he=new Me(ne);he.cc(ne);var Ee=he.bc();if(!Ee)return xr=0,ne;for(var ke=Array.prototype.slice.call(arguments),Xe=0;Xe<ke.length;Xe++){var ft=ke[Xe];if(ft===0||ft===Ee)break;if(Tn(ft,Ee,he.Sb+16))return xr=ft,ne}return xr=Ee,ne},t:Kt,M:function(){var ne=je.pop();ne||at("no exception to throw");var he=ne.Zb;throw ne.kc()||(je.push(ne),ne.ic(!0),ne.hc(!1),Ye++),Te=he,he},c:function(ne,he,Ee){throw new Me(ne).fc(he,Ee),Te=ne,Ye++,ne},pa:function(){return Ye},Fa:function(ne){ki(ne,!H,1,!q),lt.pc()},T:function(ne){L?postMessage({cmd:"cleanupThread",thread:ne}):He(ne)},xa:Y,j:function(ne){throw Te||(Te=ne),ne},H:Ke,Ma:be,ua:$e,wa:Fe,oa:Ot,Ka:Dt,Ca:Pt,Ja:dr,V:Wt,va:Jt,sa:ir,La:pe,ta:Ae,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(ne,he,Ee,ke){if(ne==he)setTimeout(()=>De(ke));else if(L)postMessage({targetThread:ne,cmd:"processProxyingQueue",queue:ke});else{if(!(ne=lt.Vb[ne]))return;ne.postMessage({cmd:"processProxyingQueue",queue:ke})}return 1},Ea:function(){return-1},Pa:function(ne,he){ne=new Date(1e3*qe(ne)),g()[he>>2>>>0]=ne.getUTCSeconds(),g()[he+4>>2>>>0]=ne.getUTCMinutes(),g()[he+8>>2>>>0]=ne.getUTCHours(),g()[he+12>>2>>>0]=ne.getUTCDate(),g()[he+16>>2>>>0]=ne.getUTCMonth(),g()[he+20>>2>>>0]=ne.getUTCFullYear()-1900,g()[he+24>>2>>>0]=ne.getUTCDay(),ne=(ne.getTime()-Date.UTC(ne.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,g()[he+28>>2>>>0]=ne},Qa:function(ne,he){ne=new Date(1e3*qe(ne)),g()[he>>2>>>0]=ne.getSeconds(),g()[he+4>>2>>>0]=ne.getMinutes(),g()[he+8>>2>>>0]=ne.getHours(),g()[he+12>>2>>>0]=ne.getDate(),g()[he+16>>2>>>0]=ne.getMonth(),g()[he+20>>2>>>0]=ne.getFullYear()-1900,g()[he+24>>2>>>0]=ne.getDay();var Ee=new Date(ne.getFullYear(),0,1),ke=(ne.getTime()-Ee.getTime())/864e5|0;g()[he+28>>2>>>0]=ke,g()[he+36>>2>>>0]=-60*ne.getTimezoneOffset(),ke=new Date(ne.getFullYear(),6,1).getTimezoneOffset(),ne=0|(ke!=(Ee=Ee.getTimezoneOffset())&&ne.getTimezoneOffset()==Math.min(Ee,ke)),g()[he+32>>2>>>0]=ne},Ra:function(ne){var he=new Date(g()[ne+20>>2>>>0]+1900,g()[ne+16>>2>>>0],g()[ne+12>>2>>>0],g()[ne+8>>2>>>0],g()[ne+4>>2>>>0],g()[ne>>2>>>0],0),Ee=g()[ne+32>>2>>>0],ke=he.getTimezoneOffset(),Xe=new Date(he.getFullYear(),0,1),ft=new Date(he.getFullYear(),6,1).getTimezoneOffset(),It=Xe.getTimezoneOffset(),zt=Math.min(It,ft);return 0>Ee?g()[ne+32>>2>>>0]=+(ft!=It&&zt==ke):0<Ee!=(zt==ke)&&(ft=Math.max(It,ft),he.setTime(he.getTime()+6e4*((0<Ee?zt:ft)-ke))),g()[ne+24>>2>>>0]=he.getDay(),Ee=(he.getTime()-Xe.getTime())/864e5|0,g()[ne+28>>2>>>0]=Ee,g()[ne>>2>>>0]=he.getSeconds(),g()[ne+4>>2>>>0]=he.getMinutes(),g()[ne+8>>2>>>0]=he.getHours(),g()[ne+12>>2>>>0]=he.getDate(),g()[ne+16>>2>>>0]=he.getMonth(),he.getTime()/1e3|0},Aa:Ge,Ba:dt,Sa:function ne(he,Ee,ke){ne.Ac||(ne.Ac=!0,jt(he,Ee,ke))},y:function(){at("")},U:function(){if(!z&&!H){var ne="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";Oe||(Oe={}),Oe[ne]||(Oe[ne]=1,z&&(ne="warning: "+ne),te(ne))}},ra:function(){return 4294901760},B:We,Ia:function(ne,he,Ee){p().copyWithin(ne>>>0,he>>>0,he+Ee>>>0)},F:function(){return z?a(3993).cpus().length:navigator.hardwareConcurrency},Da:function(ne,he,Ee){ye.length=he,Ee>>=3;for(var ke=0;ke<he;ke++)ye[ke]=b()[Ee+ke>>>0];return(0>ne?Ct[-ne-1]:Ii[ne]).apply(null,ye)},qa:function(ne){var he=p().length;if((ne>>>=0)<=he||4294901760<ne)return!1;for(var Ee=1;4>=Ee;Ee*=2){var ke=he*(1+.2/Ee);ke=Math.min(ke,ne+100663296);var Xe=Math;ke=Math.max(ne,ke),Xe=Xe.min.call(Xe,4294901760,ke+(65536-ke%65536)%65536);e:{try{fe.grow(Xe-de.byteLength+65535>>>16),kt(fe.buffer);var ft=1;break e}catch{}ft=void 0}if(ft)return!0}return!1},Na:function(){throw"unwind"},Ga:ve,Ha:tt,J:Et,I:ht,S:et,ga:yt,R:gr,d:function(){return xr},na:function ne(he,Ee){ne.lc||(ne.lc=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Xe=new Uint8Array(1);return()=>(crypto.getRandomValues(Xe),Xe[0])}if(z)try{var ft=a(Object(function(){var It=new Error("Cannot find module 'crypto'");throw It.code="MODULE_NOT_FOUND",It}()));return()=>ft.randomBytes(1)[0]}catch{}return()=>at("randomDevice")}());for(var ke=0;ke<Ee;ke++)f()[he+ke>>0>>>0]=ne.lc();return 0},ia:function(ne,he,Ee){var ke=er();try{return _e(ne)(he,Ee)}catch(Xe){if(nr(ke),Xe!==Xe+0)throw Xe;or(1,0)}},ja:function(ne,he,Ee){var ke=er();try{return _e(ne)(he,Ee)}catch(Xe){if(nr(ke),Xe!==Xe+0)throw Xe;or(1,0)}},K:function(ne){var he=er();try{return _e(ne)()}catch(Ee){if(nr(he),Ee!==Ee+0)throw Ee;or(1,0)}},f:function(ne,he){var Ee=er();try{return _e(ne)(he)}catch(ke){if(nr(Ee),ke!==ke+0)throw ke;or(1,0)}},P:function(ne,he,Ee){var ke=er();try{return _e(ne)(he,Ee)}catch(Xe){if(nr(ke),Xe!==Xe+0)throw Xe;or(1,0)}},Q:function(ne,he,Ee){var ke=er();try{return _e(ne)(he,Ee)}catch(Xe){if(nr(ke),Xe!==Xe+0)throw Xe;or(1,0)}},k:function(ne,he,Ee){var ke=er();try{return _e(ne)(he,Ee)}catch(Xe){if(nr(ke),Xe!==Xe+0)throw Xe;or(1,0)}},p:function(ne,he,Ee,ke){var Xe=er();try{return _e(ne)(he,Ee,ke)}catch(ft){if(nr(Xe),ft!==ft+0)throw ft;or(1,0)}},q:function(ne,he,Ee,ke,Xe){var ft=er();try{return _e(ne)(he,Ee,ke,Xe)}catch(It){if(nr(ft),It!==It+0)throw It;or(1,0)}},N:function(ne,he,Ee,ke,Xe,ft){var It=er();try{return _e(ne)(he,Ee,ke,Xe,ft)}catch(zt){if(nr(It),zt!==zt+0)throw zt;or(1,0)}},s:function(ne,he,Ee,ke,Xe,ft){var It=er();try{return _e(ne)(he,Ee,ke,Xe,ft)}catch(zt){if(nr(It),zt!==zt+0)throw zt;or(1,0)}},w:function(ne,he,Ee,ke,Xe,ft,It){var zt=er();try{return _e(ne)(he,Ee,ke,Xe,ft,It)}catch(tr){if(nr(zt),tr!==tr+0)throw tr;or(1,0)}},L:function(ne,he,Ee,ke,Xe,ft,It,zt){var tr=er();try{return _e(ne)(he,Ee,ke,Xe,ft,It,zt)}catch(rr){if(nr(tr),rr!==rr+0)throw rr;or(1,0)}},E:function(ne,he,Ee,ke,Xe,ft,It,zt,tr,rr,Cr,Xr){var zr=er();try{return _e(ne)(he,Ee,ke,Xe,ft,It,zt,tr,rr,Cr,Xr)}catch(ct){if(nr(zr),ct!==ct+0)throw ct;or(1,0)}},aa:function(ne,he,Ee,ke,Xe,ft,It,zt){var tr=er();try{return Ni(ne,he,Ee,ke,Xe,ft,It,zt)}catch(rr){if(nr(tr),rr!==rr+0)throw rr;or(1,0)}},_:function(ne,he,Ee,ke,Xe,ft,It){var zt=er();try{return On(ne,he,Ee,ke,Xe,ft,It)}catch(tr){if(nr(zt),tr!==tr+0)throw tr;or(1,0)}},Z:function(ne,he,Ee,ke,Xe){var ft=er();try{return Vn(ne,he,Ee,ke,Xe)}catch(It){if(nr(ft),It!==It+0)throw It;or(1,0)}},ca:function(ne,he,Ee,ke){var Xe=er();try{return qn(ne,he,Ee,ke)}catch(ft){if(nr(Xe),ft!==ft+0)throw ft;or(1,0)}},$:function(ne){var he=er();try{return Pi(ne)}catch(Ee){if(nr(he),Ee!==Ee+0)throw Ee;or(1,0)}},ba:function(ne,he){var Ee=er();try{return an(ne,he)}catch(ke){if(nr(Ee),ke!==ke+0)throw ke;or(1,0)}},Y:function(ne,he,Ee){var ke=er();try{return In(ne,he,Ee)}catch(Xe){if(nr(ke),Xe!==Xe+0)throw Xe;or(1,0)}},g:function(ne){var he=er();try{_e(ne)()}catch(Ee){if(nr(he),Ee!==Ee+0)throw Ee;or(1,0)}},r:function(ne,he){var Ee=er();try{_e(ne)(he)}catch(ke){if(nr(Ee),ke!==ke+0)throw ke;or(1,0)}},i:function(ne,he,Ee){var ke=er();try{_e(ne)(he,Ee)}catch(Xe){if(nr(ke),Xe!==Xe+0)throw Xe;or(1,0)}},ha:function(ne,he,Ee,ke){var Xe=er();try{_e(ne)(he,Ee,ke)}catch(ft){if(nr(Xe),ft!==ft+0)throw ft;or(1,0)}},m:function(ne,he,Ee,ke){var Xe=er();try{_e(ne)(he,Ee,ke)}catch(ft){if(nr(Xe),ft!==ft+0)throw ft;or(1,0)}},v:function(ne,he,Ee,ke,Xe){var ft=er();try{_e(ne)(he,Ee,ke,Xe)}catch(It){if(nr(ft),It!==It+0)throw It;or(1,0)}},u:function(ne,he,Ee,ke,Xe,ft){var It=er();try{_e(ne)(he,Ee,ke,Xe,ft)}catch(zt){if(nr(It),zt!==zt+0)throw zt;or(1,0)}},O:function(ne,he,Ee,ke,Xe,ft,It){var zt=er();try{_e(ne)(he,Ee,ke,Xe,ft,It)}catch(tr){if(nr(zt),tr!==tr+0)throw tr;or(1,0)}},A:function(ne,he,Ee,ke,Xe,ft,It,zt){var tr=er();try{_e(ne)(he,Ee,ke,Xe,ft,It,zt)}catch(rr){if(nr(tr),rr!==rr+0)throw rr;or(1,0)}},ka:function(ne,he,Ee,ke,Xe,ft,It,zt,tr){var rr=er();try{_e(ne)(he,Ee,ke,Xe,ft,It,zt,tr)}catch(Cr){if(nr(rr),Cr!==Cr+0)throw Cr;or(1,0)}},C:function(ne,he,Ee,ke,Xe,ft,It,zt,tr,rr,Cr){var Xr=er();try{_e(ne)(he,Ee,ke,Xe,ft,It,zt,tr,rr,Cr)}catch(zr){if(nr(Xr),zr!==zr+0)throw zr;or(1,0)}},D:function(ne,he,Ee,ke,Xe,ft,It,zt,tr,rr,Cr,Xr,zr,ct,ar,Er){var mn=er();try{_e(ne)(he,Ee,ke,Xe,ft,It,zt,tr,rr,Cr,Xr,zr,ct,ar,Er)}catch(Hn){if(nr(mn),Hn!==Hn+0)throw Hn;or(1,0)}},fa:function(ne,he,Ee,ke,Xe,ft,It,zt){var tr=er();try{vo(ne,he,Ee,ke,Xe,ft,It,zt)}catch(rr){if(nr(tr),rr!==rr+0)throw rr;or(1,0)}},da:function(ne,he,Ee,ke,Xe,ft,It,zt,tr,rr,Cr,Xr){var zr=er();try{bo(ne,he,Ee,ke,Xe,ft,It,zt,tr,rr,Cr,Xr)}catch(ct){if(nr(zr),ct!==ct+0)throw ct;or(1,0)}},ea:function(ne,he,Ee,ke,Xe,ft){var It=er();try{Mi(ne,he,Ee,ke,Xe,ft)}catch(zt){if(nr(It),zt!==zt+0)throw zt;or(1,0)}},o:function(ne){return ne},a:fe||h.wasmMemory,G:function(ne){xr=ne},la:ua,z:function(ne,he,Ee,ke){return ua(ne,he,Ee,ke)}};(function(){function ne(Xe,ft){h.asm=Xe.exports,lt.qc.push(h.asm.sb),Nt=h.asm.ub,Mt.unshift(h.asm.Va),K=ft,L||(Lt--,h.monitorRunDependencies&&h.monitorRunDependencies(Lt),Lt==0&&st&&(Xe=st,st=null,Xe()))}function he(Xe){ne(Xe.instance,Xe.module)}function Ee(Xe){return function(){if(!Q&&(q||H)){if(typeof fetch=="function"&&!St.startsWith("file://"))return fetch(St,{credentials:"same-origin"}).then(function(ft){if(!ft.ok)throw"failed to load wasm binary file at '"+St+"'";return ft.arrayBuffer()}).catch(function(){return nt()});if(A)return new Promise(function(ft,It){A(St,function(zt){ft(new Uint8Array(zt))},It)})}return Promise.resolve().then(function(){return nt()})}().then(function(ft){return WebAssembly.instantiate(ft,ke)}).then(function(ft){return ft}).then(Xe,function(ft){te("failed to asynchronously prepare wasm: "+ft),at(ft)})}var ke={a:ca};if(L||(Lt++,h.monitorRunDependencies&&h.monitorRunDependencies(Lt)),h.instantiateWasm)try{return h.instantiateWasm(ke,ne)}catch(Xe){return te("Module.instantiateWasm callback failed with error: "+Xe),!1}(Q||typeof WebAssembly.instantiateStreaming!="function"||Ue()||St.startsWith("file://")||z||typeof fetch!="function"?Ee(he):fetch(St,{credentials:"same-origin"}).then(function(Xe){return WebAssembly.instantiateStreaming(Xe,ke).then(he,function(ft){return te("wasm streaming compile failed: "+ft),te("falling back to ArrayBuffer instantiation"),Ee(he)})})).catch(v)})(),h.___wasm_call_ctors=function(){return(h.___wasm_call_ctors=h.asm.Va).apply(null,arguments)},h._OrtInit=function(){return(h._OrtInit=h.asm.Wa).apply(null,arguments)},h._OrtCreateSessionOptions=function(){return(h._OrtCreateSessionOptions=h.asm.Xa).apply(null,arguments)},h._OrtAppendExecutionProvider=function(){return(h._OrtAppendExecutionProvider=h.asm.Ya).apply(null,arguments)},h._OrtAddSessionConfigEntry=function(){return(h._OrtAddSessionConfigEntry=h.asm.Za).apply(null,arguments)},h._OrtReleaseSessionOptions=function(){return(h._OrtReleaseSessionOptions=h.asm._a).apply(null,arguments)},h._OrtCreateSession=function(){return(h._OrtCreateSession=h.asm.$a).apply(null,arguments)},h._OrtReleaseSession=function(){return(h._OrtReleaseSession=h.asm.ab).apply(null,arguments)},h._OrtGetInputCount=function(){return(h._OrtGetInputCount=h.asm.bb).apply(null,arguments)},h._OrtGetOutputCount=function(){return(h._OrtGetOutputCount=h.asm.cb).apply(null,arguments)},h._OrtGetInputName=function(){return(h._OrtGetInputName=h.asm.db).apply(null,arguments)},h._OrtGetOutputName=function(){return(h._OrtGetOutputName=h.asm.eb).apply(null,arguments)},h._OrtFree=function(){return(h._OrtFree=h.asm.fb).apply(null,arguments)},h._OrtCreateTensor=function(){return(h._OrtCreateTensor=h.asm.gb).apply(null,arguments)},h._OrtGetTensorData=function(){return(h._OrtGetTensorData=h.asm.hb).apply(null,arguments)},h._OrtReleaseTensor=function(){return(h._OrtReleaseTensor=h.asm.ib).apply(null,arguments)},h._OrtCreateRunOptions=function(){return(h._OrtCreateRunOptions=h.asm.jb).apply(null,arguments)},h._OrtAddRunConfigEntry=function(){return(h._OrtAddRunConfigEntry=h.asm.kb).apply(null,arguments)},h._OrtReleaseRunOptions=function(){return(h._OrtReleaseRunOptions=h.asm.lb).apply(null,arguments)},h._OrtRun=function(){return(h._OrtRun=h.asm.mb).apply(null,arguments)},h._OrtEndProfiling=function(){return(h._OrtEndProfiling=h.asm.nb).apply(null,arguments)};var An=h._pthread_self=function(){return(An=h._pthread_self=h.asm.ob).apply(null,arguments)},po=h._malloc=function(){return(po=h._malloc=h.asm.pb).apply(null,arguments)},Hr=h._free=function(){return(Hr=h._free=h.asm.qb).apply(null,arguments)},Ri=h._fflush=function(){return(Ri=h._fflush=h.asm.rb).apply(null,arguments)};h.__emscripten_tls_init=function(){return(h.__emscripten_tls_init=h.asm.sb).apply(null,arguments)};var ho=h.___funcs_on_exit=function(){return(ho=h.___funcs_on_exit=h.asm.tb).apply(null,arguments)},ki=h.__emscripten_thread_init=function(){return(ki=h.__emscripten_thread_init=h.asm.vb).apply(null,arguments)};h.__emscripten_thread_crashed=function(){return(h.__emscripten_thread_crashed=h.asm.wb).apply(null,arguments)};var hn,go=h._emscripten_run_in_main_runtime_thread_js=function(){return(go=h._emscripten_run_in_main_runtime_thread_js=h.asm.xb).apply(null,arguments)},mo=h.__emscripten_proxy_execute_task_queue=function(){return(mo=h.__emscripten_proxy_execute_task_queue=h.asm.yb).apply(null,arguments)},bn=h.__emscripten_thread_free_data=function(){return(bn=h.__emscripten_thread_free_data=h.asm.zb).apply(null,arguments)},fa=h.__emscripten_thread_exit=function(){return(fa=h.__emscripten_thread_exit=h.asm.Ab).apply(null,arguments)},or=h._setThrew=function(){return(or=h._setThrew=h.asm.Bb).apply(null,arguments)},yo=h._emscripten_stack_set_limits=function(){return(yo=h._emscripten_stack_set_limits=h.asm.Cb).apply(null,arguments)},er=h.stackSave=function(){return(er=h.stackSave=h.asm.Db).apply(null,arguments)},nr=h.stackRestore=function(){return(nr=h.stackRestore=h.asm.Eb).apply(null,arguments)},xo=h.stackAlloc=function(){return(xo=h.stackAlloc=h.asm.Fb).apply(null,arguments)},Tn=h.___cxa_can_catch=function(){return(Tn=h.___cxa_can_catch=h.asm.Gb).apply(null,arguments)},Di=h.___cxa_is_pointer_type=function(){return(Di=h.___cxa_is_pointer_type=h.asm.Hb).apply(null,arguments)},Pi=h.dynCall_j=function(){return(Pi=h.dynCall_j=h.asm.Ib).apply(null,arguments)},On=h.dynCall_iiiiij=function(){return(On=h.dynCall_iiiiij=h.asm.Jb).apply(null,arguments)},In=h.dynCall_jii=function(){return(In=h.dynCall_jii=h.asm.Kb).apply(null,arguments)},vo=h.dynCall_viiiiij=function(){return(vo=h.dynCall_viiiiij=h.asm.Lb).apply(null,arguments)},Mi=h.dynCall_vjji=function(){return(Mi=h.dynCall_vjji=h.asm.Mb).apply(null,arguments)},bo=h.dynCall_viiijjjii=function(){return(bo=h.dynCall_viiijjjii=h.asm.Nb).apply(null,arguments)},qn=h.dynCall_iij=function(){return(qn=h.dynCall_iij=h.asm.Ob).apply(null,arguments)},an=h.dynCall_ji=function(){return(an=h.dynCall_ji=h.asm.Pb).apply(null,arguments)},Ni=h.dynCall_iiiiiij=function(){return(Ni=h.dynCall_iiiiiij=h.asm.Qb).apply(null,arguments)},Vn=h.dynCall_iiij=function(){return(Vn=h.dynCall_iiij=h.asm.Rb).apply(null,arguments)};function gn(){function ne(){if(!hn&&(hn=!0,h.calledRun=!0,!ut)&&(L||Se(Mt),d(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),!L)){if(h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var he=h.postRun.shift();Ht.unshift(he)}Se(Ht)}}if(!(0<Lt))if(L)d(h),L||Se(Mt),postMessage({cmd:"loaded"});else{if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)Ut();Se(Vt),0<Lt||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),ne()},1)):ne())}}if(h.UTF8ToString=it,h.stringToUTF8=function(ne,he,Ee){return pt(ne,p(),he,Ee)},h.lengthBytesUTF8=xt,h.keepRuntimeAlive=Bt,h.wasmMemory=fe,h.stackSave=er,h.stackRestore=nr,h.stackAlloc=xo,h.ExitStatus=ce,h.PThread=lt,st=function ne(){hn||gn(),hn||(st=ne)},h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return gn(),c.ready});i.exports=l},932:(i,n,a)=>{var s,l=(s=(s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(c){var f,p,g;c=c||{},f||(f=c!==void 0?c:{}),f.ready=new Promise(function(pe,Ae){p=pe,g=Ae});var y,b,h,d,v,_,A=Object.assign({},f),I="./this.program",R=(pe,Ae)=>{throw Ae},P=typeof window=="object",$=typeof importScripts=="function",M=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",B="";M?(B=$?a(908).dirname(B)+"/":"//",_=()=>{v||(d=a(1384),v=a(908))},y=function(pe,Ae){return _(),pe=v.normalize(pe),d.readFileSync(pe,Ae?void 0:"utf8")},h=pe=>((pe=y(pe,!0)).buffer||(pe=new Uint8Array(pe)),pe),b=(pe,Ae,De)=>{_(),pe=v.normalize(pe),d.readFile(pe,function(qe,Ge){qe?De(qe):Ae(Ge.buffer)})},1<process.argv.length&&(I=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(pe){if(!(pe instanceof Mt))throw pe}),process.on("unhandledRejection",function(pe){throw pe}),R=(pe,Ae)=>{if(z||0<mt)throw process.exitCode=pe,Ae;Ae instanceof Mt||H("exiting due to exception: "+Ae),process.exit(pe)},f.inspect=function(){return"[Emscripten Module object]"}):(P||$)&&($?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),s&&(B=s),B=B.indexOf("blob:")!==0?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",y=pe=>{var Ae=new XMLHttpRequest;return Ae.open("GET",pe,!1),Ae.send(null),Ae.responseText},$&&(h=pe=>{var Ae=new XMLHttpRequest;return Ae.open("GET",pe,!1),Ae.responseType="arraybuffer",Ae.send(null),new Uint8Array(Ae.response)}),b=(pe,Ae,De)=>{var qe=new XMLHttpRequest;qe.open("GET",pe,!0),qe.responseType="arraybuffer",qe.onload=()=>{qe.status==200||qe.status==0&&qe.response?Ae(qe.response):De()},qe.onerror=De,qe.send(null)});var F,q=f.print||console.log.bind(console),H=f.printErr||console.warn.bind(console);Object.assign(f,A),A=null,f.thisProgram&&(I=f.thisProgram),f.quit&&(R=f.quit),f.wasmBinary&&(F=f.wasmBinary);var z=f.noExitRuntime||!1;typeof WebAssembly!="object"&&kt("no native wasm support detected");var L,ee,Z,V,X,Q,G=!1,te=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ue(pe,Ae,De){var qe=(Ae>>>=0)+De;for(De=Ae;pe[De]&&!(De>=qe);)++De;if(16<De-Ae&&pe.buffer&&te)return te.decode(pe.subarray(Ae,De));for(qe="";Ae<De;){var Ge=pe[Ae++];if(128&Ge){var dt=63&pe[Ae++];if((224&Ge)==192)qe+=String.fromCharCode((31&Ge)<<6|dt);else{var Tt=63&pe[Ae++];65536>(Ge=(240&Ge)==224?(15&Ge)<<12|dt<<6|Tt:(7&Ge)<<18|dt<<12|Tt<<6|63&pe[Ae++])?qe+=String.fromCharCode(Ge):(Ge-=65536,qe+=String.fromCharCode(55296|Ge>>10,56320|1023&Ge))}}else qe+=String.fromCharCode(Ge)}return qe}function fe(pe,Ae){return(pe>>>=0)?ue(V,pe,Ae):""}function K(pe,Ae,De,qe){if(!(0<qe))return 0;var Ge=De>>>=0;qe=De+qe-1;for(var dt=0;dt<pe.length;++dt){var Tt=pe.charCodeAt(dt);if(55296<=Tt&&57343>=Tt&&(Tt=65536+((1023&Tt)<<10)|1023&pe.charCodeAt(++dt)),127>=Tt){if(De>=qe)break;Ae[De++>>>0]=Tt}else{if(2047>=Tt){if(De+1>=qe)break;Ae[De++>>>0]=192|Tt>>6}else{if(65535>=Tt){if(De+2>=qe)break;Ae[De++>>>0]=224|Tt>>12}else{if(De+3>=qe)break;Ae[De++>>>0]=240|Tt>>18,Ae[De++>>>0]=128|Tt>>12&63}Ae[De++>>>0]=128|Tt>>6&63}Ae[De++>>>0]=128|63&Tt}}return Ae[De>>>0]=0,De-Ge}function de(pe){for(var Ae=0,De=0;De<pe.length;++De){var qe=pe.charCodeAt(De);127>=qe?Ae++:2047>=qe?Ae+=2:55296<=qe&&57343>=qe?(Ae+=4,++De):Ae+=3}return Ae}function we(){var pe=L.buffer;ee=pe,f.HEAP8=Z=new Int8Array(pe),f.HEAP16=new Int16Array(pe),f.HEAP32=X=new Int32Array(pe),f.HEAPU8=V=new Uint8Array(pe),f.HEAPU16=new Uint16Array(pe),f.HEAPU32=Q=new Uint32Array(pe),f.HEAPF32=new Float32Array(pe),f.HEAPF64=new Float64Array(pe)}var oe,Ne=[],Ie=[],Le=[],ut=[],mt=0;function vt(){var pe=f.preRun.shift();Ne.unshift(pe)}var it,pt=0,xt=null;function kt(pe){throw f.onAbort&&f.onAbort(pe),H(pe="Aborted("+pe+")"),G=!0,pe=new WebAssembly.RuntimeError(pe+". Build with -sASSERTIONS for more info."),g(pe),pe}function _t(){return it.startsWith("data:application/octet-stream;base64,")}if(it="ort-wasm.wasm",!_t()){var Nt=it;it=f.locateFile?f.locateFile(Nt,B):B+Nt}function Vt(){var pe=it;try{if(pe==it&&F)return new Uint8Array(F);if(h)return h(pe);throw"both async and sync fetching of the wasm failed"}catch(Ae){kt(Ae)}}function Mt(pe){this.name="ExitStatus",this.message="Program terminated with exit("+pe+")",this.status=pe}function $t(pe){for(;0<pe.length;)pe.shift()(f)}var Ht=[],Bt=0,Ut=0;function St(pe){this.Db=pe,this.zb=pe-24,this.Ub=function(Ae){Q[this.zb+4>>2>>>0]=Ae},this.Eb=function(){return Q[this.zb+4>>2>>>0]},this.Sb=function(Ae){Q[this.zb+8>>2>>>0]=Ae},this.Wb=function(){return Q[this.zb+8>>2>>>0]},this.Tb=function(){X[this.zb>>2>>>0]=0},this.Ib=function(Ae){Z[this.zb+12>>0>>>0]=Ae?1:0},this.Pb=function(){return Z[this.zb+12>>0>>>0]!=0},this.Jb=function(Ae){Z[this.zb+13>>0>>>0]=Ae?1:0},this.Lb=function(){return Z[this.zb+13>>0>>>0]!=0},this.Rb=function(Ae,De){this.Fb(0),this.Ub(Ae),this.Sb(De),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){X[this.zb>>2>>>0]+=1},this.Xb=function(){var Ae=X[this.zb>>2>>>0];return X[this.zb>>2>>>0]=Ae-1,Ae===1},this.Fb=function(Ae){Q[this.zb+16>>2>>>0]=Ae},this.Ob=function(){return Q[this.zb+16>>2>>>0]},this.Qb=function(){if(Y(this.Eb()))return Q[this.Db>>2>>>0];var Ae=this.Ob();return Ae!==0?Ae:this.Db}}function Lt(pe){return Oe(new St(pe).zb)}var st=[];function at(pe){var Ae=st[pe];return Ae||(pe>=st.length&&(st.length=pe+1),st[pe]=Ae=oe.get(pe)),Ae}function Ue(pe){var Ae=de(pe)+1,De=_e(Ae);return De&&K(pe,Z,De,Ae),De}var nt={};function Ct(){if(!ce){var pe,Ae={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"};for(pe in nt)nt[pe]===void 0?delete Ae[pe]:Ae[pe]=nt[pe];var De=[];for(pe in Ae)De.push(pe+"="+Ae[pe]);ce=De}return ce}var ce,He=[null,[],[]];function Je(pe,Ae){var De=He[pe];Ae===0||Ae===10?((pe===1?q:H)(ue(De,0)),De.length=0):De.push(Ae)}var gt=0;function Et(pe){return pe%4==0&&(pe%100!=0||pe%400==0)}var lt=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function ze(pe,Ae,De,qe){function Ge(ve,tt,ht){for(ve=typeof ve=="number"?ve.toString():ve||"";ve.length<tt;)ve=ht[0]+ve;return ve}function dt(ve,tt){return Ge(ve,tt,"0")}function Tt(ve,tt){function ht(yt){return 0>yt?-1:0<yt?1:0}var et;return(et=ht(ve.getFullYear()-tt.getFullYear()))===0&&(et=ht(ve.getMonth()-tt.getMonth()))===0&&(et=ht(ve.getDate()-tt.getDate())),et}function jt(ve){switch(ve.getDay()){case 0:return new Date(ve.getFullYear()-1,11,29);case 1:return ve;case 2:return new Date(ve.getFullYear(),0,3);case 3:return new Date(ve.getFullYear(),0,2);case 4:return new Date(ve.getFullYear(),0,1);case 5:return new Date(ve.getFullYear()-1,11,31);case 6:return new Date(ve.getFullYear()-1,11,30)}}function se(ve){var tt=ve.Bb;for(ve=new Date(new Date(ve.Cb+1900,0,1).getTime());0<tt;){var ht=ve.getMonth(),et=(Et(ve.getFullYear())?lt:Se)[ht];if(!(tt>et-ve.getDate())){ve.setDate(ve.getDate()+tt);break}tt-=et-ve.getDate()+1,ve.setDate(1),11>ht?ve.setMonth(ht+1):(ve.setMonth(0),ve.setFullYear(ve.getFullYear()+1))}return ht=new Date(ve.getFullYear()+1,0,4),tt=jt(new Date(ve.getFullYear(),0,4)),ht=jt(ht),0>=Tt(tt,ve)?0>=Tt(ht,ve)?ve.getFullYear()+1:ve.getFullYear():ve.getFullYear()-1}var xe=X[qe+40>>2>>>0];for(var ye in qe={$b:X[qe>>2>>>0],Zb:X[qe+4>>2>>>0],Gb:X[qe+8>>2>>>0],Kb:X[qe+12>>2>>>0],Hb:X[qe+16>>2>>>0],Cb:X[qe+20>>2>>>0],Ab:X[qe+24>>2>>>0],Bb:X[qe+28>>2>>>0],bc:X[qe+32>>2>>>0],Yb:X[qe+36>>2>>>0],ac:xe?fe(xe):""},De=fe(De),xe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})De=De.replace(new RegExp(ye,"g"),xe[ye]);var Ce="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Pe="January February March April May June July August September October November December".split(" ");for(ye in xe={"%a":function(ve){return Ce[ve.Ab].substring(0,3)},"%A":function(ve){return Ce[ve.Ab]},"%b":function(ve){return Pe[ve.Hb].substring(0,3)},"%B":function(ve){return Pe[ve.Hb]},"%C":function(ve){return dt((ve.Cb+1900)/100|0,2)},"%d":function(ve){return dt(ve.Kb,2)},"%e":function(ve){return Ge(ve.Kb,2," ")},"%g":function(ve){return se(ve).toString().substring(2)},"%G":function(ve){return se(ve)},"%H":function(ve){return dt(ve.Gb,2)},"%I":function(ve){return(ve=ve.Gb)==0?ve=12:12<ve&&(ve-=12),dt(ve,2)},"%j":function(ve){for(var tt=0,ht=0;ht<=ve.Hb-1;tt+=(Et(ve.Cb+1900)?lt:Se)[ht++]);return dt(ve.Kb+tt,3)},"%m":function(ve){return dt(ve.Hb+1,2)},"%M":function(ve){return dt(ve.Zb,2)},"%n":function(){return`
`},"%p":function(ve){return 0<=ve.Gb&&12>ve.Gb?"AM":"PM"},"%S":function(ve){return dt(ve.$b,2)},"%t":function(){return"	"},"%u":function(ve){return ve.Ab||7},"%U":function(ve){return dt(Math.floor((ve.Bb+7-ve.Ab)/7),2)},"%V":function(ve){var tt=Math.floor((ve.Bb+7-(ve.Ab+6)%7)/7);if(2>=(ve.Ab+371-ve.Bb-2)%7&&tt++,tt)tt==53&&((ht=(ve.Ab+371-ve.Bb)%7)==4||ht==3&&Et(ve.Cb)||(tt=1));else{tt=52;var ht=(ve.Ab+7-ve.Bb-1)%7;(ht==4||ht==5&&Et(ve.Cb%400-1))&&tt++}return dt(tt,2)},"%w":function(ve){return ve.Ab},"%W":function(ve){return dt(Math.floor((ve.Bb+7-(ve.Ab+6)%7)/7),2)},"%y":function(ve){return(ve.Cb+1900).toString().substring(2)},"%Y":function(ve){return ve.Cb+1900},"%z":function(ve){var tt=0<=(ve=ve.Yb);return ve=Math.abs(ve)/60,(tt?"+":"-")+("0000"+(ve/60*100+ve%60)).slice(-4)},"%Z":function(ve){return ve.ac},"%%":function(){return"%"}},De=De.replace(/%%/g,"\0\0"),xe)De.includes(ye)&&(De=De.replace(new RegExp(ye,"g"),xe[ye](qe)));return ye=function(ve){var tt=Array(de(ve)+1);return K(ve,tt,0,tt.length),tt}(De=De.replace(/\0\0/g,"%")),ye.length>Ae?0:(Z.set(ye,pe>>>0),ye.length-1)}var le={a:function(pe){return _e(pe+24)+24},m:function(pe){return(pe=new St(pe)).Pb()||(pe.Ib(!0),Bt--),pe.Jb(!1),Ht.push(pe),pe.Nb(),pe.Qb()},ia:function(pe){throw H("Unexpected exception thrown, this is not properly supported - aborting"),G=!0,pe},w:function(){Ye(0);var pe=Ht.pop();if(pe.Xb()&&!pe.Lb()){var Ae=pe.Wb();Ae&&at(Ae)(pe.Db),Lt(pe.Db)}Ut=0},d:function(){var pe=Ut;if(!pe)return gt=0;var Ae=new St(pe);Ae.Fb(pe);var De=Ae.Eb();if(!De)return gt=0,pe;for(var qe=Array.prototype.slice.call(arguments),Ge=0;Ge<qe.length;Ge++){var dt=qe[Ge];if(dt===0||dt===De)break;if(Rt(dt,De,Ae.zb+16))return gt=dt,pe}return gt=De,pe},k:function(){var pe=Ut;if(!pe)return gt=0;var Ae=new St(pe);Ae.Fb(pe);var De=Ae.Eb();if(!De)return gt=0,pe;for(var qe=Array.prototype.slice.call(arguments),Ge=0;Ge<qe.length;Ge++){var dt=qe[Ge];if(dt===0||dt===De)break;if(Rt(dt,De,Ae.zb+16))return gt=dt,pe}return gt=De,pe},g:function(){var pe=Ut;if(!pe)return gt=0;var Ae=new St(pe);Ae.Fb(pe);var De=Ae.Eb();if(!De)return gt=0,pe;for(var qe=Array.prototype.slice.call(arguments),Ge=0;Ge<qe.length;Ge++){var dt=qe[Ge];if(dt===0||dt===De)break;if(Rt(dt,De,Ae.zb+16))return gt=dt,pe}return gt=De,pe},s:Lt,L:function(){var pe=Ht.pop();pe||kt("no exception to throw");var Ae=pe.Db;throw pe.Lb()||(Ht.push(pe),pe.Jb(!0),pe.Ib(!1),Bt++),Ut=Ae,Ae},b:function(pe,Ae,De){throw new St(pe).Rb(Ae,De),Ut=pe,Bt++,pe},la:function(){return Bt},i:function(pe){throw Ut||(Ut=pe),pe},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){kt("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){kt("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(pe,Ae){pe=new Date(1e3*(Q[pe>>>2]+4294967296*X[pe+4>>>2])),X[Ae>>2>>>0]=pe.getUTCSeconds(),X[Ae+4>>2>>>0]=pe.getUTCMinutes(),X[Ae+8>>2>>>0]=pe.getUTCHours(),X[Ae+12>>2>>>0]=pe.getUTCDate(),X[Ae+16>>2>>>0]=pe.getUTCMonth(),X[Ae+20>>2>>>0]=pe.getUTCFullYear()-1900,X[Ae+24>>2>>>0]=pe.getUTCDay(),X[Ae+28>>2>>>0]=(pe.getTime()-Date.UTC(pe.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(pe,Ae){pe=new Date(1e3*(Q[pe>>>2]+4294967296*X[pe+4>>>2])),X[Ae>>2>>>0]=pe.getSeconds(),X[Ae+4>>2>>>0]=pe.getMinutes(),X[Ae+8>>2>>>0]=pe.getHours(),X[Ae+12>>2>>>0]=pe.getDate(),X[Ae+16>>2>>>0]=pe.getMonth(),X[Ae+20>>2>>>0]=pe.getFullYear()-1900,X[Ae+24>>2>>>0]=pe.getDay();var De=new Date(pe.getFullYear(),0,1);X[Ae+28>>2>>>0]=(pe.getTime()-De.getTime())/864e5|0,X[Ae+36>>2>>>0]=-60*pe.getTimezoneOffset();var qe=new Date(pe.getFullYear(),6,1).getTimezoneOffset();De=De.getTimezoneOffset(),X[Ae+32>>2>>>0]=0|(qe!=De&&pe.getTimezoneOffset()==Math.min(De,qe))},Fa:function(pe){var Ae=new Date(X[pe+20>>2>>>0]+1900,X[pe+16>>2>>>0],X[pe+12>>2>>>0],X[pe+8>>2>>>0],X[pe+4>>2>>>0],X[pe>>2>>>0],0),De=X[pe+32>>2>>>0],qe=Ae.getTimezoneOffset(),Ge=new Date(Ae.getFullYear(),0,1),dt=new Date(Ae.getFullYear(),6,1).getTimezoneOffset(),Tt=Ge.getTimezoneOffset(),jt=Math.min(Tt,dt);return 0>De?X[pe+32>>2>>>0]=+(dt!=Tt&&jt==qe):0<De!=(jt==qe)&&(dt=Math.max(Tt,dt),Ae.setTime(Ae.getTime()+6e4*((0<De?jt:dt)-qe))),X[pe+24>>2>>>0]=Ae.getDay(),X[pe+28>>2>>>0]=(Ae.getTime()-Ge.getTime())/864e5|0,X[pe>>2>>>0]=Ae.getSeconds(),X[pe+4>>2>>>0]=Ae.getMinutes(),X[pe+8>>2>>>0]=Ae.getHours(),X[pe+12>>2>>>0]=Ae.getDate(),X[pe+16>>2>>>0]=Ae.getMonth(),Ae.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function pe(Ae,De,qe){pe.Vb||(pe.Vb=!0,function(Ge,dt,Tt){function jt(Pe){return(Pe=Pe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Pe[1]:"GMT"}var se=new Date().getFullYear(),xe=new Date(se,0,1),ye=new Date(se,6,1);se=xe.getTimezoneOffset();var Ce=ye.getTimezoneOffset();X[Ge>>2>>>0]=60*Math.max(se,Ce),X[dt>>2>>>0]=+(se!=Ce),Ge=jt(xe),dt=jt(ye),Ge=Ue(Ge),dt=Ue(dt),Ce<se?(Q[Tt>>2>>>0]=Ge,Q[Tt+4>>2>>>0]=dt):(Q[Tt>>2>>>0]=dt,Q[Tt+4>>2>>>0]=Ge)}(Ae,De,qe))},B:function(){kt("")},ma:function(){return 4294901760},I:M?()=>{var pe=process.hrtime();return 1e3*pe[0]+pe[1]/1e6}:()=>performance.now(),xa:function(pe,Ae,De){V.copyWithin(pe>>>0,Ae>>>0,Ae+De>>>0)},G:function(pe){var Ae=V.length;if(4294901760<(pe>>>=0))return!1;for(var De=1;4>=De;De*=2){var qe=Ae*(1+.2/De);qe=Math.min(qe,pe+100663296);var Ge=Math;qe=Math.max(pe,qe),Ge=Ge.min.call(Ge,4294901760,qe+(65536-qe%65536)%65536);e:{try{L.grow(Ge-ee.byteLength+65535>>>16),we();var dt=1;break e}catch{}dt=void 0}if(dt)return!0}return!1},va:function(pe,Ae){var De=0;return Ct().forEach(function(qe,Ge){var dt=Ae+De;for(Ge=Q[pe+4*Ge>>2>>>0]=dt,dt=0;dt<qe.length;++dt)Z[Ge++>>0>>>0]=qe.charCodeAt(dt);Z[Ge>>0>>>0]=0,De+=qe.length+1}),0},wa:function(pe,Ae){var De=Ct();Q[pe>>2>>>0]=De.length;var qe=0;return De.forEach(function(Ge){qe+=Ge.length+1}),Q[Ae>>2>>>0]=qe,0},ba:function(pe){z||0<mt||(je(),$t(Le),We(0),He[1].length&&Je(1,10),He[2].length&&Je(2,10)),z||0<mt||(f.onExit&&f.onExit(pe),G=!0),R(pe,new Mt(pe))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(pe,Ae,De,qe){for(var Ge=0,dt=0;dt<De;dt++){var Tt=Q[Ae>>2>>>0],jt=Q[Ae+4>>2>>>0];Ae+=8;for(var se=0;se<jt;se++)Je(pe,V[Tt+se>>>0]);Ge+=jt}return Q[qe>>2>>>0]=Ge,0},c:function(){return gt},ja:function pe(Ae,De){pe.Mb||(pe.Mb=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Ge=new Uint8Array(1);return()=>(crypto.getRandomValues(Ge),Ge[0])}if(M)try{var dt=a(Object(function(){var Tt=new Error("Cannot find module 'crypto'");throw Tt.code="MODULE_NOT_FOUND",Tt}()));return()=>dt.randomBytes(1)[0]}catch{}return()=>kt("randomDevice")}());for(var qe=0;qe<De;qe++)Z[Ae+qe>>0>>>0]=pe.Mb();return 0},ea:function(pe,Ae,De){var qe=Te();try{return at(pe)(Ae,De)}catch(Ge){if(Me(qe),Ge!==Ge+0)throw Ge;Ye(1,0)}},fa:function(pe,Ae,De){var qe=Te();try{return at(pe)(Ae,De)}catch(Ge){if(Me(qe),Ge!==Ge+0)throw Ge;Ye(1,0)}},J:function(pe){var Ae=Te();try{return at(pe)()}catch(De){if(Me(Ae),De!==De+0)throw De;Ye(1,0)}},e:function(pe,Ae){var De=Te();try{return at(pe)(Ae)}catch(qe){if(Me(De),qe!==qe+0)throw qe;Ye(1,0)}},N:function(pe,Ae,De){var qe=Te();try{return at(pe)(Ae,De)}catch(Ge){if(Me(qe),Ge!==Ge+0)throw Ge;Ye(1,0)}},O:function(pe,Ae,De){var qe=Te();try{return at(pe)(Ae,De)}catch(Ge){if(Me(qe),Ge!==Ge+0)throw Ge;Ye(1,0)}},j:function(pe,Ae,De){var qe=Te();try{return at(pe)(Ae,De)}catch(Ge){if(Me(qe),Ge!==Ge+0)throw Ge;Ye(1,0)}},o:function(pe,Ae,De,qe){var Ge=Te();try{return at(pe)(Ae,De,qe)}catch(dt){if(Me(Ge),dt!==dt+0)throw dt;Ye(1,0)}},p:function(pe,Ae,De,qe,Ge){var dt=Te();try{return at(pe)(Ae,De,qe,Ge)}catch(Tt){if(Me(dt),Tt!==Tt+0)throw Tt;Ye(1,0)}},M:function(pe,Ae,De,qe,Ge,dt){var Tt=Te();try{return at(pe)(Ae,De,qe,Ge,dt)}catch(jt){if(Me(Tt),jt!==jt+0)throw jt;Ye(1,0)}},r:function(pe,Ae,De,qe,Ge,dt){var Tt=Te();try{return at(pe)(Ae,De,qe,Ge,dt)}catch(jt){if(Me(Tt),jt!==jt+0)throw jt;Ye(1,0)}},v:function(pe,Ae,De,qe,Ge,dt,Tt){var jt=Te();try{return at(pe)(Ae,De,qe,Ge,dt,Tt)}catch(se){if(Me(jt),se!==se+0)throw se;Ye(1,0)}},K:function(pe,Ae,De,qe,Ge,dt,Tt,jt){var se=Te();try{return at(pe)(Ae,De,qe,Ge,dt,Tt,jt)}catch(xe){if(Me(se),xe!==xe+0)throw xe;Ye(1,0)}},D:function(pe,Ae,De,qe,Ge,dt,Tt,jt,se,xe,ye,Ce){var Pe=Te();try{return at(pe)(Ae,De,qe,Ge,dt,Tt,jt,se,xe,ye,Ce)}catch(ve){if(Me(Pe),ve!==ve+0)throw ve;Ye(1,0)}},X:function(pe,Ae,De,qe,Ge,dt,Tt,jt){var se=Te();try{return Wt(pe,Ae,De,qe,Ge,dt,Tt,jt)}catch(xe){if(Me(se),xe!==xe+0)throw xe;Ye(1,0)}},V:function(pe,Ae,De,qe,Ge,dt,Tt){var jt=Te();try{return be(pe,Ae,De,qe,Ge,dt,Tt)}catch(se){if(Me(jt),se!==se+0)throw se;Ye(1,0)}},U:function(pe,Ae,De,qe,Ge){var dt=Te();try{return Jt(pe,Ae,De,qe,Ge)}catch(Tt){if(Me(dt),Tt!==Tt+0)throw Tt;Ye(1,0)}},Z:function(pe,Ae,De,qe){var Ge=Te();try{return Pt(pe,Ae,De,qe)}catch(dt){if(Me(Ge),dt!==dt+0)throw dt;Ye(1,0)}},W:function(pe){var Ae=Te();try{return Ke(pe)}catch(De){if(Me(Ae),De!==De+0)throw De;Ye(1,0)}},Y:function(pe,Ae){var De=Te();try{return dr(pe,Ae)}catch(qe){if(Me(De),qe!==qe+0)throw qe;Ye(1,0)}},T:function(pe,Ae,De){var qe=Te();try{return $e(pe,Ae,De)}catch(Ge){if(Me(qe),Ge!==Ge+0)throw Ge;Ye(1,0)}},f:function(pe){var Ae=Te();try{at(pe)()}catch(De){if(Me(Ae),De!==De+0)throw De;Ye(1,0)}},q:function(pe,Ae){var De=Te();try{at(pe)(Ae)}catch(qe){if(Me(De),qe!==qe+0)throw qe;Ye(1,0)}},h:function(pe,Ae,De){var qe=Te();try{at(pe)(Ae,De)}catch(Ge){if(Me(qe),Ge!==Ge+0)throw Ge;Ye(1,0)}},da:function(pe,Ae,De,qe){var Ge=Te();try{at(pe)(Ae,De,qe)}catch(dt){if(Me(Ge),dt!==dt+0)throw dt;Ye(1,0)}},l:function(pe,Ae,De,qe){var Ge=Te();try{at(pe)(Ae,De,qe)}catch(dt){if(Me(Ge),dt!==dt+0)throw dt;Ye(1,0)}},t:function(pe,Ae,De,qe,Ge){var dt=Te();try{at(pe)(Ae,De,qe,Ge)}catch(Tt){if(Me(dt),Tt!==Tt+0)throw Tt;Ye(1,0)}},u:function(pe,Ae,De,qe,Ge,dt){var Tt=Te();try{at(pe)(Ae,De,qe,Ge,dt)}catch(jt){if(Me(Tt),jt!==jt+0)throw jt;Ye(1,0)}},x:function(pe,Ae,De,qe,Ge,dt,Tt){var jt=Te();try{at(pe)(Ae,De,qe,Ge,dt,Tt)}catch(se){if(Me(jt),se!==se+0)throw se;Ye(1,0)}},z:function(pe,Ae,De,qe,Ge,dt,Tt,jt){var se=Te();try{at(pe)(Ae,De,qe,Ge,dt,Tt,jt)}catch(xe){if(Me(se),xe!==xe+0)throw xe;Ye(1,0)}},ga:function(pe,Ae,De,qe,Ge,dt,Tt,jt,se){var xe=Te();try{at(pe)(Ae,De,qe,Ge,dt,Tt,jt,se)}catch(ye){if(Me(xe),ye!==ye+0)throw ye;Ye(1,0)}},A:function(pe,Ae,De,qe,Ge,dt,Tt,jt,se,xe,ye){var Ce=Te();try{at(pe)(Ae,De,qe,Ge,dt,Tt,jt,se,xe,ye)}catch(Pe){if(Me(Ce),Pe!==Pe+0)throw Pe;Ye(1,0)}},C:function(pe,Ae,De,qe,Ge,dt,Tt,jt,se,xe,ye,Ce,Pe,ve,tt,ht){var et=Te();try{at(pe)(Ae,De,qe,Ge,dt,Tt,jt,se,xe,ye,Ce,Pe,ve,tt,ht)}catch(yt){if(Me(et),yt!==yt+0)throw yt;Ye(1,0)}},aa:function(pe,Ae,De,qe,Ge,dt,Tt,jt){var se=Te();try{Fe(pe,Ae,De,qe,Ge,dt,Tt,jt)}catch(xe){if(Me(se),xe!==xe+0)throw xe;Ye(1,0)}},_:function(pe,Ae,De,qe,Ge,dt,Tt,jt,se,xe,ye,Ce){var Pe=Te();try{Dt(pe,Ae,De,qe,Ge,dt,Tt,jt,se,xe,ye,Ce)}catch(ve){if(Me(Pe),ve!==ve+0)throw ve;Ye(1,0)}},$:function(pe,Ae,De,qe,Ge,dt){var Tt=Te();try{Ot(pe,Ae,De,qe,Ge,dt)}catch(jt){if(Me(Tt),jt!==jt+0)throw jt;Ye(1,0)}},n:function(pe){return pe},F:function(pe){gt=pe},ha:ze,y:function(pe,Ae,De,qe){return ze(pe,Ae,De,qe)}};(function(){function pe(Ge){f.asm=Ge.exports,L=f.asm.Ka,we(),oe=f.asm.ib,Ie.unshift(f.asm.La),pt--,f.monitorRunDependencies&&f.monitorRunDependencies(pt),pt==0&&xt&&(Ge=xt,xt=null,Ge())}function Ae(Ge){pe(Ge.instance)}function De(Ge){return function(){if(!F&&(P||$)){if(typeof fetch=="function"&&!it.startsWith("file://"))return fetch(it,{credentials:"same-origin"}).then(function(dt){if(!dt.ok)throw"failed to load wasm binary file at '"+it+"'";return dt.arrayBuffer()}).catch(function(){return Vt()});if(b)return new Promise(function(dt,Tt){b(it,function(jt){dt(new Uint8Array(jt))},Tt)})}return Promise.resolve().then(function(){return Vt()})}().then(function(dt){return WebAssembly.instantiate(dt,qe)}).then(function(dt){return dt}).then(Ge,function(dt){H("failed to asynchronously prepare wasm: "+dt),kt(dt)})}var qe={a:le};if(pt++,f.monitorRunDependencies&&f.monitorRunDependencies(pt),f.instantiateWasm)try{return f.instantiateWasm(qe,pe)}catch(Ge){return H("Module.instantiateWasm callback failed with error: "+Ge),!1}(F||typeof WebAssembly.instantiateStreaming!="function"||_t()||it.startsWith("file://")||M||typeof fetch!="function"?De(Ae):fetch(it,{credentials:"same-origin"}).then(function(Ge){return WebAssembly.instantiateStreaming(Ge,qe).then(Ae,function(dt){return H("wasm streaming compile failed: "+dt),H("falling back to ArrayBuffer instantiation"),De(Ae)})})).catch(g)})(),f.___wasm_call_ctors=function(){return(f.___wasm_call_ctors=f.asm.La).apply(null,arguments)},f._OrtInit=function(){return(f._OrtInit=f.asm.Ma).apply(null,arguments)},f._OrtCreateSessionOptions=function(){return(f._OrtCreateSessionOptions=f.asm.Na).apply(null,arguments)},f._OrtAppendExecutionProvider=function(){return(f._OrtAppendExecutionProvider=f.asm.Oa).apply(null,arguments)},f._OrtAddSessionConfigEntry=function(){return(f._OrtAddSessionConfigEntry=f.asm.Pa).apply(null,arguments)},f._OrtReleaseSessionOptions=function(){return(f._OrtReleaseSessionOptions=f.asm.Qa).apply(null,arguments)},f._OrtCreateSession=function(){return(f._OrtCreateSession=f.asm.Ra).apply(null,arguments)},f._OrtReleaseSession=function(){return(f._OrtReleaseSession=f.asm.Sa).apply(null,arguments)},f._OrtGetInputCount=function(){return(f._OrtGetInputCount=f.asm.Ta).apply(null,arguments)},f._OrtGetOutputCount=function(){return(f._OrtGetOutputCount=f.asm.Ua).apply(null,arguments)},f._OrtGetInputName=function(){return(f._OrtGetInputName=f.asm.Va).apply(null,arguments)},f._OrtGetOutputName=function(){return(f._OrtGetOutputName=f.asm.Wa).apply(null,arguments)},f._OrtFree=function(){return(f._OrtFree=f.asm.Xa).apply(null,arguments)},f._OrtCreateTensor=function(){return(f._OrtCreateTensor=f.asm.Ya).apply(null,arguments)},f._OrtGetTensorData=function(){return(f._OrtGetTensorData=f.asm.Za).apply(null,arguments)},f._OrtReleaseTensor=function(){return(f._OrtReleaseTensor=f.asm._a).apply(null,arguments)},f._OrtCreateRunOptions=function(){return(f._OrtCreateRunOptions=f.asm.$a).apply(null,arguments)},f._OrtAddRunConfigEntry=function(){return(f._OrtAddRunConfigEntry=f.asm.ab).apply(null,arguments)},f._OrtReleaseRunOptions=function(){return(f._OrtReleaseRunOptions=f.asm.bb).apply(null,arguments)},f._OrtRun=function(){return(f._OrtRun=f.asm.cb).apply(null,arguments)},f._OrtEndProfiling=function(){return(f._OrtEndProfiling=f.asm.db).apply(null,arguments)};var ae,_e=f._malloc=function(){return(_e=f._malloc=f.asm.eb).apply(null,arguments)},Oe=f._free=function(){return(Oe=f._free=f.asm.fb).apply(null,arguments)},We=f._fflush=function(){return(We=f._fflush=f.asm.gb).apply(null,arguments)},je=f.___funcs_on_exit=function(){return(je=f.___funcs_on_exit=f.asm.hb).apply(null,arguments)},Ye=f._setThrew=function(){return(Ye=f._setThrew=f.asm.jb).apply(null,arguments)},Te=f.stackSave=function(){return(Te=f.stackSave=f.asm.kb).apply(null,arguments)},Me=f.stackRestore=function(){return(Me=f.stackRestore=f.asm.lb).apply(null,arguments)},Kt=f.stackAlloc=function(){return(Kt=f.stackAlloc=f.asm.mb).apply(null,arguments)},Rt=f.___cxa_can_catch=function(){return(Rt=f.___cxa_can_catch=f.asm.nb).apply(null,arguments)},Y=f.___cxa_is_pointer_type=function(){return(Y=f.___cxa_is_pointer_type=f.asm.ob).apply(null,arguments)},Ke=f.dynCall_j=function(){return(Ke=f.dynCall_j=f.asm.pb).apply(null,arguments)},be=f.dynCall_iiiiij=function(){return(be=f.dynCall_iiiiij=f.asm.qb).apply(null,arguments)},$e=f.dynCall_jii=function(){return($e=f.dynCall_jii=f.asm.rb).apply(null,arguments)},Fe=f.dynCall_viiiiij=function(){return(Fe=f.dynCall_viiiiij=f.asm.sb).apply(null,arguments)},Ot=f.dynCall_vjji=function(){return(Ot=f.dynCall_vjji=f.asm.tb).apply(null,arguments)},Dt=f.dynCall_viiijjjii=function(){return(Dt=f.dynCall_viiijjjii=f.asm.ub).apply(null,arguments)},Pt=f.dynCall_iij=function(){return(Pt=f.dynCall_iij=f.asm.vb).apply(null,arguments)},dr=f.dynCall_ji=function(){return(dr=f.dynCall_ji=f.asm.wb).apply(null,arguments)},Wt=f.dynCall_iiiiiij=function(){return(Wt=f.dynCall_iiiiiij=f.asm.xb).apply(null,arguments)},Jt=f.dynCall_iiij=function(){return(Jt=f.dynCall_iiij=f.asm.yb).apply(null,arguments)};function ir(){function pe(){if(!ae&&(ae=!0,f.calledRun=!0,!G)){if($t(Ie),p(f),f.onRuntimeInitialized&&f.onRuntimeInitialized(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var Ae=f.postRun.shift();ut.unshift(Ae)}$t(ut)}}if(!(0<pt)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)vt();$t(Ne),0<pt||(f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),pe()},1)):pe())}}if(f.UTF8ToString=fe,f.stringToUTF8=function(pe,Ae,De){return K(pe,V,Ae,De)},f.lengthBytesUTF8=de,f.stackSave=Te,f.stackRestore=Me,f.stackAlloc=Kt,xt=function pe(){ae||ir(),ae||(xt=pe)},f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return ir(),c.ready});i.exports=l},4537:i=>{i.exports=function(n,a){for(var s=new Array(arguments.length-1),l=0,c=2,f=!0;c<arguments.length;)s[l++]=arguments[c++];return new Promise(function(p,g){s[l]=function(y){if(f)if(f=!1,y)g(y);else{for(var b=new Array(arguments.length-1),h=0;h<b.length;)b[h++]=arguments[h];p.apply(null,b)}};try{n.apply(a||null,s)}catch(y){f&&(f=!1,g(y))}})}},7419:(i,n)=>{var a=n;a.length=function(p){var g=p.length;if(!g)return 0;for(var y=0;--g%4>1&&p.charAt(g)==="=";)++y;return Math.ceil(3*p.length)/4-y};for(var s=new Array(64),l=new Array(123),c=0;c<64;)l[s[c]=c<26?c+65:c<52?c+71:c<62?c-4:c-59|43]=c++;a.encode=function(p,g,y){for(var b,h=null,d=[],v=0,_=0;g<y;){var A=p[g++];switch(_){case 0:d[v++]=s[A>>2],b=(3&A)<<4,_=1;break;case 1:d[v++]=s[b|A>>4],b=(15&A)<<2,_=2;break;case 2:d[v++]=s[b|A>>6],d[v++]=s[63&A],_=0}v>8191&&((h||(h=[])).push(String.fromCharCode.apply(String,d)),v=0)}return _&&(d[v++]=s[b],d[v++]=61,_===1&&(d[v++]=61)),h?(v&&h.push(String.fromCharCode.apply(String,d.slice(0,v))),h.join("")):String.fromCharCode.apply(String,d.slice(0,v))};var f="invalid encoding";a.decode=function(p,g,y){for(var b,h=y,d=0,v=0;v<p.length;){var _=p.charCodeAt(v++);if(_===61&&d>1)break;if((_=l[_])===void 0)throw Error(f);switch(d){case 0:b=_,d=1;break;case 1:g[y++]=b<<2|(48&_)>>4,b=_,d=2;break;case 2:g[y++]=(15&b)<<4|(60&_)>>2,b=_,d=3;break;case 3:g[y++]=(3&b)<<6|_,d=0}}if(d===1)throw Error(f);return y-h},a.test=function(p){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(p)}},9211:i=>{function n(){this._listeners={}}i.exports=n,n.prototype.on=function(a,s,l){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:s,ctx:l||this}),this},n.prototype.off=function(a,s){if(a===void 0)this._listeners={};else if(s===void 0)this._listeners[a]=[];else for(var l=this._listeners[a],c=0;c<l.length;)l[c].fn===s?l.splice(c,1):++c;return this},n.prototype.emit=function(a){var s=this._listeners[a];if(s){for(var l=[],c=1;c<arguments.length;)l.push(arguments[c++]);for(c=0;c<s.length;)s[c].fn.apply(s[c++].ctx,l)}return this}},945:i=>{function n(f){return typeof Float32Array<"u"?function(){var p=new Float32Array([-0]),g=new Uint8Array(p.buffer),y=g[3]===128;function b(_,A,I){p[0]=_,A[I]=g[0],A[I+1]=g[1],A[I+2]=g[2],A[I+3]=g[3]}function h(_,A,I){p[0]=_,A[I]=g[3],A[I+1]=g[2],A[I+2]=g[1],A[I+3]=g[0]}function d(_,A){return g[0]=_[A],g[1]=_[A+1],g[2]=_[A+2],g[3]=_[A+3],p[0]}function v(_,A){return g[3]=_[A],g[2]=_[A+1],g[1]=_[A+2],g[0]=_[A+3],p[0]}f.writeFloatLE=y?b:h,f.writeFloatBE=y?h:b,f.readFloatLE=y?d:v,f.readFloatBE=y?v:d}():function(){function p(y,b,h,d){var v=b<0?1:0;if(v&&(b=-b),b===0)y(1/b>0?0:2147483648,h,d);else if(isNaN(b))y(2143289344,h,d);else if(b>34028234663852886e22)y((v<<31|2139095040)>>>0,h,d);else if(b<11754943508222875e-54)y((v<<31|Math.round(b/1401298464324817e-60))>>>0,h,d);else{var _=Math.floor(Math.log(b)/Math.LN2);y((v<<31|_+127<<23|8388607&Math.round(b*Math.pow(2,-_)*8388608))>>>0,h,d)}}function g(y,b,h){var d=y(b,h),v=2*(d>>31)+1,_=d>>>23&255,A=8388607&d;return _===255?A?NaN:v*(1/0):_===0?1401298464324817e-60*v*A:v*Math.pow(2,_-150)*(A+8388608)}f.writeFloatLE=p.bind(null,a),f.writeFloatBE=p.bind(null,s),f.readFloatLE=g.bind(null,l),f.readFloatBE=g.bind(null,c)}(),typeof Float64Array<"u"?function(){var p=new Float64Array([-0]),g=new Uint8Array(p.buffer),y=g[7]===128;function b(_,A,I){p[0]=_,A[I]=g[0],A[I+1]=g[1],A[I+2]=g[2],A[I+3]=g[3],A[I+4]=g[4],A[I+5]=g[5],A[I+6]=g[6],A[I+7]=g[7]}function h(_,A,I){p[0]=_,A[I]=g[7],A[I+1]=g[6],A[I+2]=g[5],A[I+3]=g[4],A[I+4]=g[3],A[I+5]=g[2],A[I+6]=g[1],A[I+7]=g[0]}function d(_,A){return g[0]=_[A],g[1]=_[A+1],g[2]=_[A+2],g[3]=_[A+3],g[4]=_[A+4],g[5]=_[A+5],g[6]=_[A+6],g[7]=_[A+7],p[0]}function v(_,A){return g[7]=_[A],g[6]=_[A+1],g[5]=_[A+2],g[4]=_[A+3],g[3]=_[A+4],g[2]=_[A+5],g[1]=_[A+6],g[0]=_[A+7],p[0]}f.writeDoubleLE=y?b:h,f.writeDoubleBE=y?h:b,f.readDoubleLE=y?d:v,f.readDoubleBE=y?v:d}():function(){function p(y,b,h,d,v,_){var A=d<0?1:0;if(A&&(d=-d),d===0)y(0,v,_+b),y(1/d>0?0:2147483648,v,_+h);else if(isNaN(d))y(0,v,_+b),y(2146959360,v,_+h);else if(d>17976931348623157e292)y(0,v,_+b),y((A<<31|2146435072)>>>0,v,_+h);else{var I;if(d<22250738585072014e-324)y((I=d/5e-324)>>>0,v,_+b),y((A<<31|I/4294967296)>>>0,v,_+h);else{var R=Math.floor(Math.log(d)/Math.LN2);R===1024&&(R=1023),y(4503599627370496*(I=d*Math.pow(2,-R))>>>0,v,_+b),y((A<<31|R+1023<<20|1048576*I&1048575)>>>0,v,_+h)}}}function g(y,b,h,d,v){var _=y(d,v+b),A=y(d,v+h),I=2*(A>>31)+1,R=A>>>20&2047,P=4294967296*(1048575&A)+_;return R===2047?P?NaN:I*(1/0):R===0?5e-324*I*P:I*Math.pow(2,R-1075)*(P+4503599627370496)}f.writeDoubleLE=p.bind(null,a,0,4),f.writeDoubleBE=p.bind(null,s,4,0),f.readDoubleLE=g.bind(null,l,0,4),f.readDoubleBE=g.bind(null,c,4,0)}(),f}function a(f,p,g){p[g]=255&f,p[g+1]=f>>>8&255,p[g+2]=f>>>16&255,p[g+3]=f>>>24}function s(f,p,g){p[g]=f>>>24,p[g+1]=f>>>16&255,p[g+2]=f>>>8&255,p[g+3]=255&f}function l(f,p){return(f[p]|f[p+1]<<8|f[p+2]<<16|f[p+3]<<24)>>>0}function c(f,p){return(f[p]<<24|f[p+1]<<16|f[p+2]<<8|f[p+3])>>>0}i.exports=n(n)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}module.exports=inquire},6662:i=>{i.exports=function(n,a,s){var l=s||8192,c=l>>>1,f=null,p=l;return function(g){if(g<1||g>c)return n(g);p+g>l&&(f=n(l),p=0);var y=a.call(f,p,p+=g);return 7&p&&(p=1+(7|p)),y}}},4997:(i,n)=>{var a=n;a.length=function(s){for(var l=0,c=0,f=0;f<s.length;++f)(c=s.charCodeAt(f))<128?l+=1:c<2048?l+=2:(64512&c)==55296&&(64512&s.charCodeAt(f+1))==56320?(++f,l+=4):l+=3;return l},a.read=function(s,l,c){if(c-l<1)return"";for(var f,p=null,g=[],y=0;l<c;)(f=s[l++])<128?g[y++]=f:f>191&&f<224?g[y++]=(31&f)<<6|63&s[l++]:f>239&&f<365?(f=((7&f)<<18|(63&s[l++])<<12|(63&s[l++])<<6|63&s[l++])-65536,g[y++]=55296+(f>>10),g[y++]=56320+(1023&f)):g[y++]=(15&f)<<12|(63&s[l++])<<6|63&s[l++],y>8191&&((p||(p=[])).push(String.fromCharCode.apply(String,g)),y=0);return p?(y&&p.push(String.fromCharCode.apply(String,g.slice(0,y))),p.join("")):String.fromCharCode.apply(String,g.slice(0,y))},a.write=function(s,l,c){for(var f,p,g=c,y=0;y<s.length;++y)(f=s.charCodeAt(y))<128?l[c++]=f:f<2048?(l[c++]=f>>6|192,l[c++]=63&f|128):(64512&f)==55296&&(64512&(p=s.charCodeAt(y+1)))==56320?(f=65536+((1023&f)<<10)+(1023&p),++y,l[c++]=f>>18|240,l[c++]=f>>12&63|128,l[c++]=f>>6&63|128,l[c++]=63&f|128):(l[c++]=f>>12|224,l[c++]=f>>6&63|128,l[c++]=63&f|128);return c-g}},3442:(i,n)=>{n.__esModule=!0;var a=function(){function s(l){if(!l)throw new TypeError("Invalid argument; `value` has no value.");this.value=s.EMPTY,l&&s.isGuid(l)&&(this.value=l)}return s.isGuid=function(l){var c=l.toString();return l&&(l instanceof s||s.validator.test(c))},s.create=function(){return new s([s.gen(2),s.gen(1),s.gen(1),s.gen(1),s.gen(3)].join("-"))},s.createEmpty=function(){return new s("emptyguid")},s.parse=function(l){return new s(l)},s.raw=function(){return[s.gen(2),s.gen(1),s.gen(1),s.gen(1),s.gen(3)].join("-")},s.gen=function(l){for(var c="",f=0;f<l;f++)c+=(65536*(1+Math.random())|0).toString(16).substring(1);return c},s.prototype.equals=function(l){return s.isGuid(l)&&this.value===l.toString()},s.prototype.isEmpty=function(){return this.value===s.EMPTY},s.prototype.toString=function(){return this.value},s.prototype.toJSON=function(){return{value:this.value}},s.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),s.EMPTY="00000000-0000-0000-0000-000000000000",s}();n.Guid=a},3720:i=>{i.exports=a;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function a(z,L,ee){this.low=0|z,this.high=0|L,this.unsigned=!!ee}function s(z){return(z&&z.__isLong__)===!0}a.prototype.__isLong__,Object.defineProperty(a.prototype,"__isLong__",{value:!0}),a.isLong=s;var l={},c={};function f(z,L){var ee,Z,V;return L?(V=0<=(z>>>=0)&&z<256)&&(Z=c[z])?Z:(ee=g(z,(0|z)<0?-1:0,!0),V&&(c[z]=ee),ee):(V=-128<=(z|=0)&&z<128)&&(Z=l[z])?Z:(ee=g(z,z<0?-1:0,!1),V&&(l[z]=ee),ee)}function p(z,L){if(isNaN(z))return L?R:I;if(L){if(z<0)return R;if(z>=v)return F}else{if(z<=-9223372036854776e3)return q;if(z+1>=_)return B}return z<0?p(-z,L).neg():g(z%d|0,z/d|0,L)}function g(z,L,ee){return new a(z,L,ee)}a.fromInt=f,a.fromNumber=p,a.fromBits=g;var y=Math.pow;function b(z,L,ee){if(z.length===0)throw Error("empty string");if(z==="NaN"||z==="Infinity"||z==="+Infinity"||z==="-Infinity")return I;if(typeof L=="number"?(ee=L,L=!1):L=!!L,(ee=ee||10)<2||36<ee)throw RangeError("radix");var Z;if((Z=z.indexOf("-"))>0)throw Error("interior hyphen");if(Z===0)return b(z.substring(1),L,ee).neg();for(var V=p(y(ee,8)),X=I,Q=0;Q<z.length;Q+=8){var G=Math.min(8,z.length-Q),te=parseInt(z.substring(Q,Q+G),ee);if(G<8){var ue=p(y(ee,G));X=X.mul(ue).add(p(te))}else X=(X=X.mul(V)).add(p(te))}return X.unsigned=L,X}function h(z,L){return typeof z=="number"?p(z,L):typeof z=="string"?b(z,L):g(z.low,z.high,typeof L=="boolean"?L:z.unsigned)}a.fromString=b,a.fromValue=h;var d=4294967296,v=d*d,_=v/2,A=f(1<<24),I=f(0);a.ZERO=I;var R=f(0,!0);a.UZERO=R;var P=f(1);a.ONE=P;var $=f(1,!0);a.UONE=$;var M=f(-1);a.NEG_ONE=M;var B=g(-1,2147483647,!1);a.MAX_VALUE=B;var F=g(-1,-1,!0);a.MAX_UNSIGNED_VALUE=F;var q=g(0,-2147483648,!1);a.MIN_VALUE=q;var H=a.prototype;H.toInt=function(){return this.unsigned?this.low>>>0:this.low},H.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},H.toString=function(z){if((z=z||10)<2||36<z)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(q)){var L=p(z),ee=this.div(L),Z=ee.mul(L).sub(this);return ee.toString(z)+Z.toInt().toString(z)}return"-"+this.neg().toString(z)}for(var V=p(y(z,6),this.unsigned),X=this,Q="";;){var G=X.div(V),te=(X.sub(G.mul(V)).toInt()>>>0).toString(z);if((X=G).isZero())return te+Q;for(;te.length<6;)te="0"+te;Q=""+te+Q}},H.getHighBits=function(){return this.high},H.getHighBitsUnsigned=function(){return this.high>>>0},H.getLowBits=function(){return this.low},H.getLowBitsUnsigned=function(){return this.low>>>0},H.getNumBitsAbs=function(){if(this.isNegative())return this.eq(q)?64:this.neg().getNumBitsAbs();for(var z=this.high!=0?this.high:this.low,L=31;L>0&&!(z&1<<L);L--);return this.high!=0?L+33:L+1},H.isZero=function(){return this.high===0&&this.low===0},H.eqz=H.isZero,H.isNegative=function(){return!this.unsigned&&this.high<0},H.isPositive=function(){return this.unsigned||this.high>=0},H.isOdd=function(){return(1&this.low)==1},H.isEven=function(){return(1&this.low)==0},H.equals=function(z){return s(z)||(z=h(z)),(this.unsigned===z.unsigned||this.high>>>31!=1||z.high>>>31!=1)&&this.high===z.high&&this.low===z.low},H.eq=H.equals,H.notEquals=function(z){return!this.eq(z)},H.neq=H.notEquals,H.ne=H.notEquals,H.lessThan=function(z){return this.comp(z)<0},H.lt=H.lessThan,H.lessThanOrEqual=function(z){return this.comp(z)<=0},H.lte=H.lessThanOrEqual,H.le=H.lessThanOrEqual,H.greaterThan=function(z){return this.comp(z)>0},H.gt=H.greaterThan,H.greaterThanOrEqual=function(z){return this.comp(z)>=0},H.gte=H.greaterThanOrEqual,H.ge=H.greaterThanOrEqual,H.compare=function(z){if(s(z)||(z=h(z)),this.eq(z))return 0;var L=this.isNegative(),ee=z.isNegative();return L&&!ee?-1:!L&&ee?1:this.unsigned?z.high>>>0>this.high>>>0||z.high===this.high&&z.low>>>0>this.low>>>0?-1:1:this.sub(z).isNegative()?-1:1},H.comp=H.compare,H.negate=function(){return!this.unsigned&&this.eq(q)?q:this.not().add(P)},H.neg=H.negate,H.add=function(z){s(z)||(z=h(z));var L=this.high>>>16,ee=65535&this.high,Z=this.low>>>16,V=65535&this.low,X=z.high>>>16,Q=65535&z.high,G=z.low>>>16,te=0,ue=0,fe=0,K=0;return fe+=(K+=V+(65535&z.low))>>>16,ue+=(fe+=Z+G)>>>16,te+=(ue+=ee+Q)>>>16,te+=L+X,g((fe&=65535)<<16|(K&=65535),(te&=65535)<<16|(ue&=65535),this.unsigned)},H.subtract=function(z){return s(z)||(z=h(z)),this.add(z.neg())},H.sub=H.subtract,H.multiply=function(z){if(this.isZero())return I;if(s(z)||(z=h(z)),n)return g(n.mul(this.low,this.high,z.low,z.high),n.get_high(),this.unsigned);if(z.isZero())return I;if(this.eq(q))return z.isOdd()?q:I;if(z.eq(q))return this.isOdd()?q:I;if(this.isNegative())return z.isNegative()?this.neg().mul(z.neg()):this.neg().mul(z).neg();if(z.isNegative())return this.mul(z.neg()).neg();if(this.lt(A)&&z.lt(A))return p(this.toNumber()*z.toNumber(),this.unsigned);var L=this.high>>>16,ee=65535&this.high,Z=this.low>>>16,V=65535&this.low,X=z.high>>>16,Q=65535&z.high,G=z.low>>>16,te=65535&z.low,ue=0,fe=0,K=0,de=0;return K+=(de+=V*te)>>>16,fe+=(K+=Z*te)>>>16,K&=65535,fe+=(K+=V*G)>>>16,ue+=(fe+=ee*te)>>>16,fe&=65535,ue+=(fe+=Z*G)>>>16,fe&=65535,ue+=(fe+=V*Q)>>>16,ue+=L*te+ee*G+Z*Q+V*X,g((K&=65535)<<16|(de&=65535),(ue&=65535)<<16|(fe&=65535),this.unsigned)},H.mul=H.multiply,H.divide=function(z){if(s(z)||(z=h(z)),z.isZero())throw Error("division by zero");var L,ee,Z;if(n)return this.unsigned||this.high!==-2147483648||z.low!==-1||z.high!==-1?g((this.unsigned?n.div_u:n.div_s)(this.low,this.high,z.low,z.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?R:I;if(this.unsigned){if(z.unsigned||(z=z.toUnsigned()),z.gt(this))return R;if(z.gt(this.shru(1)))return $;Z=R}else{if(this.eq(q))return z.eq(P)||z.eq(M)?q:z.eq(q)?P:(L=this.shr(1).div(z).shl(1)).eq(I)?z.isNegative()?P:M:(ee=this.sub(z.mul(L)),Z=L.add(ee.div(z)));if(z.eq(q))return this.unsigned?R:I;if(this.isNegative())return z.isNegative()?this.neg().div(z.neg()):this.neg().div(z).neg();if(z.isNegative())return this.div(z.neg()).neg();Z=I}for(ee=this;ee.gte(z);){L=Math.max(1,Math.floor(ee.toNumber()/z.toNumber()));for(var V=Math.ceil(Math.log(L)/Math.LN2),X=V<=48?1:y(2,V-48),Q=p(L),G=Q.mul(z);G.isNegative()||G.gt(ee);)G=(Q=p(L-=X,this.unsigned)).mul(z);Q.isZero()&&(Q=P),Z=Z.add(Q),ee=ee.sub(G)}return Z},H.div=H.divide,H.modulo=function(z){return s(z)||(z=h(z)),n?g((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,z.low,z.high),n.get_high(),this.unsigned):this.sub(this.div(z).mul(z))},H.mod=H.modulo,H.rem=H.modulo,H.not=function(){return g(~this.low,~this.high,this.unsigned)},H.and=function(z){return s(z)||(z=h(z)),g(this.low&z.low,this.high&z.high,this.unsigned)},H.or=function(z){return s(z)||(z=h(z)),g(this.low|z.low,this.high|z.high,this.unsigned)},H.xor=function(z){return s(z)||(z=h(z)),g(this.low^z.low,this.high^z.high,this.unsigned)},H.shiftLeft=function(z){return s(z)&&(z=z.toInt()),(z&=63)==0?this:z<32?g(this.low<<z,this.high<<z|this.low>>>32-z,this.unsigned):g(0,this.low<<z-32,this.unsigned)},H.shl=H.shiftLeft,H.shiftRight=function(z){return s(z)&&(z=z.toInt()),(z&=63)==0?this:z<32?g(this.low>>>z|this.high<<32-z,this.high>>z,this.unsigned):g(this.high>>z-32,this.high>=0?0:-1,this.unsigned)},H.shr=H.shiftRight,H.shiftRightUnsigned=function(z){if(s(z)&&(z=z.toInt()),(z&=63)==0)return this;var L=this.high;return z<32?g(this.low>>>z|L<<32-z,L>>>z,this.unsigned):g(z===32?L:L>>>z-32,0,this.unsigned)},H.shru=H.shiftRightUnsigned,H.shr_u=H.shiftRightUnsigned,H.toSigned=function(){return this.unsigned?g(this.low,this.high,!1):this},H.toUnsigned=function(){return this.unsigned?this:g(this.low,this.high,!0)},H.toBytes=function(z){return z?this.toBytesLE():this.toBytesBE()},H.toBytesLE=function(){var z=this.high,L=this.low;return[255&L,L>>>8&255,L>>>16&255,L>>>24,255&z,z>>>8&255,z>>>16&255,z>>>24]},H.toBytesBE=function(){var z=this.high,L=this.low;return[z>>>24,z>>>16&255,z>>>8&255,255&z,L>>>24,L>>>16&255,L>>>8&255,255&L]},a.fromBytes=function(z,L,ee){return ee?a.fromBytesLE(z,L):a.fromBytesBE(z,L)},a.fromBytesLE=function(z,L){return new a(z[0]|z[1]<<8|z[2]<<16|z[3]<<24,z[4]|z[5]<<8|z[6]<<16|z[7]<<24,L)},a.fromBytesBE=function(z,L){return new a(z[4]<<24|z[5]<<16|z[6]<<8|z[7],z[0]<<24|z[1]<<16|z[2]<<8|z[3],L)}},1446:(i,n,a)=>{var s,l,c,f=a(2100),p=f.Reader,g=f.Writer,y=f.util,b=f.roots.default||(f.roots.default={});b.onnx=((c={}).Version=(s={},(l=Object.create(s))[s[0]="_START_VERSION"]=0,l[s[1]="IR_VERSION_2017_10_10"]=1,l[s[2]="IR_VERSION_2017_10_30"]=2,l[s[3]="IR_VERSION_2017_11_3"]=3,l[s[4]="IR_VERSION_2019_1_22"]=4,l[s[5]="IR_VERSION"]=5,l),c.AttributeProto=function(){function h(d){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.name="",h.prototype.refAttrName="",h.prototype.docString="",h.prototype.type=0,h.prototype.f=0,h.prototype.i=y.Long?y.Long.fromBits(0,0,!1):0,h.prototype.s=y.newBuffer([]),h.prototype.t=null,h.prototype.g=null,h.prototype.floats=y.emptyArray,h.prototype.ints=y.emptyArray,h.prototype.strings=y.emptyArray,h.prototype.tensors=y.emptyArray,h.prototype.graphs=y.emptyArray,h.create=function(d){return new h(d)},h.encode=function(d,v){if(v||(v=g.create()),d.name!=null&&d.hasOwnProperty("name")&&v.uint32(10).string(d.name),d.f!=null&&d.hasOwnProperty("f")&&v.uint32(21).float(d.f),d.i!=null&&d.hasOwnProperty("i")&&v.uint32(24).int64(d.i),d.s!=null&&d.hasOwnProperty("s")&&v.uint32(34).bytes(d.s),d.t!=null&&d.hasOwnProperty("t")&&b.onnx.TensorProto.encode(d.t,v.uint32(42).fork()).ldelim(),d.g!=null&&d.hasOwnProperty("g")&&b.onnx.GraphProto.encode(d.g,v.uint32(50).fork()).ldelim(),d.floats!=null&&d.floats.length){v.uint32(58).fork();for(var _=0;_<d.floats.length;++_)v.float(d.floats[_]);v.ldelim()}if(d.ints!=null&&d.ints.length){for(v.uint32(66).fork(),_=0;_<d.ints.length;++_)v.int64(d.ints[_]);v.ldelim()}if(d.strings!=null&&d.strings.length)for(_=0;_<d.strings.length;++_)v.uint32(74).bytes(d.strings[_]);if(d.tensors!=null&&d.tensors.length)for(_=0;_<d.tensors.length;++_)b.onnx.TensorProto.encode(d.tensors[_],v.uint32(82).fork()).ldelim();if(d.graphs!=null&&d.graphs.length)for(_=0;_<d.graphs.length;++_)b.onnx.GraphProto.encode(d.graphs[_],v.uint32(90).fork()).ldelim();return d.docString!=null&&d.hasOwnProperty("docString")&&v.uint32(106).string(d.docString),d.type!=null&&d.hasOwnProperty("type")&&v.uint32(160).int32(d.type),d.refAttrName!=null&&d.hasOwnProperty("refAttrName")&&v.uint32(170).string(d.refAttrName),v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.AttributeProto;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:A.name=d.string();break;case 21:A.refAttrName=d.string();break;case 13:A.docString=d.string();break;case 20:A.type=d.int32();break;case 2:A.f=d.float();break;case 3:A.i=d.int64();break;case 4:A.s=d.bytes();break;case 5:A.t=b.onnx.TensorProto.decode(d,d.uint32());break;case 6:A.g=b.onnx.GraphProto.decode(d,d.uint32());break;case 7:if(A.floats&&A.floats.length||(A.floats=[]),(7&I)==2)for(var R=d.uint32()+d.pos;d.pos<R;)A.floats.push(d.float());else A.floats.push(d.float());break;case 8:if(A.ints&&A.ints.length||(A.ints=[]),(7&I)==2)for(R=d.uint32()+d.pos;d.pos<R;)A.ints.push(d.int64());else A.ints.push(d.int64());break;case 9:A.strings&&A.strings.length||(A.strings=[]),A.strings.push(d.bytes());break;case 10:A.tensors&&A.tensors.length||(A.tensors=[]),A.tensors.push(b.onnx.TensorProto.decode(d,d.uint32()));break;case 11:A.graphs&&A.graphs.length||(A.graphs=[]),A.graphs.push(b.onnx.GraphProto.decode(d,d.uint32()));break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!y.isString(d.name))return"name: string expected";if(d.refAttrName!=null&&d.hasOwnProperty("refAttrName")&&!y.isString(d.refAttrName))return"refAttrName: string expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!y.isString(d.docString))return"docString: string expected";if(d.type!=null&&d.hasOwnProperty("type"))switch(d.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(d.f!=null&&d.hasOwnProperty("f")&&typeof d.f!="number")return"f: number expected";if(d.i!=null&&d.hasOwnProperty("i")&&!(y.isInteger(d.i)||d.i&&y.isInteger(d.i.low)&&y.isInteger(d.i.high)))return"i: integer|Long expected";if(d.s!=null&&d.hasOwnProperty("s")&&!(d.s&&typeof d.s.length=="number"||y.isString(d.s)))return"s: buffer expected";if(d.t!=null&&d.hasOwnProperty("t")&&(_=b.onnx.TensorProto.verify(d.t)))return"t."+_;if(d.g!=null&&d.hasOwnProperty("g")&&(_=b.onnx.GraphProto.verify(d.g)))return"g."+_;if(d.floats!=null&&d.hasOwnProperty("floats")){if(!Array.isArray(d.floats))return"floats: array expected";for(var v=0;v<d.floats.length;++v)if(typeof d.floats[v]!="number")return"floats: number[] expected"}if(d.ints!=null&&d.hasOwnProperty("ints")){if(!Array.isArray(d.ints))return"ints: array expected";for(v=0;v<d.ints.length;++v)if(!(y.isInteger(d.ints[v])||d.ints[v]&&y.isInteger(d.ints[v].low)&&y.isInteger(d.ints[v].high)))return"ints: integer|Long[] expected"}if(d.strings!=null&&d.hasOwnProperty("strings")){if(!Array.isArray(d.strings))return"strings: array expected";for(v=0;v<d.strings.length;++v)if(!(d.strings[v]&&typeof d.strings[v].length=="number"||y.isString(d.strings[v])))return"strings: buffer[] expected"}if(d.tensors!=null&&d.hasOwnProperty("tensors")){if(!Array.isArray(d.tensors))return"tensors: array expected";for(v=0;v<d.tensors.length;++v)if(_=b.onnx.TensorProto.verify(d.tensors[v]))return"tensors."+_}if(d.graphs!=null&&d.hasOwnProperty("graphs")){if(!Array.isArray(d.graphs))return"graphs: array expected";for(v=0;v<d.graphs.length;++v){var _;if(_=b.onnx.GraphProto.verify(d.graphs[v]))return"graphs."+_}}return null},h.fromObject=function(d){if(d instanceof b.onnx.AttributeProto)return d;var v=new b.onnx.AttributeProto;switch(d.name!=null&&(v.name=String(d.name)),d.refAttrName!=null&&(v.refAttrName=String(d.refAttrName)),d.docString!=null&&(v.docString=String(d.docString)),d.type){case"UNDEFINED":case 0:v.type=0;break;case"FLOAT":case 1:v.type=1;break;case"INT":case 2:v.type=2;break;case"STRING":case 3:v.type=3;break;case"TENSOR":case 4:v.type=4;break;case"GRAPH":case 5:v.type=5;break;case"FLOATS":case 6:v.type=6;break;case"INTS":case 7:v.type=7;break;case"STRINGS":case 8:v.type=8;break;case"TENSORS":case 9:v.type=9;break;case"GRAPHS":case 10:v.type=10}if(d.f!=null&&(v.f=Number(d.f)),d.i!=null&&(y.Long?(v.i=y.Long.fromValue(d.i)).unsigned=!1:typeof d.i=="string"?v.i=parseInt(d.i,10):typeof d.i=="number"?v.i=d.i:typeof d.i=="object"&&(v.i=new y.LongBits(d.i.low>>>0,d.i.high>>>0).toNumber())),d.s!=null&&(typeof d.s=="string"?y.base64.decode(d.s,v.s=y.newBuffer(y.base64.length(d.s)),0):d.s.length&&(v.s=d.s)),d.t!=null){if(typeof d.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");v.t=b.onnx.TensorProto.fromObject(d.t)}if(d.g!=null){if(typeof d.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");v.g=b.onnx.GraphProto.fromObject(d.g)}if(d.floats){if(!Array.isArray(d.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");v.floats=[];for(var _=0;_<d.floats.length;++_)v.floats[_]=Number(d.floats[_])}if(d.ints){if(!Array.isArray(d.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(v.ints=[],_=0;_<d.ints.length;++_)y.Long?(v.ints[_]=y.Long.fromValue(d.ints[_])).unsigned=!1:typeof d.ints[_]=="string"?v.ints[_]=parseInt(d.ints[_],10):typeof d.ints[_]=="number"?v.ints[_]=d.ints[_]:typeof d.ints[_]=="object"&&(v.ints[_]=new y.LongBits(d.ints[_].low>>>0,d.ints[_].high>>>0).toNumber())}if(d.strings){if(!Array.isArray(d.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(v.strings=[],_=0;_<d.strings.length;++_)typeof d.strings[_]=="string"?y.base64.decode(d.strings[_],v.strings[_]=y.newBuffer(y.base64.length(d.strings[_])),0):d.strings[_].length&&(v.strings[_]=d.strings[_])}if(d.tensors){if(!Array.isArray(d.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(v.tensors=[],_=0;_<d.tensors.length;++_){if(typeof d.tensors[_]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");v.tensors[_]=b.onnx.TensorProto.fromObject(d.tensors[_])}}if(d.graphs){if(!Array.isArray(d.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(v.graphs=[],_=0;_<d.graphs.length;++_){if(typeof d.graphs[_]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");v.graphs[_]=b.onnx.GraphProto.fromObject(d.graphs[_])}}return v},h.toObject=function(d,v){v||(v={});var _={};if((v.arrays||v.defaults)&&(_.floats=[],_.ints=[],_.strings=[],_.tensors=[],_.graphs=[]),v.defaults){if(_.name="",_.f=0,y.Long){var A=new y.Long(0,0,!1);_.i=v.longs===String?A.toString():v.longs===Number?A.toNumber():A}else _.i=v.longs===String?"0":0;v.bytes===String?_.s="":(_.s=[],v.bytes!==Array&&(_.s=y.newBuffer(_.s))),_.t=null,_.g=null,_.docString="",_.type=v.enums===String?"UNDEFINED":0,_.refAttrName=""}if(d.name!=null&&d.hasOwnProperty("name")&&(_.name=d.name),d.f!=null&&d.hasOwnProperty("f")&&(_.f=v.json&&!isFinite(d.f)?String(d.f):d.f),d.i!=null&&d.hasOwnProperty("i")&&(typeof d.i=="number"?_.i=v.longs===String?String(d.i):d.i:_.i=v.longs===String?y.Long.prototype.toString.call(d.i):v.longs===Number?new y.LongBits(d.i.low>>>0,d.i.high>>>0).toNumber():d.i),d.s!=null&&d.hasOwnProperty("s")&&(_.s=v.bytes===String?y.base64.encode(d.s,0,d.s.length):v.bytes===Array?Array.prototype.slice.call(d.s):d.s),d.t!=null&&d.hasOwnProperty("t")&&(_.t=b.onnx.TensorProto.toObject(d.t,v)),d.g!=null&&d.hasOwnProperty("g")&&(_.g=b.onnx.GraphProto.toObject(d.g,v)),d.floats&&d.floats.length){_.floats=[];for(var I=0;I<d.floats.length;++I)_.floats[I]=v.json&&!isFinite(d.floats[I])?String(d.floats[I]):d.floats[I]}if(d.ints&&d.ints.length)for(_.ints=[],I=0;I<d.ints.length;++I)typeof d.ints[I]=="number"?_.ints[I]=v.longs===String?String(d.ints[I]):d.ints[I]:_.ints[I]=v.longs===String?y.Long.prototype.toString.call(d.ints[I]):v.longs===Number?new y.LongBits(d.ints[I].low>>>0,d.ints[I].high>>>0).toNumber():d.ints[I];if(d.strings&&d.strings.length)for(_.strings=[],I=0;I<d.strings.length;++I)_.strings[I]=v.bytes===String?y.base64.encode(d.strings[I],0,d.strings[I].length):v.bytes===Array?Array.prototype.slice.call(d.strings[I]):d.strings[I];if(d.tensors&&d.tensors.length)for(_.tensors=[],I=0;I<d.tensors.length;++I)_.tensors[I]=b.onnx.TensorProto.toObject(d.tensors[I],v);if(d.graphs&&d.graphs.length)for(_.graphs=[],I=0;I<d.graphs.length;++I)_.graphs[I]=b.onnx.GraphProto.toObject(d.graphs[I],v);return d.docString!=null&&d.hasOwnProperty("docString")&&(_.docString=d.docString),d.type!=null&&d.hasOwnProperty("type")&&(_.type=v.enums===String?b.onnx.AttributeProto.AttributeType[d.type]:d.type),d.refAttrName!=null&&d.hasOwnProperty("refAttrName")&&(_.refAttrName=d.refAttrName),_},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h.AttributeType=function(){var d={},v=Object.create(d);return v[d[0]="UNDEFINED"]=0,v[d[1]="FLOAT"]=1,v[d[2]="INT"]=2,v[d[3]="STRING"]=3,v[d[4]="TENSOR"]=4,v[d[5]="GRAPH"]=5,v[d[6]="FLOATS"]=6,v[d[7]="INTS"]=7,v[d[8]="STRINGS"]=8,v[d[9]="TENSORS"]=9,v[d[10]="GRAPHS"]=10,v}(),h}(),c.ValueInfoProto=function(){function h(d){if(d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.name="",h.prototype.type=null,h.prototype.docString="",h.create=function(d){return new h(d)},h.encode=function(d,v){return v||(v=g.create()),d.name!=null&&d.hasOwnProperty("name")&&v.uint32(10).string(d.name),d.type!=null&&d.hasOwnProperty("type")&&b.onnx.TypeProto.encode(d.type,v.uint32(18).fork()).ldelim(),d.docString!=null&&d.hasOwnProperty("docString")&&v.uint32(26).string(d.docString),v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.ValueInfoProto;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:A.name=d.string();break;case 2:A.type=b.onnx.TypeProto.decode(d,d.uint32());break;case 3:A.docString=d.string();break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.name!=null&&d.hasOwnProperty("name")&&!y.isString(d.name))return"name: string expected";if(d.type!=null&&d.hasOwnProperty("type")){var v=b.onnx.TypeProto.verify(d.type);if(v)return"type."+v}return d.docString!=null&&d.hasOwnProperty("docString")&&!y.isString(d.docString)?"docString: string expected":null},h.fromObject=function(d){if(d instanceof b.onnx.ValueInfoProto)return d;var v=new b.onnx.ValueInfoProto;if(d.name!=null&&(v.name=String(d.name)),d.type!=null){if(typeof d.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");v.type=b.onnx.TypeProto.fromObject(d.type)}return d.docString!=null&&(v.docString=String(d.docString)),v},h.toObject=function(d,v){v||(v={});var _={};return v.defaults&&(_.name="",_.type=null,_.docString=""),d.name!=null&&d.hasOwnProperty("name")&&(_.name=d.name),d.type!=null&&d.hasOwnProperty("type")&&(_.type=b.onnx.TypeProto.toObject(d.type,v)),d.docString!=null&&d.hasOwnProperty("docString")&&(_.docString=d.docString),_},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h}(),c.NodeProto=function(){function h(d){if(this.input=[],this.output=[],this.attribute=[],d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.input=y.emptyArray,h.prototype.output=y.emptyArray,h.prototype.name="",h.prototype.opType="",h.prototype.domain="",h.prototype.attribute=y.emptyArray,h.prototype.docString="",h.create=function(d){return new h(d)},h.encode=function(d,v){if(v||(v=g.create()),d.input!=null&&d.input.length)for(var _=0;_<d.input.length;++_)v.uint32(10).string(d.input[_]);if(d.output!=null&&d.output.length)for(_=0;_<d.output.length;++_)v.uint32(18).string(d.output[_]);if(d.name!=null&&d.hasOwnProperty("name")&&v.uint32(26).string(d.name),d.opType!=null&&d.hasOwnProperty("opType")&&v.uint32(34).string(d.opType),d.attribute!=null&&d.attribute.length)for(_=0;_<d.attribute.length;++_)b.onnx.AttributeProto.encode(d.attribute[_],v.uint32(42).fork()).ldelim();return d.docString!=null&&d.hasOwnProperty("docString")&&v.uint32(50).string(d.docString),d.domain!=null&&d.hasOwnProperty("domain")&&v.uint32(58).string(d.domain),v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.NodeProto;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:A.input&&A.input.length||(A.input=[]),A.input.push(d.string());break;case 2:A.output&&A.output.length||(A.output=[]),A.output.push(d.string());break;case 3:A.name=d.string();break;case 4:A.opType=d.string();break;case 7:A.domain=d.string();break;case 5:A.attribute&&A.attribute.length||(A.attribute=[]),A.attribute.push(b.onnx.AttributeProto.decode(d,d.uint32()));break;case 6:A.docString=d.string();break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.input!=null&&d.hasOwnProperty("input")){if(!Array.isArray(d.input))return"input: array expected";for(var v=0;v<d.input.length;++v)if(!y.isString(d.input[v]))return"input: string[] expected"}if(d.output!=null&&d.hasOwnProperty("output")){if(!Array.isArray(d.output))return"output: array expected";for(v=0;v<d.output.length;++v)if(!y.isString(d.output[v]))return"output: string[] expected"}if(d.name!=null&&d.hasOwnProperty("name")&&!y.isString(d.name))return"name: string expected";if(d.opType!=null&&d.hasOwnProperty("opType")&&!y.isString(d.opType))return"opType: string expected";if(d.domain!=null&&d.hasOwnProperty("domain")&&!y.isString(d.domain))return"domain: string expected";if(d.attribute!=null&&d.hasOwnProperty("attribute")){if(!Array.isArray(d.attribute))return"attribute: array expected";for(v=0;v<d.attribute.length;++v){var _=b.onnx.AttributeProto.verify(d.attribute[v]);if(_)return"attribute."+_}}return d.docString!=null&&d.hasOwnProperty("docString")&&!y.isString(d.docString)?"docString: string expected":null},h.fromObject=function(d){if(d instanceof b.onnx.NodeProto)return d;var v=new b.onnx.NodeProto;if(d.input){if(!Array.isArray(d.input))throw TypeError(".onnx.NodeProto.input: array expected");v.input=[];for(var _=0;_<d.input.length;++_)v.input[_]=String(d.input[_])}if(d.output){if(!Array.isArray(d.output))throw TypeError(".onnx.NodeProto.output: array expected");for(v.output=[],_=0;_<d.output.length;++_)v.output[_]=String(d.output[_])}if(d.name!=null&&(v.name=String(d.name)),d.opType!=null&&(v.opType=String(d.opType)),d.domain!=null&&(v.domain=String(d.domain)),d.attribute){if(!Array.isArray(d.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(v.attribute=[],_=0;_<d.attribute.length;++_){if(typeof d.attribute[_]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");v.attribute[_]=b.onnx.AttributeProto.fromObject(d.attribute[_])}}return d.docString!=null&&(v.docString=String(d.docString)),v},h.toObject=function(d,v){v||(v={});var _={};if((v.arrays||v.defaults)&&(_.input=[],_.output=[],_.attribute=[]),v.defaults&&(_.name="",_.opType="",_.docString="",_.domain=""),d.input&&d.input.length){_.input=[];for(var A=0;A<d.input.length;++A)_.input[A]=d.input[A]}if(d.output&&d.output.length)for(_.output=[],A=0;A<d.output.length;++A)_.output[A]=d.output[A];if(d.name!=null&&d.hasOwnProperty("name")&&(_.name=d.name),d.opType!=null&&d.hasOwnProperty("opType")&&(_.opType=d.opType),d.attribute&&d.attribute.length)for(_.attribute=[],A=0;A<d.attribute.length;++A)_.attribute[A]=b.onnx.AttributeProto.toObject(d.attribute[A],v);return d.docString!=null&&d.hasOwnProperty("docString")&&(_.docString=d.docString),d.domain!=null&&d.hasOwnProperty("domain")&&(_.domain=d.domain),_},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h}(),c.ModelProto=function(){function h(d){if(this.opsetImport=[],this.metadataProps=[],d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.irVersion=y.Long?y.Long.fromBits(0,0,!1):0,h.prototype.opsetImport=y.emptyArray,h.prototype.producerName="",h.prototype.producerVersion="",h.prototype.domain="",h.prototype.modelVersion=y.Long?y.Long.fromBits(0,0,!1):0,h.prototype.docString="",h.prototype.graph=null,h.prototype.metadataProps=y.emptyArray,h.create=function(d){return new h(d)},h.encode=function(d,v){if(v||(v=g.create()),d.irVersion!=null&&d.hasOwnProperty("irVersion")&&v.uint32(8).int64(d.irVersion),d.producerName!=null&&d.hasOwnProperty("producerName")&&v.uint32(18).string(d.producerName),d.producerVersion!=null&&d.hasOwnProperty("producerVersion")&&v.uint32(26).string(d.producerVersion),d.domain!=null&&d.hasOwnProperty("domain")&&v.uint32(34).string(d.domain),d.modelVersion!=null&&d.hasOwnProperty("modelVersion")&&v.uint32(40).int64(d.modelVersion),d.docString!=null&&d.hasOwnProperty("docString")&&v.uint32(50).string(d.docString),d.graph!=null&&d.hasOwnProperty("graph")&&b.onnx.GraphProto.encode(d.graph,v.uint32(58).fork()).ldelim(),d.opsetImport!=null&&d.opsetImport.length)for(var _=0;_<d.opsetImport.length;++_)b.onnx.OperatorSetIdProto.encode(d.opsetImport[_],v.uint32(66).fork()).ldelim();if(d.metadataProps!=null&&d.metadataProps.length)for(_=0;_<d.metadataProps.length;++_)b.onnx.StringStringEntryProto.encode(d.metadataProps[_],v.uint32(114).fork()).ldelim();return v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.ModelProto;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:A.irVersion=d.int64();break;case 8:A.opsetImport&&A.opsetImport.length||(A.opsetImport=[]),A.opsetImport.push(b.onnx.OperatorSetIdProto.decode(d,d.uint32()));break;case 2:A.producerName=d.string();break;case 3:A.producerVersion=d.string();break;case 4:A.domain=d.string();break;case 5:A.modelVersion=d.int64();break;case 6:A.docString=d.string();break;case 7:A.graph=b.onnx.GraphProto.decode(d,d.uint32());break;case 14:A.metadataProps&&A.metadataProps.length||(A.metadataProps=[]),A.metadataProps.push(b.onnx.StringStringEntryProto.decode(d,d.uint32()));break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.irVersion!=null&&d.hasOwnProperty("irVersion")&&!(y.isInteger(d.irVersion)||d.irVersion&&y.isInteger(d.irVersion.low)&&y.isInteger(d.irVersion.high)))return"irVersion: integer|Long expected";if(d.opsetImport!=null&&d.hasOwnProperty("opsetImport")){if(!Array.isArray(d.opsetImport))return"opsetImport: array expected";for(var v=0;v<d.opsetImport.length;++v)if(_=b.onnx.OperatorSetIdProto.verify(d.opsetImport[v]))return"opsetImport."+_}if(d.producerName!=null&&d.hasOwnProperty("producerName")&&!y.isString(d.producerName))return"producerName: string expected";if(d.producerVersion!=null&&d.hasOwnProperty("producerVersion")&&!y.isString(d.producerVersion))return"producerVersion: string expected";if(d.domain!=null&&d.hasOwnProperty("domain")&&!y.isString(d.domain))return"domain: string expected";if(d.modelVersion!=null&&d.hasOwnProperty("modelVersion")&&!(y.isInteger(d.modelVersion)||d.modelVersion&&y.isInteger(d.modelVersion.low)&&y.isInteger(d.modelVersion.high)))return"modelVersion: integer|Long expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!y.isString(d.docString))return"docString: string expected";if(d.graph!=null&&d.hasOwnProperty("graph")&&(_=b.onnx.GraphProto.verify(d.graph)))return"graph."+_;if(d.metadataProps!=null&&d.hasOwnProperty("metadataProps")){if(!Array.isArray(d.metadataProps))return"metadataProps: array expected";for(v=0;v<d.metadataProps.length;++v){var _;if(_=b.onnx.StringStringEntryProto.verify(d.metadataProps[v]))return"metadataProps."+_}}return null},h.fromObject=function(d){if(d instanceof b.onnx.ModelProto)return d;var v=new b.onnx.ModelProto;if(d.irVersion!=null&&(y.Long?(v.irVersion=y.Long.fromValue(d.irVersion)).unsigned=!1:typeof d.irVersion=="string"?v.irVersion=parseInt(d.irVersion,10):typeof d.irVersion=="number"?v.irVersion=d.irVersion:typeof d.irVersion=="object"&&(v.irVersion=new y.LongBits(d.irVersion.low>>>0,d.irVersion.high>>>0).toNumber())),d.opsetImport){if(!Array.isArray(d.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");v.opsetImport=[];for(var _=0;_<d.opsetImport.length;++_){if(typeof d.opsetImport[_]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");v.opsetImport[_]=b.onnx.OperatorSetIdProto.fromObject(d.opsetImport[_])}}if(d.producerName!=null&&(v.producerName=String(d.producerName)),d.producerVersion!=null&&(v.producerVersion=String(d.producerVersion)),d.domain!=null&&(v.domain=String(d.domain)),d.modelVersion!=null&&(y.Long?(v.modelVersion=y.Long.fromValue(d.modelVersion)).unsigned=!1:typeof d.modelVersion=="string"?v.modelVersion=parseInt(d.modelVersion,10):typeof d.modelVersion=="number"?v.modelVersion=d.modelVersion:typeof d.modelVersion=="object"&&(v.modelVersion=new y.LongBits(d.modelVersion.low>>>0,d.modelVersion.high>>>0).toNumber())),d.docString!=null&&(v.docString=String(d.docString)),d.graph!=null){if(typeof d.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");v.graph=b.onnx.GraphProto.fromObject(d.graph)}if(d.metadataProps){if(!Array.isArray(d.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(v.metadataProps=[],_=0;_<d.metadataProps.length;++_){if(typeof d.metadataProps[_]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");v.metadataProps[_]=b.onnx.StringStringEntryProto.fromObject(d.metadataProps[_])}}return v},h.toObject=function(d,v){v||(v={});var _={};if((v.arrays||v.defaults)&&(_.opsetImport=[],_.metadataProps=[]),v.defaults){if(y.Long){var A=new y.Long(0,0,!1);_.irVersion=v.longs===String?A.toString():v.longs===Number?A.toNumber():A}else _.irVersion=v.longs===String?"0":0;_.producerName="",_.producerVersion="",_.domain="",y.Long?(A=new y.Long(0,0,!1),_.modelVersion=v.longs===String?A.toString():v.longs===Number?A.toNumber():A):_.modelVersion=v.longs===String?"0":0,_.docString="",_.graph=null}if(d.irVersion!=null&&d.hasOwnProperty("irVersion")&&(typeof d.irVersion=="number"?_.irVersion=v.longs===String?String(d.irVersion):d.irVersion:_.irVersion=v.longs===String?y.Long.prototype.toString.call(d.irVersion):v.longs===Number?new y.LongBits(d.irVersion.low>>>0,d.irVersion.high>>>0).toNumber():d.irVersion),d.producerName!=null&&d.hasOwnProperty("producerName")&&(_.producerName=d.producerName),d.producerVersion!=null&&d.hasOwnProperty("producerVersion")&&(_.producerVersion=d.producerVersion),d.domain!=null&&d.hasOwnProperty("domain")&&(_.domain=d.domain),d.modelVersion!=null&&d.hasOwnProperty("modelVersion")&&(typeof d.modelVersion=="number"?_.modelVersion=v.longs===String?String(d.modelVersion):d.modelVersion:_.modelVersion=v.longs===String?y.Long.prototype.toString.call(d.modelVersion):v.longs===Number?new y.LongBits(d.modelVersion.low>>>0,d.modelVersion.high>>>0).toNumber():d.modelVersion),d.docString!=null&&d.hasOwnProperty("docString")&&(_.docString=d.docString),d.graph!=null&&d.hasOwnProperty("graph")&&(_.graph=b.onnx.GraphProto.toObject(d.graph,v)),d.opsetImport&&d.opsetImport.length){_.opsetImport=[];for(var I=0;I<d.opsetImport.length;++I)_.opsetImport[I]=b.onnx.OperatorSetIdProto.toObject(d.opsetImport[I],v)}if(d.metadataProps&&d.metadataProps.length)for(_.metadataProps=[],I=0;I<d.metadataProps.length;++I)_.metadataProps[I]=b.onnx.StringStringEntryProto.toObject(d.metadataProps[I],v);return _},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h}(),c.StringStringEntryProto=function(){function h(d){if(d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.key="",h.prototype.value="",h.create=function(d){return new h(d)},h.encode=function(d,v){return v||(v=g.create()),d.key!=null&&d.hasOwnProperty("key")&&v.uint32(10).string(d.key),d.value!=null&&d.hasOwnProperty("value")&&v.uint32(18).string(d.value),v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.StringStringEntryProto;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:A.key=d.string();break;case 2:A.value=d.string();break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){return typeof d!="object"||d===null?"object expected":d.key!=null&&d.hasOwnProperty("key")&&!y.isString(d.key)?"key: string expected":d.value!=null&&d.hasOwnProperty("value")&&!y.isString(d.value)?"value: string expected":null},h.fromObject=function(d){if(d instanceof b.onnx.StringStringEntryProto)return d;var v=new b.onnx.StringStringEntryProto;return d.key!=null&&(v.key=String(d.key)),d.value!=null&&(v.value=String(d.value)),v},h.toObject=function(d,v){v||(v={});var _={};return v.defaults&&(_.key="",_.value=""),d.key!=null&&d.hasOwnProperty("key")&&(_.key=d.key),d.value!=null&&d.hasOwnProperty("value")&&(_.value=d.value),_},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h}(),c.TensorAnnotation=function(){function h(d){if(this.quantParameterTensorNames=[],d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.tensorName="",h.prototype.quantParameterTensorNames=y.emptyArray,h.create=function(d){return new h(d)},h.encode=function(d,v){if(v||(v=g.create()),d.tensorName!=null&&d.hasOwnProperty("tensorName")&&v.uint32(10).string(d.tensorName),d.quantParameterTensorNames!=null&&d.quantParameterTensorNames.length)for(var _=0;_<d.quantParameterTensorNames.length;++_)b.onnx.StringStringEntryProto.encode(d.quantParameterTensorNames[_],v.uint32(18).fork()).ldelim();return v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.TensorAnnotation;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:A.tensorName=d.string();break;case 2:A.quantParameterTensorNames&&A.quantParameterTensorNames.length||(A.quantParameterTensorNames=[]),A.quantParameterTensorNames.push(b.onnx.StringStringEntryProto.decode(d,d.uint32()));break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.tensorName!=null&&d.hasOwnProperty("tensorName")&&!y.isString(d.tensorName))return"tensorName: string expected";if(d.quantParameterTensorNames!=null&&d.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(d.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var v=0;v<d.quantParameterTensorNames.length;++v){var _=b.onnx.StringStringEntryProto.verify(d.quantParameterTensorNames[v]);if(_)return"quantParameterTensorNames."+_}}return null},h.fromObject=function(d){if(d instanceof b.onnx.TensorAnnotation)return d;var v=new b.onnx.TensorAnnotation;if(d.tensorName!=null&&(v.tensorName=String(d.tensorName)),d.quantParameterTensorNames){if(!Array.isArray(d.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");v.quantParameterTensorNames=[];for(var _=0;_<d.quantParameterTensorNames.length;++_){if(typeof d.quantParameterTensorNames[_]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");v.quantParameterTensorNames[_]=b.onnx.StringStringEntryProto.fromObject(d.quantParameterTensorNames[_])}}return v},h.toObject=function(d,v){v||(v={});var _={};if((v.arrays||v.defaults)&&(_.quantParameterTensorNames=[]),v.defaults&&(_.tensorName=""),d.tensorName!=null&&d.hasOwnProperty("tensorName")&&(_.tensorName=d.tensorName),d.quantParameterTensorNames&&d.quantParameterTensorNames.length){_.quantParameterTensorNames=[];for(var A=0;A<d.quantParameterTensorNames.length;++A)_.quantParameterTensorNames[A]=b.onnx.StringStringEntryProto.toObject(d.quantParameterTensorNames[A],v)}return _},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h}(),c.GraphProto=function(){function h(d){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.node=y.emptyArray,h.prototype.name="",h.prototype.initializer=y.emptyArray,h.prototype.docString="",h.prototype.input=y.emptyArray,h.prototype.output=y.emptyArray,h.prototype.valueInfo=y.emptyArray,h.prototype.quantizationAnnotation=y.emptyArray,h.create=function(d){return new h(d)},h.encode=function(d,v){if(v||(v=g.create()),d.node!=null&&d.node.length)for(var _=0;_<d.node.length;++_)b.onnx.NodeProto.encode(d.node[_],v.uint32(10).fork()).ldelim();if(d.name!=null&&d.hasOwnProperty("name")&&v.uint32(18).string(d.name),d.initializer!=null&&d.initializer.length)for(_=0;_<d.initializer.length;++_)b.onnx.TensorProto.encode(d.initializer[_],v.uint32(42).fork()).ldelim();if(d.docString!=null&&d.hasOwnProperty("docString")&&v.uint32(82).string(d.docString),d.input!=null&&d.input.length)for(_=0;_<d.input.length;++_)b.onnx.ValueInfoProto.encode(d.input[_],v.uint32(90).fork()).ldelim();if(d.output!=null&&d.output.length)for(_=0;_<d.output.length;++_)b.onnx.ValueInfoProto.encode(d.output[_],v.uint32(98).fork()).ldelim();if(d.valueInfo!=null&&d.valueInfo.length)for(_=0;_<d.valueInfo.length;++_)b.onnx.ValueInfoProto.encode(d.valueInfo[_],v.uint32(106).fork()).ldelim();if(d.quantizationAnnotation!=null&&d.quantizationAnnotation.length)for(_=0;_<d.quantizationAnnotation.length;++_)b.onnx.TensorAnnotation.encode(d.quantizationAnnotation[_],v.uint32(114).fork()).ldelim();return v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.GraphProto;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:A.node&&A.node.length||(A.node=[]),A.node.push(b.onnx.NodeProto.decode(d,d.uint32()));break;case 2:A.name=d.string();break;case 5:A.initializer&&A.initializer.length||(A.initializer=[]),A.initializer.push(b.onnx.TensorProto.decode(d,d.uint32()));break;case 10:A.docString=d.string();break;case 11:A.input&&A.input.length||(A.input=[]),A.input.push(b.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 12:A.output&&A.output.length||(A.output=[]),A.output.push(b.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 13:A.valueInfo&&A.valueInfo.length||(A.valueInfo=[]),A.valueInfo.push(b.onnx.ValueInfoProto.decode(d,d.uint32()));break;case 14:A.quantizationAnnotation&&A.quantizationAnnotation.length||(A.quantizationAnnotation=[]),A.quantizationAnnotation.push(b.onnx.TensorAnnotation.decode(d,d.uint32()));break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.node!=null&&d.hasOwnProperty("node")){if(!Array.isArray(d.node))return"node: array expected";for(var v=0;v<d.node.length;++v)if(_=b.onnx.NodeProto.verify(d.node[v]))return"node."+_}if(d.name!=null&&d.hasOwnProperty("name")&&!y.isString(d.name))return"name: string expected";if(d.initializer!=null&&d.hasOwnProperty("initializer")){if(!Array.isArray(d.initializer))return"initializer: array expected";for(v=0;v<d.initializer.length;++v)if(_=b.onnx.TensorProto.verify(d.initializer[v]))return"initializer."+_}if(d.docString!=null&&d.hasOwnProperty("docString")&&!y.isString(d.docString))return"docString: string expected";if(d.input!=null&&d.hasOwnProperty("input")){if(!Array.isArray(d.input))return"input: array expected";for(v=0;v<d.input.length;++v)if(_=b.onnx.ValueInfoProto.verify(d.input[v]))return"input."+_}if(d.output!=null&&d.hasOwnProperty("output")){if(!Array.isArray(d.output))return"output: array expected";for(v=0;v<d.output.length;++v)if(_=b.onnx.ValueInfoProto.verify(d.output[v]))return"output."+_}if(d.valueInfo!=null&&d.hasOwnProperty("valueInfo")){if(!Array.isArray(d.valueInfo))return"valueInfo: array expected";for(v=0;v<d.valueInfo.length;++v)if(_=b.onnx.ValueInfoProto.verify(d.valueInfo[v]))return"valueInfo."+_}if(d.quantizationAnnotation!=null&&d.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(d.quantizationAnnotation))return"quantizationAnnotation: array expected";for(v=0;v<d.quantizationAnnotation.length;++v){var _;if(_=b.onnx.TensorAnnotation.verify(d.quantizationAnnotation[v]))return"quantizationAnnotation."+_}}return null},h.fromObject=function(d){if(d instanceof b.onnx.GraphProto)return d;var v=new b.onnx.GraphProto;if(d.node){if(!Array.isArray(d.node))throw TypeError(".onnx.GraphProto.node: array expected");v.node=[];for(var _=0;_<d.node.length;++_){if(typeof d.node[_]!="object")throw TypeError(".onnx.GraphProto.node: object expected");v.node[_]=b.onnx.NodeProto.fromObject(d.node[_])}}if(d.name!=null&&(v.name=String(d.name)),d.initializer){if(!Array.isArray(d.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(v.initializer=[],_=0;_<d.initializer.length;++_){if(typeof d.initializer[_]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");v.initializer[_]=b.onnx.TensorProto.fromObject(d.initializer[_])}}if(d.docString!=null&&(v.docString=String(d.docString)),d.input){if(!Array.isArray(d.input))throw TypeError(".onnx.GraphProto.input: array expected");for(v.input=[],_=0;_<d.input.length;++_){if(typeof d.input[_]!="object")throw TypeError(".onnx.GraphProto.input: object expected");v.input[_]=b.onnx.ValueInfoProto.fromObject(d.input[_])}}if(d.output){if(!Array.isArray(d.output))throw TypeError(".onnx.GraphProto.output: array expected");for(v.output=[],_=0;_<d.output.length;++_){if(typeof d.output[_]!="object")throw TypeError(".onnx.GraphProto.output: object expected");v.output[_]=b.onnx.ValueInfoProto.fromObject(d.output[_])}}if(d.valueInfo){if(!Array.isArray(d.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(v.valueInfo=[],_=0;_<d.valueInfo.length;++_){if(typeof d.valueInfo[_]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");v.valueInfo[_]=b.onnx.ValueInfoProto.fromObject(d.valueInfo[_])}}if(d.quantizationAnnotation){if(!Array.isArray(d.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(v.quantizationAnnotation=[],_=0;_<d.quantizationAnnotation.length;++_){if(typeof d.quantizationAnnotation[_]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");v.quantizationAnnotation[_]=b.onnx.TensorAnnotation.fromObject(d.quantizationAnnotation[_])}}return v},h.toObject=function(d,v){v||(v={});var _={};if((v.arrays||v.defaults)&&(_.node=[],_.initializer=[],_.input=[],_.output=[],_.valueInfo=[],_.quantizationAnnotation=[]),v.defaults&&(_.name="",_.docString=""),d.node&&d.node.length){_.node=[];for(var A=0;A<d.node.length;++A)_.node[A]=b.onnx.NodeProto.toObject(d.node[A],v)}if(d.name!=null&&d.hasOwnProperty("name")&&(_.name=d.name),d.initializer&&d.initializer.length)for(_.initializer=[],A=0;A<d.initializer.length;++A)_.initializer[A]=b.onnx.TensorProto.toObject(d.initializer[A],v);if(d.docString!=null&&d.hasOwnProperty("docString")&&(_.docString=d.docString),d.input&&d.input.length)for(_.input=[],A=0;A<d.input.length;++A)_.input[A]=b.onnx.ValueInfoProto.toObject(d.input[A],v);if(d.output&&d.output.length)for(_.output=[],A=0;A<d.output.length;++A)_.output[A]=b.onnx.ValueInfoProto.toObject(d.output[A],v);if(d.valueInfo&&d.valueInfo.length)for(_.valueInfo=[],A=0;A<d.valueInfo.length;++A)_.valueInfo[A]=b.onnx.ValueInfoProto.toObject(d.valueInfo[A],v);if(d.quantizationAnnotation&&d.quantizationAnnotation.length)for(_.quantizationAnnotation=[],A=0;A<d.quantizationAnnotation.length;++A)_.quantizationAnnotation[A]=b.onnx.TensorAnnotation.toObject(d.quantizationAnnotation[A],v);return _},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h}(),c.TensorProto=function(){function h(d){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.dims=y.emptyArray,h.prototype.dataType=0,h.prototype.segment=null,h.prototype.floatData=y.emptyArray,h.prototype.int32Data=y.emptyArray,h.prototype.stringData=y.emptyArray,h.prototype.int64Data=y.emptyArray,h.prototype.name="",h.prototype.docString="",h.prototype.rawData=y.newBuffer([]),h.prototype.externalData=y.emptyArray,h.prototype.dataLocation=0,h.prototype.doubleData=y.emptyArray,h.prototype.uint64Data=y.emptyArray,h.create=function(d){return new h(d)},h.encode=function(d,v){if(v||(v=g.create()),d.dims!=null&&d.dims.length){v.uint32(10).fork();for(var _=0;_<d.dims.length;++_)v.int64(d.dims[_]);v.ldelim()}if(d.dataType!=null&&d.hasOwnProperty("dataType")&&v.uint32(16).int32(d.dataType),d.segment!=null&&d.hasOwnProperty("segment")&&b.onnx.TensorProto.Segment.encode(d.segment,v.uint32(26).fork()).ldelim(),d.floatData!=null&&d.floatData.length){for(v.uint32(34).fork(),_=0;_<d.floatData.length;++_)v.float(d.floatData[_]);v.ldelim()}if(d.int32Data!=null&&d.int32Data.length){for(v.uint32(42).fork(),_=0;_<d.int32Data.length;++_)v.int32(d.int32Data[_]);v.ldelim()}if(d.stringData!=null&&d.stringData.length)for(_=0;_<d.stringData.length;++_)v.uint32(50).bytes(d.stringData[_]);if(d.int64Data!=null&&d.int64Data.length){for(v.uint32(58).fork(),_=0;_<d.int64Data.length;++_)v.int64(d.int64Data[_]);v.ldelim()}if(d.name!=null&&d.hasOwnProperty("name")&&v.uint32(66).string(d.name),d.rawData!=null&&d.hasOwnProperty("rawData")&&v.uint32(74).bytes(d.rawData),d.doubleData!=null&&d.doubleData.length){for(v.uint32(82).fork(),_=0;_<d.doubleData.length;++_)v.double(d.doubleData[_]);v.ldelim()}if(d.uint64Data!=null&&d.uint64Data.length){for(v.uint32(90).fork(),_=0;_<d.uint64Data.length;++_)v.uint64(d.uint64Data[_]);v.ldelim()}if(d.docString!=null&&d.hasOwnProperty("docString")&&v.uint32(98).string(d.docString),d.externalData!=null&&d.externalData.length)for(_=0;_<d.externalData.length;++_)b.onnx.StringStringEntryProto.encode(d.externalData[_],v.uint32(106).fork()).ldelim();return d.dataLocation!=null&&d.hasOwnProperty("dataLocation")&&v.uint32(112).int32(d.dataLocation),v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.TensorProto;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:if(A.dims&&A.dims.length||(A.dims=[]),(7&I)==2)for(var R=d.uint32()+d.pos;d.pos<R;)A.dims.push(d.int64());else A.dims.push(d.int64());break;case 2:A.dataType=d.int32();break;case 3:A.segment=b.onnx.TensorProto.Segment.decode(d,d.uint32());break;case 4:if(A.floatData&&A.floatData.length||(A.floatData=[]),(7&I)==2)for(R=d.uint32()+d.pos;d.pos<R;)A.floatData.push(d.float());else A.floatData.push(d.float());break;case 5:if(A.int32Data&&A.int32Data.length||(A.int32Data=[]),(7&I)==2)for(R=d.uint32()+d.pos;d.pos<R;)A.int32Data.push(d.int32());else A.int32Data.push(d.int32());break;case 6:A.stringData&&A.stringData.length||(A.stringData=[]),A.stringData.push(d.bytes());break;case 7:if(A.int64Data&&A.int64Data.length||(A.int64Data=[]),(7&I)==2)for(R=d.uint32()+d.pos;d.pos<R;)A.int64Data.push(d.int64());else A.int64Data.push(d.int64());break;case 8:A.name=d.string();break;case 12:A.docString=d.string();break;case 9:A.rawData=d.bytes();break;case 13:A.externalData&&A.externalData.length||(A.externalData=[]),A.externalData.push(b.onnx.StringStringEntryProto.decode(d,d.uint32()));break;case 14:A.dataLocation=d.int32();break;case 10:if(A.doubleData&&A.doubleData.length||(A.doubleData=[]),(7&I)==2)for(R=d.uint32()+d.pos;d.pos<R;)A.doubleData.push(d.double());else A.doubleData.push(d.double());break;case 11:if(A.uint64Data&&A.uint64Data.length||(A.uint64Data=[]),(7&I)==2)for(R=d.uint32()+d.pos;d.pos<R;)A.uint64Data.push(d.uint64());else A.uint64Data.push(d.uint64());break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.dims!=null&&d.hasOwnProperty("dims")){if(!Array.isArray(d.dims))return"dims: array expected";for(var v=0;v<d.dims.length;++v)if(!(y.isInteger(d.dims[v])||d.dims[v]&&y.isInteger(d.dims[v].low)&&y.isInteger(d.dims[v].high)))return"dims: integer|Long[] expected"}if(d.dataType!=null&&d.hasOwnProperty("dataType")&&!y.isInteger(d.dataType))return"dataType: integer expected";if(d.segment!=null&&d.hasOwnProperty("segment")&&(_=b.onnx.TensorProto.Segment.verify(d.segment)))return"segment."+_;if(d.floatData!=null&&d.hasOwnProperty("floatData")){if(!Array.isArray(d.floatData))return"floatData: array expected";for(v=0;v<d.floatData.length;++v)if(typeof d.floatData[v]!="number")return"floatData: number[] expected"}if(d.int32Data!=null&&d.hasOwnProperty("int32Data")){if(!Array.isArray(d.int32Data))return"int32Data: array expected";for(v=0;v<d.int32Data.length;++v)if(!y.isInteger(d.int32Data[v]))return"int32Data: integer[] expected"}if(d.stringData!=null&&d.hasOwnProperty("stringData")){if(!Array.isArray(d.stringData))return"stringData: array expected";for(v=0;v<d.stringData.length;++v)if(!(d.stringData[v]&&typeof d.stringData[v].length=="number"||y.isString(d.stringData[v])))return"stringData: buffer[] expected"}if(d.int64Data!=null&&d.hasOwnProperty("int64Data")){if(!Array.isArray(d.int64Data))return"int64Data: array expected";for(v=0;v<d.int64Data.length;++v)if(!(y.isInteger(d.int64Data[v])||d.int64Data[v]&&y.isInteger(d.int64Data[v].low)&&y.isInteger(d.int64Data[v].high)))return"int64Data: integer|Long[] expected"}if(d.name!=null&&d.hasOwnProperty("name")&&!y.isString(d.name))return"name: string expected";if(d.docString!=null&&d.hasOwnProperty("docString")&&!y.isString(d.docString))return"docString: string expected";if(d.rawData!=null&&d.hasOwnProperty("rawData")&&!(d.rawData&&typeof d.rawData.length=="number"||y.isString(d.rawData)))return"rawData: buffer expected";if(d.externalData!=null&&d.hasOwnProperty("externalData")){if(!Array.isArray(d.externalData))return"externalData: array expected";for(v=0;v<d.externalData.length;++v){var _;if(_=b.onnx.StringStringEntryProto.verify(d.externalData[v]))return"externalData."+_}}if(d.dataLocation!=null&&d.hasOwnProperty("dataLocation"))switch(d.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(d.doubleData!=null&&d.hasOwnProperty("doubleData")){if(!Array.isArray(d.doubleData))return"doubleData: array expected";for(v=0;v<d.doubleData.length;++v)if(typeof d.doubleData[v]!="number")return"doubleData: number[] expected"}if(d.uint64Data!=null&&d.hasOwnProperty("uint64Data")){if(!Array.isArray(d.uint64Data))return"uint64Data: array expected";for(v=0;v<d.uint64Data.length;++v)if(!(y.isInteger(d.uint64Data[v])||d.uint64Data[v]&&y.isInteger(d.uint64Data[v].low)&&y.isInteger(d.uint64Data[v].high)))return"uint64Data: integer|Long[] expected"}return null},h.fromObject=function(d){if(d instanceof b.onnx.TensorProto)return d;var v=new b.onnx.TensorProto;if(d.dims){if(!Array.isArray(d.dims))throw TypeError(".onnx.TensorProto.dims: array expected");v.dims=[];for(var _=0;_<d.dims.length;++_)y.Long?(v.dims[_]=y.Long.fromValue(d.dims[_])).unsigned=!1:typeof d.dims[_]=="string"?v.dims[_]=parseInt(d.dims[_],10):typeof d.dims[_]=="number"?v.dims[_]=d.dims[_]:typeof d.dims[_]=="object"&&(v.dims[_]=new y.LongBits(d.dims[_].low>>>0,d.dims[_].high>>>0).toNumber())}if(d.dataType!=null&&(v.dataType=0|d.dataType),d.segment!=null){if(typeof d.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");v.segment=b.onnx.TensorProto.Segment.fromObject(d.segment)}if(d.floatData){if(!Array.isArray(d.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(v.floatData=[],_=0;_<d.floatData.length;++_)v.floatData[_]=Number(d.floatData[_])}if(d.int32Data){if(!Array.isArray(d.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(v.int32Data=[],_=0;_<d.int32Data.length;++_)v.int32Data[_]=0|d.int32Data[_]}if(d.stringData){if(!Array.isArray(d.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(v.stringData=[],_=0;_<d.stringData.length;++_)typeof d.stringData[_]=="string"?y.base64.decode(d.stringData[_],v.stringData[_]=y.newBuffer(y.base64.length(d.stringData[_])),0):d.stringData[_].length&&(v.stringData[_]=d.stringData[_])}if(d.int64Data){if(!Array.isArray(d.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(v.int64Data=[],_=0;_<d.int64Data.length;++_)y.Long?(v.int64Data[_]=y.Long.fromValue(d.int64Data[_])).unsigned=!1:typeof d.int64Data[_]=="string"?v.int64Data[_]=parseInt(d.int64Data[_],10):typeof d.int64Data[_]=="number"?v.int64Data[_]=d.int64Data[_]:typeof d.int64Data[_]=="object"&&(v.int64Data[_]=new y.LongBits(d.int64Data[_].low>>>0,d.int64Data[_].high>>>0).toNumber())}if(d.name!=null&&(v.name=String(d.name)),d.docString!=null&&(v.docString=String(d.docString)),d.rawData!=null&&(typeof d.rawData=="string"?y.base64.decode(d.rawData,v.rawData=y.newBuffer(y.base64.length(d.rawData)),0):d.rawData.length&&(v.rawData=d.rawData)),d.externalData){if(!Array.isArray(d.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(v.externalData=[],_=0;_<d.externalData.length;++_){if(typeof d.externalData[_]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");v.externalData[_]=b.onnx.StringStringEntryProto.fromObject(d.externalData[_])}}switch(d.dataLocation){case"DEFAULT":case 0:v.dataLocation=0;break;case"EXTERNAL":case 1:v.dataLocation=1}if(d.doubleData){if(!Array.isArray(d.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(v.doubleData=[],_=0;_<d.doubleData.length;++_)v.doubleData[_]=Number(d.doubleData[_])}if(d.uint64Data){if(!Array.isArray(d.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(v.uint64Data=[],_=0;_<d.uint64Data.length;++_)y.Long?(v.uint64Data[_]=y.Long.fromValue(d.uint64Data[_])).unsigned=!0:typeof d.uint64Data[_]=="string"?v.uint64Data[_]=parseInt(d.uint64Data[_],10):typeof d.uint64Data[_]=="number"?v.uint64Data[_]=d.uint64Data[_]:typeof d.uint64Data[_]=="object"&&(v.uint64Data[_]=new y.LongBits(d.uint64Data[_].low>>>0,d.uint64Data[_].high>>>0).toNumber(!0))}return v},h.toObject=function(d,v){v||(v={});var _={};if((v.arrays||v.defaults)&&(_.dims=[],_.floatData=[],_.int32Data=[],_.stringData=[],_.int64Data=[],_.doubleData=[],_.uint64Data=[],_.externalData=[]),v.defaults&&(_.dataType=0,_.segment=null,_.name="",v.bytes===String?_.rawData="":(_.rawData=[],v.bytes!==Array&&(_.rawData=y.newBuffer(_.rawData))),_.docString="",_.dataLocation=v.enums===String?"DEFAULT":0),d.dims&&d.dims.length){_.dims=[];for(var A=0;A<d.dims.length;++A)typeof d.dims[A]=="number"?_.dims[A]=v.longs===String?String(d.dims[A]):d.dims[A]:_.dims[A]=v.longs===String?y.Long.prototype.toString.call(d.dims[A]):v.longs===Number?new y.LongBits(d.dims[A].low>>>0,d.dims[A].high>>>0).toNumber():d.dims[A]}if(d.dataType!=null&&d.hasOwnProperty("dataType")&&(_.dataType=d.dataType),d.segment!=null&&d.hasOwnProperty("segment")&&(_.segment=b.onnx.TensorProto.Segment.toObject(d.segment,v)),d.floatData&&d.floatData.length)for(_.floatData=[],A=0;A<d.floatData.length;++A)_.floatData[A]=v.json&&!isFinite(d.floatData[A])?String(d.floatData[A]):d.floatData[A];if(d.int32Data&&d.int32Data.length)for(_.int32Data=[],A=0;A<d.int32Data.length;++A)_.int32Data[A]=d.int32Data[A];if(d.stringData&&d.stringData.length)for(_.stringData=[],A=0;A<d.stringData.length;++A)_.stringData[A]=v.bytes===String?y.base64.encode(d.stringData[A],0,d.stringData[A].length):v.bytes===Array?Array.prototype.slice.call(d.stringData[A]):d.stringData[A];if(d.int64Data&&d.int64Data.length)for(_.int64Data=[],A=0;A<d.int64Data.length;++A)typeof d.int64Data[A]=="number"?_.int64Data[A]=v.longs===String?String(d.int64Data[A]):d.int64Data[A]:_.int64Data[A]=v.longs===String?y.Long.prototype.toString.call(d.int64Data[A]):v.longs===Number?new y.LongBits(d.int64Data[A].low>>>0,d.int64Data[A].high>>>0).toNumber():d.int64Data[A];if(d.name!=null&&d.hasOwnProperty("name")&&(_.name=d.name),d.rawData!=null&&d.hasOwnProperty("rawData")&&(_.rawData=v.bytes===String?y.base64.encode(d.rawData,0,d.rawData.length):v.bytes===Array?Array.prototype.slice.call(d.rawData):d.rawData),d.doubleData&&d.doubleData.length)for(_.doubleData=[],A=0;A<d.doubleData.length;++A)_.doubleData[A]=v.json&&!isFinite(d.doubleData[A])?String(d.doubleData[A]):d.doubleData[A];if(d.uint64Data&&d.uint64Data.length)for(_.uint64Data=[],A=0;A<d.uint64Data.length;++A)typeof d.uint64Data[A]=="number"?_.uint64Data[A]=v.longs===String?String(d.uint64Data[A]):d.uint64Data[A]:_.uint64Data[A]=v.longs===String?y.Long.prototype.toString.call(d.uint64Data[A]):v.longs===Number?new y.LongBits(d.uint64Data[A].low>>>0,d.uint64Data[A].high>>>0).toNumber(!0):d.uint64Data[A];if(d.docString!=null&&d.hasOwnProperty("docString")&&(_.docString=d.docString),d.externalData&&d.externalData.length)for(_.externalData=[],A=0;A<d.externalData.length;++A)_.externalData[A]=b.onnx.StringStringEntryProto.toObject(d.externalData[A],v);return d.dataLocation!=null&&d.hasOwnProperty("dataLocation")&&(_.dataLocation=v.enums===String?b.onnx.TensorProto.DataLocation[d.dataLocation]:d.dataLocation),_},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h.DataType=function(){var d={},v=Object.create(d);return v[d[0]="UNDEFINED"]=0,v[d[1]="FLOAT"]=1,v[d[2]="UINT8"]=2,v[d[3]="INT8"]=3,v[d[4]="UINT16"]=4,v[d[5]="INT16"]=5,v[d[6]="INT32"]=6,v[d[7]="INT64"]=7,v[d[8]="STRING"]=8,v[d[9]="BOOL"]=9,v[d[10]="FLOAT16"]=10,v[d[11]="DOUBLE"]=11,v[d[12]="UINT32"]=12,v[d[13]="UINT64"]=13,v[d[14]="COMPLEX64"]=14,v[d[15]="COMPLEX128"]=15,v[d[16]="BFLOAT16"]=16,v}(),h.Segment=function(){function d(v){if(v)for(var _=Object.keys(v),A=0;A<_.length;++A)v[_[A]]!=null&&(this[_[A]]=v[_[A]])}return d.prototype.begin=y.Long?y.Long.fromBits(0,0,!1):0,d.prototype.end=y.Long?y.Long.fromBits(0,0,!1):0,d.create=function(v){return new d(v)},d.encode=function(v,_){return _||(_=g.create()),v.begin!=null&&v.hasOwnProperty("begin")&&_.uint32(8).int64(v.begin),v.end!=null&&v.hasOwnProperty("end")&&_.uint32(16).int64(v.end),_},d.encodeDelimited=function(v,_){return this.encode(v,_).ldelim()},d.decode=function(v,_){v instanceof p||(v=p.create(v));for(var A=_===void 0?v.len:v.pos+_,I=new b.onnx.TensorProto.Segment;v.pos<A;){var R=v.uint32();switch(R>>>3){case 1:I.begin=v.int64();break;case 2:I.end=v.int64();break;default:v.skipType(7&R)}}return I},d.decodeDelimited=function(v){return v instanceof p||(v=new p(v)),this.decode(v,v.uint32())},d.verify=function(v){return typeof v!="object"||v===null?"object expected":v.begin!=null&&v.hasOwnProperty("begin")&&!(y.isInteger(v.begin)||v.begin&&y.isInteger(v.begin.low)&&y.isInteger(v.begin.high))?"begin: integer|Long expected":v.end!=null&&v.hasOwnProperty("end")&&!(y.isInteger(v.end)||v.end&&y.isInteger(v.end.low)&&y.isInteger(v.end.high))?"end: integer|Long expected":null},d.fromObject=function(v){if(v instanceof b.onnx.TensorProto.Segment)return v;var _=new b.onnx.TensorProto.Segment;return v.begin!=null&&(y.Long?(_.begin=y.Long.fromValue(v.begin)).unsigned=!1:typeof v.begin=="string"?_.begin=parseInt(v.begin,10):typeof v.begin=="number"?_.begin=v.begin:typeof v.begin=="object"&&(_.begin=new y.LongBits(v.begin.low>>>0,v.begin.high>>>0).toNumber())),v.end!=null&&(y.Long?(_.end=y.Long.fromValue(v.end)).unsigned=!1:typeof v.end=="string"?_.end=parseInt(v.end,10):typeof v.end=="number"?_.end=v.end:typeof v.end=="object"&&(_.end=new y.LongBits(v.end.low>>>0,v.end.high>>>0).toNumber())),_},d.toObject=function(v,_){_||(_={});var A={};if(_.defaults){if(y.Long){var I=new y.Long(0,0,!1);A.begin=_.longs===String?I.toString():_.longs===Number?I.toNumber():I}else A.begin=_.longs===String?"0":0;y.Long?(I=new y.Long(0,0,!1),A.end=_.longs===String?I.toString():_.longs===Number?I.toNumber():I):A.end=_.longs===String?"0":0}return v.begin!=null&&v.hasOwnProperty("begin")&&(typeof v.begin=="number"?A.begin=_.longs===String?String(v.begin):v.begin:A.begin=_.longs===String?y.Long.prototype.toString.call(v.begin):_.longs===Number?new y.LongBits(v.begin.low>>>0,v.begin.high>>>0).toNumber():v.begin),v.end!=null&&v.hasOwnProperty("end")&&(typeof v.end=="number"?A.end=_.longs===String?String(v.end):v.end:A.end=_.longs===String?y.Long.prototype.toString.call(v.end):_.longs===Number?new y.LongBits(v.end.low>>>0,v.end.high>>>0).toNumber():v.end),A},d.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},d}(),h.DataLocation=function(){var d={},v=Object.create(d);return v[d[0]="DEFAULT"]=0,v[d[1]="EXTERNAL"]=1,v}(),h}(),c.TensorShapeProto=function(){function h(d){if(this.dim=[],d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.dim=y.emptyArray,h.create=function(d){return new h(d)},h.encode=function(d,v){if(v||(v=g.create()),d.dim!=null&&d.dim.length)for(var _=0;_<d.dim.length;++_)b.onnx.TensorShapeProto.Dimension.encode(d.dim[_],v.uint32(10).fork()).ldelim();return v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.TensorShapeProto;d.pos<_;){var I=d.uint32();I>>>3==1?(A.dim&&A.dim.length||(A.dim=[]),A.dim.push(b.onnx.TensorShapeProto.Dimension.decode(d,d.uint32()))):d.skipType(7&I)}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){if(typeof d!="object"||d===null)return"object expected";if(d.dim!=null&&d.hasOwnProperty("dim")){if(!Array.isArray(d.dim))return"dim: array expected";for(var v=0;v<d.dim.length;++v){var _=b.onnx.TensorShapeProto.Dimension.verify(d.dim[v]);if(_)return"dim."+_}}return null},h.fromObject=function(d){if(d instanceof b.onnx.TensorShapeProto)return d;var v=new b.onnx.TensorShapeProto;if(d.dim){if(!Array.isArray(d.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");v.dim=[];for(var _=0;_<d.dim.length;++_){if(typeof d.dim[_]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");v.dim[_]=b.onnx.TensorShapeProto.Dimension.fromObject(d.dim[_])}}return v},h.toObject=function(d,v){v||(v={});var _={};if((v.arrays||v.defaults)&&(_.dim=[]),d.dim&&d.dim.length){_.dim=[];for(var A=0;A<d.dim.length;++A)_.dim[A]=b.onnx.TensorShapeProto.Dimension.toObject(d.dim[A],v)}return _},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h.Dimension=function(){function d(_){if(_)for(var A=Object.keys(_),I=0;I<A.length;++I)_[A[I]]!=null&&(this[A[I]]=_[A[I]])}var v;return d.prototype.dimValue=y.Long?y.Long.fromBits(0,0,!1):0,d.prototype.dimParam="",d.prototype.denotation="",Object.defineProperty(d.prototype,"value",{get:y.oneOfGetter(v=["dimValue","dimParam"]),set:y.oneOfSetter(v)}),d.create=function(_){return new d(_)},d.encode=function(_,A){return A||(A=g.create()),_.dimValue!=null&&_.hasOwnProperty("dimValue")&&A.uint32(8).int64(_.dimValue),_.dimParam!=null&&_.hasOwnProperty("dimParam")&&A.uint32(18).string(_.dimParam),_.denotation!=null&&_.hasOwnProperty("denotation")&&A.uint32(26).string(_.denotation),A},d.encodeDelimited=function(_,A){return this.encode(_,A).ldelim()},d.decode=function(_,A){_ instanceof p||(_=p.create(_));for(var I=A===void 0?_.len:_.pos+A,R=new b.onnx.TensorShapeProto.Dimension;_.pos<I;){var P=_.uint32();switch(P>>>3){case 1:R.dimValue=_.int64();break;case 2:R.dimParam=_.string();break;case 3:R.denotation=_.string();break;default:_.skipType(7&P)}}return R},d.decodeDelimited=function(_){return _ instanceof p||(_=new p(_)),this.decode(_,_.uint32())},d.verify=function(_){if(typeof _!="object"||_===null)return"object expected";var A={};if(_.dimValue!=null&&_.hasOwnProperty("dimValue")&&(A.value=1,!(y.isInteger(_.dimValue)||_.dimValue&&y.isInteger(_.dimValue.low)&&y.isInteger(_.dimValue.high))))return"dimValue: integer|Long expected";if(_.dimParam!=null&&_.hasOwnProperty("dimParam")){if(A.value===1)return"value: multiple values";if(A.value=1,!y.isString(_.dimParam))return"dimParam: string expected"}return _.denotation!=null&&_.hasOwnProperty("denotation")&&!y.isString(_.denotation)?"denotation: string expected":null},d.fromObject=function(_){if(_ instanceof b.onnx.TensorShapeProto.Dimension)return _;var A=new b.onnx.TensorShapeProto.Dimension;return _.dimValue!=null&&(y.Long?(A.dimValue=y.Long.fromValue(_.dimValue)).unsigned=!1:typeof _.dimValue=="string"?A.dimValue=parseInt(_.dimValue,10):typeof _.dimValue=="number"?A.dimValue=_.dimValue:typeof _.dimValue=="object"&&(A.dimValue=new y.LongBits(_.dimValue.low>>>0,_.dimValue.high>>>0).toNumber())),_.dimParam!=null&&(A.dimParam=String(_.dimParam)),_.denotation!=null&&(A.denotation=String(_.denotation)),A},d.toObject=function(_,A){A||(A={});var I={};return A.defaults&&(I.denotation=""),_.dimValue!=null&&_.hasOwnProperty("dimValue")&&(typeof _.dimValue=="number"?I.dimValue=A.longs===String?String(_.dimValue):_.dimValue:I.dimValue=A.longs===String?y.Long.prototype.toString.call(_.dimValue):A.longs===Number?new y.LongBits(_.dimValue.low>>>0,_.dimValue.high>>>0).toNumber():_.dimValue,A.oneofs&&(I.value="dimValue")),_.dimParam!=null&&_.hasOwnProperty("dimParam")&&(I.dimParam=_.dimParam,A.oneofs&&(I.value="dimParam")),_.denotation!=null&&_.hasOwnProperty("denotation")&&(I.denotation=_.denotation),I},d.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},d}(),h}(),c.TypeProto=function(){function h(v){if(v)for(var _=Object.keys(v),A=0;A<_.length;++A)v[_[A]]!=null&&(this[_[A]]=v[_[A]])}var d;return h.prototype.tensorType=null,h.prototype.denotation="",Object.defineProperty(h.prototype,"value",{get:y.oneOfGetter(d=["tensorType"]),set:y.oneOfSetter(d)}),h.create=function(v){return new h(v)},h.encode=function(v,_){return _||(_=g.create()),v.tensorType!=null&&v.hasOwnProperty("tensorType")&&b.onnx.TypeProto.Tensor.encode(v.tensorType,_.uint32(10).fork()).ldelim(),v.denotation!=null&&v.hasOwnProperty("denotation")&&_.uint32(50).string(v.denotation),_},h.encodeDelimited=function(v,_){return this.encode(v,_).ldelim()},h.decode=function(v,_){v instanceof p||(v=p.create(v));for(var A=_===void 0?v.len:v.pos+_,I=new b.onnx.TypeProto;v.pos<A;){var R=v.uint32();switch(R>>>3){case 1:I.tensorType=b.onnx.TypeProto.Tensor.decode(v,v.uint32());break;case 6:I.denotation=v.string();break;default:v.skipType(7&R)}}return I},h.decodeDelimited=function(v){return v instanceof p||(v=new p(v)),this.decode(v,v.uint32())},h.verify=function(v){if(typeof v!="object"||v===null)return"object expected";if(v.tensorType!=null&&v.hasOwnProperty("tensorType")){var _=b.onnx.TypeProto.Tensor.verify(v.tensorType);if(_)return"tensorType."+_}return v.denotation!=null&&v.hasOwnProperty("denotation")&&!y.isString(v.denotation)?"denotation: string expected":null},h.fromObject=function(v){if(v instanceof b.onnx.TypeProto)return v;var _=new b.onnx.TypeProto;if(v.tensorType!=null){if(typeof v.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");_.tensorType=b.onnx.TypeProto.Tensor.fromObject(v.tensorType)}return v.denotation!=null&&(_.denotation=String(v.denotation)),_},h.toObject=function(v,_){_||(_={});var A={};return _.defaults&&(A.denotation=""),v.tensorType!=null&&v.hasOwnProperty("tensorType")&&(A.tensorType=b.onnx.TypeProto.Tensor.toObject(v.tensorType,_),_.oneofs&&(A.value="tensorType")),v.denotation!=null&&v.hasOwnProperty("denotation")&&(A.denotation=v.denotation),A},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h.Tensor=function(){function v(_){if(_)for(var A=Object.keys(_),I=0;I<A.length;++I)_[A[I]]!=null&&(this[A[I]]=_[A[I]])}return v.prototype.elemType=0,v.prototype.shape=null,v.create=function(_){return new v(_)},v.encode=function(_,A){return A||(A=g.create()),_.elemType!=null&&_.hasOwnProperty("elemType")&&A.uint32(8).int32(_.elemType),_.shape!=null&&_.hasOwnProperty("shape")&&b.onnx.TensorShapeProto.encode(_.shape,A.uint32(18).fork()).ldelim(),A},v.encodeDelimited=function(_,A){return this.encode(_,A).ldelim()},v.decode=function(_,A){_ instanceof p||(_=p.create(_));for(var I=A===void 0?_.len:_.pos+A,R=new b.onnx.TypeProto.Tensor;_.pos<I;){var P=_.uint32();switch(P>>>3){case 1:R.elemType=_.int32();break;case 2:R.shape=b.onnx.TensorShapeProto.decode(_,_.uint32());break;default:_.skipType(7&P)}}return R},v.decodeDelimited=function(_){return _ instanceof p||(_=new p(_)),this.decode(_,_.uint32())},v.verify=function(_){if(typeof _!="object"||_===null)return"object expected";if(_.elemType!=null&&_.hasOwnProperty("elemType")&&!y.isInteger(_.elemType))return"elemType: integer expected";if(_.shape!=null&&_.hasOwnProperty("shape")){var A=b.onnx.TensorShapeProto.verify(_.shape);if(A)return"shape."+A}return null},v.fromObject=function(_){if(_ instanceof b.onnx.TypeProto.Tensor)return _;var A=new b.onnx.TypeProto.Tensor;if(_.elemType!=null&&(A.elemType=0|_.elemType),_.shape!=null){if(typeof _.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");A.shape=b.onnx.TensorShapeProto.fromObject(_.shape)}return A},v.toObject=function(_,A){A||(A={});var I={};return A.defaults&&(I.elemType=0,I.shape=null),_.elemType!=null&&_.hasOwnProperty("elemType")&&(I.elemType=_.elemType),_.shape!=null&&_.hasOwnProperty("shape")&&(I.shape=b.onnx.TensorShapeProto.toObject(_.shape,A)),I},v.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},v}(),h}(),c.OperatorSetIdProto=function(){function h(d){if(d)for(var v=Object.keys(d),_=0;_<v.length;++_)d[v[_]]!=null&&(this[v[_]]=d[v[_]])}return h.prototype.domain="",h.prototype.version=y.Long?y.Long.fromBits(0,0,!1):0,h.create=function(d){return new h(d)},h.encode=function(d,v){return v||(v=g.create()),d.domain!=null&&d.hasOwnProperty("domain")&&v.uint32(10).string(d.domain),d.version!=null&&d.hasOwnProperty("version")&&v.uint32(16).int64(d.version),v},h.encodeDelimited=function(d,v){return this.encode(d,v).ldelim()},h.decode=function(d,v){d instanceof p||(d=p.create(d));for(var _=v===void 0?d.len:d.pos+v,A=new b.onnx.OperatorSetIdProto;d.pos<_;){var I=d.uint32();switch(I>>>3){case 1:A.domain=d.string();break;case 2:A.version=d.int64();break;default:d.skipType(7&I)}}return A},h.decodeDelimited=function(d){return d instanceof p||(d=new p(d)),this.decode(d,d.uint32())},h.verify=function(d){return typeof d!="object"||d===null?"object expected":d.domain!=null&&d.hasOwnProperty("domain")&&!y.isString(d.domain)?"domain: string expected":d.version!=null&&d.hasOwnProperty("version")&&!(y.isInteger(d.version)||d.version&&y.isInteger(d.version.low)&&y.isInteger(d.version.high))?"version: integer|Long expected":null},h.fromObject=function(d){if(d instanceof b.onnx.OperatorSetIdProto)return d;var v=new b.onnx.OperatorSetIdProto;return d.domain!=null&&(v.domain=String(d.domain)),d.version!=null&&(y.Long?(v.version=y.Long.fromValue(d.version)).unsigned=!1:typeof d.version=="string"?v.version=parseInt(d.version,10):typeof d.version=="number"?v.version=d.version:typeof d.version=="object"&&(v.version=new y.LongBits(d.version.low>>>0,d.version.high>>>0).toNumber())),v},h.toObject=function(d,v){v||(v={});var _={};if(v.defaults)if(_.domain="",y.Long){var A=new y.Long(0,0,!1);_.version=v.longs===String?A.toString():v.longs===Number?A.toNumber():A}else _.version=v.longs===String?"0":0;return d.domain!=null&&d.hasOwnProperty("domain")&&(_.domain=d.domain),d.version!=null&&d.hasOwnProperty("version")&&(typeof d.version=="number"?_.version=v.longs===String?String(d.version):d.version:_.version=v.longs===String?y.Long.prototype.toString.call(d.version):v.longs===Number?new y.LongBits(d.version.low>>>0,d.version.high>>>0).toNumber():d.version),_},h.prototype.toJSON=function(){return this.constructor.toObject(this,f.util.toJSONOptions)},h}(),c),i.exports=b},2100:(i,n,a)=>{i.exports=a(9482)},9482:(i,n,a)=>{var s=n;function l(){s.util._configure(),s.Writer._configure(s.BufferWriter),s.Reader._configure(s.BufferReader)}s.build="minimal",s.Writer=a(1173),s.BufferWriter=a(3155),s.Reader=a(1408),s.BufferReader=a(593),s.util=a(9693),s.rpc=a(5994),s.roots=a(5054),s.configure=l,l()},1408:(i,n,a)=>{i.exports=g;var s,l=a(9693),c=l.LongBits,f=l.utf8;function p(A,I){return RangeError("index out of range: "+A.pos+" + "+(I||1)+" > "+A.len)}function g(A){this.buf=A,this.pos=0,this.len=A.length}var y,b=typeof Uint8Array<"u"?function(A){if(A instanceof Uint8Array||Array.isArray(A))return new g(A);throw Error("illegal buffer")}:function(A){if(Array.isArray(A))return new g(A);throw Error("illegal buffer")},h=function(){return l.Buffer?function(A){return(g.create=function(I){return l.Buffer.isBuffer(I)?new s(I):b(I)})(A)}:b};function d(){var A=new c(0,0),I=0;if(!(this.len-this.pos>4)){for(;I<3;++I){if(this.pos>=this.len)throw p(this);if(A.lo=(A.lo|(127&this.buf[this.pos])<<7*I)>>>0,this.buf[this.pos++]<128)return A}return A.lo=(A.lo|(127&this.buf[this.pos++])<<7*I)>>>0,A}for(;I<4;++I)if(A.lo=(A.lo|(127&this.buf[this.pos])<<7*I)>>>0,this.buf[this.pos++]<128)return A;if(A.lo=(A.lo|(127&this.buf[this.pos])<<28)>>>0,A.hi=(A.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return A;if(I=0,this.len-this.pos>4){for(;I<5;++I)if(A.hi=(A.hi|(127&this.buf[this.pos])<<7*I+3)>>>0,this.buf[this.pos++]<128)return A}else for(;I<5;++I){if(this.pos>=this.len)throw p(this);if(A.hi=(A.hi|(127&this.buf[this.pos])<<7*I+3)>>>0,this.buf[this.pos++]<128)return A}throw Error("invalid varint encoding")}function v(A,I){return(A[I-4]|A[I-3]<<8|A[I-2]<<16|A[I-1]<<24)>>>0}function _(){if(this.pos+8>this.len)throw p(this,8);return new c(v(this.buf,this.pos+=4),v(this.buf,this.pos+=4))}g.create=h(),g.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,g.prototype.uint32=(y=4294967295,function(){if(y=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(y=(y|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(y=(y|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(y=(y|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(y=(y|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return y;if((this.pos+=5)>this.len)throw this.pos=this.len,p(this,10);return y}),g.prototype.int32=function(){return 0|this.uint32()},g.prototype.sint32=function(){var A=this.uint32();return A>>>1^-(1&A)|0},g.prototype.bool=function(){return this.uint32()!==0},g.prototype.fixed32=function(){if(this.pos+4>this.len)throw p(this,4);return v(this.buf,this.pos+=4)},g.prototype.sfixed32=function(){if(this.pos+4>this.len)throw p(this,4);return 0|v(this.buf,this.pos+=4)},g.prototype.float=function(){if(this.pos+4>this.len)throw p(this,4);var A=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,A},g.prototype.double=function(){if(this.pos+8>this.len)throw p(this,4);var A=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,A},g.prototype.bytes=function(){var A=this.uint32(),I=this.pos,R=this.pos+A;if(R>this.len)throw p(this,A);return this.pos+=A,Array.isArray(this.buf)?this.buf.slice(I,R):I===R?new this.buf.constructor(0):this._slice.call(this.buf,I,R)},g.prototype.string=function(){var A=this.bytes();return f.read(A,0,A.length)},g.prototype.skip=function(A){if(typeof A=="number"){if(this.pos+A>this.len)throw p(this,A);this.pos+=A}else do if(this.pos>=this.len)throw p(this);while(128&this.buf[this.pos++]);return this},g.prototype.skipType=function(A){switch(A){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(A=7&this.uint32())!=4;)this.skipType(A);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+A+" at offset "+this.pos)}return this},g._configure=function(A){s=A,g.create=h(),s._configure();var I=l.Long?"toLong":"toNumber";l.merge(g.prototype,{int64:function(){return d.call(this)[I](!1)},uint64:function(){return d.call(this)[I](!0)},sint64:function(){return d.call(this).zzDecode()[I](!1)},fixed64:function(){return _.call(this)[I](!0)},sfixed64:function(){return _.call(this)[I](!1)}})}},593:(i,n,a)=>{i.exports=c;var s=a(1408);(c.prototype=Object.create(s.prototype)).constructor=c;var l=a(9693);function c(f){s.call(this,f)}c._configure=function(){l.Buffer&&(c.prototype._slice=l.Buffer.prototype.slice)},c.prototype.string=function(){var f=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+f,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+f,this.len))},c._configure()},5054:i=>{i.exports={}},5994:(i,n,a)=>{n.Service=a(7948)},7948:(i,n,a)=>{i.exports=l;var s=a(9693);function l(c,f,p){if(typeof c!="function")throw TypeError("rpcImpl must be a function");s.EventEmitter.call(this),this.rpcImpl=c,this.requestDelimited=!!f,this.responseDelimited=!!p}(l.prototype=Object.create(s.EventEmitter.prototype)).constructor=l,l.prototype.rpcCall=function c(f,p,g,y,b){if(!y)throw TypeError("request must be specified");var h=this;if(!b)return s.asPromise(c,h,f,p,g,y);if(h.rpcImpl)try{return h.rpcImpl(f,p[h.requestDelimited?"encodeDelimited":"encode"](y).finish(),function(d,v){if(d)return h.emit("error",d,f),b(d);if(v!==null){if(!(v instanceof g))try{v=g[h.responseDelimited?"decodeDelimited":"decode"](v)}catch(_){return h.emit("error",_,f),b(_)}return h.emit("data",v,f),b(null,v)}h.end(!0)})}catch(d){return h.emit("error",d,f),void setTimeout(function(){b(d)},0)}else setTimeout(function(){b(Error("already ended"))},0)},l.prototype.end=function(c){return this.rpcImpl&&(c||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(i,n,a)=>{i.exports=l;var s=a(9693);function l(g,y){this.lo=g>>>0,this.hi=y>>>0}var c=l.zero=new l(0,0);c.toNumber=function(){return 0},c.zzEncode=c.zzDecode=function(){return this},c.length=function(){return 1};var f=l.zeroHash="\0\0\0\0\0\0\0\0";l.fromNumber=function(g){if(g===0)return c;var y=g<0;y&&(g=-g);var b=g>>>0,h=(g-b)/4294967296>>>0;return y&&(h=~h>>>0,b=~b>>>0,++b>4294967295&&(b=0,++h>4294967295&&(h=0))),new l(b,h)},l.from=function(g){if(typeof g=="number")return l.fromNumber(g);if(s.isString(g)){if(!s.Long)return l.fromNumber(parseInt(g,10));g=s.Long.fromString(g)}return g.low||g.high?new l(g.low>>>0,g.high>>>0):c},l.prototype.toNumber=function(g){if(!g&&this.hi>>>31){var y=1+~this.lo>>>0,b=~this.hi>>>0;return y||(b=b+1>>>0),-(y+4294967296*b)}return this.lo+4294967296*this.hi},l.prototype.toLong=function(g){return s.Long?new s.Long(0|this.lo,0|this.hi,!!g):{low:0|this.lo,high:0|this.hi,unsigned:!!g}};var p=String.prototype.charCodeAt;l.fromHash=function(g){return g===f?c:new l((p.call(g,0)|p.call(g,1)<<8|p.call(g,2)<<16|p.call(g,3)<<24)>>>0,(p.call(g,4)|p.call(g,5)<<8|p.call(g,6)<<16|p.call(g,7)<<24)>>>0)},l.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},l.prototype.zzEncode=function(){var g=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^g)>>>0,this.lo=(this.lo<<1^g)>>>0,this},l.prototype.zzDecode=function(){var g=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^g)>>>0,this.hi=(this.hi>>>1^g)>>>0,this},l.prototype.length=function(){var g=this.lo,y=(this.lo>>>28|this.hi<<4)>>>0,b=this.hi>>>24;return b===0?y===0?g<16384?g<128?1:2:g<2097152?3:4:y<16384?y<128?5:6:y<2097152?7:8:b<128?9:10}},9693:function(i,n,a){var s=n;function l(f,p,g){for(var y=Object.keys(p),b=0;b<y.length;++b)f[y[b]]!==void 0&&g||(f[y[b]]=p[y[b]]);return f}function c(f){function p(g,y){if(!(this instanceof p))return new p(g,y);Object.defineProperty(this,"message",{get:function(){return g}}),Error.captureStackTrace?Error.captureStackTrace(this,p):Object.defineProperty(this,"stack",{value:new Error().stack||""}),y&&l(this,y)}return(p.prototype=Object.create(Error.prototype)).constructor=p,Object.defineProperty(p.prototype,"name",{get:function(){return f}}),p.prototype.toString=function(){return this.name+": "+this.message},p}s.asPromise=a(4537),s.base64=a(7419),s.EventEmitter=a(9211),s.float=a(945),s.inquire=a(7199),s.utf8=a(4997),s.pool=a(6662),s.LongBits=a(1945),s.isNode=!!(a.g!==void 0&&a.g&&a.g.process&&a.g.process.versions&&a.g.process.versions.node),s.global=s.isNode&&a.g||typeof window<"u"&&window||typeof self<"u"&&self||this,s.emptyArray=Object.freeze?Object.freeze([]):[],s.emptyObject=Object.freeze?Object.freeze({}):{},s.isInteger=Number.isInteger||function(f){return typeof f=="number"&&isFinite(f)&&Math.floor(f)===f},s.isString=function(f){return typeof f=="string"||f instanceof String},s.isObject=function(f){return f&&typeof f=="object"},s.isset=s.isSet=function(f,p){var g=f[p];return!(g==null||!f.hasOwnProperty(p))&&(typeof g!="object"||(Array.isArray(g)?g.length:Object.keys(g).length)>0)},s.Buffer=function(){try{var f=s.inquire("buffer").Buffer;return f.prototype.utf8Write?f:null}catch{return null}}(),s._Buffer_from=null,s._Buffer_allocUnsafe=null,s.newBuffer=function(f){return typeof f=="number"?s.Buffer?s._Buffer_allocUnsafe(f):new s.Array(f):s.Buffer?s._Buffer_from(f):typeof Uint8Array>"u"?f:new Uint8Array(f)},s.Array=typeof Uint8Array<"u"?Uint8Array:Array,s.Long=s.global.dcodeIO&&s.global.dcodeIO.Long||s.global.Long||s.inquire("long"),s.key2Re=/^true|false|0|1$/,s.key32Re=/^-?(?:0|[1-9][0-9]*)$/,s.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,s.longToHash=function(f){return f?s.LongBits.from(f).toHash():s.LongBits.zeroHash},s.longFromHash=function(f,p){var g=s.LongBits.fromHash(f);return s.Long?s.Long.fromBits(g.lo,g.hi,p):g.toNumber(!!p)},s.merge=l,s.lcFirst=function(f){return f.charAt(0).toLowerCase()+f.substring(1)},s.newError=c,s.ProtocolError=c("ProtocolError"),s.oneOfGetter=function(f){for(var p={},g=0;g<f.length;++g)p[f[g]]=1;return function(){for(var y=Object.keys(this),b=y.length-1;b>-1;--b)if(p[y[b]]===1&&this[y[b]]!==void 0&&this[y[b]]!==null)return y[b]}},s.oneOfSetter=function(f){return function(p){for(var g=0;g<f.length;++g)f[g]!==p&&delete this[f[g]]}},s.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},s._configure=function(){var f=s.Buffer;f?(s._Buffer_from=f.from!==Uint8Array.from&&f.from||function(p,g){return new f(p,g)},s._Buffer_allocUnsafe=f.allocUnsafe||function(p){return new f(p)}):s._Buffer_from=s._Buffer_allocUnsafe=null}},1173:(i,n,a)=>{i.exports=h;var s,l=a(9693),c=l.LongBits,f=l.base64,p=l.utf8;function g(P,$,M){this.fn=P,this.len=$,this.next=void 0,this.val=M}function y(){}function b(P){this.head=P.head,this.tail=P.tail,this.len=P.len,this.next=P.states}function h(){this.len=0,this.head=new g(y,0,0),this.tail=this.head,this.states=null}var d=function(){return l.Buffer?function(){return(h.create=function(){return new s})()}:function(){return new h}};function v(P,$,M){$[M]=255&P}function _(P,$){this.len=P,this.next=void 0,this.val=$}function A(P,$,M){for(;P.hi;)$[M++]=127&P.lo|128,P.lo=(P.lo>>>7|P.hi<<25)>>>0,P.hi>>>=7;for(;P.lo>127;)$[M++]=127&P.lo|128,P.lo=P.lo>>>7;$[M++]=P.lo}function I(P,$,M){$[M]=255&P,$[M+1]=P>>>8&255,$[M+2]=P>>>16&255,$[M+3]=P>>>24}h.create=d(),h.alloc=function(P){return new l.Array(P)},l.Array!==Array&&(h.alloc=l.pool(h.alloc,l.Array.prototype.subarray)),h.prototype._push=function(P,$,M){return this.tail=this.tail.next=new g(P,$,M),this.len+=$,this},_.prototype=Object.create(g.prototype),_.prototype.fn=function(P,$,M){for(;P>127;)$[M++]=127&P|128,P>>>=7;$[M]=P},h.prototype.uint32=function(P){return this.len+=(this.tail=this.tail.next=new _((P>>>=0)<128?1:P<16384?2:P<2097152?3:P<268435456?4:5,P)).len,this},h.prototype.int32=function(P){return P<0?this._push(A,10,c.fromNumber(P)):this.uint32(P)},h.prototype.sint32=function(P){return this.uint32((P<<1^P>>31)>>>0)},h.prototype.uint64=function(P){var $=c.from(P);return this._push(A,$.length(),$)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(P){var $=c.from(P).zzEncode();return this._push(A,$.length(),$)},h.prototype.bool=function(P){return this._push(v,1,P?1:0)},h.prototype.fixed32=function(P){return this._push(I,4,P>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(P){var $=c.from(P);return this._push(I,4,$.lo)._push(I,4,$.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(P){return this._push(l.float.writeFloatLE,4,P)},h.prototype.double=function(P){return this._push(l.float.writeDoubleLE,8,P)};var R=l.Array.prototype.set?function(P,$,M){$.set(P,M)}:function(P,$,M){for(var B=0;B<P.length;++B)$[M+B]=P[B]};h.prototype.bytes=function(P){var $=P.length>>>0;if(!$)return this._push(v,1,0);if(l.isString(P)){var M=h.alloc($=f.length(P));f.decode(P,M,0),P=M}return this.uint32($)._push(R,$,P)},h.prototype.string=function(P){var $=p.length(P);return $?this.uint32($)._push(p.write,$,P):this._push(v,1,0)},h.prototype.fork=function(){return this.states=new b(this),this.head=this.tail=new g(y,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new g(y,0,0),this.len=0),this},h.prototype.ldelim=function(){var P=this.head,$=this.tail,M=this.len;return this.reset().uint32(M),M&&(this.tail.next=P.next,this.tail=$,this.len+=M),this},h.prototype.finish=function(){for(var P=this.head.next,$=this.constructor.alloc(this.len),M=0;P;)P.fn(P.val,$,M),M+=P.len,P=P.next;return $},h._configure=function(P){s=P,h.create=d(),s._configure()}},3155:(i,n,a)=>{i.exports=c;var s=a(1173);(c.prototype=Object.create(s.prototype)).constructor=c;var l=a(9693);function c(){s.call(this)}function f(p,g,y){p.length<40?l.utf8.write(p,g,y):g.utf8Write?g.utf8Write(p,y):g.write(p,y)}c._configure=function(){c.alloc=l._Buffer_allocUnsafe,c.writeBytesBuffer=l.Buffer&&l.Buffer.prototype instanceof Uint8Array&&l.Buffer.prototype.set.name==="set"?function(p,g,y){g.set(p,y)}:function(p,g,y){if(p.copy)p.copy(g,y,0,p.length);else for(var b=0;b<p.length;)g[y++]=p[b++]}},c.prototype.bytes=function(p){l.isString(p)&&(p=l._Buffer_from(p,"base64"));var g=p.length>>>0;return this.uint32(g),g&&this._push(c.writeBytesBuffer,g,p),this},c.prototype.string=function(p){var g=l.Buffer.byteLength(p);return this.uint32(g),g&&this._push(f,g,p),this},c._configure()},7714:(i,n,a)=>{n.R=void 0;const s=a(6919),l=a(7448);n.R=new class{async init(){}async createSessionHandler(c,f){const p=new s.Session(f);return await p.loadModel(c),new l.OnnxjsSessionHandler(p)}}},4200:(i,n,a)=>{n.c8=n.rX=void 0;const s=a(1670),l=a(5381),c=a(2157),f=a(2306);n.rX=()=>{if((typeof s.env.wasm.initTimeout!="number"||s.env.wasm.initTimeout<0)&&(s.env.wasm.initTimeout=0),typeof s.env.wasm.simd!="boolean"&&(s.env.wasm.simd=!0),typeof s.env.wasm.proxy!="boolean"&&(s.env.wasm.proxy=!1),typeof s.env.wasm.numThreads!="number"||!Number.isInteger(s.env.wasm.numThreads)||s.env.wasm.numThreads<=0){const p=typeof navigator>"u"?(0,l.cpus)().length:navigator.hardwareConcurrency;s.env.wasm.numThreads=Math.min(4,Math.ceil((p||1)/2))}},n.c8=new class{async init(){(0,n.rX)(),await(0,c.initWasm)()}async createSessionHandler(p,g){const y=new f.OnnxruntimeWebAssemblySessionHandler;return await y.loadModel(p,g),Promise.resolve(y)}}},6018:function(i,n,a){var s=this&&this.__createBinding||(Object.create?function(f,p,g,y){y===void 0&&(y=g);var b=Object.getOwnPropertyDescriptor(p,g);b&&!("get"in b?!p.__esModule:b.writable||b.configurable)||(b={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(f,y,b)}:function(f,p,g,y){y===void 0&&(y=g),f[y]=p[g]}),l=this&&this.__exportStar||function(f,p){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||s(p,f,g)};Object.defineProperty(n,"__esModule",{value:!0}),l(a(1670),n);const c=a(1670);{const f=a(7714).R;(0,c.registerBackend)("webgl",f,-10)}{const f=a(4200).c8;(0,c.registerBackend)("cpu",f,10),(0,c.registerBackend)("wasm",f,10),(0,c.registerBackend)("xnnpack",f,9)}},246:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createAttributeWithCacheKey=void 0;class a{constructor(l){Object.assign(this,l)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(l=>`${this[l]}`).join(";")),this._cacheKey}}n.createAttributeWithCacheKey=s=>new a(s)},7778:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Attribute=void 0;const s=a(1446),l=a(9395),c=a(9162),f=a(2517);var p=l.onnxruntime.experimental.fbs;class g{constructor(b){if(this._attributes=new Map,b!=null){for(const h of b)h instanceof s.onnx.AttributeProto?this._attributes.set(h.name,[g.getValue(h),g.getType(h)]):h instanceof p.Attribute&&this._attributes.set(h.name(),[g.getValue(h),g.getType(h)]);if(this._attributes.size<b.length)throw new Error("duplicated attribute names")}}set(b,h,d){this._attributes.set(b,[d,h])}delete(b){this._attributes.delete(b)}getFloat(b,h){return this.get(b,"float",h)}getInt(b,h){return this.get(b,"int",h)}getString(b,h){return this.get(b,"string",h)}getTensor(b,h){return this.get(b,"tensor",h)}getFloats(b,h){return this.get(b,"floats",h)}getInts(b,h){return this.get(b,"ints",h)}getStrings(b,h){return this.get(b,"strings",h)}getTensors(b,h){return this.get(b,"tensors",h)}get(b,h,d){const v=this._attributes.get(b);if(v===void 0){if(d!==void 0)return d;throw new Error(`required attribute not found: ${b}`)}if(v[1]!==h)throw new Error(`type mismatch: expected ${h} but got ${v[1]}`);return v[0]}static getType(b){const h=b instanceof s.onnx.AttributeProto?b.type:b.type();switch(h){case s.onnx.AttributeProto.AttributeType.FLOAT:return"float";case s.onnx.AttributeProto.AttributeType.INT:return"int";case s.onnx.AttributeProto.AttributeType.STRING:return"string";case s.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case s.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case s.onnx.AttributeProto.AttributeType.INTS:return"ints";case s.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case s.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${s.onnx.AttributeProto.AttributeType[h]}`)}}static getValue(b){const h=b instanceof s.onnx.AttributeProto?b.type:b.type();if(h===s.onnx.AttributeProto.AttributeType.GRAPH||h===s.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const d=this.getValueNoCheck(b);if(h===s.onnx.AttributeProto.AttributeType.INT&&f.LongUtil.isLong(d))return f.LongUtil.longToNumber(d);if(h===s.onnx.AttributeProto.AttributeType.INTS){const v=d,_=new Array(v.length);for(let A=0;A<v.length;A++){const I=v[A];_[A]=f.LongUtil.longToNumber(I)}return _}if(h===s.onnx.AttributeProto.AttributeType.TENSOR)return b instanceof s.onnx.AttributeProto?c.Tensor.fromProto(d):c.Tensor.fromOrtTensor(d);if(h===s.onnx.AttributeProto.AttributeType.TENSORS){if(b instanceof s.onnx.AttributeProto)return d.map(v=>c.Tensor.fromProto(v));if(b instanceof p.Attribute)return d.map(v=>c.Tensor.fromOrtTensor(v))}if(h===s.onnx.AttributeProto.AttributeType.STRING&&b instanceof s.onnx.AttributeProto){const v=d;return(0,f.decodeUtf8String)(v)}return h===s.onnx.AttributeProto.AttributeType.STRINGS&&b instanceof s.onnx.AttributeProto?d.map(f.decodeUtf8String):d}static getValueNoCheck(b){return b instanceof s.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(b):this.getValueNoCheckFromOrtFormat(b)}static getValueNoCheckFromOnnxFormat(b){switch(b.type){case s.onnx.AttributeProto.AttributeType.FLOAT:return b.f;case s.onnx.AttributeProto.AttributeType.INT:return b.i;case s.onnx.AttributeProto.AttributeType.STRING:return b.s;case s.onnx.AttributeProto.AttributeType.TENSOR:return b.t;case s.onnx.AttributeProto.AttributeType.GRAPH:return b.g;case s.onnx.AttributeProto.AttributeType.FLOATS:return b.floats;case s.onnx.AttributeProto.AttributeType.INTS:return b.ints;case s.onnx.AttributeProto.AttributeType.STRINGS:return b.strings;case s.onnx.AttributeProto.AttributeType.TENSORS:return b.tensors;case s.onnx.AttributeProto.AttributeType.GRAPHS:return b.graphs;default:throw new Error(`unsupported attribute type: ${s.onnx.AttributeProto.AttributeType[b.type]}`)}}static getValueNoCheckFromOrtFormat(b){switch(b.type()){case p.AttributeType.FLOAT:return b.f();case p.AttributeType.INT:return b.i();case p.AttributeType.STRING:return b.s();case p.AttributeType.TENSOR:return b.t();case p.AttributeType.GRAPH:return b.g();case p.AttributeType.FLOATS:return b.floatsArray();case p.AttributeType.INTS:{const h=[];for(let d=0;d<b.intsLength();d++)h.push(b.ints(d));return h}case p.AttributeType.STRINGS:{const h=[];for(let d=0;d<b.stringsLength();d++)h.push(b.strings(d));return h}case p.AttributeType.TENSORS:{const h=[];for(let d=0;d<b.tensorsLength();d++)h.push(b.tensors(d));return h}default:throw new Error(`unsupported attribute type: ${p.AttributeType[b.type()]}`)}}}n.Attribute=g},7091:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.resolveBackend=n.backend=void 0;const s=a(5038),l=new Map;async function c(f){const p=n.backend;if(p[f]!==void 0&&function(g){const y=g;return"initialize"in y&&typeof y.initialize=="function"&&"createSessionHandler"in y&&typeof y.createSessionHandler=="function"&&"dispose"in y&&typeof y.dispose=="function"}(p[f])){const g=p[f];let y=g.initialize();if(typeof y=="object"&&"then"in y&&(y=await y),y)return l.set(f,g),g}}n.backend={webgl:new s.WebGLBackend},n.resolveBackend=async function f(p){if(!p)return f(["webgl"]);{const g=typeof p=="string"?[p]:p;for(const y of g){const b=l.get(y);if(b)return b;const h=await c(y);if(h)return h}}throw new Error("no available backend to use")}},5038:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLBackend=void 0;const s=a(1670),l=a(6231),c=a(6416),f=a(7305);n.WebGLBackend=class{get contextId(){return s.env.webgl.contextId}set contextId(p){s.env.webgl.contextId=p}get matmulMaxBatchSize(){return s.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(p){s.env.webgl.matmulMaxBatchSize=p}get textureCacheMode(){return s.env.webgl.textureCacheMode}set textureCacheMode(p){s.env.webgl.textureCacheMode=p}get pack(){return s.env.webgl.pack}set pack(p){s.env.webgl.pack=p}get async(){return s.env.webgl.async}set async(p){s.env.webgl.async=p}initialize(){try{return this.glContext=(0,f.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),l.Logger.setWithEnv(s.env),l.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(p){return l.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${p}`),!1}}createSessionHandler(p){return new c.WebGLSessionHandler(this,p)}dispose(){this.glContext.dispose()}}},5107:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoordsGlslLib=void 0;const s=a(2517),l=a(8520),c=a(5060),f=a(7859),p=a(9390);class g extends l.GlslLib{constructor(b){super(b)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new l.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new l.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const b=this.context.outputTextureLayout;return b.isPacked?this.getPackedOutputSamplingSnippet(b):this.getUnpackedOutputSamplingSnippet(b)}getPackedOutputSamplingSnippet(b){const h=b.unpackedShape,d=[b.width,b.height],v={},_="getOutputCoords";switch(h.length){case 0:v[_]=this.getOutputScalarCoords();break;case 1:v[_]=this.getOutputPacked1DCoords(h,d);break;case 2:v[_]=this.getOutputPacked2DCoords(h,d);break;case 3:v[_]=this.getOutputPacked3DCoords(h,d);break;default:v[_]=this.getOutputPackedNDCoords(h,d)}const A=`
      void setOutput(vec4 val) {
        ${(0,c.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return v.floatTextureSetRGBA=new l.GlslLibRoutine(A),v}getUnpackedOutputSamplingSnippet(b){const h=b.unpackedShape,d=[b.width,b.height],v={},_="getOutputCoords";switch(h.length){case 0:v[_]=this.getOutputScalarCoords();break;case 1:v[_]=this.getOutputUnpacked1DCoords(h,d);break;case 2:v[_]=this.getOutputUnpacked2DCoords(h,d);break;case 3:v[_]=this.getOutputUnpacked3DCoords(h,d);break;case 4:v[_]=this.getOutputUnpacked4DCoords(h,d);break;case 5:v[_]=this.getOutputUnpacked5DCoords(h,d);break;case 6:v[_]=this.getOutputUnpacked6DCoords(h,d);break;default:throw new Error(`Unsupported output dimensionality: ${h.length}`)}const A=`
        void setOutput(float val) {
          ${(0,c.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return v.floatTextureSetR=new l.GlslLibRoutine(A),v}getOutputScalarCoords(){return new l.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(b,h){const d=h;let v="";return d[0]===1?(v=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${d[1]}.0);
          }
        `,new l.GlslLibRoutine(v)):d[1]===1?(v=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${d[0]}.0);
          }
        `,new l.GlslLibRoutine(v)):(v=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${d[0]}, ${d[1]}));
          return 2 * (resTexRC.y * ${d[0]} + resTexRC.x);
        }
      `,new l.GlslLibRoutine(v))}getOutputPacked2DCoords(b,h){let d="";if(s.ArrayUtil.arraysEqual(b,h))return d=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${h[0]}, ${h[1]}));
        }
      `,new l.GlslLibRoutine(d);const v=h,_=Math.ceil(b[1]/2);return d=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${v[0]}, ${v[1]}));

          int index = resTexRC.y * ${v[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${_}) * 2;
          int c = 2 * (index / ${_});

          return ivec2(r, c);
        }
      `,new l.GlslLibRoutine(d)}getOutputPacked3DCoords(b,h){const d=[h[0],h[1]],v=Math.ceil(b[2]/2),_=v*Math.ceil(b[1]/2),A=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${d[0]}, ${d[1]}));
          int index = resTexRC.y * ${d[0]} + resTexRC.x;

          int b = index / ${_};
          index -= b * ${_};

          // reverse r and c order for packed texture
          int r = imod(index, ${v}) * 2;
          int c = 2 * (index / ${v});

          return ivec3(b, r, c);
        }
      `;return new l.GlslLibRoutine(A)}getOutputPackedNDCoords(b,h){const d=[h[0],h[1]],v=Math.ceil(b[b.length-1]/2),_=v*Math.ceil(b[b.length-2]/2);let A=_,I="",R="b, r, c";for(let $=2;$<b.length-1;$++)A*=b[b.length-$-1],I=`
      int b${$} = index / ${A};
      index -= b${$} * ${A};
    `+I,R=`b${$}, `+R;const P=`
      ivec${b.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${d[0]}, ${d[1]}));
        int index = resTexRC.y * ${d[0]} + resTexRC.x;

        ${I}

        int b = index / ${_};
        index -= b * ${_};

        // reverse r and c order for packed texture
        int r = imod(index, ${v}) * 2;
        int c = 2 * (index / ${v});

        return ivec${b.length}(${R});
      }
    `;return new l.GlslLibRoutine(P)}getOutputUnpacked1DCoords(b,h){const d=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${h[0]}, ${h[1]}));
          return resTexRC.y * ${h[0]} + resTexRC.x;
        }
      `;return new l.GlslLibRoutine(d)}getOutputUnpacked2DCoords(b,h){const d=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${h[0]}, ${h[1]}));
          int index = resTexRC.y * ${h[0]} + resTexRC.x;
          int r = index / ${b[1]};
          int c = index - r * ${b[1]};
          return ivec2(r, c);
        }
      `;return new l.GlslLibRoutine(d)}getOutputUnpacked3DCoords(b,h){let d="";const v=b.length;let _=null;v<2&&(_=[]),_=new Array(v-1),_[v-2]=b[v-1];for(let R=v-3;R>=0;--R)_[R]=_[R+1]*b[R+1];const A=["r","c","d"],I=_.map((R,P)=>`int ${A[P]} = index / ${R}; ${P===_.length-1?`int ${A[P+1]} = index - ${A[P]} * ${R}`:`index -= ${A[P]} * ${R}`};`).join("");return d=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${h[0]}, ${h[1]}));
          int index = resTexRC.y * ${h[0]} + resTexRC.x;
          ${I}
          return ivec3(r, c, d);
        }
      `,new l.GlslLibRoutine(d)}getOutputUnpacked4DCoords(b,h){let d="";const v=b.length;let _=null;v<2&&(_=[]),_=new Array(v-1),_[v-2]=b[v-1];for(let R=v-3;R>=0;--R)_[R]=_[R+1]*b[R+1];const A=["r","c","d","d2"],I=_.map((R,P)=>`int ${A[P]} = index / ${R}; ${P===_.length-1?`int ${A[P+1]} = index - ${A[P]} * ${R}`:`index -= ${A[P]} * ${R}`};`).join("");return d=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${h[0]}, ${h[1]}));
          int index = resTexRC.y * ${h[0]} + resTexRC.x;
          ${I}
          return ivec4(r, c, d, d2);
        }
      `,new l.GlslLibRoutine(d)}getOutputUnpacked5DCoords(b,h){let d="";const v=b.length;let _=null;v<2&&(_=[]),_=new Array(v-1),_[v-2]=b[v-1];for(let R=v-3;R>=0;--R)_[R]=_[R+1]*b[R+1];const A=["r","c","d","d2","d3"],I=_.map((R,P)=>`int ${A[P]} = index / ${R}; ${P===_.length-1?`int ${A[P+1]} = index - ${A[P]} * ${R}`:`index -= ${A[P]} * ${R}`};`).join("");return d=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${h[0]}, ${h[1]}));
          int index = resTexRC.y * ${h[0]} + resTexRC.x;
          ${I}
          return ivec5(r, c, d, d2, d3);
        }
      `,new l.GlslLibRoutine(d)}getOutputUnpacked6DCoords(b,h){let d="";const v=b.length;let _=null;v<2&&(_=[]),_=new Array(v-1),_[v-2]=b[v-1];for(let R=v-3;R>=0;--R)_[R]=_[R+1]*b[R+1];const A=["r","c","d","d2","d3","d4"],I=_.map((R,P)=>`int ${A[P]} = index / ${R}; ${P===_.length-1?`int ${A[P+1]} = index - ${A[P]} * ${R}`:`index -= ${A[P]} * ${R}`};`).join("");return d=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${h[0]}, ${h[1]}));
         int index = resTexRC.y * ${h[0]} + resTexRC.x;
         ${I}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new l.GlslLibRoutine(d)}getCommonUtilFuncs(){const b={};let h="uvFromFlat";b[h]=new l.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),h="packedUVfrom1D",b[h]=new l.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),h="packedUVfrom2D",b[h]=new l.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),h="packedUVfrom3D",b[h]=new l.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),h="sampleTexture";const d=(0,c.getGlsl)(this.context.glContext.version);return b[h]=new l.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${d.texture2D}(textureSampler, uv).r;
        }`),b}getInputsSamplingSnippets(){const b={},h=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((d,v)=>{const _=this.context.inputTextureLayouts[v],A=(0,p.generateShaderFuncNameFromInputSamplerName)(d);_.isPacked?b[A]=this.getPackedSamplerFromInput(A,d,_):b[A]=this.getUnpackedSamplerFromInput(A,d,_);const I=(0,p.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(d);_.unpackedShape.length<=h.unpackedShape.length&&(_.isPacked?b[I]=this.getPackedSamplerAtOutputCoords(I,_,h,d):b[I]=this.getUnpackedSamplerAtOutputCoords(I,_,h,d))}),b}getPackedSamplerAtOutputCoords(b,h,d,v){const _=h.unpackedShape,A=d.unpackedShape,I=v,R=(0,p.generateShaderFuncNameFromInputSamplerName)(I),P=_.length,$=A.length,M=s.BroadcastUtil.getBroadcastDims(_,A),B=(0,p.getCoordsDataType)($),F=$-P;let q;const H=(0,p.getGlChannels)();q=P===0?"":$<2&&M.length>=1?"coords = 0;":M.map(X=>`coords.${H[X+F]} = 0;`).join(`
`);let z="";z=$<2&&P>0?"coords":_.map((X,Q)=>`coords.${H[Q+F]}`).join(", ");let L="return outputValue;";const ee=s.ShapeUtil.size(_)===1,Z=s.ShapeUtil.size(A)===1;if(P!==1||ee||Z){if(ee&&!Z)L=$===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(M.length){const X=P-2,Q=P-1;M.indexOf(X)>-1&&M.indexOf(Q)>-1?L="return vec4(outputValue.x);":M.indexOf(X)>-1?L="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":M.indexOf(Q)>-1&&(L="return vec4(outputValue.xx, outputValue.zz);")}}else L=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const V=`
      vec4 ${b}() {
        ${B} coords = getOutputCoords();
        
        int lastDim = coords.${H[$-1]};
        coords.${H[$-1]} = coords.${H[$-2]};
        coords.${H[$-2]} = lastDim;
      
        ${q}
        vec4 outputValue = ${R}(${z});
        ${L}
      }
    `;return new l.GlslLibRoutine(V,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(b,h,d,v){const _=[d.width,d.height],A=[h.width,h.height],I=h.unpackedShape.length,R=d.unpackedShape.length,P=h.unpackedShape,$=d.unpackedShape,M=(0,p.generateShaderFuncNameFromInputSamplerName)(v);if(I===R&&s.ArrayUtil.arraysEqual(A,_)){const Z=`
          float ${b}() {
            return sampleTexture(${v}, TexCoords);
          }
        `;return new l.GlslLibRoutine(Z,["coordinates.sampleTexture"])}const B=(0,p.getCoordsDataType)(R),F=s.BroadcastUtil.getBroadcastDims(P,$),q=R-I;let H;const z=(0,p.getGlChannels)();H=I===0?"":R<2&&F.length>=1?"coords = 0;":F.map(Z=>`coords.${z[Z+q]} = 0;`).join(`
`);let L="";L=R<2&&I>0?"coords":h.unpackedShape.map((Z,V)=>`coords.${z[V+q]}`).join(", ");const ee=`
        float ${b}() {
          ${B} coords = getOutputCoords();
          ${H}
          return ${M}(${L});
        }
      `;return new l.GlslLibRoutine(ee,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(b,h,d){switch(d.unpackedShape.length){case 0:return this.getPackedSamplerScalar(b,h);case 1:return this.getPackedSampler1D(b,h,d);case 2:return this.getPackedSampler2D(b,h,d);case 3:return this.getPackedSampler3D(b,h,d);default:return this.getPackedSamplerND(b,h,d)}}getUnpackedSamplerFromInput(b,h,d){const v=d.unpackedShape;switch(v.length){case 0:return this.getUnpackedSamplerScalar(b,h,d);case 1:return this.getUnpackedSampler1D(b,h,d);case 2:return this.getUnpackedSampler2D(b,h,d);case 3:return this.getUnpackedSampler3D(b,h,d);case 4:return this.getUnpackedSampler4D(b,h,d);case 5:return this.getUnpackedSampler5D(b,h,d);case 6:return this.getUnpackedSampler6D(b,h,d);default:throw new Error(`Unsupported dimension ${v.length}-D`)}}getPackedSamplerScalar(b,h){const d=`
          vec4 ${b}() {
            return ${(0,c.getGlsl)(this.context.glContext.version).texture2D}(${h}, halfCR);
          }
        `;return new l.GlslLibRoutine(d)}getPackedSampler1D(b,h,d){const v=[d.width,d.height],_=[v[1],v[0]],A=(0,c.getGlsl)(this.context.glContext.version),I=`vec4 ${b}(int index) {
      vec2 uv = packedUVfrom1D(
      ${_[0]}, ${_[1]}, index);
      return ${A.texture2D}(${h}, uv);
    }`;return new l.GlslLibRoutine(I,["coordinates.packedUVfrom1D"])}getPackedSampler2D(b,h,d){const v=d.unpackedShape,_=[d.width,d.height],A=(0,c.getGlsl)(this.context.glContext.version),I=_[0],R=_[1];if(_!=null&&s.ArrayUtil.arraysEqual(v,_)){const B=`vec4 ${b}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${R}.0, ${I}.0);
        return ${A.texture2D}(${h}, uv);
      }`;return new l.GlslLibRoutine(B)}const P=_,$=Math.ceil(v[1]/2),M=`vec4 ${b}(int row, int col) {
      vec2 uv = packedUVfrom2D(${P[1]}, ${P[0]}, ${$}, row, col);
      return ${A.texture2D}(${h}, uv);
    }`;return new l.GlslLibRoutine(M,["coordinates.packedUVfrom2D"])}getPackedSampler3D(b,h,d){const v=d.unpackedShape,_=[d.width,d.height],A=[_[0],_[1]],I=(0,c.getGlsl)(this.context.glContext.version);if(v[0]===1){const B=v.slice(1),F=[1,2],q=(0,p.squeezeInputShape)(v,B),H=["b","row","col"],z=JSON.parse(JSON.stringify(d));z.unpackedShape=q;const L=this.getPackedSamplerFromInput(b,h,z),ee=`${L.routineBody}
      vec4 ${b}(int b, int row, int col) {
        return ${b}(${(0,p.getSqueezedParams)(H,F)});
      } `;return new l.GlslLibRoutine(ee,L.dependencies)}const R=A[0],P=A[1],$=Math.ceil(v[2]/2),M=`vec4 ${b}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${P}, ${R}, ${$*Math.ceil(v[1]/2)}, ${$}, b, row, col);
      return ${I.texture2D}(${h}, uv);}`;return new l.GlslLibRoutine(M,["coordinates.packedUVfrom3D"])}getPackedSamplerND(b,h,d){const v=d.unpackedShape,_=v.length,A=[d.width,d.height],I=(0,c.getGlsl)(this.context.glContext.version),R=[A[0],A[1]],P=R[1],$=R[0],M=Math.ceil(v[_-1]/2);let B=M*Math.ceil(v[_-2]/2),F="int b, int row, int col",q=`b * ${B} + (row / 2) * ${M} + (col / 2)`;for(let z=2;z<_-1;z++)F=`int b${z}, `+F,B*=v[_-z-1],q=`b${z} * ${B} + `+q;const H=`vec4 ${b}(${F}) {
      int index = ${q};
      int texR = index / ${$};
      int texC = index - texR * ${$};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${$}, ${P});
      return ${I.texture2D}(${h}, uv);
    }`;return new l.GlslLibRoutine(H)}getUnpackedSamplerScalar(b,h,d){const[v,_]=[d.width,d.height];if(v===1&&_===1){const I=`
          float ${b}() {
            return sampleTexture(${h}, halfCR);
          }
        `;return new l.GlslLibRoutine(I,["coordinates.sampleTexture"])}const A=`
        float ${b}() {
          int offset_${h} = coordsToOffset(TexCoords, ${v}, ${_});
          vec2 uv = uvFromFlat(${v}, ${_}, offset_${h});
          return sampleTexture(${h}, uv);
        }
      `;return new l.GlslLibRoutine(A,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(b,h,d){const v=d.width,_=d.height;if(_===1&&v===1){const I=`
        float ${b}(int index) {
          return sampleTexture(${h}, halfCR);
        }
      `;return new l.GlslLibRoutine(I,["coordinates.sampleTexture"])}if(_===1){const I=`
          float ${b}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${v}.0, 0.5);
            return sampleTexture(${h}, uv);
          }
        `;return new l.GlslLibRoutine(I,["coordinates.sampleTexture"])}if(v===1){const I=`
          float ${b}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${_}.0);
            return sampleTexture(${h}, uv);
          }
        `;return new l.GlslLibRoutine(I,["coordinates.sampleTexture"])}const A=`
        float ${b}(int index) {
          vec2 uv = uvFromFlat(${v}, ${_}, index);
          return sampleTexture(${h}, uv);
        }
      `;return new l.GlslLibRoutine(A,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(b,h,d){const v=d.unpackedShape,_=[d.height,d.width];if(_!=null&&s.ArrayUtil.arraysEqual(v,_)){const B=`
          float ${b}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${_[1]}.0, ${_[0]}.0);
            return sampleTexture(${h}, uv);
          }
        `;return new l.GlslLibRoutine(B,["coordinates.sampleTexture"])}const{newShape:A,keptDims:I}=(0,f.squeezeShape)(v),R=A;if(R.length<v.length){const B=(0,p.squeezeInputShape)(v,R),F=JSON.parse(JSON.stringify(d));F.unpackedShape=B;const q=["col","row"],H=`
          ${this.getUnpackedSamplerFromInput(b,h,F).routineBody}
          float ${b}(int row, int col) {
            return ${b}(${(0,p.getSqueezedParams)(q,I)});
          }
        `;return new l.GlslLibRoutine(H,["coordinates.sampleTexture"])}const P=_[1],$=_[0];if($===1){const B=`
          float ${b}(int row, int col) {
            int offset_${h} = coordsToOffset(TexCoords, ${P}, ${$});
            float index = dot(vec3(row, col, offset_${h}), vec3(${v[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${P}.0);
            return sampleTexture(${h}, uv);
          }
        `;return new l.GlslLibRoutine(B,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(P===1){const B=`
          float ${b}(int row, int col) {
            int offset_${h} = coordsToOffset(TexCoords, ${P}, ${$});
            float index = dot(vec3(row, col, offset_${h}), vec3(${v[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${$}.0, 0.5);
            return sampleTexture(${h}, uv);
          }
        `;return new l.GlslLibRoutine(B,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const M=`
        float ${b}(int row, int col) {
          int index = col * ${v[1]} + row;
          vec2 uv = uvFromFlat(${P}, ${$}, index);
          return sampleTexture(${h}, uv);
        }
      `;return new l.GlslLibRoutine(M,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(b,h,d){const v=d.unpackedShape,_=v[1]*v[2],A=v[2],{newShape:I,keptDims:R}=(0,f.squeezeShape)(v),P=I;if(P.length<v.length){const M=(0,p.squeezeInputShape)(v,P),B=["batch","col","row"],F=JSON.parse(JSON.stringify(d));F.unpackedShape=M;const q=this.getUnpackedSamplerFromInput(b,h,F),H=R.reverse(),z=`
          ${q.routineBody}
          float ${b}(int batch, int row, int col) {
            return ${b}(${(0,p.getSqueezedParams)(B,H)});
          }
        `;return new l.GlslLibRoutine(z,q.dependencies)}const $=`
          float ${b}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${_} + col * ${A} + row;
            vec2 uv = uvFromFlat(${d.width}, ${d.height}, index);
            return sampleTexture(${h}, uv);
          }
      `;return new l.GlslLibRoutine($,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(b,h,d){const v=d.unpackedShape,_=v[3],A=v[2]*_,I=`
        float ${b}(int row, int col, int depth, int depth2) {
          int index = row * ${v[1]*A} + col * ${A} +
              depth2 * ${_} + depth;
          vec2 uv = uvFromFlat(${d.width}, ${d.height}, index);
          return sampleTexture(${h}, uv);
        }
      `;return new l.GlslLibRoutine(I,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(b,h,d){const v=d.unpackedShape,_=v[4],A=v[3]*_,I=v[2]*A,R=v[1]*I,{newShape:P,keptDims:$}=(0,f.squeezeShape)(v);if(P.length<v.length){const B=(0,p.squeezeInputShape)(v,P),F=["row","col","depth","depth2","depth3"],q=JSON.parse(JSON.stringify(d));q.unpackedShape=B;const H=`
          ${this.getUnpackedSamplerFromInput(b,h,q).routineBody}
          float ${b}(int row, int col, int depth, int depth2, int depth3) {
            return ${b}(${(0,p.getSqueezedParams)(F,$)});
          }
        `;return new l.GlslLibRoutine(H,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const M=`
        float ${b}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${R} + col * ${I} + depth * ${A} +
          depth3 * ${_} + depth2;
          vec2 uv = uvFromFlat(${d.width}, ${d.height}, index);
          return sampleTexture(${h}, uv);
        }
      `;return new l.GlslLibRoutine(M,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(b,h,d){const v=d.unpackedShape,_=v[5],A=v[4]*_,I=v[3]*A,R=v[2]*I,P=v[1]*R,{newShape:$,keptDims:M}=(0,f.squeezeShape)(v);if($.length<v.length){const F=(0,p.squeezeInputShape)(v,$),q=["row","col","depth","depth2","depth3","depth4"],H=JSON.parse(JSON.stringify(d));H.unpackedShape=F;const z=`
            ${this.getUnpackedSamplerFromInput(b,h,H).routineBody}
            float ${b}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${b}(${(0,p.getSqueezedParams)(q,M)});
            }
          `;return new l.GlslLibRoutine(z,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const B=`
          float ${b}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${P} + col * ${R} + depth * ${I} +
            depth2 * ${A} + depth3 * ${_} + depth4;
            vec2 uv = uvFromFlat(${d.width}, ${d.height}, index);
            return sampleTexture(${h}, uv);
          }
        `;return new l.GlslLibRoutine(B,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const b=this.context.outputTextureLayout,h=b.shape.length,d=b.strides,v=b.width,_=b.height,A=[];for(let R=0;R<h-1;++R)A.push(`
        c[${R}] = offset / ${d[R]};`),A.push(`
        offset -= c[${R}] * ${d[R]};`);A.push(`
        c[${h-1}] = offset;`);const I=`
      void toVec(vec2 texCoords, out int c[${h}]) {
        int offset = coordsToOffset(texCoords, ${v}, ${_});
        ${A.join("")}
      }
      void toVec(int offset, out int c[${h}]) {
        ${A.join("")}
      }
    `;return{toVec:new l.GlslLibRoutine(I,["coordinates.coordsToOffset"])}}valueFrom(){const b={};return this.context.programInfo.inputNames.forEach((h,d)=>{const v=this.context.inputTextureLayouts[d],_=(v.unpackedShape.length>0?v.unpackedShape:v.shape).length;let A=`_${h}`;b[A]=new l.GlslLibRoutine(this.getValueFromSingle(h,_,v.width,v.height,!1),[`shapeUtils.indicesToOffset${A}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),A+="_T",b[A]=new l.GlslLibRoutine(this.getValueFromSingle(h,_,v.width,v.height,!0),[`shapeUtils.indicesToOffset${A}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),b}getValueFromSingle(b,h,d,v,_){let A=`_${b}`;return _&&(A+="_T"),`
        float ${A}(int m[${h}]) {
          int offset = indicesToOffset${A}(m);
          vec2 coords = offsetToCoords(offset, ${d}, ${v});
          float value = getColorAsFloat(${(0,c.getGlsl)(this.context.glContext.version).texture2D}(${b}, coords));
          return value;
        }
        `}getPackedValueFrom(b,h,d,v,_){let A=`_${b}_Pack`;return _&&(A+="_T"),`
        vec4 ${A}(int m[${h}]) {
          int offset = indicesToOffset_${b}(m);
          vec2 coords = offsetToCoords(offset, ${d}, ${v});
          return ${(0,c.getGlsl)(this.context.glContext.version).texture2D}(${b}, coords);
        }
        `}}n.CoordsGlslLib=g},8520:(i,n)=>{var a;Object.defineProperty(n,"__esModule",{value:!0}),n.TopologicalSortGlslRoutines=n.GlslLibRoutineNode=n.GlslLibRoutine=n.GlslLib=n.GlslContext=n.FunctionType=void 0,(a=n.FunctionType||(n.FunctionType={}))[a.ValueBased=0]="ValueBased",a[a.Positional=1]="Positional",n.GlslContext=class{constructor(s,l,c,f){this.glContext=s,this.programInfo=l,this.inputTextureLayouts=c,this.outputTextureLayout=f}},n.GlslLib=class{constructor(s){this.context=s}},n.GlslLibRoutine=class{constructor(s,l){this.routineBody=s,this.dependencies=l}},n.GlslLibRoutineNode=class{constructor(s,l,c){this.name=s,this.dependencies=c||[],l&&(this.routineBody=l)}addDependency(s){s&&this.dependencies.push(s)}},n.TopologicalSortGlslRoutines=class{static returnOrderedNodes(s){if(!s||s.length===0)return[];if(s.length===1)return s;const l=new Set,c=new Set,f=new Array;return this.createOrderedNodes(s,l,c,f),f}static createOrderedNodes(s,l,c,f){for(let p=0;p<s.length;++p)this.dfsTraverse(s[p],l,c,f)}static dfsTraverse(s,l,c,f){if(!s||c.has(s.name))return;if(l.has(s.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");l.add(s.name);const p=s.dependencies;if(p&&p.length>0)for(let g=0;g<p.length;++g)this.dfsTraverse(p[g],l,c,f);f.push(s),c.add(s.name),l.delete(s.name)}}},7341:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EncodingGlslLib=void 0;const s=a(8520);class l extends s.GlslLib{constructor(f){super(f)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new s.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new s.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const f=l.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new s.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${f}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const f=l.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new s.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${f}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const f=new ArrayBuffer(4),p=new Uint32Array(f),g=new Uint8Array(f);if(p[0]=3735928559,g[0]===239)return!0;if(g[0]===222)return!1;throw new Error("unknown endianness")}}n.EncodingGlslLib=l},9894:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FragColorGlslLib=void 0;const s=a(8520),l=a(5060);class c extends s.GlslLib{constructor(p){super(p)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const p=(0,l.getGlsl)(this.context.glContext.version);return{setFragColor:new s.GlslLibRoutine(`
        void setFragColor(float value) {
            ${p.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new s.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}n.FragColorGlslLib=c},2848:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.replaceInlines=void 0;const a=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;n.replaceInlines=function(s){const l={};let c;for(;(c=a.exec(s))!==null;){const f=c[3].split(",").map(p=>{const g=p.trim().split(" ");return g&&g.length===2?{type:g[0],name:g[1]}:null}).filter(p=>p!==null);l[c[2]]={params:f,body:c[4]}}for(const f in l){const p="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",f),g=new RegExp(p,"gm");for(;(c=g.exec(s))!==null;){const y=c[1],b=c[2],h=c[3].split(","),d=y?`${y} ${b};`:"";let v=l[f].body,_="";l[f].params.forEach((I,R)=>{I&&(_+=`${I.type} ${I.name} = ${h[R]};
`)}),v=`${_}
 ${v}`,v=v.replace("return",`${b} = `);const A=`
      ${d}
      {
        ${v}
      }
      `;s=s.replace(c[0],A)}}return s.replace(a,"")}},8879:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlslPreprocessor=void 0;const s=a(8520),l=a(2848),c=a(5483),f=a(5060);n.GlslPreprocessor=class{constructor(p,g,y,b){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new s.GlslContext(p,g,y,b),Object.keys(c.glslRegistry).forEach(d=>{const v=new c.glslRegistry[d](this.context);this.libs[d]=v});const h=this.glslLibRoutineDependencyGraph;for(const d in this.libs){const v=this.libs[d].getFunctions();for(const _ in v){const A=d+"."+_;let I;h[A]?(I=h[A],I.routineBody=v[_].routineBody):(I=new s.GlslLibRoutineNode(A,v[_].routineBody),h[A]=I);const R=v[_].dependencies;if(R)for(let P=0;P<R.length;++P)if(h[R[P]])I.addDependency(h[R[P]]);else{const $=new s.GlslLibRoutineNode(R[P]);h[R[P]]=$,I.addDependency($)}}}}preprocess(){const p=this.context.programInfo;let g=p.shaderSource;return this.context.programInfo.hasMain||(g=`${g}
      ${(0,f.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),g=(0,l.replaceInlines)(g),`${(0,f.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(p.inputNames,p.variables)}
    ${this.getImports(g)}
    ${g}`}getImports(p){const g=this.selectGlslLibRoutinesToBeIncluded(p);if(g.length===0)return"";let y="";for(let b=0;b<g.length;++b){if(!g[b].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${g[b].name}`);y+=g[b].routineBody+`
`}return y}selectGlslLibRoutinesToBeIncluded(p){const g=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(y=>{const b=y.split(".")[1];p.indexOf(b)!==-1&&g.push(this.glslLibRoutineDependencyGraph[y])}),s.TopologicalSortGlslRoutines.returnOrderedNodes(g)}getUniforms(p,g){const y=[];if(p)for(const b of p)y.push(`uniform sampler2D ${b};`);if(g)for(const b of g)y.push(`uniform ${b.type} ${b.name}${b.arrayLength?`[${b.arrayLength}]`:""};`);return y.join(`
`)}}},5483:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.glslRegistry=void 0;const s=a(5107),l=a(7341),c=a(9894),f=a(2655),p=a(3891);n.glslRegistry={encoding:l.EncodingGlslLib,fragcolor:c.FragColorGlslLib,vec:p.VecGlslLib,shapeUtils:f.ShapeUtilsGlslLib,coordinates:s.CoordsGlslLib}},2655:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ShapeUtilsGlslLib=void 0;const s=a(8520);class l extends s.GlslLib{constructor(f){super(f)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const f=this.context.outputTextureLayout.shape.length,p={};return this.context.programInfo.inputNames.forEach((g,y)=>{const b=this.context.inputTextureLayouts[y].unpackedShape;if(b.length<=f){const h=b.length,d=f-h,v=`bcastIndices_${g}`;let _="";for(let I=0;I<h;++I)_+=`
          realIndices[${I}] = int( mod(float(bcastedIndices[${d+I}]), ${b[I]}.0) );
          `;const A=`
        void ${v} (int bcastedIndices[${f}], out int realIndices[${h}]) {
          ${_}
        }
        `;p[v]=new s.GlslLibRoutine(A)}}),p}bcastMatmulIndex(){const f=this.context.outputTextureLayout.shape.length,p={};return this.context.programInfo.inputNames.forEach((g,y)=>{const b=this.context.inputTextureLayouts[y].shape;if(!(b.length<2||b.length>f)){const h=b.length,d=f-h,v=`bcastMatmulIndices_${g}`;let _="";for(let I=0;I<h-2;++I)_+=`
          realIndices[${I}] = int( mod(float(bcastedIndices[${d+I}]), ${b[I]}.0) );
          `;const A=`
        void ${v}(int bcastedIndices[${f}], out int realIndices[${h}]) {
          ${_}
          realIndices[${h-1}] = bcastedIndices[${f-1}];
          realIndices[${h-2}] = bcastedIndices[${f-2}];
        }
        `;p[v]=new s.GlslLibRoutine(A)}}),p}indicesToOffset(){const f={};return this.context.programInfo.inputNames.forEach((p,g)=>{const y=this.context.inputTextureLayouts[g].shape,b=this.context.inputTextureLayouts[g].strides,h=y.length;let d=`indicesToOffset_${p}`;f[d]=new s.GlslLibRoutine(l.indexToOffsetSingle(d,h,b)),d=`indicesToOffset_${p}_T`,f[d]=new s.GlslLibRoutine(l.indexToOffsetSingle(d,h,b.slice().reverse()))}),f}static indexToOffsetSingle(f,p,g){let y="";for(let b=p-1;b>=0;--b)y+=`
        offset += indices[${b}] * ${g[b]};
        `;return`
      int ${f}(int indices[${p}]) {
        int offset = 0;
        ${y}
        return offset;
      }
      `}offsetToIndices(){const f={};return this.context.programInfo.inputNames.forEach((p,g)=>{const y=this.context.inputTextureLayouts[g].shape,b=this.context.inputTextureLayouts[g].strides,h=y.length;let d=`offsetToIndices_${p}`;f[d]=new s.GlslLibRoutine(l.offsetToIndicesSingle(d,h,b)),d=`offsetToIndices_${p}_T`,f[d]=new s.GlslLibRoutine(l.offsetToIndicesSingle(d,h,b.slice().reverse()))}),f}static offsetToIndicesSingle(f,p,g){const y=[];for(let b=0;b<p-1;++b)y.push(`
      indices[${b}] = offset / ${g[b]};`),y.push(`
        offset -= indices[${b}] * ${g[b]};`);return y.push(`
      indices[${p-1}] = offset;`),`
      void ${f}(int offset, out int indices[${p}]) {
        ${y.join("")}
      }
      `}incrementIndices(){const f={};return this.context.programInfo.inputNames.forEach((p,g)=>{const y=this.context.inputTextureLayouts[g].shape,b=y.length,h=`incrementIndices_${p}`;let d="";for(let _=0;_<b;++_)d+=`
        shape[${_}] = ${y[_]};`;const v=`
        void ${h}(int axis, out int indices[${b}]) {
          int shape[${b}];
          ${d};
          for(int i = ${b} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;f[h]=new s.GlslLibRoutine(v)}),f}}n.ShapeUtilsGlslLib=l},5060:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultFragShaderMain=n.getFragShaderPreamble=n.getVertexShaderSource=n.getGlsl=void 0;const a={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},s={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function l(c){return c===1?a:s}n.getGlsl=l,n.getVertexShaderSource=function(c){const f=l(c);return`${f.version}
      precision highp float;
      ${f.attribute} vec3 position;
      ${f.attribute} vec2 textureCoord;

      ${f.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},n.getFragShaderPreamble=function(c){const f=l(c);return`${f.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${f.varyingFrag} vec2 TexCoords;
    ${f.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},n.getDefaultFragShaderMain=function(c,f){return`
  void main() {
    int indices[${f}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${l(c).output} = result;
  }
  `}},3891:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VecGlslLib=void 0;const s=a(8520);class l extends s.GlslLib{constructor(f){super(f)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const f=this.context.outputTextureLayout.shape.length,p={add:"+=",sub:"-=",mul:"*=",div:"/="},g={};for(const y in p){const b=`${y}Vec`;let h="";for(let v=0;v<f;++v)h+=`
          dest[${v}] ${p[y]} src[${v}];
          `;const d=`
        void ${b}(int src[${f}], out int dest[${f}]) {
          ${h}
        }
        `;g[b]=new s.GlslLibRoutine(d)}return g}copyVec(){const f=this.context.outputTextureLayout.shape.length;let p="";for(let y=0;y<f;++y)p+=`
        dest[${y}] = src[${y}];
        `;const g=`
      void copyVec(int src[${f}], out int dest[${f}]) {
        ${p}
      }
      `;return{copyVec:new s.GlslLibRoutine(g)}}setVecItem(){const f=this.context.outputTextureLayout.shape.length;let p=`
        if(index < 0)
            index =${f} + index;
        if (index == 0)
            m[0] = value;
        `;for(let y=1;y<f-1;++y)p+=`
        else if (index == ${y})
            m[${y}] = value;
            `;p+=`
        else
            m[${f-1}] = value;
        `;const g=`
      void setVecItem(out int m[${f}], int index, int value) {
        ${p}
      }
        `;return{setVecItem:new s.GlslLibRoutine(g)}}getVecItem(){const f=this.context.outputTextureLayout.shape.length;let p=`
        if(index < 0)
            index = ${f} + index;
        if (index == 0)
            return m[0];
      `;for(let y=1;y<f-1;++y)p+=`
        else if (index == ${y})
            return m[${y}];
      `;p+=`
        else
            return m[${f-1}];
        `;const g=`
      int getVecItem(int m[${f}], int index) {
        ${p}
      }
    `;return{getVecItem:new s.GlslLibRoutine(g)}}}n.VecGlslLib=l},8316:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLInferenceHandler=void 0;const s=a(6231),l=a(9162),c=a(2517),f=a(2403),p=a(7019),g=a(8710),y=a(5611),b=a(4057),h=a(2039);n.WebGLInferenceHandler=class{constructor(d){this.session=d,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(d,v){return(0,b.calculateTextureWidthAndHeight)(this.session.layoutStrategy,d,v)}executeProgram(d,v){if(v.length<d.inputNames.length)throw new Error(`Input size mustn't be less than ${d.inputNames.length}.`);if(d.inputNames.length!==d.inputTypes.length)throw new Error("input names size does not match input types");const _=[];for(let M=0;M<d.inputNames.length;++M)_[M]=this.getOrCreateTextureData(v[M],d.inputTypes[M]);const A=((M,B)=>{const F=B.map(H=>`${H.unpackedShape.join(",")};${H.width}x${H.height}`).join("_");let q=M.name;return M.cacheHint&&(q+="["+M.cacheHint+"]"),q+=":"+F,q})(d,_);let I=this.session.programManager.getArtifact(A);const R=I?I.programInfo:typeof d.get=="function"?d.get():d,P=(0,b.createTextureLayoutFromTextureType)(this.session.layoutStrategy,R.output.dims,R.output.textureType),$=this.createTextureData(P,R.output.type);return I||(I=this.session.programManager.build(R,_,$),this.session.programManager.setArtifact(A,I)),this.runProgram(I,_,$),$}run(d,v){return this.executeProgram(d,v).tensor}runProgram(d,v,_){for(let A=0;A<v.length;++A)if(!!v[A].isPacked!=(d.programInfo.inputTypes[A]===h.TextureType.packed))throw new Error(`input[${A}] property packed inconsistent`);if(!!_.isPacked!=(d.programInfo.output.textureType===h.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(d,v,_)}getOrCreateTextureData(d,v){let _=this.getTextureData(d.dataId,v===h.TextureType.packed);if(!_&&(_=this.getTextureData(d.dataId,v!==h.TextureType.packed),_))return v===h.TextureType.packed?this.pack(_):this.unpack(_);if(!_){const A=(0,b.createTextureLayoutFromTextureType)(this.session.layoutStrategy,d.dims,v);if(v===h.TextureType.packedLastDimension){const I=d.dims;if(I.length===4){const R=[I[0],Math.ceil(I[1]*I[2]*I[3]/4)],P=(0,b.createTextureLayoutFromTextureType)(this.session.layoutStrategy,R,v);let $=d.numberData;if(I[1]*I[2]*I[3]%4!=0){const M=I[0],B=I[1]*I[2]*I[3],F=Math.ceil(B*1/4)*4;$=new Float32Array(M*F);for(let q=0;q<M;++q){const H=q*B,z=q*F+q%1*B;$.set(d.numberData.subarray(H,H+B),z)}}return this.createTextureData(P,d.type,$,d,1)}}if(v===h.TextureType.packed){const I=(0,b.createTextureLayoutFromShape)(this.session.layoutStrategy,d.dims,1,[],{reverseWH:!0}),R=this.createTextureData(I,d.type,d.numberData,d,1);_=this.pack(R)}else _=this.createTextureData(A,d.type,d.numberData,d,1)}return _}createTextureDataFromLayoutBindTensor(d,v,_,A){return this.createTextureData(d,v,_,A,1)}createTextureData(d,v,_,A,I){s.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(d)}]`);const R=this.session.textureManager.createTextureFromLayout(v,d,_,I);return this.createTextureDataFromTexture(d,v,R,A)}reshapeUnpacked(d,v){const _=this.getOrCreateTextureData(d,h.TextureType.unpacked),A={channels:_.channels,height:_.height,width:_.width,shape:v.length!==0?v:[1],strides:c.ShapeUtil.computeStrides(v),unpackedShape:v};return this.createTextureDataFromTexture(A,d.type,_.texture).tensor}reshapePacked(d,v){const _=this.getOrCreateTextureData(d,h.TextureType.packed);if((0,p.isReshapeCheap)(d.dims,v)){const $={channels:_.channels,height:_.height,width:_.width,shape:v.length!==0?v:[1],strides:c.ShapeUtil.computeStrides(v),unpackedShape:v,isPacked:!0};return this.createTextureDataFromTexture($,d.type,_.texture).tensor}const A=(0,p.processDims3D)(d.dims),I=(0,p.processDims3D)(v),R=this.reshapePacked(d,A),P=this.run((0,p.createPackedReshape3DProgramInfoLoader)(this,R,I),[R]);return this.reshapePacked(P,v)}cast(d,v){const _=this.getOrCreateTextureData(d,h.TextureType.unpacked);return this.createTextureDataFromTexture(_,v,_.texture).tensor}createTextureDataFromTexture(d,v,_,A,I){const R=Object.assign(Object.assign({},d),{tensor:A||new l.Tensor(d.unpackedShape,v,P=>this.readTexture(R),async P=>this.readTextureAsync(R),void 0,I),texture:_});return this.setTextureData(R.tensor.dataId,R,d.isPacked),R}getTextureData(d,v=!1){return this.session.isInitializer(d)?this.session.getTextureData(d,v):v?this.packedTextureDataCache.get(d):this.unpackedTextureDataCache.get(d)}setTextureData(d,v,_=!1){this.session.isInitializer(d)?this.session.setTextureData(d,v,_):(_?this.packedTextureDataCache:this.unpackedTextureDataCache).set(d,v)}isTextureLayoutCached(d,v=!1){return!!this.getTextureData(d.dataId,v)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(d=>this.session.textureManager.releaseTexture(d)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(d=>this.session.textureManager.releaseTexture(d)),this.unpackedTextureDataCache=new Map}readTexture(d){return d.isPacked?this.readTexture(this.unpack(d)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(d,d.tensor.type,d.channels):this.session.textureManager.readUint8TextureAsFloat((0,g.encodeAsUint8)(this,d))}async readTextureAsync(d){return d.isPacked?this.readTextureAsync(this.unpack(d)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(d,d.tensor.type,d.channels):this.session.textureManager.readUint8TextureAsFloat((0,g.encodeAsUint8)(this,d))}pack(d){return this.executeProgram((0,f.createPackProgramInfoLoader)(this,d.tensor),[d.tensor])}unpack(d){return this.executeProgram((0,y.createUnpackProgramInfoLoader)(this,d.tensor),[d.tensor])}}},1640:function(i,n,a){var s=this&&this.__createBinding||(Object.create?function(fe,K,de,we){we===void 0&&(we=de);var oe=Object.getOwnPropertyDescriptor(K,de);oe&&!("get"in oe?!K.__esModule:oe.writable||oe.configurable)||(oe={enumerable:!0,get:function(){return K[de]}}),Object.defineProperty(fe,we,oe)}:function(fe,K,de,we){we===void 0&&(we=de),fe[we]=K[de]}),l=this&&this.__setModuleDefault||(Object.create?function(fe,K){Object.defineProperty(fe,"default",{enumerable:!0,value:K})}:function(fe,K){fe.default=K}),c=this&&this.__importStar||function(fe){if(fe&&fe.__esModule)return fe;var K={};if(fe!=null)for(var de in fe)de!=="default"&&Object.prototype.hasOwnProperty.call(fe,de)&&s(K,fe,de);return l(K,fe),K};Object.defineProperty(n,"__esModule",{value:!0}),n.WEBGL_OP_RESOLVE_RULES=void 0;const f=a(2898),p=c(a(7839)),g=a(4196),y=a(2069),b=a(8138),h=a(9663),d=a(5193),v=a(7992),_=a(1253),A=a(4776),I=a(6572),R=a(3346),P=a(5623),$=a(2870),M=a(2143),B=a(4939),F=a(718),q=a(2268),H=a(8117),z=a(2278),L=a(5524),ee=a(5975),Z=a(3933),V=a(6558),X=a(5723),Q=a(3738),G=c(a(4909)),te=a(8428),ue=a(9793);n.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",G.abs],["Acos","","7+",G.acos],["Add","","7+",p.add],["And","","7+",p.and],["Asin","","7+",G.asin],["Atan","","7+",G.atan],["AveragePool","","7+",M.averagePool,M.parseAveragePoolAttributes],["BatchNormalization","","7+",f.batchNormalization,f.parseBatchNormalizationAttributes],["Cast","","6+",g.cast,g.parseCastAttributes],["Ceil","","6+",G.ceil],["Clip","","6-10",G.clip,G.parseClipAttributes],["Clip","","11+",G.clipV11],["Concat","","4+",y.concat,y.parseConcatAttributes],["Conv","","1+",b.conv,b.parseConvAttributes],["ConvTranspose","","1+",h.convTranspose,h.parseConvTransposeAttributes],["Cos","","7+",G.cos],["Div","","7+",p.div],["Dropout","","7+",G.identity],["DepthToSpace","","1+",d.depthToSpace,d.parseDepthToSpaceAttributes],["Equal","","7+",p.equal],["Elu","","6+",G.elu,G.parseEluAttributes],["Exp","","6+",G.exp],["Flatten","","1+",v.flatten,v.parseFlattenAttributes],["Floor","","6+",G.floor],["FusedConv","com.microsoft","1+",b.conv,b.parseConvAttributes],["Gather","","1+",_.gather,_.parseGatherAttributes],["Gemm","","7-10",A.gemm,A.parseGemmAttributesV7],["Gemm","","11+",A.gemm,A.parseGemmAttributesV11],["GlobalAveragePool","","1+",M.globalAveragePool,M.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",M.globalMaxPool],["Greater","","7+",p.greater],["Identity","","1+",G.identity],["ImageScaler","","1+",I.imageScaler,I.parseImageScalerAttributes],["InstanceNormalization","","6+",R.instanceNormalization,R.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",G.leakyRelu,G.parseLeakyReluAttributes],["Less","","7+",p.less],["Log","","6+",G.log],["MatMul","","1+",P.matMul,P.parseMatMulAttributes],["MaxPool","","1+",M.maxPool,M.parseMaxPoolAttributes],["Mul","","7+",p.mul],["Neg","","6+",G.neg],["Not","","1+",G.not],["Or","","7+",p.or],["Pad","","2-10",$.padV2,$.parsePadAttributesV2],["Pad","","11+",$.padV11,$.parsePadAttributesV11],["Pow","","7+",p.pow],["PRelu","","7+",p.pRelu],["ReduceLogSum","","1+",B.reduceLogSum,B.parseReduceAttributes],["ReduceMax","","1+",B.reduceMax,B.parseReduceAttributes],["ReduceMean","","1+",B.reduceMean,B.parseReduceAttributes],["ReduceMin","","1+",B.reduceMin,B.parseReduceAttributes],["ReduceProd","","1+",B.reduceProd,B.parseReduceAttributes],["ReduceSum","","1-12",B.reduceSum,B.parseReduceAttributes],["ReduceSumSquare","","1+",B.reduceLogSumSquare,B.parseReduceAttributes],["Relu","","6+",G.relu],["Reshape","","5+",F.reshape],["Resize","","10",q.resize,q.parseResizeAttributesV10],["Resize","","11+",q.resize,q.parseResizeAttributesV11],["Shape","","1+",H.shape],["Sigmoid","","6+",G.sigmoid],["Sin","","7+",G.sin],["Slice","","10+",z.sliceV10],["Slice","","1-9",z.slice,z.parseSliceAttributes],["Softmax","","1-12",L.softmax,L.parseSoftmaxAttributes],["Softmax","","13+",L.softmaxV13,L.parseSoftmaxAttributesV13],["Split","","2-12",ee.split,ee.parseSplitAttributes],["Sqrt","","6+",G.sqrt],["Squeeze","","1-12",Z.squeeze,Z.parseSqueezeAttributes],["Squeeze","","13+",Z.squeezeV13],["Sub","","7+",p.sub],["Sum","","6+",V.sum],["Tan","","7+",G.tan],["Tanh","","6+",G.tanh],["Tile","","6+",X.tile],["Transpose","","1+",Q.transpose,Q.parseTransposeAttributes],["Upsample","","7-8",ue.upsample,ue.parseUpsampleAttributesV7],["Upsample","","9",ue.upsample,ue.parseUpsampleAttributesV9],["Unsqueeze","","1-12",te.unsqueeze,te.parseUnsqueezeAttributes],["Unsqueeze","","13+",te.unsqueezeV13],["Xor","","7+",p.xor]]},2898:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseBatchNormalizationAttributes=n.batchNormalization=void 0;const s=a(246),l=a(5060),c=a(2039),f={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked]};n.batchNormalization=(y,b,h)=>(g(b),[y.run(Object.assign(Object.assign({},f),{cacheHint:h.cacheKey,get:()=>p(y,b,h)}),b)]),n.parseBatchNormalizationAttributes=y=>{const b=y.attributes.getFloat("epsilon",1e-5),h=y.attributes.getFloat("momentum",.9),d=y.attributes.getInt("spatial",1);return(0,s.createAttributeWithCacheKey)({epsilon:b,momentum:h,spatial:d})};const p=(y,b,h)=>{const d=(0,l.getGlsl)(y.session.backend.glContext.version),v=b[0].dims.length,[_,A]=y.calculateTextureWidthAndHeight(b[1].dims,c.TextureType.unpacked),I=`
  float process(int[${v}] indices) {
    vec2 position = offsetToCoords(indices[1], ${_}, ${A});
    float scale = getColorAsFloat(${d.texture2D}(Scale, position));
    float mean = getColorAsFloat(${d.texture2D}(Mean, position));
    float variance = getColorAsFloat(${d.texture2D}(Variance, position));
    float b = getColorAsFloat(${d.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${h.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},f),{output:{dims:b[0].dims,type:b[0].type,textureType:c.TextureType.unpacked},shaderSource:I})},g=y=>{if(!y||y.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const b=y[0],h=y[1],d=y[2],v=y[3],_=y[4];if(b.dims.length<3||h.dims.length!==1||d.dims.length!==1||v.dims.length!==1||_.dims.length!==1)throw new Error("invalid input shape.");if(h.dims[0]!==b.dims[1]||d.dims[0]!==b.dims[1]||v.dims[0]!==b.dims[1]||_.dims[0]!==b.dims[1])throw new Error("invalid input shape.");if(b.type!=="float32"&&b.type!=="float64"||h.type!=="float32"&&h.type!=="float64"||d.type!=="float32"&&d.type!=="float64"||v.type!=="float32"&&v.type!=="float64"||_.type!=="float32"&&_.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.xor=n.sub=n.pRelu=n.pow=n.or=n.mul=n.less=n.greater=n.equal=n.div=n.and=n.add=n.glslPRelu=n.glslPow=n.glslXor=n.glslOr=n.glslAnd=n.glslLess=n.glslGreater=n.glslEqual=n.glslSub=n.glslMul=n.glslDiv=n.glslAdd=void 0;const s=a(2517),l=a(8520),c=a(5060),f=a(2039);function p(){const B="add_";return{body:`
  float ${B}(float a, float b) {
    return a + b;
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:B,type:l.FunctionType.ValueBased}}function g(){const B="div_";return{body:`
  float ${B}(float a, float b) {
    return a / b;
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:B,type:l.FunctionType.ValueBased}}function y(){const B="mul_";return{body:`
  float ${B}(float a, float b) {
    return a * b;
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:B,type:l.FunctionType.ValueBased}}function b(){const B="sub_";return{body:`
  float ${B}(float a, float b) {
    return a - b;
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:B,type:l.FunctionType.ValueBased}}function h(){const B="equal_";return{body:`
  float ${B}(float a, float b) {
    return float(a == b);
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:B,type:l.FunctionType.ValueBased}}function d(){const B="greater_";return{body:`
  float ${B}(float a, float b) {
    return float(a > b);
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:B,type:l.FunctionType.ValueBased}}function v(){const B="less_";return{body:`
  float ${B}(float a, float b) {
    return float(a < b);
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:B,type:l.FunctionType.ValueBased}}function _(){const B="and_";return{body:`
  float ${B}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:B,type:l.FunctionType.ValueBased}}function A(){const B="or_";return{body:`
  float ${B}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:B,type:l.FunctionType.ValueBased}}function I(){const B="xor_";return{body:`
  float ${B}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:B,type:l.FunctionType.ValueBased}}function R(){return function(B){const F=`${B}_`;return{body:`
  float ${F}(float a, float b) {
    return ${B}(a, b);
  }
  vec4 ${F}(vec4 v1, vec4 v2) {
    return ${B}(v1, v2);
  }
  `,name:F,type:l.FunctionType.ValueBased}}("pow")}function P(){const B="prelu_";return{body:`
  float ${B}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${B}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:B,type:l.FunctionType.ValueBased}}n.glslAdd=p,n.glslDiv=g,n.glslMul=y,n.glslSub=b,n.glslEqual=h,n.glslGreater=d,n.glslLess=v,n.glslAnd=_,n.glslOr=A,n.glslXor=I,n.glslPow=R,n.glslPRelu=P;const $=(B,F,q,H=F[0].type,z)=>{const L=B.session.pack?f.TextureType.packed:f.TextureType.unpacked;return{name:q.name,inputNames:["A","B"],inputTypes:[L,L],cacheHint:z,get:()=>M(B,F,q,H)}},M=(B,F,q,H=F[0].type)=>{const z=B.session.pack?f.TextureType.packed:f.TextureType.unpacked,L=!s.ShapeUtil.areEqual(F[0].dims,F[1].dims);let ee=F[0].dims;const Z=B.session.pack;if(L){const Q=s.BroadcastUtil.calcShape(F[0].dims,F[1].dims,!1);if(!Q)throw new Error("Can't perform binary op on the given tensors");ee=Q;const G=ee.length,te=F[0].dims.length!==0?F[0].dims.length:1,ue=F[1].dims.length!==0?F[1].dims.length:1,fe=F[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",K=F[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",de=(0,c.getGlsl)(B.session.backend.glContext.version),we=Z?`
      ${q.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${q.name}(a, b);
        ${de.output} = result;
      }`:`
      ${q.body}
      float process(int indices[${G}]) {
        int aindices[${te}];
        int bindices[${ue}];
        ${fe}
        ${K}
        return ${q.name}(_A(aindices), _B(bindices));
      }`;return{name:q.name,inputNames:["A","B"],inputTypes:[z,z],output:{dims:ee,type:H,textureType:z},shaderSource:we,hasMain:Z}}const V=(0,c.getGlsl)(B.session.backend.glContext.version),X=`
    ${q.body}
    void main() {
      vec4 v1 = ${V.texture2D}(A, TexCoords);
      vec4 v2 = ${V.texture2D}(B, TexCoords);
      vec4 result = ${q.name}(v1, v2);
      ${V.output} = result;
    }
    `;return{name:q.name,inputNames:["A","B"],inputTypes:[z,z],output:{dims:F[0].dims,type:H,textureType:z},shaderSource:X,hasMain:!0}};n.add=(B,F)=>[B.run($(B,F,p()),F)],n.and=(B,F)=>[B.run($(B,F,_(),"bool"),F)],n.div=(B,F)=>[B.run($(B,F,g()),F)],n.equal=(B,F)=>[B.run($(B,F,h(),"bool"),F)],n.greater=(B,F)=>[B.run($(B,F,d(),"bool"),F)],n.less=(B,F)=>[B.run($(B,F,v(),"bool"),F)],n.mul=(B,F)=>[B.run($(B,F,y()),F)],n.or=(B,F)=>[B.run($(B,F,A(),"bool"),F)],n.pow=(B,F)=>[B.run($(B,F,R()),F)],n.pRelu=(B,F)=>[B.run($(B,F,P()),F)],n.sub=(B,F)=>[B.run($(B,F,b()),F)],n.xor=(B,F)=>[B.run($(B,F,I(),"bool"),F)]},4196:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseCastAttributes=n.cast=void 0;const s=a(2517);n.cast=(c,f,p)=>(l(f),[c.cast(f[0],p)]),n.parseCastAttributes=c=>s.ProtoUtil.tensorDataTypeFromProto(c.attributes.getInt("to"));const l=c=>{if(!c||c.length!==1)throw new Error("Cast requires 1 input.");if(c[0].type==="string")throw new Error("Invalid input type.")}},1163:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedConcatProgramInfoLoader=void 0;const s=a(5060),l=a(2039),c=a(9390),f=a(2827);n.createPackedConcatProgramInfoLoader=(g,y,b)=>{const h=(d=y.length,v=b.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:d},(_,A)=>`X${A}`),inputTypes:Array(d).fill(l.TextureType.packed),cacheHint:v});var d,v;return Object.assign(Object.assign({},h),{get:()=>((_,A,I,R)=>{const P=I[0].dims.slice();if(R>=P.length||R<-1*P.length)throw new Error("axis specified for concat doesn't match input dimensionality");R<0&&(R=P.length+R);const $=P.slice(0);for(let fe=1;fe<I.length;fe++){const K=I[fe].dims.slice();for(let de=0;de<P.length;de++)if(de===R)$[R]+=K[de];else if(P[de]!==K[de])throw new Error("non concat dimensions must match")}const M=$.length,B=(0,f.getChannels)("coords",M),F=(0,c.getCoordsDataType)(M),q=(0,f.unpackFromChannel)(),H=I.map(fe=>fe.dims),z=(0,c.getGlChannels)(M),L=new Array(H.length-1);L[0]=H[0][R];for(let fe=1;fe<L.length;fe++)L[fe]=L[fe-1]+H[fe][R];const ee=z[R],Z=z.slice(-2),V=z.join();let X=`if (${ee} < ${L[0]}) {
        return getChannel(
            getX0(${V}), vec2(${Z.join()}));
        }`;for(let fe=1;fe<L.length;fe++){const K=L[fe-1];X+=`
            if (${ee} < ${L[fe]}  && ${ee} >= ${L[fe-1]}) {
              return getChannel(
                getX${fe}(${p(z,ee,K)}),
                vec2(${p(Z,ee,K)}));
            }`}const Q=L.length,G=L[L.length-1];X+=`
            return getChannel(
              getX${Q}(${p(z,ee,G)}),
              vec2(${p(Z,ee,G)}));`;const te=(0,s.getGlsl)(_.session.backend.glContext.version),ue=`
          ${q}
          float getValue(${z.map(fe=>"int "+fe)}) {
            ${X}
          }

          void main() {
            ${F} coords = getOutputCoords();
            int lastDim = coords.${z[M-1]};
            coords.${z[M-1]} = coords.${z[M-2]};
            coords.${z[M-2]} = lastDim;

            vec4 result = vec4(getValue(${B}), 0., 0., 0.);

            ${B[M-1]} = ${B[M-1]} + 1;
            if (${B[M-1]} < ${$[M-1]}) {
              result.g = getValue(${B});
            }

            ${B[M-2]} = ${B[M-2]} + 1;
            if (${B[M-2]} < ${$[M-2]}) {
              result.a = getValue(${B});
            }

            ${B[M-1]} = ${B[M-1]} - 1;
            if (${B[M-2]} < ${$[M-2]} &&
                ${B[M-1]} < ${$[M-1]}) {
              result.b = getValue(${B});
            }
            ${te.output} = result;
          }
        `;return Object.assign(Object.assign({},A),{output:{dims:$,type:I[0].type,textureType:l.TextureType.packed},shaderSource:ue,hasMain:!0})})(g,h,y,b.axis)})};const p=(g,y,b)=>{const h=g.indexOf(y);return g.map((d,v)=>v===h?`${d} - ${b}`:d).join()}},2069:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConcatAttributes=n.concat=void 0;const s=a(246),l=a(2039),c=a(1163);n.concat=(d,v,_)=>(h(v),d.session.pack&&v[0].dims.length>1?[d.run((0,c.createPackedConcatProgramInfoLoader)(d,v,_),v)]:[d.run(f(d,v,_),v)]);const f=(d,v,_)=>{const A=(I=v.length,R=_.cacheKey,{name:"Concat",inputNames:Array.from({length:I},(P,$)=>`X${$}`),inputTypes:Array(I).fill(l.TextureType.unpacked),cacheHint:R});var I,R;return Object.assign(Object.assign({},A),{get:()=>((P,$,M,B)=>{const F=M[0].dims.slice();if(B>=F.length||B<-1*F.length)throw new Error("axis specified for concat doesn't match input dimensionality");B<0&&(B=F.length+B);const q=F.slice(0);for(let V=1;V<M.length;V++){const X=M[V].dims.slice();for(let Q=0;Q<F.length;Q++)if(Q===B)q[B]+=X[Q];else if(F[Q]!==X[Q])throw new Error("non concat dimensions must match")}const H=q.length,z=new Array(M.length);let L=0;for(let V=0;V<z.length;++V)L+=M[V].dims[B],z[V]=L;let ee="";ee=M.length<5?p(z):g(z);const Z=`
        ${y(M.length,H)}
        ${b(z)}
        ${ee}
        float process(int indices[${H}]) {
          int textureIndex = getTextureWhereDataResides (indices[${B}]);

          if(textureIndex != 0) {
            indices[${B}] = indices[${B}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},$),{output:{dims:q,type:M[0].type,textureType:l.TextureType.unpacked},shaderSource:Z})})(0,A,v,_.axis)})},p=d=>`int getTextureWhereDataResides(int index) {
      ${d.map((v,_)=>`if(index<${v}) {return ${_};}
`).join("")}
    }`,g=d=>p(d),y=(d,v)=>{const _=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${v}]) {`];for(let A=0;A<d;++A)A===0?_.push(`	if (textureIndex == ${A}) { return _X${A}(indices); }`):A===d-1?_.push(`	else { return _X${A}(indices); }`):_.push(`	else if (textureIndex == ${A}) { return _X${A}(indices); }`);return _.push("	}"),_.join(`
`)},b=d=>{const v=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let _=0;_<d.length;++_)_===0?v.push(`	if (index == ${_}) { return ${d[_]}; }`):_===d.length-1?v.push(`	else { return ${d[_]}; }`):v.push(`	else if (index == ${_}) { return ${d[_]}; }`);return v.push("	}"),v.join(`
`)};n.parseConcatAttributes=d=>(0,s.createAttributeWithCacheKey)({axis:d.attributes.getInt("axis")});const h=d=>{if(!d||d.length<1)throw new Error("too few inputs");const v=d[0].type,_=d[0].dims.length;if(v==="string")throw new Error("string tensor is not supported yet");for(const A of d){if(A.type!==v)throw new Error("input tensors should be one type");if(A.dims.length!==_)throw new Error("input tensors should have the same shape")}}},4770:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createUnpackedGroupedConvProgramInfoLoader=void 0;const s=a(6231),l=a(5060),c=a(2039),f=a(8138),p=a(2823);n.createUnpackedGroupedConvProgramInfoLoader=(g,y,b)=>{const h=(d=y.length>2,v=b.cacheKey,{name:"GroupedConv",inputNames:d?["X","W","Bias"]:["X","W"],inputTypes:d?[c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked]:[c.TextureType.unpacked,c.TextureType.unpacked],cacheHint:v});var d,v;return Object.assign(Object.assign({},h),{get:()=>((_,A,I,R)=>{const P=A.length>2?"value += getBias(output_channel);":"",$=A[0].dims.slice(),M=A[1].dims.slice(),B=M[0]/R.group;s.Logger.verbose("GroupedConv",`autpPad:${R.autoPad}, dilations:${R.dilations}, group:${R.group}, kernelShape:${R.kernelShape}, pads:${R.pads}, strides:${R.strides}`);const F=(0,f.calculateOutputShape)($,M,R.dilations,R.pads,R.strides),q=(0,l.getGlsl)(_.session.backend.glContext.version),{activationFunction:H,applyActivation:z}=(0,p.getActivationSnippet)(R),L=`
  const ivec2 strides = ivec2(${R.strides[0]}, ${R.strides[1]});
  const ivec2 pads = ivec2(${R.pads[0]}, ${R.pads[1]});
  ${H}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${B};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${M[1]}; wInChannel++) {
      int input_channel = group_id * ${M[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${M[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${R.dilations[0]};

        if (xHeight < 0 || xHeight >= ${$[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${M[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${R.dilations[1]};
          if (xWidth < 0 || xWidth >= ${$[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${P}
    ${z}
    ${q.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},I),{output:{dims:F,type:A[0].type,textureType:c.TextureType.unpacked},shaderSource:L,hasMain:!0})})(g,y,h,b)})}},1386:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.conv2DPacked=n.conv2DPackedPointwise=void 0;const s=a(8138),l=a(8555),c=a(708);n.conv2DPackedPointwise=(f,p,g)=>{const y=p[0].dims,b=p[1].dims,h=(0,s.calculateOutputShape)(y,b,g.dilations,g.pads,g.strides),d=f.reshapePacked(p[0],[y[1],y[2]*y[3]]),v=f.reshapePacked(p[1],[b[0],b[1]]),_=p.length>2?[v,d,p[2]]:[v,d],A=f.run((0,c.createPackedMatmulProgramInfoLoader)(f,_,g),_);return f.reshapePacked(A,h)},n.conv2DPacked=(f,p,g)=>{const y=p[0].dims,b=p[1].dims,h=(0,s.calculateOutputShape)(y,b,g.dilations,g.pads,g.strides),d=f.run((0,l.createPackedIm2ColProgramInfoLoader)(f,p[0],p[1],h,g),[p[0]]),v=f.reshapePacked(p[1],[b[0],b[1]*b[2]*b[3]]),_=p.length===3?[v,d,p[2]]:[v,d],A=f.run((0,c.createPackedMatmulProgramInfoLoader)(f,_,g),_);return f.reshapePacked(A,h)}},9663:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConvTransposeAttributes=n.convTranspose=void 0;const s=a(246),l=a(5060),c=a(2039),f=a(2823),p=(v,_,A,I,R,P)=>(v-1)*_+A+(I-1)*R+1-P,g=(v,_,A,I,R)=>{const P=Math.floor(v/2);_==="SAME_UPPER"?(A[I]=P,A[R]=v-P):_==="SAME_LOWER"&&(A[I]=v-P,A[R]=P)};n.convTranspose=(v,_,A)=>(d(_,A),y(v,_,A));const y=(v,_,A)=>{const I=h(A,_);return[b(v,_,I)]},b=(v,_,A)=>v.run(((I,R,P)=>{const $=(M=R.length>2,B=P.cacheKey,{name:"ConvTranspose",inputNames:M?["X","W","B"]:["X","W"],inputTypes:M?[c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked]:[c.TextureType.unpacked,c.TextureType.unpacked],cacheHint:B});var M,B;return Object.assign(Object.assign({},$),{get:()=>((F,q,H,z)=>{const L=q.length>2?"getB(output_channel)":"0.0",ee=q[0].dims,Z=q[1].dims,V=Z[1],X=Z[0]/z.group,Q=[q[0].dims[0],q[1].dims[1]*z.group,...z.outputShape],G=(0,l.getGlsl)(F.session.backend.glContext.version),{activationFunction:te,applyActivation:ue}=(0,f.getActivationSnippet)(z),fe=`
  const ivec2 strides = ivec2(${z.strides[0]}, ${z.strides[1]});
  const ivec2 pads = ivec2(${z.pads[0]}, ${z.pads[1]});
  ${te}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${V};
    int wOutChannel = output_channel - group_id * ${V};

    float value = ${L};
    for (int inChannelOffset = 0; inChannelOffset < ${X}; inChannelOffset++) {
      int input_channel = group_id * ${X} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Z[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Z[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${z.dilations[0]}, wHOff * ${z.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${ee[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${ee[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${ue}
    ${G.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},H),{output:{dims:Q,type:q[0].type,textureType:c.TextureType.unpacked},shaderSource:fe,hasMain:!0})})(I,R,$,P)})})(v,_,A),_),h=(v,_)=>{const A=v.kernelShape.slice();if(v.kernelShape.length===0)for(let $=2;$<_[1].dims.length;++$)A.push(_[1].dims[$]);const I=v.pads.slice(),R=v.outputShape.slice();(($,M,B,F,q,H,z,L)=>{const ee=$.length-2,Z=L.length===0;for(let V=0;V<ee;++V){const X=Z?$[V+2]*H[V]:L[V],Q=p($[V+2],H[V],q[V],M[V],B[V],X);g(Q,F,q,V,V+ee),Z&&L.push(H[V]*($[V+2]-1)+z[V]+(M[V]-1)*B[V]+1-q[V]-q[V+ee])}})(_[0].dims,A,v.dilations,v.autoPad,I,v.strides,v.outputPadding,R);const P=Object.assign({},v);return Object.assign(P,{kernelShape:A,pads:I,outputShape:R,cacheKey:v.cacheKey}),P};n.parseConvTransposeAttributes=v=>{const _=v.attributes,A=(0,f.parseInternalActivationAttributes)(_),I=_.getString("auto_pad","NOTSET"),R=_.getInts("dilations",[1,1]),P=_.getInt("group",1),$=_.getInts("kernel_shape",[]),M=_.getInts("output_padding",[0,0]),B=_.getInts("output_shape",[]),F=_.getInts("pads",[0,0,0,0]),q=_.getInts("strides",[1,1]);return(0,s.createAttributeWithCacheKey)(Object.assign({autoPad:I,dilations:R,group:P,kernelShape:$,outputPadding:M,outputShape:B,pads:F,strides:q},A))};const d=(v,_)=>{if(!v||v.length!==2&&v.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(v[0].dims.length!==4||v[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(v[0].dims[1]!==v[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const A=v[1].dims[1]*_.group;if(v.length===3&&(v[2].dims.length!==1||v[2].dims[0]!==A))throw new Error("invalid bias");const I=v[0].dims.length-2;if(_.dilations.length!==I)throw new Error(`dilations should be ${I}D`);if(_.strides.length!==I)throw new Error(`strides should be ${I}D`);if(_.pads.length!==2*I)throw new Error(`pads should be ${2*I}D`);if(_.outputPadding.length!==I)throw new Error(`output_padding should be ${I}D`);if(_.kernelShape.length!==0&&_.kernelShape.length!==v[1].dims.length-2)throw new Error("invalid kernel shape");if(_.outputShape.length!==0&&_.outputShape.length!==v[0].dims.length-2)throw new Error("invalid output shape");if(v[0].type!=="float32"||v[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(v.length===3&&v[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConvAttributes=n.conv=n.calculateOutputShape=void 0;const s=a(246),l=a(2517),c=a(4770),f=a(1386),p=a(9828),g=a(2823),y=a(3248),b=a(5623);n.calculateOutputShape=(I,R,P,$,M)=>{const B=I[0],F=I.slice(2),q=F.length,H=R[0],z=R.slice(2).map((ee,Z)=>ee+(ee-1)*(P[Z]-1)),L=F.map((ee,Z)=>ee+$[Z]+$[Z+q]).map((ee,Z)=>Math.floor((ee-z[Z]+M[Z])/M[Z]));return[B,H].concat(...L)},n.conv=(I,R,P)=>(A(R,P),h(I,R,P));const h=(I,R,P)=>{const $=_(P,R),M=I.session.pack,B=$.kernelShape[0]===1&&$.kernelShape[1]===1;return $.group>1?[I.run((0,c.createUnpackedGroupedConvProgramInfoLoader)(I,R,$),R)]:B&&M?[d(I,R,$)]:M&&R[0].dims.length===4&&R[0].dims[0]===1&&!B?[(0,f.conv2DPacked)(I,R,$)]:[v(I,R,$)]},d=(I,R,P)=>{const $=R[0].dims,M=R[1].dims,B=(0,n.calculateOutputShape)($,M,P.dilations,P.pads,P.strides),F=I.reshapeUnpacked(R[0],[$[1],$[2]*$[3]]),q=I.reshapeUnpacked(R[1],[M[0],M[1]]),H=R.length>2?[q,F,R[2]]:[q,F],z=I.run((0,b.createMatmulProgramInfoLoader)(H,P),H);return I.reshapeUnpacked(z,B)},v=(I,R,P)=>{const $=R[0].dims,M=R[1].dims,B=(0,n.calculateOutputShape)($,M,P.dilations,P.pads,P.strides),F=I.run((0,y.createIm2ColProgramInfoLoader)(I,R[0],R[1],B,P),[R[0]]),q=R.length===3?[F,R[1],R[2]]:[F,R[1]];return I.run((0,p.createDotProductProgramInfoLoader)(I,R,B,P),q)},_=(I,R)=>{const P=I.kernelShape.slice();if(I.kernelShape.length===0)for(let B=2;B<R[1].dims.length;++B)P.push(R[1].dims[B]);const $=I.pads.slice();l.PoolConvUtil.adjustPadsBasedOnAutoPad(R[0].dims,I.strides,I.dilations,P,$,I.autoPad);const M=Object.assign({},I);return Object.assign(M,{kernelShape:P,pads:$,cacheKey:I.cacheKey}),M};n.parseConvAttributes=I=>{const R=I.attributes,P=(0,g.parseInternalActivationAttributes)(R),$=R.getString("auto_pad","NOTSET"),M=R.getInts("dilations",[1,1]),B=R.getInt("group",1),F=R.getInts("kernel_shape",[]),q=R.getInts("pads",[0,0,0,0]),H=R.getInts("strides",[1,1]);return(0,s.createAttributeWithCacheKey)(Object.assign({autoPad:$,dilations:M,group:B,kernelShape:F,pads:q,strides:H},P))};const A=(I,R)=>{if(!I||I.length!==2&&I.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(I[0].dims.length!==4||I[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(I[0].dims[1]!==I[1].dims[1]*R.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(I.length===3&&(I[2].dims.length!==1||I[1].dims[0]!==I[2].dims[0]))throw new Error("invalid bias");const P=I[0].dims.length-2;if(R.dilations.length!==P)throw new Error(`dilations should be ${P}D`);if(R.strides.length!==P)throw new Error(`strides should be ${P}D`);if(R.pads.length!==2*P)throw new Error(`pads should be ${2*P}D`);if(R.kernelShape.length!==0&&R.kernelShape.length!==I[1].dims.length-2)throw new Error("invalid kernel shape");if(I[0].type!=="float32"||I[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(I.length===3&&I[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseDepthToSpaceAttributes=n.depthToSpace=void 0;const s=a(3738);n.depthToSpace=(c,f,p)=>{l(f);const g=p.blocksize,y=g*g,b=p.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],h=p.mode==="DCR"?[f[0].dims[0],g,g,f[0].dims[1]/y,f[0].dims[2],f[0].dims[3]]:[f[0].dims[0],f[0].dims[1]/y,g,g,f[0].dims[2],f[0].dims[3]],d=c.reshapeUnpacked(f[0],h),v={perm:b,cacheKey:`${b}`},[_]=(0,s.transpose)(c,[d],v),A=[f[0].dims[0],f[0].dims[1]/y,f[0].dims[2]*g,f[0].dims[3]*g];return[c.reshapeUnpacked(_,A)]},n.parseDepthToSpaceAttributes=c=>{const f=c.attributes.getInt("blocksize");if(f<1)throw new Error(`blocksize must be >= 1, but got : ${f} for DepthToSpace`);const p=c.attributes.getString("mode","DCR");if(p!=="DCR"&&p!=="CRD")throw new Error(`unrecognized mode: ${p} for DepthToSpace`);return{mode:p,blocksize:f}};const l=c=>{if(c.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${c.length}`);if(c[0].type==="string"||c[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDotProductProgramInfoLoader=void 0;const s=a(2517),l=a(5060),c=a(2039),f=a(2823),p=a(3248);n.createDotProductProgramInfoLoader=(g,y,b,h)=>{const d=((v,_)=>({name:"ConvDotProduct",inputNames:v?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:v?[c.TextureType.unpacked,c.TextureType.packedLastDimension,c.TextureType.unpacked]:[c.TextureType.unpacked,c.TextureType.packedLastDimension],cacheKey:_.activationCacheKey}))(y.length>2,h);return Object.assign(Object.assign({},d),{get:()=>((v,_,A,I,R)=>{const P=A[0].dims,$=A[1].dims,M=[$[0],Math.ceil(P[1]*$[2]*$[3]/4)],B=(0,p.calculateIm2ColDims)(P,$,I),[F,q]=v.calculateTextureWidthAndHeight(M,c.TextureType.packedLastDimension),H=s.ShapeUtil.computeStrides(B),[z,L]=v.calculateTextureWidthAndHeight(B,c.TextureType.packedLastDimension),ee=I.length,Z=A.length<3?"0.0":"_B(b)",V=Math.ceil(P[1]*$[2]*$[3]/4),{activationFunction:X,applyActivation:Q}=(0,f.getActivationSnippet)(R),G=(0,l.getGlsl)(v.session.backend.glContext.version),te=`
${X}
float process(int indices[${ee}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${H[0]} + im2col[1] * ${H[1]} + im2col[2] * ${H[2]};
  int kernelOffset = indices[1] * ${M[1]};
  float value = ${Z};
  for (int i = 0; i < ${V}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${z}, ${L});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${F}, ${q});
    value += dot(${G.texture2D}(Im2Col, im2colCoords), ${G.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${Q}
  return value;
}`;return Object.assign(Object.assign({},_),{output:{dims:I,type:A[0].type,textureType:c.TextureType.unpacked},shaderSource:te})})(g,d,y,b,h)})}},7992:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseFlattenAttributes=n.flatten=void 0;const s=a(2517);n.flatten=(c,f,p)=>{l(f,p);const g=s.ShapeUtil.flattenShape(f[0].dims,p);return[c.reshapeUnpacked(f[0],g)]},n.parseFlattenAttributes=c=>c.attributes.getInt("axis",1);const l=(c,f)=>{if(!c||c.length!==1)throw new Error("Flatten requires 1 input.");const p=c[0].dims.length;if(p===0)throw new Error("scalar tensor is not supported.");if(f<-p||f>p)throw new Error("Invalid axis");if(c[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseInternalActivationAttributes=n.getActivationSnippet=void 0;const s=a(2517),l=a(4909);n.getActivationSnippet=function(c){let f;switch(c.activation){case"Relu":f=(0,l.glslRelu)();break;case"Sigmoid":f=(0,l.glslSigmoid)();break;case"Clip":f=(0,l.glslClip)(c.clipMin,c.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const p=f.name;return{activationFunction:f.body,applyActivation:`value = ${p}_(value);`}},n.parseInternalActivationAttributes=c=>{const f=c.getString("activation","");if(f==="Clip"){const[p,g]=c.getFloats("activation_params",[s.MIN_CLIP,s.MAX_CLIP]);return{activation:f,clipMax:g,clipMin:p,activationCacheKey:`${f}:${p},${g}`}}return{activation:f,activationCacheKey:f}}},1253:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseGatherAttributes=n.gather=void 0;const s=a(246),l=a(782),c=a(2517),f=a(2039);n.gather=(b,h,d)=>(y(h,d.axis),[b.run(g(b,h,d),h)]),n.parseGatherAttributes=b=>(0,s.createAttributeWithCacheKey)({axis:b.attributes.getInt("axis",0)});const p={name:"Gather",inputNames:["A","B"],inputTypes:[f.TextureType.unpacked,f.TextureType.unpacked]},g=(b,h,d)=>{const v=Object.assign(Object.assign({},p),{cacheHint:d.cacheKey});return Object.assign(Object.assign({},v),{get:()=>((_,A,I,R)=>{const P=I[0].dims.slice(),$=I[1].dims.slice(),M=new Array(P.length+$.length-1);R=c.ShapeUtil.normalizeAxis(R,P.length);const B=[];for(let q=0;q<M.length;q++)q<R?(M[q]=P[q],B.push(`inputIdx[${q}] = outputIdx[${q}];`)):q<R+$.length?(M[q]=$[q-R],B.push(`indexDataIdx[${q-R}] = outputIdx[${q}];`)):(M[q]=P[q-$.length+1],B.push(`inputIdx[${q-$.length+1}] = outputIdx[${q}];`));const F=`
      float process(int outputIdx[${M.length||1}]) {
        int inputIdx[${P.length}];
        int indexDataIdx[${$.length||1}];
        indexDataIdx[0] = 0;
        ${B.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${R}] = idx < 0 ? idx + ${P[R]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},A),{output:{dims:M,type:I[0].type,textureType:f.TextureType.unpacked},shaderSource:F})})(0,v,h,d.axis)})},y=(b,h)=>{if(!b||b.length!==2)throw new Error("Gather requires 2 inputs.");const d=b[0].dims.length;if(d<1)throw new Error("Invalid input shape.");if(h<-d||h>d-1)throw new Error("Invalid axis.");if(l.NUMBER_TYPES.indexOf(b[0].type)===-1)throw new Error("Invaid input type.");if(b[1].type!=="int32"&&b[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseGemmAttributesV11=n.parseGemmAttributesV7=n.gemm=void 0;const s=a(246),l=a(2517),c=a(2039);n.gemm=(b,h,d)=>(y(h,d),[b.run(p(h,d),h)]);const f=(b,h)=>{const d=b.attributes.getInt("transA",0)!==0,v=b.attributes.getInt("transB",0)!==0,_=b.attributes.getFloat("alpha",1),A=b.attributes.getFloat("beta",1);return(0,s.createAttributeWithCacheKey)({transA:d,transB:v,alpha:_,beta:A,isOptionalC:h})};n.parseGemmAttributesV7=b=>f(b,!1),n.parseGemmAttributesV11=b=>f(b,!0);const p=(b,h)=>{const d={name:"Gemm",inputNames:b.length===3?["A","B","C"]:["A","B"],inputTypes:b.length===3?[c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked]:[c.TextureType.unpacked,c.TextureType.unpacked],key:h.cacheKey};return Object.assign(Object.assign({},d),{get:()=>g(d,b,h)})},g=(b,h,d)=>{const v=h[0].dims.slice(),_=h[1].dims.slice(),[A,I]=l.GemmUtil.getShapeOfGemmResult(v,d.transA,_,d.transB,h.length===3?h[2].dims:void 0),R=[A,I];if(!R)throw new Error("Can't use gemm on the given tensors");let P=v[v.length-1],$="";d.transA&&(P=v[0]),d.transA&&d.transB?$="value += _A_T(a) * _B_T(b);":d.transA&&!d.transB?$="value += _A_T(a) * _B(b);":!d.transA&&d.transB?$="value += _A(a) * _B_T(b);":d.transA||d.transB||($="value += _A(a) * _B(b);");const M=R.length,B=`
      float process(int indices[${M}]) {
          int a[${M}];
          int b[${M}];
          ${h.length===3?`int c[${h[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${h.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${P}; ++k) {
              a[${M-1}] = k;
              b[${M-2}] = k;
              ${$}
          }

          value = value * alpha;
          ${h.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},b),{output:{dims:R,type:h[0].type,textureType:c.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:d.alpha},{name:"beta",type:"float",data:d.beta}],shaderSource:B})},y=(b,h)=>{if(!b)throw new Error("Input is missing");if(h.isOptionalC&&(b.length<2||b.length>3))throw new Error("Invaid input shape.");if(!h.isOptionalC&&b.length!==3)throw new Error("Gemm requires 3 inputs");if(b.length===3&&b[2].dims.length!==1&&b[2].dims.length!==2)throw new Error("Invalid input shape of C");if(b[0].type!=="float32"&&b[0].type!=="float64"||b[1].type!=="float32"&&b[1].type!=="float64"||b.length===3&&b[2].type!=="float32"&&b[2].type!=="float64")throw new Error("Invalid input type.");if(b[0].type!==b[1].type||b.length===3&&b[0].type!==b[2].type)throw new Error("Input types are mismatched")}},8555:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedIm2ColProgramInfoLoader=void 0;const s=a(5060),l=a(2039),c=a(2827);n.createPackedIm2ColProgramInfoLoader=(f,p,g,y,b)=>{const h=(d=b.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[l.TextureType.packed],cacheHint:d});var d;return Object.assign(Object.assign({},h),{get:()=>((v,_,A,I,R,P)=>{const $=A.dims,M=I.dims,B=R.length,F=[M[1]*M[2]*M[3],R[2]*R[3]],q=M[2]*M[3],H=(0,c.unpackFromChannel)(),z=(0,s.getGlsl)(v.session.backend.glContext.version);let L="";for(let Z=0;Z<=1;Z++)for(let V=0;V<=1;V++)L+=`
            blockIndex = rc.x + ${V};
            pos = rc.y + ${Z};

            if(blockIndex < ${F[1]} && pos < ${F[0]}) {
              offsetY = int(blockIndex / (${R[B-1]})) * ${P.strides[0]} -
                ${P.pads[0]};
              d0 = offsetY + ${P.dilations[0]} * (imod(pos, ${q}) / ${M[2]});

              if(d0 < ${$[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${R[B-1]}) * ${P.strides[1]} -
                  ${P.pads[1]};
                d1 = offsetX + ${P.dilations[1]} * imod(imod(pos, ${q}), ${M[2]});

                if(d1 < ${$[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${q}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Z+V}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const ee=`
      ${H}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${L}
          ${z.output} = result;
      }
            `;return Object.assign(Object.assign({},_),{output:{dims:F,type:A.type,textureType:l.TextureType.packed},shaderSource:ee,hasMain:!0})})(f,h,p,g,y,b)})}},3248:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.calculateIm2ColDims=n.createIm2ColProgramInfoLoader=void 0;const s=a(2039);n.createIm2ColProgramInfoLoader=(l,c,f,p,g)=>{const y=(b=g.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[s.TextureType.unpacked],cacheHint:b});var b;return Object.assign(Object.assign({},y),{get:()=>((h,d,v,_,A,I)=>{const R=v.dims,P=_.dims,$=A.length,M=(0,n.calculateIm2ColDims)(R,P,A,4),B=`
        const int XC = ${R[1]};
        const int XH = ${R[2]};
        const int XW = ${R[3]};
        const int KH = ${I.kernelShape[0]};
        const int KW = ${I.kernelShape[1]};
        const int dilationH = ${I.dilations[0]};
        const int dilationW = ${I.dilations[1]};
        const int strideH = ${I.strides[0]};
        const int strideW = ${I.strides[1]};
        const int padH = ${I.pads[0]};
        const int padW = ${I.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${$}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${R.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},d),{output:{dims:M,type:v.type,textureType:s.TextureType.packedLastDimension},shaderSource:B})})(0,y,c,f,p,g)})},n.calculateIm2ColDims=(l,c,f,p=4)=>[f[0],f[2],f[3],Math.ceil(l[1]*c[2]*c[3]/p)]},6572:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseImageScalerAttributes=n.imageScaler=void 0;const s=a(246),l=a(2039);n.imageScaler=(y,b,h)=>(g(b),[y.run(f(y,b,h),b)]),n.parseImageScalerAttributes=y=>{const b=y.attributes.getFloat("scale"),h=y.attributes.getFloats("bias");return(0,s.createAttributeWithCacheKey)({scale:b,bias:h})};const c={name:"ImageScaler",inputNames:["X"],inputTypes:[l.TextureType.unpacked]},f=(y,b,h)=>{const d=Object.assign(Object.assign({},c),{cacheHint:h.cacheKey});return Object.assign(Object.assign({},d),{get:()=>((v,_,A,I)=>{const R=A[0].dims.slice(),P=R.length,$=`
      ${p(I.bias.length)}
      float process(int indices[${P}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},_),{output:{dims:R,type:A[0].type,textureType:l.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:I.bias.length,data:I.bias},{name:"scale",type:"float",data:I.scale}],shaderSource:$})})(0,d,b,h)})},p=y=>{const b=[`float getBias(float bias[${y}], int channel) {`];for(let h=0;h<y;++h)h===0?b.push(`	if (channel == ${h}) { return bias[${h}]; }`):h===y-1?b.push(`	else { return bias[${h}]; }`):b.push(`	else if (channel == ${h}) { return bias[${h}]; }`);return b.push("	}"),b.join(`
`)},g=y=>{if(!y||y.length!==1)throw new Error("ImageScaler requires 1 input.");if(y[0].dims.length!==4)throw new Error("Invalid input shape.");if(y[0].type!=="float32"&&y[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseInstanceNormalizationAttributes=n.instanceNormalization=void 0;const s=a(5060),l=a(2039);n.instanceNormalization=(b,h,d)=>{y(h);const v=b.run(f(h[0]),h);return[b.run(g(b,h[0],d,v.dims),[h[0],v,h[1],h[2]])]},n.parseInstanceNormalizationAttributes=b=>b.attributes.getFloat("epsilon",1e-5);const c={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[l.TextureType.unpacked]},f=b=>Object.assign(Object.assign({},c),{get:()=>((h,d)=>{const v=d.dims.slice(),_=v[1],A=v[2]*v[3],I=[v[0],_],R=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${v[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${v[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${A});
        temp = 0.0;
        for(int a2=0; a2<${v[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${v[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${A});

        return v;
      }`;return Object.assign(Object.assign({},h),{output:{dims:I,type:d.type,textureType:l.TextureType.packedLastDimension},shaderSource:R})})(c,b)}),p={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[l.TextureType.unpacked,l.TextureType.packedLastDimension,l.TextureType.unpacked,l.TextureType.unpacked]},g=(b,h,d,v)=>{const _=Object.assign(Object.assign({},p),{cacheHint:`${d}`});return Object.assign(Object.assign({},_),{get:()=>((A,I,R,P,$)=>{const M=(0,s.getGlsl)(A.session.backend.glContext.version),[B,F]=A.calculateTextureWidthAndHeight($,l.TextureType.packedLastDimension),[q,H]=[B/4,F],z=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${q}, ${H});
        return ${M.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},I),{output:{dims:R.dims,type:R.type,textureType:l.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:P}],shaderSource:z})})(b,_,h,d,v)})},y=b=>{if(!b||b.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const h=b[0],d=b[1],v=b[2];if(h.dims.length<3||d.dims.length!==1||v.dims.length!==1)throw new Error("Invalid input shape.");if(d.dims[0]!==h.dims[1]||v.dims[0]!==h.dims[1])throw new Error("Input shapes are mismatched.");if(h.type!=="float32"&&h.type!=="float64"||d.type!=="float32"&&d.type!=="float64"||v.type!=="float32"&&v.type!=="float64")throw new Error("Invalid input type.");if(b[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedMatmulProgramInfoLoader=void 0;const s=a(2517),l=a(5060),c=a(2039),f=a(9390),p=a(2823),g=a(5623);n.createPackedMatmulProgramInfoLoader=(y,b,h)=>{const d=(v=b.length>2,_=h.activationCacheKey,{name:"MatMul (packed)",inputNames:v?["A","B","Bias"]:["A","B"],inputTypes:v?[c.TextureType.packed,c.TextureType.packed,c.TextureType.packed]:[c.TextureType.packed,c.TextureType.packed],cacheHint:_});var v,_;return Object.assign(Object.assign({},d),{get:()=>((A,I,R,P)=>{const $=R.length>2,M=$?"value += getBiasForMatmul();":"",B=R[0].dims,F=R[1].dims,q=s.BroadcastUtil.calcShape(B,F,!0),H=!s.ShapeUtil.areEqual(R[0].dims,R[1].dims);if(!q)throw new Error("Can't use matmul on the given tensors");const z=B[B.length-1],L=Math.ceil(z/2),ee=B.length,Z=F.length,V=(0,l.getGlsl)(A.session.backend.glContext.version),X=(0,f.getCoordsDataType)(q.length),Q=q.length,G=(0,f.getGlChannels)(),{activationFunction:te,applyActivation:ue}=(0,p.getActivationSnippet)(P),fe=$?`${(0,g.getBiasForMatmul)(X,G,R[2].dims,q,!0)}`:"",K=H?`${function(Ne,Ie,Le,ut){let mt=[],vt=[];const it=Le[0].dims,pt=Le[1].dims,xt=it.length,kt=pt.length,_t=ut.length,Nt=_t-xt,Vt=_t-kt;mt=it.map((St,Lt)=>`coords.${Ie[Lt+Nt]}`),mt[xt-1]="i*2",mt.join(", "),vt=pt.map((St,Lt)=>`coords.${Ie[Lt+Vt]}`),vt[kt-2]="i*2",vt.join(", ");const Mt=s.BroadcastUtil.getBroadcastDims(it,ut),$t=s.BroadcastUtil.getBroadcastDims(pt,ut),Ht=Mt.map(St=>`coords.${Ie[St+Nt]} = 0;`).join(`
`),Bt=$t.map(St=>`coords.${Ie[St+Vt]} = 0;`).join(`
`),Ut=`int lastDim = coords.${Ie[_t-1]};
  coords.${Ie[_t-1]} = coords.${Ie[_t-2]};
  coords.${Ie[_t-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Ne} coords = getOutputCoords();
  ${Ut}
  ${Ht}
  vec4 outputValue = getA(${mt});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Ne} coords = getOutputCoords();
  ${Ut}
  ${Bt}
  vec4 outputValue = getB(${vt});
  return outputValue;
}`}(X,G,R,q)}`:"",de=H?"getAAtOutCoordsMatmul(i)":`getA(${function(Ne,Ie){let Le="";for(let ut=0;ut<Ie-2;ut++)Le+=`rc.${Ne[ut]}, `;return Le+=`rc.${Ne[Ie-2]}, i*2`,Le}(G,ee)})`,we=H?"getBAtOutCoordsMatmul(i)":`getB(${function(Ne,Ie){let Le="";for(let ut=0;ut<Ie-2;ut++)Le+=`rc.${Ne[ut]}, `;return Le+=`i*2, rc.${Ne[Ie-1]}`,Le}(G,Z)})`,oe=`
            ${K}
            ${fe}
            ${te}
            void main() {
              ${H?"":`${X} rc =
          getOutputCoords(); int lastDim = rc.${G[Q-1]}; rc.${G[Q-1]} =
          rc.${G[Q-2]}; rc.${G[Q-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${L}; i++) {
                vec4 a = ${de};
                vec4 b = ${we};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${M}
              ${ue}
              ${V.output} = value;
            }`;return Object.assign(Object.assign({},I),{output:{dims:q,type:R[0].type,textureType:c.TextureType.packed},shaderSource:oe,hasMain:!0})})(y,d,b,h)})}},5623:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getBiasForMatmul=n.createMatmulProgramInfoLoader=n.parseMatMulAttributes=n.matMul=void 0;const s=a(2517),l=a(2039),c=a(9390),f=a(2823),p=a(708);function g(h,d){const v=(_=h.length>2,A=d.activationCacheKey,{name:"MatMul",inputNames:_?["A","B","Bias"]:["A","B"],inputTypes:_?[l.TextureType.unpacked,l.TextureType.unpacked,l.TextureType.unpacked]:[l.TextureType.unpacked,l.TextureType.unpacked],cacheHint:A});var _,A;return Object.assign(Object.assign({},v),{get:()=>function(I,R,P){const $=R[0].dims,M=R[1].dims,B=s.BroadcastUtil.calcShape($,M,!0);if(!B)throw new Error("Can't use matmul on the given tensors");const F=(0,c.getCoordsDataType)(B.length),q=(0,c.getGlChannels)(),{activationFunction:H,applyActivation:z}=(0,f.getActivationSnippet)(P),L=R.length>2,ee=L?"value += getBiasForMatmul();":"",Z=L?`${b(F,q,R[2].dims,B,!1)}`:"",V=B.length,X=$.length,Q=M.length,G=`
    ${H}
    ${Z}
    float process(int indices[${V}]) {
        int a[${X}];
        int b[${Q}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${$[$.length-1]}; ++k) {
            a[${X-1}] = k;
            b[${Q-2}] = k;
            value += _A(a) * _B(b);
        }
        ${ee}
        ${z}
        return value;
    }`;return Object.assign(Object.assign({},I),{output:{dims:B,type:R[0].type,textureType:l.TextureType.unpacked},shaderSource:G})}(v,h,d)})}n.matMul=(h,d,v)=>(y(d),h.session.pack?[h.run((0,p.createPackedMatmulProgramInfoLoader)(h,d,v),d)]:[h.run(g(d,v),d)]),n.parseMatMulAttributes=h=>(0,f.parseInternalActivationAttributes)(h.attributes),n.createMatmulProgramInfoLoader=g;const y=h=>{if(!h||h.length!==2)throw new Error("MatMul requires 2 inputs.");if(h[0].dims[h[0].dims.length-1]!==h[1].dims[h[1].dims.length-2])throw new Error("shared dimension does not match.");if(h[0].type!=="float32"&&h[0].type!=="float64"||h[1].type!=="float32"&&h[1].type!=="float64")throw new Error("inputs should be float type");if(h[0].type!==h[1].type)throw new Error("inputs types should match")};function b(h,d,v,_,A){let I="";const R=v.length,P=_.length,$=P-R;I=P<2&&R>0?"coords":v.map((F,q)=>`coords.${d[q+$]}`).join(", ");const M=s.BroadcastUtil.getBroadcastDims(v,_).map(F=>`coords.${d[F+$]} = 0;`).join(`
`);let B="vec4(outputValue.xx, outputValue.yy)";return s.ShapeUtil.size(v)===1&&(B="vec4(outputValue.x)"),A?`
vec4 getBiasForMatmul() {
  ${h} coords = getOutputCoords();
  ${M}
  vec4 outputValue = getBias(${I});
  return ${B};
}`:`
float getBiasForMatmul() {
  ${h} coords = getOutputCoords();
  ${M}
  return getBias(coords.x);
}`}n.getBiasForMatmul=b},2403:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackProgramInfoLoader=void 0;const s=a(5060),l=a(2039),c=a(9390),f=a(2827),p={name:"pack",inputNames:["A"],inputTypes:[l.TextureType.unpackedReversed]};n.createPackProgramInfoLoader=(g,y)=>Object.assign(Object.assign({},p),{get:()=>((b,h)=>{const d=(0,s.getGlsl)(b.session.backend.glContext.version),v=h.dims,_=v.length,A=h.dims.length,I=(0,c.getCoordsDataType)(A),R=(0,f.getChannels)("rc",A),P=($=A,M=R,B=v[v.length-2],F=v[v.length-1],$===0||$===1?"":`
    int r = ${M[$-2]};
    int c = ${M[$-1]};
    int rp1 = ${M[$-2]} + 1;
    int cp1 = ${M[$-1]} + 1;
    bool rEdge = rp1 >= ${F};
    bool cEdge = cp1 >= ${B};
    `);var $,M,B,F;let q;q=_===0?[1,1]:_===1?[v[0],1]:[v[A-1],v[A-2]];const H=function(ee,Z,V){if(ee===0)return"false";if(ee===1)return`rc > ${Z[0]}`;let X="";for(let Q=ee-2;Q<ee;Q++)X+=`${V[Q]} >= ${Z[Q-ee+2]}`,Q<ee-1&&(X+="||");return X}(A,q,R),z=function(ee,Z){const V=ee.length;if(V===0)return"getA(), 0, 0, 0";if(V===1)return`getA(rc),
            rc + 1 >= ${ee[0]} ? 0. : getA(rc + 1),
            0, 0`;let X="";if(V>2)for(let Q=0;Q<V-2;++Q)X+=`${Z[Q]},`;return`getA(${X}r, c),
          rEdge ? 0. : getA(${X}rp1, c),
          cEdge ? 0. : getA(${X}r, cp1),
          rEdge || cEdge ? 0. : getA(${X}rp1, cp1)`}(v,R),L=`
        void main() {
          ${I} rc = getOutputCoords();

          if(${H}) {
            ${d.output} = vec4(0);
          } else {
            ${P}

            ${d.output} = vec4(${z});
          }
        }
      `;return Object.assign(Object.assign({},p),{hasMain:!0,output:{dims:h.dims,type:h.type,textureType:l.TextureType.packed},shaderSource:L})})(g,y)})},2827:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.unpackFromChannel=n.getChannels=n.getVecChannels=void 0;const s=a(9390);function l(c,f){return(0,s.getGlChannels)(f).map(p=>`${c}.${p}`)}n.getVecChannels=l,n.getChannels=function(c,f){return f===1?[c]:l(c,f)},n.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parsePadAttributesV11=n.padV11=n.parsePadAttributesV2=n.padV2=void 0;const s=a(246),l=a(2517),c=a(5060),f=a(2039),p={name:"Pad",inputNames:["A"],inputTypes:[f.TextureType.unpacked]};n.padV2=(I,R,P)=>(b(R),[I.run(Object.assign(Object.assign({},p),{cacheHint:P.cacheKey,get:()=>y(I,R[0],P)}),R)]),n.parsePadAttributesV2=I=>{const R=I.attributes.getString("mode","constant"),P=I.attributes.getFloat("value",0),$=I.attributes.getInts("pads");return(0,s.createAttributeWithCacheKey)({mode:R,value:P,pads:$})},n.padV11=(I,R,P)=>{h(R);const $=g(I,R,P);return(0,n.padV2)(I,[R[0]],$)},n.parsePadAttributesV11=I=>I.attributes.getString("mode","constant");const g=(I,R,P)=>{if(!I.session.isInitializer(R[1].dataId)||R.length>=3&&!I.session.isInitializer(R[2].dataId))throw new Error("dynamic pad attributes are not allowed");const $=Array.from(R[1].integerData),M=R.length>=3?R[2].floatData[0]:0;return(0,s.createAttributeWithCacheKey)({mode:P,pads:$,value:M})},y=(I,R,P)=>{const $=l.ShapeUtil.padShape(R.dims.slice(),P.pads),M=$.length,B=`
      ${d(I,R,P)}
      float process(int[${M}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[f.TextureType.unpacked],output:{dims:$,type:R.type,textureType:f.TextureType.unpacked},shaderSource:B}},b=I=>{if(!I||I.length!==1)throw new Error("Pad requires 1 input");if(I[0].type!=="float32"&&I[0].type!=="float64")throw new Error("Invalid input type.")},h=I=>{if(!I||I.length!==2&&I.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(I[1].type!=="int32")throw new Error("Invalid input type.");if(I.length>=3&&I[2].type==="string")throw new Error("Invalid input type.")},d=(I,R,P)=>{const $=(0,c.getGlsl)(I.session.backend.glContext.version),[M,B]=I.calculateTextureWidthAndHeight(R.dims,f.TextureType.unpacked),F=l.ShapeUtil.computeStrides(R.dims);switch(P.mode){case"constant":return v($,R.dims,F,M,B,P.pads,P.value);case"reflect":return _($,R.dims,F,M,B,P.pads);case"edge":return A($,R.dims,F,M,B,P.pads);default:throw new Error("Invalid mode")}},v=(I,R,P,$,M,B,F)=>{const q=R.length;let H="";for(let z=q-1;z>=0;--z)H+=`
        k = m[${z}] - ${B[z]};
        if (k < 0)  return constant;
        if (k >= ${R[z]}) return constant;
        offset += k * ${P[z]};
        `;return`
      float padA(int m[${q}]) {
        const float constant = float(${F});
        int offset = 0;
        int k = 0;
        ${H}
        vec2 coords = offsetToCoords(offset, ${$}, ${M});
        float value = getColorAsFloat(${I.texture2D}(A, coords));
        return value;
      }
      `},_=(I,R,P,$,M,B)=>{const F=R.length;let q="";for(let H=F-1;H>=0;--H)q+=`
        k = m[${H}] - ${B[H]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(R[H]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${R[H]}) { k = _2n_1 - k; }
        }
        offset += k * ${P[H]};
        `;return`
      float padA(int m[${F}]) {
        int offset = 0;
        int k = 0;
        ${q}
        vec2 coords = offsetToCoords(offset, ${$}, ${M});
        float value = getColorAsFloat(${I.texture2D}(A, coords));
        return value;
      }
      `},A=(I,R,P,$,M,B)=>{const F=R.length;let q="";for(let H=F-1;H>=0;--H)q+=`
        k = m[${H}] - ${B[H]};
        if (k < 0)  k = 0;
        if (k >= ${R[H]}) k = ${R[H]-1};
        offset += k * ${P[H]};
      `;return`
      float padA(int m[${F}]) {
        int offset = 0;
        int k = 0;
        ${q}
        vec2 coords = offsetToCoords(offset, ${$}, ${M});
        float value = getColorAsFloat(${I.texture2D}(A, coords));
        return value;
      }
      `}},2143:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.globalMaxPool=n.parseMaxPoolAttributes=n.maxPool=n.parseGlobalAveragePoolAttributes=n.globalAveragePool=n.parseAveragePoolAttributes=n.averagePool=void 0;const s=a(246),l=a(2517),c=a(2039);n.averagePool=(A,I,R)=>{h(I);const P={name:"AveragePool",inputNames:["X"],inputTypes:[c.TextureType.unpacked],cacheHint:R.cacheKey};return[A.run(Object.assign(Object.assign({},P),{get:()=>f(I,P,!1,R)}),I)]},n.parseAveragePoolAttributes=A=>{const I=A.attributes.getString("auto_pad","NOTSET"),R=A.attributes.getInt("ceil_mode",0),P=A.attributes.getInt("count_include_pad",0)!==0,$=A.attributes.getInts("kernel_shape"),M=A.attributes.getInts("strides",[]),B=A.attributes.getInts("pads",[]);if(R!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,s.createAttributeWithCacheKey)({autoPad:I,ceilMode:R,countIncludePad:P,kernelShape:$,strides:M,pads:B})};const f=(A,I,R,P)=>{const[$,M]=g(A,P,R),B=l.ShapeUtil.size($.kernelShape);let F="";$.countIncludePad?F+=`value /= float(${B});`:F+=`value /= float(${B} - pad);`;const q=`
        ${d(A[0].dims,$,"value += _X(x);",F,"0.0")}
      `;return Object.assign(Object.assign({},I),{output:{dims:M,type:A[0].type,textureType:c.TextureType.unpacked},shaderSource:q})};n.globalAveragePool=(A,I,R)=>{h(I);const P={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[c.TextureType.unpacked],cacheHint:`${R.countIncludePad}`};return[A.run(Object.assign(Object.assign({},P),{get:()=>f(I,P,!0,R)}),I)]},n.parseGlobalAveragePoolAttributes=A=>{const I=A.attributes.getInt("count_include_pad",0)!==0;return(0,s.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:I,kernelShape:[],strides:[],pads:[]})},n.maxPool=(A,I,R)=>{h(I);const P={name:"MaxPool",inputNames:["X"],inputTypes:[c.TextureType.unpacked],cacheHint:R.cacheKey};return[A.run(Object.assign(Object.assign({},P),{get:()=>p(I,P,!1,R)}),I)]},n.parseMaxPoolAttributes=A=>{const I=A.attributes.getString("auto_pad","NOTSET"),R=A.attributes.getInt("ceil_mode",0),P=A.attributes.getInts("kernel_shape"),$=A.attributes.getInts("strides",[]),M=A.attributes.getInts("pads",[]),B=A.attributes.getInt("storage_order",0),F=A.attributes.getInts("dilations",[]);if(B!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(R!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,s.createAttributeWithCacheKey)({autoPad:I,ceilMode:R,countIncludePad:!1,kernelShape:P,strides:$,pads:M,storageOrder:B,dilations:F})};const p=(A,I,R,P)=>{const[$,M]=g(A,P,R),B=`
      ${d(A[0].dims,$,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},I),{output:{dims:M,type:A[0].type,textureType:c.TextureType.unpacked},shaderSource:B})},g=(A,I,R)=>{const P=A[0].dims.slice(),$=Object.hasOwnProperty.call(I,"dilations"),M=I.kernelShape.slice(),B=I.strides.slice(),F=$?I.dilations.slice():[],q=I.pads.slice();l.PoolConvUtil.adjustPoolAttributes(R,P,M,B,F,q);const H=l.PoolConvUtil.computePoolOutputShape(R,P,B,F,M,q,I.autoPad),z=Object.assign({},I);return $?Object.assign(z,{kernelShape:M,strides:B,pads:q,dilations:F,cacheKey:I.cacheKey}):Object.assign(z,{kernelShape:M,strides:B,pads:q,cacheKey:I.cacheKey}),[z,H]},y={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},b={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[c.TextureType.unpacked]};n.globalMaxPool=(A,I)=>(h(I),[A.run(Object.assign(Object.assign({},b),{get:()=>p(I,b,!0,y)}),I)]);const h=A=>{if(!A||A.length!==1)throw new Error("Pool ops requires 1 input.");if(A[0].type!=="float32"&&A[0].type!=="float64")throw new Error("Invalid input type.")},d=(A,I,R,P,$)=>{const M=A.length;if(I.kernelShape.length<=2){const B=I.kernelShape[I.kernelShape.length-1],F=I.strides[I.strides.length-1],q=I.pads[I.pads.length/2-1],H=I.pads[I.pads.length-1],z=A[M-1];let L="",ee="",Z="";if(L=q+H!==0?`
          for (int i = 0; i < ${B}; i++) {
            x[${M} - 1] = indices[${M} - 1] * ${F} - ${q} + i;
            if (x[${M} - 1] < 0 || x[${M} - 1] >= ${z}) {
              pad++;
              continue;
            }
            ${R}
          }`:`
          for (int i = 0; i < ${B}; i++) {
            x[${M} - 1] = indices[${M} - 1] * ${F} - ${q} + i;
            ${R}
          }`,I.kernelShape.length===2){const V=I.kernelShape[I.kernelShape.length-2],X=I.strides[I.strides.length-2],Q=I.pads[I.pads.length/2-2],G=I.pads[I.pads.length-2],te=A[M-2];ee=Q+G!==0?`
            for (int j = 0; j < ${V}; j++) {
              x[${M} - 2] = indices[${M} - 2] * ${X} - ${Q} + j;
              if (x[${M} - 2] < 0 || x[${M} - 2] >= ${te}) {
                pad+= ${B};
                continue;
              }
          `:`
            for (int j = 0; j < ${V}; j++) {
              x[${M} - 2] = indices[${M} - 2] * ${X} - ${Q} + j;
            `,Z=`
          }
        `}return`
        float process(int indices[${M}]) {
          int x[${M}];
          copyVec(indices, x);

          float value = ${$};
          int pad = 0;
          ${ee}
          ${L}
          ${Z}
          ${P}
          return value;
        }
      `}{const B=l.ShapeUtil.size(I.kernelShape),F=l.ShapeUtil.computeStrides(I.kernelShape),q=F.length,H=I.pads.length,z=_(q),L=v(A,"inputDims"),ee=v(I.pads,"pads"),Z=v(F,"kernelStrides"),V=v(I.strides,"strides");let X="";return X=I.pads.reduce((Q,G)=>Q+G)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${R}
          }`:`
          }
          ${R}
        `,`
        ${z}
        float process(int indices[${M}]) {
          int x[${M}];
          copyVec(indices, x);
          int offset[${q}];
          int pads[${H}];
          int inputDims[${M}];
          int kernelStrides[${q}];
          int strides[${q}];
          ${ee}
          ${L}
          ${V}
          ${Z}

          float value = ${$};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${B}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${M} - ${q}; j < ${M}; j++) {
              x[j] = indices[j] * strides[j - ${M} + ${q}]
                + offset[j - ${M} + ${q}] - pads[j - 2];
              ${X}
          }
          ${P}

          return value;
        }
      `}},v=(A,I)=>{let R="";for(let P=0;P<A.length;P++)R+=`
      ${I}[${P}] = ${A[P]};
    `;return R},_=A=>`
  void offsetToIndices(int offset, int[${A}] strides, out int[${A}] indices) {
    if (${A} == 0) {
      return;
    }
    for (int i = 0; i < ${A} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${A} - 1] = offset;
  }`},4939:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.reduceLogSumSquare=n.reduceLogSum=n.reduceProd=n.reduceMin=n.reduceMax=n.reduceMean=n.reduceSum=n.parseReduceAttributes=void 0;const s=a(246),l=a(782),c=a(2517),f=a(2039),p=(b,h,d,v,_)=>{y(h);const A={name:v,inputNames:["A"],inputTypes:[f.TextureType.unpacked]};return[b.run(Object.assign(Object.assign({},A),{cacheHint:d.cacheKey,get:()=>g(b,h,d,v,_,A)}),h)]};n.parseReduceAttributes=b=>{const h=b.attributes.getInts("axes",[]),d=b.attributes.getInt("keepdims",1)===1;return(0,s.createAttributeWithCacheKey)({axes:h,keepDims:d})};const g=(b,h,d,v,_,A)=>{const I=[],R=h[0].dims.length||1,P=[],$=c.ShapeUtil.normalizeAxes(d.axes,h[0].dims.length),M=_(h,$);let B=M[1];for(let q=0;q<h[0].dims.length;q++)$.indexOf(q)>=0||$.length===0?(d.keepDims&&I.push(1),B=`
          for(int j${q} = 0; j${q} < ${h[0].dims[q]}; j${q}++) {
            inputIdx[${q}] = j${q};
            ${B}
          }`):(P.push(`inputIdx[${q}] = outputIdx[${I.length}];`),I.push(h[0].dims[q]));const F=`
      float process(int outputIdx[${I.length||1}]) {
        float value;                 // final result
        int inputIdx[${R}];      // addressing input data
        ${P.join(`
`)}
        ${M[0]}       // init ops for reduce max/min
        ${B}
        ${M[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},A),{output:{dims:I,type:h[0].type,textureType:f.TextureType.unpacked},shaderSource:F})},y=b=>{if(!b||b.length!==1)throw new Error("Reduce op requires 1 input.");if(l.NUMBER_TYPES.indexOf(b[0].type)===-1)throw new Error("Invalid input type.")};n.reduceSum=(b,h,d)=>p(b,h,d,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),n.reduceMean=(b,h,d)=>p(b,h,d,"ReduceMean",(v,_)=>{let A=1;for(let I=0;I<v[0].dims.length;I++)(_.indexOf(I)>=0||_.length===0)&&(A*=v[0].dims[I]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${A}.;`]}),n.reduceMax=(b,h,d)=>p(b,h,d,"ReduceMax",(v,_)=>{const A=[];for(let I=0;I<v[0].dims.length;I++)(_.indexOf(I)>=0||_.length===0)&&A.push(`inputIdx[${I}] = 0;`);return[`${A.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),n.reduceMin=(b,h,d)=>p(b,h,d,"ReduceMin",(v,_)=>{const A=[];for(let I=0;I<v[0].dims.length;I++)(_.indexOf(I)>=0||_.length===0)&&A.push(`inputIdx[${I}] = 0;`);return[`${A.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),n.reduceProd=(b,h,d)=>p(b,h,d,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),n.reduceLogSum=(b,h,d)=>p(b,h,d,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),n.reduceLogSumSquare=(b,h,d)=>p(b,h,d,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isReshapeCheap=n.processDims3D=n.createPackedReshape3DProgramInfoLoader=void 0;const s=a(2517),l=a(5060),c=a(2039),f=a(2827);n.createPackedReshape3DProgramInfoLoader=(p,g,y)=>{const b=(h=>({name:"Reshape (packed)",inputTypes:[c.TextureType.packed],inputNames:["A"],cacheHint:`${h}`}))(y);return Object.assign(Object.assign({},b),{get:()=>((h,d,v,_)=>{const A=d.dims,I=_;let R="";for(let M=0;M<4;M++){let B="";switch(M){case 0:B="outputCoords = rc;";break;case 1:B="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:B="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:B="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}R+=`
        ${B}
        ${M>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${M}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${M>0?"}":""}
      `}const P=(0,l.getGlsl)(h.session.backend.glContext.version),$=`
      ${function(M){const B=s.ShapeUtil.computeStrides(M),F=["b","r","c"],q="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${B.map((H,z)=>`int ${F[z]} = ${q} / ${H}; ${z===B.length-1?`int ${F[z+1]} = ${q} - ${F[z]} * ${H}`:`index -= ${F[z]} * ${H}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(A)}
      ${function(M){const B=s.ShapeUtil.computeStrides(M);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${B[0]} + coords.z * ${B[1]} + coords.y;
  }
`}(I)}
      ${(0,f.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${I[2]};
        int cols = ${I[1]};

        ${R}
        ${P.output} = result;
      }
    `;return Object.assign(Object.assign({},v),{output:{dims:I,type:d.type,textureType:c.TextureType.packed},shaderSource:$,hasMain:!0})})(p,g,b,y)})},n.processDims3D=function(p){if(p.length===0)return[1,1,1];let g=1;for(let y=0;y<p.length-2;++y)g*=p[y];return[g,p.length>1?p[p.length-2]:1,p[p.length-1]]},n.isReshapeCheap=function(p,g){let y=!1;return y=p.length===0||g.length===0||(p.length<2||g.length<2?p[p.length-1]===g[g.length-1]:p[p.length-1]===g[g.length-1]&&p[p.length-2]===g[g.length-2]),y}},718:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.reshape=void 0;const s=a(2517);n.reshape=(l,c)=>{const f=s.ShapeUtil.calculateReshapedDims(c[0].dims,c[1].integerData);return l.session.pack?[l.reshapePacked(c[0],f)]:[l.reshapeUnpacked(c[0],f)]}},2268:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseResizeAttributesV11=n.parseResizeAttributesV10=n.resize=void 0;const s=a(5060),l=a(2039),c=a(9390),f=a(2827),p=a(9793),g={name:"Resize",inputNames:["A"],inputTypes:[l.TextureType.packed]};n.resize=(v,_,A)=>((0,p.validateInputs)(_,A),[v.run(Object.assign(Object.assign({},g),{cacheHint:A.cacheKey,get:()=>y(v,_,A)}),_)]),n.parseResizeAttributesV10=v=>(0,p.parseUpsampleAttributes)(v,10),n.parseResizeAttributesV11=v=>(0,p.parseUpsampleAttributes)(v,11);const y=(v,_,A)=>{const I=(0,s.getGlsl)(v.session.backend.glContext.version),[R,P]=b(_,A);if(R.every(X=>X===1)&&A.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},g),{output:{dims:P,type:_[0].type,textureType:l.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${I.texture2D}(X, TexCoords);
                    ${I.output} = v;
                }`});const $=P.length;if($<2)throw new Error(`output dimension should be at least 2, but got ${$}`);const M=P[$-2],B=P[$-1],F=_[0].dims;if($!==F.length)throw new Error(`output dimension should match input ${F.length}, but got ${$}`);const q=F[$-2],H=F[$-1],z=R[$-2],L=R[$-1];let ee="";if(A.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${A.mode}'`);switch(A.coordinateTransformMode){case"asymmetric":ee=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":ee=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":ee=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${B}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${M}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${B}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${M}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":ee=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${B}.0 - 1.0, ${M}.0 - 1.0, ${B}.0 - 1.0,
                            ${M}.0 - 1.0);
                        vec4 original = vec4(${H}.0 - 1.0, ${q}.0 - 1.0, ${H}.0 - 1.0,
                            ${q}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${A.coordinateTransformMode}'`)}const Z=(0,c.getCoordsDataType)($),V=`
            const vec2 inputWH = vec2(${q}.0, ${H}.0);
            const vec4 scaleWHWH = vec4(float(${z}), float(${L}), float(${z}), float(${L}));
            ${(0,f.unpackFromChannel)()}
            ${ee}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Z} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${M-1};
                bool hasNextCol = rc.z < ${B-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${I.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},g),{output:{dims:P,type:_[0].type,textureType:l.TextureType.packed},hasMain:!0,shaderSource:V})},b=(v,_)=>{const A=v[0].dims;let I,R=_.scales;if(R.length===0){const $=v[_.scalesInputIdx];if($&&$.size!==0){if(v[_.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");R=h($,_.mode,_.isResize)}else{const M=v[_.sizesInputIdx];if(!M||M.size===0)throw new Error("Either scales or sizes MUST be provided as input.");I=Array.from(M.integerData),R=d(I,A,_.mode,_.isResize)}}else if(v[_.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const P=I||A.map(($,M)=>Math.floor($*R[M]));return[R,P]},h=(v,_,A)=>{const I=Array.from(v.floatData);return(0,p.scalesValidation)(I,_,A),I},d=(v,_,A,I)=>{const R=_.length,P=new Array(R);for(let $=0,M=R;$<M;$++)if(_[$]===0){if(v[$]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");P[$]=1}else P[$]=v[$]/_[$];return(0,p.scalesValidation)(P,A,I),P}},8117:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.shape=void 0;const s=a(9162);n.shape=(c,f)=>(l(f),[new s.Tensor([f[0].dims.length],"int32",void 0,void 0,new Int32Array(f[0].dims))]);const l=c=>{if(!c||c.length!==1)throw new Error("Shape requires 1 input.")}},2278:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.sliceV10=n.parseSliceAttributes=n.slice=void 0;const s=a(246),l=a(782),c=a(2517),f=a(2039),p={name:"Slice",inputNames:["A"],inputTypes:[f.TextureType.unpacked]};n.slice=(d,v,_)=>(y(v),[d.run(Object.assign(Object.assign({},p),{cacheHint:_.cacheKey,get:()=>g(d,v[0],_)}),v)]),n.parseSliceAttributes=d=>{const v=d.attributes.getInts("starts"),_=d.attributes.getInts("ends"),A=d.attributes.getInts("axes",[]);return(0,s.createAttributeWithCacheKey)({starts:v,ends:_,axes:A})};const g=(d,v,_)=>{const A=_.axes.length===0?v.dims.slice(0).map((F,q)=>q):_.axes,I=c.ShapeUtil.normalizeAxes(A,v.dims.length),R=_.starts.map((F,q)=>F>v.dims[I[q]]-1?v.dims[I[q]]:c.ShapeUtil.normalizeAxis(F,v.dims[I[q]])),P=_.ends.map((F,q)=>F>v.dims[I[q]]-1?v.dims[I[q]]:c.ShapeUtil.normalizeAxis(F,v.dims[I[q]])),$=v.dims.slice(),M=[];for(let F=0;F<I.length;F++)$[I[F]]=P[F]-R[F],R[F]>0&&M.push(`outputIdx[${I[F]}] += ${R[F]};`);const B=`
      float process(int outputIdx[${$.length}]) {
        ${M.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},p),{output:{dims:$,type:v.type,textureType:f.TextureType.unpacked},shaderSource:B})},y=d=>{if(!d||d.length!==1)throw new Error("Slice requires 1 input.");if(l.NUMBER_TYPES.indexOf(d[0].type)===-1)throw new Error("Invalid input type.")};n.sliceV10=(d,v)=>{h(v);const _=b(d,v);return[d.run(Object.assign(Object.assign({},p),{cacheHint:_.cacheKey,get:()=>g(d,v[0],_)}),[v[0]])]};const b=(d,v)=>{if(!d.session.isInitializer(v[1].dataId)||!d.session.isInitializer(v[2].dataId)||v.length>=4&&!d.session.isInitializer(v[3].dataId)||v.length>=5&&!d.session.isInitializer(v[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(v.length>=5&&v[4].integerData.some(R=>R!==1))throw new Error("currently non-1 steps is not supported for Slice");const _=Array.from(v[1].integerData),A=Array.from(v[2].integerData),I=v.length>=4?Array.from(v[3].integerData):[];return{starts:_,ends:A,axes:I,cacheKey:`${I};${_};${A}`}},h=d=>{if(!d||d.length<3||d.length>5)throw new Error("Invalid input number.");if(d[1].type!=="int32"||d[1].dims.length!==1)throw new Error("Invalid input type.");if(d[2].type!=="int32"||d[2].dims.length!==1)throw new Error("Invalid input type.");if(d.length>=4&&(d[3].type!=="int32"||d[3].dims.length!==1))throw new Error("Invalid input type.");if(d.length>=5&&(d[4].type!=="int32"||d[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.softmaxV13=n.parseSoftmaxAttributesV13=n.parseSoftmaxAttributes=n.softmax=void 0;const s=a(246),l=a(2517),c=a(5060),f=a(2039),p=a(3738),g={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[f.TextureType.unpacked]},y={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[f.TextureType.unpacked,f.TextureType.unpacked]},b={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]};n.softmax=(I,R,P)=>{A(R);const $=R[0].dims.slice(),M=l.ShapeUtil.normalizeAxis(P.axis,$.length),B=l.ShapeUtil.sizeToDimension($,M),F=l.ShapeUtil.sizeFromDimension($,M);return h(I,R,P,B,F)},n.parseSoftmaxAttributes=I=>(0,s.createAttributeWithCacheKey)({axis:I.attributes.getInt("axis",1)}),n.parseSoftmaxAttributesV13=I=>(0,s.createAttributeWithCacheKey)({axis:I.attributes.getInt("axis",-1)}),n.softmaxV13=(I,R,P)=>{A(R);const $=R[0].dims.slice(),M=l.ShapeUtil.normalizeAxis(P.axis,$.length),B=$.length,F=M!==B-1,q=[];let H,z=[],L=[];F&&(z=Array.from({length:B}).map((X,Q)=>Q),z[M]=B-1,z[B-1]=M,z.map(X=>q.push($[X])),H=(0,s.createAttributeWithCacheKey)({perm:z}),L=(0,p.transpose)(I,R,H));const ee=F?l.ShapeUtil.sizeToDimension(q,B-1):l.ShapeUtil.sizeToDimension($,B-1),Z=F?l.ShapeUtil.sizeFromDimension(q,B-1):l.ShapeUtil.sizeFromDimension($,B-1),V=h(I,F?L:R,P,ee,Z);return F?(0,p.transpose)(I,V,H):V};const h=(I,R,P,$,M)=>{const B=d(I,R[0],$,M,[$]),F=I.run(Object.assign(Object.assign({},g),{cacheHint:P.cacheKey,get:()=>B}),R),q=v(I,R[0],$,M,B.output.dims,[$]),H=I.run(Object.assign(Object.assign({},y),{cacheHint:P.cacheKey,get:()=>q}),[R[0],F]),z=_(I,R[0],$,M,B.output.dims,q.output.dims);return[I.run(Object.assign(Object.assign({},b),{cacheHint:P.cacheKey,get:()=>z}),[R[0],F,H])]},d=(I,R,P,$,M)=>{const[B,F]=I.calculateTextureWidthAndHeight(R.dims,f.TextureType.unpacked),q=M.length;if(P<1||$<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(M.length!==1)throw new Error("Dimensionality of the output should be 1");if(M[0]!==P)throw new Error("Shape of the output should be equal to logical row count");const H=(0,c.getGlsl)(I.session.backend.glContext.version),z=`
      float process(int[${q}] indices) {
        int logical_row_start_offset = indices[0] * ${$};

        float max = getColorAsFloat(${H.texture2D}(A, offsetToCoords(logical_row_start_offset, ${B},
        ${F} )));
        for(int i=1; i<${$}; ++i)
        {
          float current = getColorAsFloat(${H.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${B}, ${F})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},g),{output:{dims:M,type:R.type,textureType:f.TextureType.unpacked},shaderSource:z})},v=(I,R,P,$,M,B)=>{const[F,q]=I.calculateTextureWidthAndHeight(R.dims,f.TextureType.unpacked),H=B.length;if(P<1||$<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(B.length!==1)throw new Error("Dimensionality of the output should be 1");if(B[0]!==P)throw new Error("Shape of the output should be equal to logical row count");if(M.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(M[0]!==P)throw new Error("Shape of the intermediate results should be equal to logical row count");const z=`
      float process(int[${H}] indices) {
        int logical_row_start_offset = indices[0] * ${$};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${$}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,c.getGlsl)(I.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${F}, ${q}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},y),{output:{dims:B,type:R.type,textureType:f.TextureType.unpacked},shaderSource:z})},_=(I,R,P,$,M,B)=>{const[F,q]=I.calculateTextureWidthAndHeight(R.dims,f.TextureType.unpacked),H=R.dims.length;if(P<1||$<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(M.length!==1||B.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(M[0]!==P||B[0]!==P)throw new Error("Shape of the intermediate results should be equal to logical row count");const z=`
      float process(int[${H}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${F}, ${q});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${$};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},b),{output:{dims:R.dims,type:R.type,textureType:f.TextureType.unpacked},shaderSource:z})},A=I=>{if(!I||I.length!==1)throw new Error("Softmax requires 1 input.");if(I[0].type!=="float32"&&I[0].type!=="float64")throw new Error("Invalid input type")}},5975:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseSplitAttributes=n.split=void 0;const s=a(246),l=a(2517),c=a(2039),f={name:"Split",inputNames:["A"],inputTypes:[c.TextureType.unpacked]};n.split=(b,h,d)=>{y(h);const v=l.ShapeUtil.normalizeAxis(d.axis,h[0].dims.length),_=p(b,h,v,d),A=[];for(let I=0;I<_;++I)A.push(b.run(Object.assign(Object.assign({},f),{cacheHint:`${d.cacheKey};${I}`,get:()=>g(b,h[0],d,v,I)}),h));return A},n.parseSplitAttributes=b=>{const h=b.attributes.getInt("axis",0),d=b.attributes.getInts("split",[]),v=b.outputs.length;return(0,s.createAttributeWithCacheKey)({axis:h,split:d,numOutputs:v})};const p=(b,h,d,v)=>{const[,_]=l.SplitUtil.splitShape(h[0].dims,d,v.split,v.numOutputs);return _.length},g=(b,h,d,v,_)=>{const[A,I]=l.SplitUtil.splitShape(h.dims,v,d.split,d.numOutputs),R=I[_],P=A[_],$=`
      float process(int indices[${P.length}]) {
        indices[${v}] += ${R};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},f),{cacheHint:`${d.cacheKey}:${_}`,output:{dims:P,type:h.type,textureType:c.TextureType.unpacked},shaderSource:$})},y=b=>{if(!b||b.length!==1)throw new Error("Split requires one input.");if(b[0].type!=="int8"&&b[0].type!=="uint8"&&b[0].type!=="int16"&&b[0].type!=="uint16"&&b[0].type!=="int32"&&b[0].type!=="uint32"&&b[0].type!=="float32"&&b[0].type!=="float64"&&b[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseSqueezeAttributes=n.squeezeV13=n.squeeze=void 0;const s=a(2517);n.squeeze=(f,p,g)=>{l(p);const y=s.ShapeUtil.squeezeShape(p[0].dims,g);return[f.reshapeUnpacked(p[0],y)]},n.squeezeV13=(f,p)=>(c(p),(0,n.squeeze)(f,[p[0]],Array.from(p[1].integerData))),n.parseSqueezeAttributes=f=>f.attributes.getInts("axes");const l=f=>{if(!f||f.length!==1)throw new Error("Squeeze requires 1 input.");if(f[0].type==="string")throw new Error("invalid input tensor types.")},c=f=>{if(!f||f.length!==2)throw new Error("Squeeze requires 2 inputs.");if(f[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.sum=void 0;const s=a(5060),l=a(2039);n.sum=(p,g)=>{f(g);const y={name:"Sum",inputNames:g.map((b,h)=>`X${h}`),inputTypes:new Array(g.length).fill(l.TextureType.unpacked)};return[p.run(Object.assign(Object.assign({},y),{get:()=>c(p,g,y)}),g)]};const c=(p,g,y)=>{const b=(0,s.getGlsl)(p.session.backend.glContext.version),h=g[0].dims.slice(),d=`
      void main() {
        vec4 result = ${g.map((v,_)=>`${b.texture2D}(X${_},TexCoords)`).join(" + ")};
        ${b.output} = result;
      }
    `;return Object.assign(Object.assign({},y),{output:{dims:h,type:g[0].type,textureType:l.TextureType.unpacked},hasMain:!0,shaderSource:d})},f=p=>{if(!p||p.length===0)throw new Error("Sum requires inputs.");const g=p[0].dims.length;for(let y=1;y<p.length;y++){if(g!==p[y].dims.length)throw new Error("Input shapes are mismatched.");for(let b=0;b<g;b++)if(p[0].dims[b]!==p[y].dims[b])throw new Error("Input shapes are not matched.")}if(p[0].type!=="float32"&&p[0].type!=="float64")throw new Error("Invalid input type.");for(let y=1;y<p.length;y++)if(p[0].type!==p[y].type)throw new Error("Input types are not matched.")}},5723:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tile=void 0;const s=a(782),l=a(2039);n.tile=(p,g)=>{f(g);const y={name:"Tile",inputNames:["A"],inputTypes:[l.TextureType.unpacked]};return[p.run(Object.assign(Object.assign({},y),{get:()=>c(p,g,y)}),g)]};const c=(p,g,y)=>{const b=g[0].dims.slice(),h=new Array(b.length),d=[];for(let A=0;A<b.length;A++)h[A]=b[A]*g[1].numberData[A],d.push(`inputIdx[${A}] = int(mod(float(outputIdx[${A}]), ${b[A]}.));`);const v=h.length,_=`
      float process(int outputIdx[${v}]) {
        int inputIdx[${v}];
        ${d.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},y),{output:{dims:h,type:g[0].type,textureType:l.TextureType.unpacked},shaderSource:_})},f=p=>{if(!p||p.length!==2)throw new Error("Tile requires 2 input.");if(p[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(p[1].dims[0]!==p[0].dims.length)throw new Error("Invalid input shape.");if(s.NUMBER_TYPES.indexOf(p[0].type)===-1)throw new Error("Invalid input type.");if(p[1].type!=="int32"&&p[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseTransposeAttributes=n.transpose=void 0;const s=a(246),l=a(2517),c=a(2039),f={name:"Transpose",inputNames:["A"],inputTypes:[c.TextureType.unpacked]};n.transpose=(d,v,_)=>(h(v),[d.run(Object.assign(Object.assign({},f),{cacheHint:_.cacheKey,get:()=>p(d,v[0],_.perm)}),v)]),n.parseTransposeAttributes=d=>(0,s.createAttributeWithCacheKey)({perm:d.attributes.getInts("perm",[])});const p=(d,v,_)=>{const A=v.dims;_=g(A,_);const I=y(A,_),R=A.length,P=`
      ${b("perm",_,R)}
      float process(int indices[${R}]) {
        int a[${R}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},f),{output:{dims:I,type:v.type,textureType:c.TextureType.unpacked},shaderSource:P})},g=(d,v)=>(v&&v.length!==d.length&&(v=[...d.keys()].reverse()),v),y=(d,v)=>(v=g(d,v),l.ShapeUtil.sortBasedOnPerm(d,v)),b=(d,v,_)=>{const A=[];A.push(`void ${d}(out int a[${_}], int src[${_}]) {`);for(let I=0;I<_;++I)A.push(`	a[${v[I]}]=src[${I}];`);return A.push("	}"),A.join(`
`)},h=d=>{if(!d||d.length!==1)throw new Error("Transpose requires 1 input.");if(d[0].type!=="float32"&&d[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.encodeAsUint8=void 0;const s=a(5060),l=a(2039);n.encodeAsUint8=(c,f)=>{const p=f.shape,g=(0,s.getGlsl)(c.session.backend.glContext.version),y=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${g.texture2D}(X,TexCoords).r;
      ${g.output} = encodeAsUint8(value);
    }`,b={name:"Uint8Encode",inputTypes:[l.TextureType.unpacked],inputNames:["X"],output:{dims:p,type:f.tensor.type,textureType:l.TextureType.downloadUint8AsFloat},shaderSource:y,hasMain:!0};return c.executeProgram(b,[f.tensor])}},4909:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tanh=n.tan=n.sqrt=n.sin=n.sigmoid=n.relu=n.not=n.neg=n.log=n.parseLeakyReluAttributes=n.leakyRelu=n.identity=n.floor=n.exp=n.parseEluAttributes=n.elu=n.cos=n.ceil=n.clipV11=n.parseClipAttributes=n.clip=n.atan=n.asin=n.acos=n.abs=n.glslTanh=n.glslTan=n.glslSqrt=n.glslSigmoid=n.glslRelu=n.glslSin=n.glslNot=n.glslNeg=n.glslLog=n.glslLeakyRelu=n.glslIdentity=n.glslClip=n.glslFloor=n.glslExp=n.glslElu=n.glslCos=n.glslCeil=n.glslAtan=n.glslAsin=n.glslAcos=n.glslAbs=void 0;const s=a(246),l=a(2517),c=a(8520),f=a(5060),p=a(2039);function g(){return V("abs")}function y(){return V("acos")}function b(){return V("asin")}function h(){return V("atan")}function d(){return V("ceil")}function v(){return V("cos")}function _(G){const te="elu";return{body:`
  const float alpha = float(${G});

  float ${te}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${te}_(vec4 v) {
    return vec4(${te}_(v.x), ${te}_(v.y), ${te}_(v.z), ${te}_(v.w));
  }
  `,name:te,type:c.FunctionType.ValueBased}}function A(){return V("exp")}function I(){return V("floor")}function R(G,te){const ue="clip";return{body:`
  const float min = float(${G});
  const float max = float(${te});

  float ${ue}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${ue}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:ue,type:c.FunctionType.ValueBased}}function P(){const G="indentity";return{body:`
  float ${G}_(float a) {
    return a;
  }
  vec4 ${G}_(vec4 v) {
    return v;
  }
  `,name:G,type:c.FunctionType.ValueBased}}function $(G){const te="leakyRelu";return{body:`
  const float alpha = float(${G});

  float ${te}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${te}_(vec4 v) {
    return vec4(${te}_(v.x), ${te}_(v.y), ${te}_(v.z), ${te}_(v.w));
  }
  `,name:te,type:c.FunctionType.ValueBased}}function M(){return V("log")}function B(){const G="neg";return{body:`
  float ${G}_(float a) {
    return -a;
  }
  vec4 ${G}_(vec4 v) {
    return -v;
  }
  `,name:G,type:c.FunctionType.ValueBased}}function F(){const G="not";return{body:`
  float ${G}_(float a) {
    return float( ! bool(a) );
  }
  bool ${G}_(bool a) {
    return !a;
  }
  vec4 ${G}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${G}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:G,type:c.FunctionType.ValueBased}}function q(){return V("sin")}function H(){const G="relu";return{body:`
  float ${G}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${G}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:G,type:c.FunctionType.ValueBased}}function z(){const G="sigmoid";return{body:`
  float ${G}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${G}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:G,type:c.FunctionType.ValueBased}}function L(){return V("sqrt")}function ee(){return V("tan")}function Z(){const G="tanh";return{body:`
  float ${G}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${G}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:G,type:c.FunctionType.ValueBased}}function V(G){return{body:`
  float ${G}_(float a) {
    return ${G}(a);
  }
  vec4 ${G}_(vec4 v) {
    return ${G}(v);
  }
  `,name:G,type:c.FunctionType.ValueBased}}n.glslAbs=g,n.glslAcos=y,n.glslAsin=b,n.glslAtan=h,n.glslCeil=d,n.glslCos=v,n.glslElu=_,n.glslExp=A,n.glslFloor=I,n.glslClip=R,n.glslIdentity=P,n.glslLeakyRelu=$,n.glslLog=M,n.glslNeg=B,n.glslNot=F,n.glslSin=q,n.glslRelu=H,n.glslSigmoid=z,n.glslSqrt=L,n.glslTan=ee,n.glslTanh=Z;const X=(G,te,ue,fe)=>{const K=G.session.pack?p.TextureType.packed:p.TextureType.unpacked,de={name:ue.name,inputTypes:[K],inputNames:["A"],cacheHint:fe};return Object.assign(Object.assign({},de),{get:()=>((we,oe,Ne,Ie)=>{const Le=we.session.pack?p.TextureType.packed:p.TextureType.unpacked,ut=(0,f.getGlsl)(we.session.backend.glContext.version);return Object.assign(Object.assign({},oe),{output:{dims:Ne.dims,type:Ne.type,textureType:Le},shaderSource:`
     ${Ie.body}
     void main() {
       vec4 v = ${ut.texture2D}(A, TexCoords);
       v = ${Ie.name}_(v);
       ${ut.output} = v;
     }
     `,hasMain:!0})})(G,de,te,ue)})};n.abs=(G,te)=>[G.run(X(G,te[0],g()),te)],n.acos=(G,te)=>[G.run(X(G,te[0],y()),te)],n.asin=(G,te)=>[G.run(X(G,te[0],b()),te)],n.atan=(G,te)=>[G.run(X(G,te[0],h()),te)],n.clip=(G,te,ue)=>[G.run(X(G,te[0],R(ue.min,ue.max),ue.cacheKey),te)],n.parseClipAttributes=G=>(0,s.createAttributeWithCacheKey)({min:G.attributes.getFloat("min",l.MIN_CLIP),max:G.attributes.getFloat("max",l.MAX_CLIP)}),n.clipV11=(G,te)=>{const ue=Q(G,te);return(0,n.clip)(G,[te[0]],ue)};const Q=(G,te)=>{if(te.length>=3&&(!G.session.isInitializer(te[1].dataId)||!G.session.isInitializer(te[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const ue=te.length>=3?te[1].numberData[0]:l.MIN_CLIP,fe=te.length>=3?te[2].numberData[0]:l.MAX_CLIP;return(0,s.createAttributeWithCacheKey)({min:ue,max:fe})};n.ceil=(G,te)=>[G.run(X(G,te[0],d()),te)],n.cos=(G,te)=>[G.run(X(G,te[0],v()),te)],n.elu=(G,te,ue)=>[G.run(X(G,te[0],_(ue.alpha),ue.cacheKey),te)],n.parseEluAttributes=G=>(0,s.createAttributeWithCacheKey)({alpha:G.attributes.getFloat("alpha",1)}),n.exp=(G,te)=>[G.run(X(G,te[0],A()),te)],n.floor=(G,te)=>[G.run(X(G,te[0],I()),te)],n.identity=(G,te)=>[G.run(X(G,te[0],P()),te)],n.leakyRelu=(G,te,ue)=>[G.run(X(G,te[0],$(ue.alpha),ue.cacheKey),te)],n.parseLeakyReluAttributes=G=>(0,s.createAttributeWithCacheKey)({alpha:G.attributes.getFloat("alpha",.01)}),n.log=(G,te)=>[G.run(X(G,te[0],M()),te)],n.neg=(G,te)=>[G.run(X(G,te[0],B()),te)],n.not=(G,te)=>[G.run(X(G,te[0],F()),te)],n.relu=(G,te)=>[G.run(X(G,te[0],H()),te)],n.sigmoid=(G,te)=>[G.run(X(G,te[0],z()),te)],n.sin=(G,te)=>[G.run(X(G,te[0],q()),te)],n.sqrt=(G,te)=>[G.run(X(G,te[0],L()),te)],n.tan=(G,te)=>[G.run(X(G,te[0],ee()),te)],n.tanh=(G,te)=>[G.run(X(G,te[0],Z()),te)]},5611:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createUnpackProgramInfoLoader=n.createUnpackProgramInfo=void 0;const s=a(5060),l=a(2039),c=a(9390),f=a(2827),p={name:"unpack",inputNames:["A"],inputTypes:[l.TextureType.packed]};n.createUnpackProgramInfo=(g,y)=>{const b=y.dims.length,h=(0,f.getChannels)("rc",b),d=h.slice(-2),v=(0,c.getCoordsDataType)(b),_=(0,f.unpackFromChannel)(),A=y.dims.length===0?"":function(P,$){if(P===1)return"rc";let M="";for(let B=0;B<P;B++)M+=$[B],B<P-1&&(M+=",");return M}(b,h),I=b<=1?"rc":`vec2(${d.join(",")})`,R=`
    ${_}
    void main() {
      ${v} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${A});

       ${(0,s.getGlsl)(g.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${I}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},p),{hasMain:!0,output:{dims:y.dims,type:y.type,textureType:l.TextureType.unpacked},shaderSource:R})},n.createUnpackProgramInfoLoader=(g,y)=>Object.assign(Object.assign({},p),{get:()=>(0,n.createUnpackProgramInfo)(g,y)})},8428:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseUnsqueezeAttributes=n.unsqueezeV13=n.unsqueeze=void 0;const s=a(2517);n.unsqueeze=(f,p,g)=>{l(p);const y=s.ShapeUtil.unsqueezeShape(p[0].dims,g);return[f.reshapeUnpacked(p[0],y)]},n.unsqueezeV13=(f,p)=>(c(p),(0,n.unsqueeze)(f,[p[0]],Array.from(p[1].integerData))),n.parseUnsqueezeAttributes=f=>f.attributes.getInts("axes");const l=f=>{if(!f||f.length!==1)throw new Error("Unsqueeze requires 1 input.");if(f[0].type==="string")throw new Error("invalid input tensor types.")},c=f=>{if(!f||f.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(f[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.scalesValidation=n.validateInputs=n.parseUpsampleAttributes=n.parseUpsampleAttributesV9=n.parseUpsampleAttributesV7=n.upsample=void 0;const s=a(246),l=a(5060),c=a(2039),f={name:"Upsample",inputNames:["X"],inputTypes:[c.TextureType.unpacked]};n.upsample=(g,y,b)=>((0,n.validateInputs)(y,b),[g.run(Object.assign(Object.assign({},f),{cacheHint:b.cacheKey,get:()=>p(g,y,b)}),y)]),n.parseUpsampleAttributesV7=g=>(0,n.parseUpsampleAttributes)(g,7),n.parseUpsampleAttributesV9=g=>(0,n.parseUpsampleAttributes)(g,9),n.parseUpsampleAttributes=(g,y)=>{const b=y>=10,h=g.attributes.getString("mode","nearest");if(h!=="nearest"&&h!=="linear"&&(y<11||h!=="cubic"))throw new Error(`unrecognized mode: ${h}`);let d=[];y<9&&(d=g.attributes.getFloats("scales"),(0,n.scalesValidation)(d,h,b));const v=g.attributes.getFloat("extrapolation_value",0),_=y>10?g.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(_)===-1)throw new Error(`coordinate_transform_mode '${_}' is not supported`);const A=_==="tf_crop_and_resize",I=A,R=h==="nearest"&&y>=11?g.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(R)===-1)throw new Error(`nearest_mode '${R}' is not supported`);const P=g.attributes.getFloat("cubic_coeff_a",-.75),$=g.attributes.getInt("exclude_outside",0)!==0;if($&&h!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const M=y<11||h==="nearest"&&_==="asymmetric"&&R==="floor";let B=0,F=0,q=0;return y>10?g.inputs.length>2?(B=1,F=2,q=3):(F=1,q=2):y===9&&(F=1),(0,s.createAttributeWithCacheKey)({opset:y,isResize:b,mode:h,scales:d,extrapolationValue:v,coordinateTransformMode:_,useExtrapolation:I,needRoiInput:A,nearestMode:R,cubicCoefficientA:P,excludeOutside:$,useNearest2xOptimization:M,roiInputIdx:B,scalesInputIdx:F,sizesInputIdx:q})};const p=(g,y,b)=>{const h=(0,l.getGlsl)(g.session.backend.glContext.version),[d,v]=g.calculateTextureWidthAndHeight(y[0].dims,c.TextureType.unpacked),_=y[0].dims.map((q,H)=>Math.floor(q*b.scales[H])),[A,I]=g.calculateTextureWidthAndHeight(_,c.TextureType.unpacked),R=_.length,P=new Array(R),$=new Array(R);let M=`
      int output_pitches[${R}];
      int input_pitches[${R}];
      `;for(let q=R-1;q>=0;q--)P[q]=q===R-1?1:P[q+1]*_[q+1],$[q]=q===R-1?1:$[q+1]*y[0].dims[q+1],M+=`
        output_pitches[${q}] = ${P[q]};
        input_pitches[${q}] = ${$[q]};
        `;const B=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${d}, ${v});
        float value = getColorAsFloat(${h.texture2D}(X, coords));
        return value;
      }
      `,F=b.mode==="nearest"?`
    ${B}
    float process(int indices[${R}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${A}, ${I});

      ${M}

      int d, m;
      for (int dim = 0; dim < ${R}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:R===4?`
    ${B}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${A}, ${I});

      ${M}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${y[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${B}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${A}, ${I});

      ${M}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${y[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},f),{output:{dims:_,type:y[0].type,textureType:c.TextureType.unpacked},shaderSource:F,variables:[{name:"scales",type:"int",arrayLength:b.scales.length,data:b.scales.map(q=>Math.ceil(q))}]})};n.validateInputs=(g,y)=>{if(!g||y.opset<9&&g.length!==1||y.opset>=9&&y.opset<11&&g.length!==2||y.opset>=11&&g.length<2)throw new Error("invalid inputs.");if(y.scales.length>0&&g[0].dims.length!==y.scales.length)throw new Error("Invalid input shape.");if(g[0].type==="string")throw new Error("Invalid input tensor types.")},n.scalesValidation=(g,y,b)=>{if(b){for(const h of g)if(h<=0)throw new Error("Scale value should be greater than 0.")}else for(const h of g)if(h<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(y!=="linear"&&y!=="cubic"||g.length===2||g.length===4&&g[0]===1&&g[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${b?"Resize":"Upsample"} opeartor.`)}},1958:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ProgramManager=void 0;const s=a(1670),l=a(6231),c=a(8879),f=a(5060);n.ProgramManager=class{constructor(p,g,y){this.profiler=p,this.glContext=g,this.textureLayoutStrategy=y,this.repo=new Map,this.attributesBound=!1}getArtifact(p){return this.repo.get(p)}setArtifact(p,g){this.repo.set(p,g)}run(p,g,y){var b;this.profiler.event("op",`ProgramManager.run ${(b=p.programInfo.name)!==null&&b!==void 0?b:"unknown kernel"}`,()=>{var h;const d=this.glContext.gl,v=p.program;d.useProgram(v);try{this.bindOutput(y),this.attributesBound||this.bindAttributes(p.attribLocations),this.bindUniforms(p.uniformLocations,(h=p.programInfo.variables)!==null&&h!==void 0?h:[],g)}catch(_){throw l.Logger.error("ProgramManager",p.programInfo.shaderSource),_}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(p=>this.glContext.deleteProgram(p.program))}build(p,g,y){return this.profiler.event("backend","ProgramManager.build",()=>{const b=new c.GlslPreprocessor(this.glContext,p,g,y),h=b.preprocess(),d=this.compile(h);return{programInfo:p,program:d,uniformLocations:this.getUniformLocations(d,b.context.programInfo.inputNames,b.context.programInfo.variables),attribLocations:this.getAttribLocations(d)}})}compile(p){if(!this.vertexShader){l.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const b=(0,f.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(b,this.glContext.gl.VERTEX_SHADER)}s.env.debug&&l.Logger.verbose("ProrgramManager",`FragShader:
${p}
`);const g=this.glContext.compileShader(p,this.glContext.gl.FRAGMENT_SHADER),y=this.glContext.createProgram(this.vertexShader,g);return this.glContext.deleteShader(g),y}bindOutput(p){const g=p.width,y=p.height;l.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${g}/${y}, shape=${p.shape}, type=${p.tensor.type}`),this.glContext.attachFramebuffer(p.texture,g,y)}bindAttributes(p){const g=p.position,y=p.textureCoord;this.glContext.setVertexAttributes(g,y),this.attributesBound=!0}bindUniforms(p,g,y){var b;const h=this.glContext.gl;let d=0;for(const{name:v,type:_,location:A,arrayLength:I}of p){const R=(b=g.find(P=>P.name===v))===null||b===void 0?void 0:b.data;if(_!=="sampler2D"&&!R)throw new Error(`variable '${v}' does not have data defined in program info`);switch(_){case"sampler2D":this.bindTexture(y[d],A,d),d++;break;case"float":I?h.uniform1fv(A,R):h.uniform1f(A,R);break;case"int":I?h.uniform1iv(A,R):h.uniform1i(A,R);break;default:throw new Error(`Uniform not implemented: ${_}`)}}}bindTexture(p,g,y){this.glContext.bindTextureToUniform(p.texture,y,g)}getAttribLocations(p){return{position:this.getAttribLocation(p,"position"),textureCoord:this.getAttribLocation(p,"textureCoord")}}getUniformLocations(p,g,y){const b=[];if(g)for(const h of g)b.push({name:h,type:"sampler2D",location:this.getUniformLocation(p,h)});if(y)for(const h of y)b.push(Object.assign(Object.assign({},h),{location:this.getUniformLocation(p,h.name)}));return b}getUniformLocation(p,g){const y=this.glContext.gl.getUniformLocation(p,g);if(y===null)throw new Error(`Uniform ${g} not found.`);return y}getAttribLocation(p,g){return this.glContext.gl.getAttribLocation(p,g)}}},6416:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLSessionHandler=void 0;const s=a(6231),l=a(1047),c=a(8316),f=a(1640),p=a(1958),g=a(7859),y=a(5702);n.WebGLSessionHandler=class{constructor(b,h){this.backend=b,this.context=h,this.layoutStrategy=new g.PreferLogicalStrategy(b.glContext.maxTextureSize),this.programManager=new p.ProgramManager(this.context.profiler,b.glContext,this.layoutStrategy),this.textureManager=new y.TextureManager(b.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:b.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=b.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new c.WebGLInferenceHandler(this)}onGraphInitialized(b){const h=b.getValues().filter(d=>d.from===-1&&d.tensor).map(d=>d.tensor.dataId);this.initializers=new Set(h)}isInitializer(b){return!!this.initializers&&this.initializers.has(b)}addInitializer(b){this.initializers.add(b)}getTextureData(b,h){return h?this.packedTextureDataCache.get(b):this.unpackedTextureDataCache.get(b)}setTextureData(b,h,d=!1){s.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),d?this.packedTextureDataCache.set(b,h):this.unpackedTextureDataCache.set(b,h)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(b=>this.textureManager.releaseTexture(b,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(b=>this.textureManager.releaseTexture(b,!0)),this.unpackedTextureDataCache=new Map}resolve(b,h,d){const v=(0,l.resolveOperator)(b,h,f.WEBGL_OP_RESOLVE_RULES);return{impl:v.opImpl,context:v.opInit?v.opInit(b,d):b}}}},7769:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Uint8DataEncoder=n.RGBAFloatDataEncoder=n.RedFloat32DataEncoder=void 0;const s=a(6231);n.RedFloat32DataEncoder=class{constructor(l,c=1){if(c===1)this.internalFormat=l.R32F,this.format=l.RED,this.textureType=l.FLOAT,this.channelSize=c;else{if(c!==4)throw new Error(`Invalid number of channels: ${c}`);this.internalFormat=l.RGBA32F,this.format=l.RGBA,this.textureType=l.FLOAT,this.channelSize=c}}encode(l,c){let f,p;return l.constructor!==Float32Array&&(s.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),p=new Float32Array(l)),c*this.channelSize>l.length?(s.Logger.warning("Encoder","Source data too small. Allocating larger array"),p=l,f=this.allocate(c*this.channelSize),p.forEach((g,y)=>f[y]=g)):(p=l,f=p),f}allocate(l){return new Float32Array(4*l)}decode(l,c){return this.channelSize===1?l.filter((f,p)=>p%4==0).subarray(0,c):l.subarray(0,c)}},n.RGBAFloatDataEncoder=class{constructor(l,c=1,f){if(c!==1&&c!==4)throw new Error(`Invalid number of channels: ${c}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.channelSize=c,this.textureType=f||l.FLOAT}encode(l,c){let f=l;return this.channelSize===1&&(s.Logger.verbose("Encoder","Exploding into a larger array"),f=this.allocate(c),l.forEach((p,g)=>f[4*g]=p)),f}allocate(l){return new Float32Array(4*l)}decode(l,c){return this.channelSize===1?l.filter((f,p)=>p%4==0).subarray(0,c):l.subarray(0,c)}},n.Uint8DataEncoder=class{constructor(l,c=1){if(this.channelSize=4,c===1)this.internalFormat=l.ALPHA,this.format=l.ALPHA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=c;else{if(c!==4)throw new Error(`Invalid number of channels: ${c}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=c}}encode(l,c){return new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}allocate(l){return new Uint8Array(l*this.channelSize)}decode(l,c){if(l instanceof Uint8Array)return l.subarray(0,c);throw new Error(`Invalid array type: ${l.constructor}`)}}},7859:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getBatchDim=n.sizeToSquarishShape=n.getRowsCols=n.sizeFromShape=n.isInt=n.parseAxisParam=n.squeezeShape=n.PreferLogicalStrategy=n.AlwaysKeepOriginalSizeStrategy=void 0;const s=a(6231),l=a(2517);function c(b,h){const d=[],v=[],_=h!=null&&Array.isArray(h)&&h.length===0,A=h==null||_?null:f(h,b).sort();let I=0;for(let R=0;R<b.length;++R){if(A!=null){if(A[I]===R&&b[R]!==1)throw new Error(`Can't squeeze axis ${R} since its dim '${b[R]}' is not 1`);(A[I]==null||A[I]>R)&&b[R]===1&&(d.push(b[R]),v.push(R)),A[I]<=R&&I++}b[R]!==1&&(d.push(b[R]),v.push(R))}return{newShape:d,keptDims:v}}function f(b,h){const d=h.length;return b=b==null?h.map((v,_)=>_):[].concat(b),(0,l.assert)(b.every(v=>v>=-d&&v<d),()=>`All values in axis param must be in range [-${d}, ${d}) but got axis ${b}`),(0,l.assert)(b.every(p),()=>`All values in axis param must be integers but got axis ${b}`),b.map(v=>v<0?d+v:v)}function p(b){return b%1==0}function g(b){if(b.length===0)return 1;let h=b[0];for(let d=1;d<b.length;d++)h*=b[d];return h}function y(b){const h=Math.ceil(Math.sqrt(b));return[h,Math.ceil(b/h)]}n.AlwaysKeepOriginalSizeStrategy=class{constructor(b){this.maxTextureSize=b}computeTextureWH(b,h){if(b.length===0)return[1,1];const d=this.maxTextureSize;if(h&&h.breakAxis!==void 0){const A=h.breakAxis>=b.length?1:b.slice(h.breakAxis).reduce((R,P)=>R*P),I=h.breakAxis<=0?1:b.slice(0,h.breakAxis).reduce((R,P)=>R*P);if(!(A>d||I>d))return[A,I];s.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${b}, breakAxis:${h.breakAxis}`)}const v=b.reduce((A,I)=>A*I);let _=Math.floor(Math.sqrt(v));for(;_<d&&_<v&&v%_!=0;_++);if(_>=d||v%_!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${b}`);return[_,v/_]}},n.PreferLogicalStrategy=class{constructor(b){this.maxTextureSize=b}computeTextureWH(b,h){const d=this.computeTexture(b,h);return h&&h.isPacked&&(d[0]/=2,d[1]/=2),h&&h.reverseWH?[d[1],d[0]]:d}computeTexture(b,h){const d=h&&h.isPacked;if(b.length===0)return d?[2,2]:[1,1];let v=this.maxTextureSize;if(h&&h.breakAxis!==void 0){const I=h.breakAxis>=b.length?1:b.slice(h.breakAxis).reduce((P,$)=>P*$),R=h.breakAxis<=0?1:b.slice(0,h.breakAxis).reduce((P,$)=>P*$);if(!(I>v||R>v))return[I,R];s.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${b}, breakAxis:${h.breakAxis}`)}let _=b.slice(0);d&&(v*=2,_=_.map((I,R)=>R>=_.length-2?_[R]%2==0?_[R]:_[R]+1:_[R]),_.length===1&&(_=[2,_[0]])),_.length!==2&&(_=c(_).newShape);const A=g(_);return _.length<=1&&A<=v?[1,A]:_.length===2&&_[0]<=v&&_[1]<=v?_:_.length===3&&_[0]*_[1]<=v&&_[2]<=v?[_[0]*_[1],_[2]]:_.length===3&&_[0]<=v&&_[1]*_[2]<=v?[_[0],_[1]*_[2]]:_.length===4&&_[0]*_[1]*_[2]<=v&&_[3]<=v?[_[0]*_[1]*_[2],_[3]]:_.length===4&&_[0]<=v&&_[1]*_[2]*_[3]<=v?[_[0],_[1]*_[2]*_[3]]:d?y(A/4).map(I=>2*I):y(A)}},n.squeezeShape=c,n.parseAxisParam=f,n.isInt=p,n.sizeFromShape=g,n.getRowsCols=function(b){if(b.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[b.length>1?b[b.length-2]:1,b[b.length-1]]},n.sizeToSquarishShape=y,n.getBatchDim=function(b,h=2){return g(b.slice(0,b.length-h))}},4057:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createTextureLayoutFromShape=n.calculateTextureWidthAndHeight=n.createTextureLayoutFromTextureType=void 0;const s=a(2517),l=a(2039);n.createTextureLayoutFromTextureType=(c,f,p)=>{const g=p===l.TextureType.unpacked||p===l.TextureType.unpackedReversed?1:4,y=p===l.TextureType.packed,b=p===l.TextureType.unpackedReversed||p===l.TextureType.packed,h=p===l.TextureType.packedLastDimension?f.length-1:void 0,d=p===l.TextureType.packedLastDimension?f.map((v,_)=>_===f.length-1?4*v:v):void 0;return(0,n.createTextureLayoutFromShape)(c,f,g,d,{isPacked:y,reverseWH:b,breakAxis:h})},n.calculateTextureWidthAndHeight=(c,f,p)=>{const g=(0,n.createTextureLayoutFromTextureType)(c,f,p);return[g.width,g.height]},n.createTextureLayoutFromShape=(c,f,p=1,g,y)=>{const b=!(!y||!y.isPacked),[h,d]=c.computeTextureWH(b&&g||f,y),v=f.length;let _=f.slice(0);if(v===0&&(_=[1]),p===1)g=f;else if(b){if(p!==4)throw new Error("a packed texture must be 4-channel");g=f,v>0&&(_[v-1]=Math.ceil(_[v-1]/2)),v>1&&(_[v-2]=Math.ceil(_[v-2]/2))}else if(!g)throw new Error("Unpacked shape is needed when using channels > 1");return{width:h,height:d,channels:p,isPacked:b,shape:_,strides:s.ShapeUtil.computeStrides(_),unpackedShape:g,reversedWH:y&&y.reverseWH}}},5702:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextureManager=void 0;const s=a(6231);n.TextureManager=class{constructor(l,c,f,p){this.glContext=l,this.layoutStrategy=c,this.profiler=f,this.config=p,this.pendingRead=new Map,p.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(l,c,f,p){const g=this.toEncoderType(l),y=this.glContext.getEncoder(g,c.channels||1,p);if(c.isPacked&&p===1)throw new Error("not implemented");const b=c.width,h=c.height;let d,v;if(this.config.reuseTextures){d=`${b}x${h}_${y.format}_${y.internalFormat}_${y.textureType}`,v=this.inUseTextures.get(d),v||(v=[],this.inUseTextures.set(d,v));const A=this.idleTextures.get(d);if(A&&A.length>0){const I=A.pop();return v.push(I),p===1&&this.glContext.updateTexture(I,b,h,y,this.toTextureData(l,f)),I}}s.Logger.verbose("TextureManager",`Creating new texture of size ${c.width}x${c.height}`);const _=this.glContext.allocateTexture(b,h,y,this.toTextureData(l,f));return this.config.reuseTextures&&(v.push(_),this.textureLookup.set(_,d)),_}readTexture(l,c,f){return f||(f=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const p=l.shape.reduce((y,b)=>y*b)*f,g=this.glContext.readTexture(l.texture,l.width,l.height,p,this.toEncoderType(c),f);return this.toTensorData(c,g)})}async readTextureAsync(l,c,f){const p=l.tensor.dataId;if(f||(f=1),this.pendingRead.has(p)){const g=this.pendingRead.get(p);return new Promise(y=>g==null?void 0:g.push(y))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(p,[]);const g=l.shape.reduce((d,v)=>d*v)*f;await this.glContext.createAndWaitForFence();const y=this.glContext.readTexture(l.texture,l.width,l.height,g,this.toEncoderType(c),f),b=this.toTensorData(c,y),h=this.pendingRead.get(p);return this.pendingRead.delete(p),h==null||h.forEach(d=>d(b)),b})}readUint8TextureAsFloat(l){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const c=l.shape.reduce((p,g)=>p*g),f=this.glContext.readTexture(l.texture,l.width,l.height,4*c,"byte",4);return new Float32Array(f.buffer,f.byteOffset,c)})}releaseTexture(l,c){let f;if(this.config.reuseTextures&&(f=this.textureLookup.get(l.texture),f)){c&&this.textureLookup.delete(f);const p=this.inUseTextures.get(f);if(p){const g=p.indexOf(l.texture);if(g!==-1){p.splice(g,1);let y=this.idleTextures.get(f);y||(y=[],this.idleTextures.set(f,y)),y.push(l.texture)}}}f&&!c||(s.Logger.verbose("TextureManager",`Deleting texture of size ${l.width}x${l.height}`),this.glContext.deleteTexture(l.texture))}toTensorData(l,c){switch(l){case"int16":return c instanceof Int16Array?c:Int16Array.from(c);case"int32":return c instanceof Int32Array?c:Int32Array.from(c);case"int8":return c instanceof Int8Array?c:Int8Array.from(c);case"uint16":return c instanceof Uint16Array?c:Uint16Array.from(c);case"uint32":return c instanceof Uint32Array?c:Uint32Array.from(c);case"uint8":case"bool":return c instanceof Uint8Array?c:Uint8Array.from(c);case"float32":return c instanceof Float32Array?c:Float32Array.from(c);case"float64":return c instanceof Float64Array?c:Float64Array.from(c);default:throw new Error(`TensorData type ${l} is not supported`)}}toTextureData(l,c){if(c)return c instanceof Float32Array?c:new Float32Array(c)}toEncoderType(l){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(i,n)=>{var a;Object.defineProperty(n,"__esModule",{value:!0}),n.TextureType=void 0,(a=n.TextureType||(n.TextureType={}))[a.unpacked=0]="unpacked",a[a.unpackedReversed=1]="unpackedReversed",a[a.packed=2]="packed",a[a.downloadUint8AsFloat=3]="downloadUint8AsFloat",a[a.packedLastDimension=4]="packedLastDimension"},9390:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getGlChannels=n.getCoordsDataType=n.getSqueezedParams=n.squeezeInputShape=n.generateShaderFuncNameFromInputSamplerNameAtOutCoords=n.generateShaderFuncNameFromInputSamplerName=n.repeatedTry=n.getPackedShape=void 0;const s=a(2517);n.getPackedShape=function(l){const c=l.length;return l.slice(0,c-1).concat(l[c-1]/4)},n.repeatedTry=async function(l,c=p=>0,f){return new Promise((p,g)=>{let y=0;const b=()=>{if(l())return void p();y++;const h=c(y);f!=null&&y>=f?g():setTimeout(b,h)};b()})},n.generateShaderFuncNameFromInputSamplerName=function(l){return(0,s.assert)(l!==void 0&&l.length!==0,()=>"empty string found for sampler name"),"get"+l.charAt(0).toUpperCase()+l.slice(1)},n.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(l){return(0,s.assert)(l!==void 0&&l.length!==0,()=>"empty string found for sampler name"),"get"+l.charAt(0).toUpperCase()+l.slice(1)+"AtOutCoords"},n.squeezeInputShape=function(l,c){let f=JSON.parse(JSON.stringify(l));return f=c,f},n.getSqueezedParams=function(l,c){return c.map(f=>l[f]).join(", ")},n.getCoordsDataType=function(l){if(l<=1)return"int";if(l===2)return"ivec2";if(l===3)return"ivec3";if(l===4)return"ivec4";if(l===5)return"ivec5";if(l===6)return"ivec6";throw Error(`GPU for rank ${l} is not yet supported`)},n.getGlChannels=function(l=6){return["x","y","z","w","u","v"].slice(0,l)}},7305:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createNewWebGLContext=n.createWebGLContext=void 0;const s=a(6231),l=a(1713),c={};function f(p){const g=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const h=document.createElement("canvas");return h.width=1,h.height=1,h}();let y;const b={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!p||p==="webgl2")&&(y=g.getContext("webgl2",b),y))try{return new l.WebGLContext(y,2)}catch(h){s.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${h}`)}if((!p||p==="webgl")&&(y=g.getContext("webgl",b)||g.getContext("experimental-webgl",b),y))try{return new l.WebGLContext(y,1)}catch(h){s.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${h}`)}throw new Error("WebGL is not supported")}n.createWebGLContext=function p(g){let y;g&&g!=="webgl2"||!("webgl2"in c)?g&&g!=="webgl"||!("webgl"in c)||(y=c.webgl):y=c.webgl2,y=y||f(g),g=g||y.version===1?"webgl":"webgl2";const b=y.gl;return c[g]=y,b.isContextLost()?(delete c[g],p(g)):(b.disable(b.DEPTH_TEST),b.disable(b.STENCIL_TEST),b.disable(b.BLEND),b.disable(b.DITHER),b.disable(b.POLYGON_OFFSET_FILL),b.disable(b.SAMPLE_COVERAGE),b.enable(b.SCISSOR_TEST),b.enable(b.CULL_FACE),b.cullFace(b.BACK),y)},n.createNewWebGLContext=f},1713:function(i,n,a){var s=this&&this.__createBinding||(Object.create?function(b,h,d,v){v===void 0&&(v=d);var _=Object.getOwnPropertyDescriptor(h,d);_&&!("get"in _?!h.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(b,v,_)}:function(b,h,d,v){v===void 0&&(v=d),b[v]=h[d]}),l=this&&this.__setModuleDefault||(Object.create?function(b,h){Object.defineProperty(b,"default",{enumerable:!0,value:h})}:function(b,h){b.default=h}),c=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var h={};if(b!=null)for(var d in b)d!=="default"&&Object.prototype.hasOwnProperty.call(b,d)&&s(h,b,d);return l(h,b),h};Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLContext=n.linearSearchLastTrue=void 0;const f=a(1670),p=c(a(7769)),g=a(9390);function y(b){let h=0;for(;h<b.length&&b[h]();++h);return h-1}n.linearSearchLastTrue=y,n.WebGLContext=class{constructor(b,h){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=b,this.version=h,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(b,h,d,v){const _=this.gl,A=_.createTexture();_.bindTexture(_.TEXTURE_2D,A),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE);const I=v?d.encode(v,b*h):null;return _.texImage2D(_.TEXTURE_2D,0,d.internalFormat,b,h,0,d.format,d.textureType,I),this.checkError(),A}updateTexture(b,h,d,v,_){const A=this.gl;A.bindTexture(A.TEXTURE_2D,b);const I=v.encode(_,h*d);A.texSubImage2D(A.TEXTURE_2D,0,0,0,h,d,v.format,v.textureType,I),this.checkError()}attachFramebuffer(b,h,d){const v=this.gl;v.bindTexture(v.TEXTURE_2D,b),v.bindFramebuffer(v.FRAMEBUFFER,this.framebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,b,0),this.checkError(),v.viewport(0,0,h,d),v.scissor(0,0,h,d)}readTexture(b,h,d,v,_,A){const I=this.gl;A||(A=1),this.frameBufferBound||this.attachFramebuffer(b,h,d);const R=this.getEncoder(_,A),P=R.allocate(h*d);return I.bindTexture(I.TEXTURE_2D,b),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,b,0),I.readPixels(0,0,h,d,I.RGBA,R.textureType,P),this.checkError(),R.decode(P,v)}isFramebufferReady(){return!0}getActiveTexture(){const b=this.gl;return"TEXTURE"+(b.getParameter(this.gl.ACTIVE_TEXTURE)-b.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(b,h){const d=this.gl;d.vertexAttribPointer(b,3,d.FLOAT,!1,20,0),d.enableVertexAttribArray(b),h!==-1&&(d.vertexAttribPointer(h,2,d.FLOAT,!1,20,12),d.enableVertexAttribArray(h)),this.checkError()}createProgram(b,h){const d=this.gl,v=d.createProgram();return d.attachShader(v,b),d.attachShader(v,h),d.linkProgram(v),v}compileShader(b,h){const d=this.gl,v=d.createShader(h);if(!v)throw new Error(`createShader() returned null with type ${h}`);if(d.shaderSource(v,b),d.compileShader(v),d.getShaderParameter(v,d.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${d.getShaderInfoLog(v)}
Shader source:
${b}`);return v}deleteShader(b){this.gl.deleteShader(b)}bindTextureToUniform(b,h,d){const v=this.gl;v.activeTexture(v.TEXTURE0+h),this.checkError(),v.bindTexture(v.TEXTURE_2D,b),this.checkError(),v.uniform1i(d,h),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(f.env.debug){const b=this.gl,h=b.getError();let d="";switch(h){case b.NO_ERROR:return;case b.INVALID_ENUM:d="INVALID_ENUM";break;case b.INVALID_VALUE:d="INVALID_VALUE";break;case b.INVALID_OPERATION:d="INVALID_OPERATION";break;case b.INVALID_FRAMEBUFFER_OPERATION:d="INVALID_FRAMEBUFFER_OPERATION";break;case b.OUT_OF_MEMORY:d="OUT_OF_MEMORY";break;case b.CONTEXT_LOST_WEBGL:d="CONTEXT_LOST_WEBGL";break;default:d=`Unknown WebGL Error: ${h.toString(16)}`}throw new Error(d)}}deleteTexture(b){this.gl.deleteTexture(b)}deleteProgram(b){this.gl.deleteProgram(b)}getEncoder(b,h,d=0){if(this.version===2)return new p.RedFloat32DataEncoder(this.gl,h);switch(b){case"float":return d===1||this.isRenderFloat32Supported?new p.RGBAFloatDataEncoder(this.gl,h):new p.RGBAFloatDataEncoder(this.gl,h,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new p.Uint8DataEncoder(this.gl,h);default:throw new Error(`Invalid dataType: ${b}`)}}clearActiveTextures(){const b=this.gl;for(let h=0;h<this.maxTextureImageUnits;++h)b.activeTexture(b.TEXTURE0+h),b.bindTexture(b.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,null),b.deleteFramebuffer(this.framebuffer),b.bindBuffer(b.ARRAY_BUFFER,null),b.deleteBuffer(this.vertexbuffer),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null),b.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const b=this.gl,h=b.createBuffer();if(!h)throw new Error("createBuffer() returned null");const d=this.createDefaultGeometry();return b.bindBuffer(b.ARRAY_BUFFER,h),b.bufferData(b.ARRAY_BUFFER,d,b.STATIC_DRAW),this.checkError(),h}createFramebuffer(){const b=this.gl.createFramebuffer();if(!b)throw new Error("createFramebuffer returned null");return b}queryVitalParameters(){const b=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=b.getParameter(b.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const b=this.gl,h=b.createTexture();b.bindTexture(b.TEXTURE_2D,h);const d=this.version===2?b.RGBA32F:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,d,1,1,0,b.RGBA,b.FLOAT,null);const v=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,v),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,h,0);const _=b.checkFramebufferStatus(b.FRAMEBUFFER)===b.FRAMEBUFFER_COMPLETE;return b.bindTexture(b.TEXTURE_2D,null),b.bindFramebuffer(b.FRAMEBUFFER,null),b.deleteTexture(h),b.deleteFramebuffer(v),_}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const b=this.gl;let h,d,v,_,A;try{h=b.createTexture(),d=b.createFramebuffer(),b.bindTexture(b.TEXTURE_2D,h);const I=this.version===2?b.RGBA32F:b.RGBA;return b.texImage2D(b.TEXTURE_2D,0,I,1,1,0,b.RGBA,b.FLOAT,null),b.bindFramebuffer(b.FRAMEBUFFER,d),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,h,0),b.enable(b.BLEND),v=b.createShader(b.VERTEX_SHADER),!!v&&(b.shaderSource(v,"void main(){}"),b.compileShader(v),_=b.createShader(b.FRAGMENT_SHADER),!!_&&(b.shaderSource(_,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),b.compileShader(_),A=b.createProgram(),!!A&&(b.attachShader(A,v),b.attachShader(A,_),b.linkProgram(A),b.useProgram(A),b.drawArrays(b.POINTS,0,1),b.getError()===b.NO_ERROR)))}finally{b.disable(b.BLEND),A&&b.deleteProgram(A),v&&b.deleteShader(v),_&&b.deleteShader(_),d&&(b.bindFramebuffer(b.FRAMEBUFFER,null),b.deleteFramebuffer(d)),h&&(b.bindTexture(b.TEXTURE_2D,null),b.deleteTexture(h))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const b=this.gl,h=this.disjointTimerQueryWebgl2Extension,d=b.createQuery();return b.beginQuery(h.TIME_ELAPSED_EXT,d),d}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const b=this.gl,h=this.disjointTimerQueryWebgl2Extension;b.endQuery(h.TIME_ELAPSED_EXT)}}isTimerResultAvailable(b){let h=!1,d=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const v=this.gl,_=this.disjointTimerQueryWebgl2Extension;h=v.getQueryParameter(b,v.QUERY_RESULT_AVAILABLE),d=v.getParameter(_.GPU_DISJOINT_EXT)}return h&&!d}getTimerResult(b){let h=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const d=this.gl;h=d.getQueryParameter(b,d.QUERY_RESULT),d.deleteQuery(b)}return h/1e6}async waitForQueryAndGetTime(b){return await(0,g.repeatedTry)(()=>this.isTimerResultAvailable(b)),this.getTimerResult(b)}async createAndWaitForFence(){const b=this.createFence(this.gl);return this.pollFence(b)}createFence(b){let h;const d=b,v=d.fenceSync(d.SYNC_GPU_COMMANDS_COMPLETE,0);return b.flush(),h=v===null?()=>!0:()=>{const _=d.clientWaitSync(v,0,0);return _===d.ALREADY_SIGNALED||_===d.CONDITION_SATISFIED},{query:v,isFencePassed:h}}async pollFence(b){return new Promise(h=>{this.addItemToPoll(()=>b.isFencePassed(),()=>h())})}pollItems(){const b=y(this.itemsToPoll.map(h=>h.isDoneFn));for(let h=0;h<=b;++h){const{resolveFn:d}=this.itemsToPoll[h];d()}this.itemsToPoll=this.itemsToPoll.slice(b+1)}async addItemToPoll(b,h){this.itemsToPoll.push({isDoneFn:b,resolveFn:h}),this.itemsToPoll.length>1||await(0,g.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},1036:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExecutionPlan=void 0;const s=a(6231);class l{constructor(f,p){this.op=f,this.node=p}}n.ExecutionPlan=class{constructor(c,f,p){this.graph=c,this.profiler=p,this.initialize(f)}initialize(c){this.profiler.event("session","ExecutionPlan.initialize",()=>{const f=this.graph.getNodes();if(f.length!==c.length)throw new Error("The size of nodes and OPs do not match.");this._ops=c.map((p,g)=>new l(p,f[g])),this.reset(),this._starter=[],this._ops.forEach((p,g)=>{let y=!0;for(const b of p.node.inputs)if(!this._values[b]&&this.graph.getInputIndices().indexOf(b)===-1){y=!1;break}y&&this._starter.push(g)})})}reset(){this._values=this.graph.getValues().map(c=>c.tensor)}async execute(c,f){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const p=c.createInferenceHandler(),g=this.graph.getInputIndices();if(f.length!==g.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${f.length} expected: ${g.length}`);f.forEach((_,A)=>{const I=g[A];this._values[I]=_});const y=this._starter.slice(0),b=this.graph.getValues(),h=this.graph.getNodes();let d=0;for(;d<y.length;){const _=y[d++],A=this._ops[_],I=A.node.inputs.map(M=>this._values[M]);if(I.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${A.node}`);const R=I;s.Logger.verbose("ExecPlan",`Runing op:${A.node.name} (${R.map((M,B)=>`'${A.node.inputs[B]}': ${M.type}[${M.dims.join(",")}]`).join(", ")})`);const P=await this.profiler.event("node",A.node.name,async()=>A.op.impl(p,R,A.op.context));if(P.length!==A.node.outputs.length)throw new Error("the size of output does not match model definition.");P.forEach((M,B)=>{const F=A.node.outputs[B];if(this._values[F])throw new Error(`output [${F}] already has value: op:${A.node.name}`);this._values[F]=M});const $=new Set;P.forEach((M,B)=>{const F=A.node.outputs[B];for(const q of b[F].to){const H=h[q];let z=!0;for(const L of H.inputs)if(!this._values[L]){z=!1;break}z&&$.add(q)}}),y.push(...$)}const v=[];for(let _=0;_<this.graph.getOutputIndices().length;_++){const A=this.graph.getOutputIndices()[_],I=this._values[A];if(I===void 0)throw new Error(`required output [${A}] does not have value`);A===0?await I.getData():I.data,v.push(I)}return s.Logger.verbose("ExecPlan","disposing of inferenceHandler"),p.dispose(),v})}}},7070:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Graph=void 0;const s=a(1446),l=a(7778),c=a(9395),f=a(9162),p=a(2517);var g=c.onnxruntime.experimental.fbs;n.Graph={from:(d,v)=>new h(d,v)};class y{constructor(v){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,v&&(this.type=p.ProtoUtil.tensorValueTypeFromProto(v.type.tensorType))}get from(){return this._from}get to(){return this._to}}class b{constructor(v,_){v instanceof s.onnx.NodeProto?(this.name=v.name,this.opType=v.opType,this.attributes=new l.Attribute(v.attribute)):v instanceof g.Node&&(this.name=_??v.name(),this.opType=v.opType(),this.attributes=new l.Attribute(p.ProtoUtil.tensorAttributesFromORTFormat(v))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class h{constructor(v,_){if(!v)throw new TypeError("graph is empty");this.buildGraph(v),this.transformGraph(_),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(v){if(v instanceof s.onnx.GraphProto)this.buildGraphFromOnnxFormat(v);else{if(!(v instanceof g.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(v)}}buildGraphFromOnnxFormat(v){const _=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const A=new Map;if(!v.input)throw new Error("missing information in graph: input");const I=[];for(const R of v.input){if(_.has(R.name))throw new Error(`duplicated input name: ${R.name}`);const P=this._allData.push(new y(R))-1;_.set(R.name,P),I.push(R.name)}if(!v.initializer)throw new Error("missing information in graph: initializer");for(const R of v.initializer){let P=_.get(R.name);if(P===void 0){const $=new y;$.type={shape:{dims:p.ProtoUtil.tensorDimsFromProto(R.dims)},tensorType:p.ProtoUtil.tensorDataTypeFromProto(R.dataType)},P=this._allData.push($)-1,_.set(R.name,P)}this._allData[P]._from=-1,this._allData[P].tensor=f.Tensor.fromProto(R)}for(let R=0;R<this._allData.length;R++)this._allData[R].tensor||(this._allInputIndices.push(R),this._allInputNames.push(I[R]));if(!v.output)throw new Error("missing information in graph: output");for(const R of v.output){if(_.has(R.name))throw new Error(`duplicated output name: ${R.name}`);const P=this._allData.push(new y(R))-1;_.set(R.name,P),this._allOutputIndices.push(P),this._allOutputNames.push(R.name)}if(!v.node)throw new Error("missing information in graph: node");for(const R of v.node){if(!R.name)for(let $=0;;$++){const M=`unnamed_${R.opType}_${$}`;if(!A.has(M)){R.name=M;break}}if(A.has(R.name))throw new Error(`duplicated node name: ${R.name}`);const P=this._nodes.push(new b(R))-1;A.set(R.name,P)}for(let R=0;R<this._nodes.length;R++){const P=this._nodes[R],$=v.node[R];if(!$.output)throw new Error(`missing output for node: ${$.name}`);for(const M of $.output){let B=_.get(M);if(B===void 0&&(B=this._allData.push(new y)-1,_.set(M,B)),P.outputs.push(B),this._allData[B]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${B}`);if(this._allData[B]._from=R,$.opType==="Constant"){if(!$.attribute||$.attribute.length!==1||!$.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!$.output||$.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");P.outputs.pop(),P.executeNode=!1,this._allData[B]._from=-1,this._allData[B].tensor=f.Tensor.fromProto($.attribute[0].t)}}}for(let R=0;R<this._nodes.length;R++){const P=this._nodes[R],$=v.node[R];if(!$.input)throw new Error(`missing input for node: ${$.name}`);for(const M of $.input){const B=_.get(M);if(B===void 0){if(M===""&&$.input.length===3&&$.opType==="Resize")continue;throw new Error(`unrecognized input '${M}' for node: ${$.name}`)}P.inputs.push(B),this._allData[B]._to.push(R)}}return!0}buildGraphFromOrtFormat(v){var _,A,I;const R=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const P=new Map,$=[];for(let M=0;M<v.inputsLength();M++){const B=v.inputs(M);if(R.has(B))throw new Error(`duplicated input name: ${B}`);for(let F=0;F<v.nodeArgsLength();F++)if(((_=v.nodeArgs(F))===null||_===void 0?void 0:_.name())===B){const q=new y;if(((I=(A=v.nodeArgs(F))===null||A===void 0?void 0:A.type())===null||I===void 0?void 0:I.valueType())!==g.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const H=v.nodeArgs(F).type().value(new g.TensorTypeAndShape),z=p.ProtoUtil.tensorDataTypeFromProto(H.elemType()),L=H.shape(),ee=[];for(let V=0;V<L.dimLength();V++)ee.push(p.LongUtil.longToNumber(L.dim(V).value().dimValue()));q.type={shape:{dims:ee},tensorType:z};const Z=this._allData.push(q)-1;R.set(B,Z),$.push(B)}}for(let M=0;M<v.initializersLength();M++){const B=v.initializers(M);let F=R.get(B.name());if(F===void 0){const q=new y,H=p.ProtoUtil.tensorDimsFromORTFormat(B),z=p.ProtoUtil.tensorDataTypeFromProto(B.dataType());q.type={shape:{dims:H},tensorType:z},F=this._allData.push(q)-1,R.set(B.name(),F)}this._allData[F]._from=-1,this._allData[F].tensor=f.Tensor.fromOrtTensor(B)}for(let M=0;M<this._allData.length;M++)this._allData[M].tensor||(this._allInputIndices.push(M),this._allInputNames.push($[M]));for(let M=0;M<v.outputsLength();M++){const B=v.outputs(M);if(R.has(B))throw new Error(`duplicated output name: ${B}`);const F=this._allData.push(new y)-1;R.set(B,F),this._allOutputIndices.push(F),this._allOutputNames.push(B)}if(!v.nodes)throw new Error("missing information in graph: node");for(let M=0;M<v.nodesLength();M++){const B=v.nodes(M);let F=B.name();if(!F)for(let H=0;F=`unnamed_${B.opType()}_${H}`,P.has(F);H++);if(P.has(F))throw new Error(`duplicated node name: ${F}`);const q=this._nodes.push(new b(B,F))-1;P.set(F,q)}for(let M=0;M<this._nodes.length;M++){const B=this._nodes[M],F=v.nodes(M);if(F==null)throw new Error(`No node exists at index ${M}`);if((F==null?void 0:F.outputsLength())===0)throw new Error(`missing output for node: ${F.name}`);for(let q=0;q<(F==null?void 0:F.outputsLength());q++){const H=F==null?void 0:F.outputs(q);let z=R.get(H);if(z===void 0&&(z=this._allData.push(new y)-1,R.set(H,z)),B.outputs.push(z),this._allData[z]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${z}`);if(this._allData[z]._from=M,F.opType()==="Constant"){if(F.attributesLength()!==1||!F.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(F.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");B.outputs.pop(),B.executeNode=!1,this._allData[z]._from=-1,this._allData[z].tensor=f.Tensor.fromOrtTensor(F.attributes(0).t())}}}for(let M=0;M<this._nodes.length;M++){const B=this._nodes[M],F=v.nodes(M);if(F.inputsLength()===0)throw new Error(`missing input for node: ${F.name}`);for(let q=0;q<F.inputsLength();q++){const H=F.inputs(q),z=R.get(H);if(z===void 0)throw new Error(`unrecognized input '${H}' for node: ${F.name()}`);B.inputs.push(z),this._allData[z]._to.push(M)}}}checkIsAcyclic(){const v=new Set;this._allInputIndices.forEach(I=>{this._allData[I]._to.forEach(R=>{v.add(R)})});const _=Array.from(v),A=new Array(this._nodes.length).fill("white");for(;_.length>0;){const I=_.pop();A[I]==="gray"?A[I]="black":(_.push(I),A[I]="gray",this._nodes[I].outputs.forEach(R=>{const P=this._allData[R];if(P.tensor!==void 0)throw new Error("node outputs should not be initialized");if(P._from!==I)throw new Error("from property of the Value object doesn't match index of Node being processed");P._to.forEach($=>{if(A[$]==="gray")throw new Error("model graph is cyclic");A[$]==="white"&&_.push($)})}))}}transformGraph(v){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),v&&v.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let v=0;for(let _=0;_<this._nodes.length;_++)this._nodes[_].executeNode?v>0&&(this._nodes[_].inputs.forEach(A=>{const I=this._allData[A]._to.indexOf(_+v);I!==-1&&(this._allData[A]._to[I]=_)}),this._nodes[_].outputs.forEach(A=>{this._allData[A]._from&&this._allData[A]._from===_+v&&(this._allData[A]._from=_)})):(v++,this._nodes[_].outputs.forEach(A=>{this._allData[A]._from=-2}),this._nodes.splice(_,1),_--);v=0;for(let _=0;_<this._allData.length;_++)if(this._allData[_].from!==-2||this._allOutputIndices.indexOf(_+v)!==-1){if(v>0){let A=-1;this._allData[_].from!==void 0&&this._allData[_].from!==-1?(A=this._nodes[this._allData[_].from].outputs.indexOf(_+v),A!==-1&&(this._nodes[this._allData[_].from].outputs[A]=_)):(A=this._allInputIndices.indexOf(_+v),A!==-1&&(this._allInputIndices[A]=_)),this._allData[_].to.forEach(I=>{A=this._nodes[I].inputs.indexOf(_+v),A!==-1&&(this._nodes[I].inputs[A]=_)}),this._allData[_].to.length===0&&(A=this._allOutputIndices.indexOf(_+v),A!==-1&&(this._allOutputIndices[A]=_))}}else v++,this._allData.splice(_,1),_--}deleteNode(v){const _=this._nodes[v];if(_.outputs.length>1){for(let M=1;M<_.outputs.length;M++)if(this._allData[_.outputs[M]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}_.executeNode=!1;const A=_.inputs[0],I=_.outputs[0],R=this._allData[I].to,P=this._allData[A].to.indexOf(v);if(P===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[A].to.splice(P,1),this._allData[I]._to=[];const $=this._allOutputIndices.indexOf(I);if($!==-1&&(this._allOutputIndices[$]=A),R&&R.length>0)for(const M of R){const B=this._nodes[M].inputs.indexOf(I);if(B===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[M].inputs[B]=A,this._allData[A].to.push(M)}}removeAllDropoutNodes(){let v=0;for(const _ of this._nodes){if(_.opType==="Dropout"){if(_.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(_.outputs.length!==1&&_.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(_.outputs.length===2&&this._allData[_.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(v)}v++}}removeAllIdentityNodes(){let v=0;for(const _ of this._nodes)_.opType==="Identity"&&this.deleteNode(v),v++}isActivation(v){switch(v.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const v of this._nodes)if(v.opType==="Conv"){const _=this._allData[v.outputs[0]]._to;if(_.length===1&&this.isActivation(this._nodes[_[0]])){const A=this._nodes[_[0]];if(A.opType==="Clip")if(A.inputs.length===1)try{v.attributes.set("activation_params","floats",[A.attributes.getFloat("min"),A.attributes.getFloat("max")])}catch{v.attributes.set("activation_params","floats",[p.MIN_CLIP,p.MAX_CLIP])}else{if(!(A.inputs.length>=3&&this._allData[A.inputs[1]].tensor!==void 0&&this._allData[A.inputs[2]].tensor!==void 0))continue;v.attributes.set("activation_params","floats",[this._allData[A.inputs[1]].tensor.floatData[0],this._allData[A.inputs[2]].tensor.floatData[0]])}v.attributes.set("activation","string",A.opType),this.deleteNode(_[0])}}}}},6231:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.now=n.Profiler=n.Logger=void 0;const a={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},s={none:new class{log(b,h,d){}},console:new class{log(b,h,d){console.log(`${this.color(b)} ${d?"\x1B[35m"+d+"\x1B[0m ":""}${h}`)}color(b){switch(b){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${b}`)}}}},l={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let c={"":l};function f(b,h,d,v){if(h===void 0)return _=b,{verbose:f.verbose.bind(null,_),info:f.info.bind(null,_),warning:f.warning.bind(null,_),error:f.error.bind(null,_),fatal:f.fatal.bind(null,_)};if(d===void 0)p(b,h);else if(typeof d=="number"&&v===void 0)p(b,h);else if(typeof d=="string"&&v===void 0)p(b,d,0,h);else{if(typeof d!="string"||typeof v!="number")throw new TypeError("input is valid");p(b,d,0,h)}var _}function p(b,h,d,v){const _=c[v||""]||c[""];a[b]<a[_.minimalSeverity]||(_.logDateTime&&(h=`${new Date().toISOString()}|${h}`),_.logSourceLocation,s[_.provider].log(b,h,v))}(function(b){function h(v){c={},d("",v||{})}function d(v,_){if(v==="*")h(_);else{const A=c[v]||l;c[v]={provider:_.provider||A.provider,minimalSeverity:_.minimalSeverity||A.minimalSeverity,logDateTime:_.logDateTime===void 0?A.logDateTime:_.logDateTime,logSourceLocation:_.logSourceLocation===void 0?A.logSourceLocation:_.logSourceLocation}}}b.verbose=function(v,_){b("verbose",v,_)},b.info=function(v,_){b("info",v,_)},b.warning=function(v,_){b("warning",v,_)},b.error=function(v,_){b("error",v,_)},b.fatal=function(v,_){b("fatal",v,_)},b.reset=h,b.set=d,b.setWithEnv=function(v){const _={};v.logLevel&&(_.minimalSeverity=v.logLevel),d("",_)}})(f),n.Logger=f;class g{constructor(h,d,v,_,A,I){this.category=h,this.name=d,this.startTime=v,this.endCallback=_,this.timer=A,this.ctx=I}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class y{constructor(h,d,v,_){this.category=h,this.name=d,this.startTime=v,this.endTime=_}}n.Profiler=class{static create(b){return b===void 0?new this:new this(b.maxNumberEvents,b.flushBatchSize,b.flushIntervalInMilliseconds)}constructor(b,h,d){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=b===void 0?1e4:b,this._flushBatchSize=h===void 0?10:h,this._flushIntervalInMilliseconds=d===void 0?5e3:d}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,n.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(b,h,d,v){const _=this._started?this.begin(b,h,v):void 0;let A=!1;const I=d();if(I&&typeof I.then=="function")return A=!0,new Promise((R,P)=>{I.then(async $=>{_&&await _.end(),R($)},async $=>{_&&await _.end(),P($)})});if(!A&&_){const R=_.end();if(R&&typeof R.then=="function")return new Promise((P,$)=>{R.then(()=>{P(I)},M=>{$(M)})})}return I}begin(b,h,d){if(!this._started)throw new Error("profiler is not started yet");if(d===void 0){const v=(0,n.now)();return this.flush(v),new g(b,h,v,_=>this.endSync(_))}{const v=d.beginTimer();return new g(b,h,0,async _=>this.end(_),v,d)}}async end(b){const h=await b.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new y(b.category,b.name,b.startTime,h)),this.flush(h))}endSync(b){const h=(0,n.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new y(b.category,b.name,b.startTime,h)),this.flush(h))}logOneEvent(b){n.Logger.verbose(`Profiler.${b.category}`,`${(b.endTime-b.startTime).toFixed(2)}ms on event '${b.name}' at ${b.endTime.toFixed(2)}`)}flush(b){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||b-this._flushTime>=this._flushIntervalInMilliseconds){for(const h=this._flushPointer;this._flushPointer<h+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,n.now)()}}get started(){return this._started}},n.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Model=void 0;const s=a(5686),l=a(1446),c=a(7070),f=a(9395),p=a(2517);var g=f.onnxruntime.experimental.fbs;n.Model=class{constructor(){}load(y,b,h){if(!h)try{return void this.loadFromOnnxFormat(y,b)}catch(d){if(h!==void 0)throw d}this.loadFromOrtFormat(y,b)}loadFromOnnxFormat(y,b){const h=l.onnx.ModelProto.decode(y);if(p.LongUtil.longToNumber(h.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=h.opsetImport.map(d=>({domain:d.domain,version:p.LongUtil.longToNumber(d.version)})),this._graph=c.Graph.from(h.graph,b)}loadFromOrtFormat(y,b){const h=new s.flatbuffers.ByteBuffer(y),d=g.InferenceSession.getRootAsInferenceSession(h).model();if(p.LongUtil.longToNumber(d.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let v=0;v<d.opsetImportLength();v++){const _=d.opsetImport(v);this._opsets.push({domain:_==null?void 0:_.domain(),version:p.LongUtil.longToNumber(_.version())})}this._graph=c.Graph.from(d.graph(),b)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FLOAT_TYPES=n.INT_TYPES=n.NUMBER_TYPES=void 0,n.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],n.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],n.FLOAT_TYPES=["float32","float64"]},1047:(i,n)=>{function a(s,l){if(l.endsWith("+")){const c=Number.parseInt(l.substring(0,l.length-1),10);return!isNaN(c)&&c<=s}if(l.split("-").length===2){const c=l.split("-"),f=Number.parseInt(c[0],10),p=Number.parseInt(c[1],10);return!isNaN(f)&&!isNaN(p)&&f<=s&&s<=p}return Number.parseInt(l,10)===s}Object.defineProperty(n,"__esModule",{value:!0}),n.resolveOperator=void 0,n.resolveOperator=function(s,l,c){for(const f of c){const p=f[0],g=f[1],y=f[2],b=f[3],h=f[4];if(s.opType===p){for(const d of l)if((d.domain===g||d.domain==="ai.onnx"&&g==="")&&a(d.version,y))return{opImpl:b,opInit:h}}}throw new TypeError(`cannot resolve operator '${s.opType}' with opsets: ${l.map(f=>`${f.domain||"ai.onnx"} v${f.version}`).join(", ")}`)}},9395:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.onnxruntime=void 0;const s=a(5686);var l,c;l=n.onnxruntime||(n.onnxruntime={}),function(f){(function(p){p[p.UNDEFINED=0]="UNDEFINED",p[p.FLOAT=1]="FLOAT",p[p.INT=2]="INT",p[p.STRING=3]="STRING",p[p.TENSOR=4]="TENSOR",p[p.GRAPH=5]="GRAPH",p[p.FLOATS=6]="FLOATS",p[p.INTS=7]="INTS",p[p.STRINGS=8]="STRINGS",p[p.TENSORS=9]="TENSORS",p[p.GRAPHS=10]="GRAPHS",p[p.SPARSE_TENSOR=11]="SPARSE_TENSOR",p[p.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(f.AttributeType||(f.AttributeType={}))}((c=l.experimental||(l.experimental={})).fbs||(c.fbs={})),function(f){(function(p){(function(g){(function(y){y[y.UNKNOWN=0]="UNKNOWN",y[y.VALUE=1]="VALUE",y[y.PARAM=2]="PARAM"})(g.DimensionValueType||(g.DimensionValueType={}))})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){(function(y){y[y.UNDEFINED=0]="UNDEFINED",y[y.FLOAT=1]="FLOAT",y[y.UINT8=2]="UINT8",y[y.INT8=3]="INT8",y[y.UINT16=4]="UINT16",y[y.INT16=5]="INT16",y[y.INT32=6]="INT32",y[y.INT64=7]="INT64",y[y.STRING=8]="STRING",y[y.BOOL=9]="BOOL",y[y.FLOAT16=10]="FLOAT16",y[y.DOUBLE=11]="DOUBLE",y[y.UINT32=12]="UINT32",y[y.UINT64=13]="UINT64",y[y.COMPLEX64=14]="COMPLEX64",y[y.COMPLEX128=15]="COMPLEX128",y[y.BFLOAT16=16]="BFLOAT16"})(g.TensorDataType||(g.TensorDataType={}))})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){(function(y){y[y.Primitive=0]="Primitive",y[y.Fused=1]="Fused"})(g.NodeType||(g.NodeType={}))})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){(function(y){y[y.NONE=0]="NONE",y[y.tensor_type=1]="tensor_type",y[y.sequence_type=2]="sequence_type",y[y.map_type=3]="map_type"})(g.TypeInfoValue||(g.TypeInfoValue={}))})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsShape(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsShape(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}dim(h,d){let v=this.bb.__offset(this.bb_pos,4);return v?(d||new f.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}dimLength(){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__vector_len(this.bb_pos+h):0}static startShape(h){h.startObject(1)}static addDim(h,d){h.addFieldOffset(0,d,0)}static createDimVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startDimVector(h,d){h.startVector(4,d,4)}static endShape(h){return h.endObject()}static createShape(h,d){return y.startShape(h),y.addDim(h,d),y.endShape(h)}}g.Shape=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsDimension(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsDimension(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}value(h){let d=this.bb.__offset(this.bb_pos,4);return d?(h||new f.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}denotation(h){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,h):null}static startDimension(h){h.startObject(2)}static addValue(h,d){h.addFieldOffset(0,d,0)}static addDenotation(h,d){h.addFieldOffset(1,d,0)}static endDimension(h){return h.endObject()}static createDimension(h,d,v){return y.startDimension(h),y.addValue(h,d),y.addDenotation(h,v),y.endDimension(h)}}g.Dimension=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsDimensionValue(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsDimensionValue(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}dimType(){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.readInt8(this.bb_pos+h):f.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.readInt64(this.bb_pos+h):this.bb.createLong(0,0)}dimParam(h){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__string(this.bb_pos+d,h):null}static startDimensionValue(h){h.startObject(3)}static addDimType(h,d){h.addFieldInt8(0,d,f.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(h,d){h.addFieldInt64(1,d,h.createLong(0,0))}static addDimParam(h,d){h.addFieldOffset(2,d,0)}static endDimensionValue(h){return h.endObject()}static createDimensionValue(h,d,v,_){return y.startDimensionValue(h),y.addDimType(h,d),y.addDimValue(h,v),y.addDimParam(h,_),y.endDimensionValue(h)}}g.DimensionValue=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsTensorTypeAndShape(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsTensorTypeAndShape(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}elemType(){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.readInt32(this.bb_pos+h):f.experimental.fbs.TensorDataType.UNDEFINED}shape(h){let d=this.bb.__offset(this.bb_pos,6);return d?(h||new f.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startTensorTypeAndShape(h){h.startObject(2)}static addElemType(h,d){h.addFieldInt32(0,d,f.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(h,d){h.addFieldOffset(1,d,0)}static endTensorTypeAndShape(h){return h.endObject()}static createTensorTypeAndShape(h,d,v){return y.startTensorTypeAndShape(h),y.addElemType(h,d),y.addShape(h,v),y.endTensorTypeAndShape(h)}}g.TensorTypeAndShape=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsMapType(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsMapType(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}keyType(){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.readInt32(this.bb_pos+h):f.experimental.fbs.TensorDataType.UNDEFINED}valueType(h){let d=this.bb.__offset(this.bb_pos,6);return d?(h||new f.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startMapType(h){h.startObject(2)}static addKeyType(h,d){h.addFieldInt32(0,d,f.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(h,d){h.addFieldOffset(1,d,0)}static endMapType(h){return h.endObject()}static createMapType(h,d,v){return y.startMapType(h),y.addKeyType(h,d),y.addValueType(h,v),y.endMapType(h)}}g.MapType=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsSequenceType(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsSequenceType(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}elemType(h){let d=this.bb.__offset(this.bb_pos,4);return d?(h||new f.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startSequenceType(h){h.startObject(1)}static addElemType(h,d){h.addFieldOffset(0,d,0)}static endSequenceType(h){return h.endObject()}static createSequenceType(h,d){return y.startSequenceType(h),y.addElemType(h,d),y.endSequenceType(h)}}g.SequenceType=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(p.fbs||(p.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(g,y){return this.bb_pos=g,this.bb=y,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(g,y,b,h){return g.prep(4,12),g.writeInt32(h),g.writeInt32(b),g.writeInt32(y),g.offset()}}})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsNodeEdge(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsNodeEdge(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}nodeIndex(){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.readUint32(this.bb_pos+h):0}inputEdges(h,d){let v=this.bb.__offset(this.bb_pos,6);return v?(d||new f.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+v)+12*h,this.bb):null}inputEdgesLength(){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__vector_len(this.bb_pos+h):0}outputEdges(h,d){let v=this.bb.__offset(this.bb_pos,8);return v?(d||new f.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+v)+12*h,this.bb):null}outputEdgesLength(){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.__vector_len(this.bb_pos+h):0}static startNodeEdge(h){h.startObject(3)}static addNodeIndex(h,d){h.addFieldInt32(0,d,0)}static addInputEdges(h,d){h.addFieldOffset(1,d,0)}static startInputEdgesVector(h,d){h.startVector(12,d,4)}static addOutputEdges(h,d){h.addFieldOffset(2,d,0)}static startOutputEdgesVector(h,d){h.startVector(12,d,4)}static endNodeEdge(h){return h.endObject()}static createNodeEdge(h,d,v,_){return y.startNodeEdge(h),y.addNodeIndex(h,d),y.addInputEdges(h,v),y.addOutputEdges(h,_),y.endNodeEdge(h)}}g.NodeEdge=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsNode(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsNode(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}name(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,h):null}docString(h){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,h):null}domain(h){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__string(this.bb_pos+d,h):null}sinceVersion(){let h=this.bb.__offset(this.bb_pos,10);return h?this.bb.readInt32(this.bb_pos+h):0}index(){let h=this.bb.__offset(this.bb_pos,12);return h?this.bb.readUint32(this.bb_pos+h):0}opType(h){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__string(this.bb_pos+d,h):null}type(){let h=this.bb.__offset(this.bb_pos,16);return h?this.bb.readInt32(this.bb_pos+h):f.experimental.fbs.NodeType.Primitive}executionProviderType(h){let d=this.bb.__offset(this.bb_pos,18);return d?this.bb.__string(this.bb_pos+d,h):null}inputs(h,d){let v=this.bb.__offset(this.bb_pos,20);return v?this.bb.__string(this.bb.__vector(this.bb_pos+v)+4*h,d):null}inputsLength(){let h=this.bb.__offset(this.bb_pos,20);return h?this.bb.__vector_len(this.bb_pos+h):0}outputs(h,d){let v=this.bb.__offset(this.bb_pos,22);return v?this.bb.__string(this.bb.__vector(this.bb_pos+v)+4*h,d):null}outputsLength(){let h=this.bb.__offset(this.bb_pos,22);return h?this.bb.__vector_len(this.bb_pos+h):0}attributes(h,d){let v=this.bb.__offset(this.bb_pos,24);return v?(d||new f.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}attributesLength(){let h=this.bb.__offset(this.bb_pos,24);return h?this.bb.__vector_len(this.bb_pos+h):0}inputArgCounts(h){let d=this.bb.__offset(this.bb_pos,26);return d?this.bb.readInt32(this.bb.__vector(this.bb_pos+d)+4*h):0}inputArgCountsLength(){let h=this.bb.__offset(this.bb_pos,26);return h?this.bb.__vector_len(this.bb_pos+h):0}inputArgCountsArray(){let h=this.bb.__offset(this.bb_pos,26);return h?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+h),this.bb.__vector_len(this.bb_pos+h)):null}implicitInputs(h,d){let v=this.bb.__offset(this.bb_pos,28);return v?this.bb.__string(this.bb.__vector(this.bb_pos+v)+4*h,d):null}implicitInputsLength(){let h=this.bb.__offset(this.bb_pos,28);return h?this.bb.__vector_len(this.bb_pos+h):0}static startNode(h){h.startObject(13)}static addName(h,d){h.addFieldOffset(0,d,0)}static addDocString(h,d){h.addFieldOffset(1,d,0)}static addDomain(h,d){h.addFieldOffset(2,d,0)}static addSinceVersion(h,d){h.addFieldInt32(3,d,0)}static addIndex(h,d){h.addFieldInt32(4,d,0)}static addOpType(h,d){h.addFieldOffset(5,d,0)}static addType(h,d){h.addFieldInt32(6,d,f.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(h,d){h.addFieldOffset(7,d,0)}static addInputs(h,d){h.addFieldOffset(8,d,0)}static createInputsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startInputsVector(h,d){h.startVector(4,d,4)}static addOutputs(h,d){h.addFieldOffset(9,d,0)}static createOutputsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startOutputsVector(h,d){h.startVector(4,d,4)}static addAttributes(h,d){h.addFieldOffset(10,d,0)}static createAttributesVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startAttributesVector(h,d){h.startVector(4,d,4)}static addInputArgCounts(h,d){h.addFieldOffset(11,d,0)}static createInputArgCountsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addInt32(d[v]);return h.endVector()}static startInputArgCountsVector(h,d){h.startVector(4,d,4)}static addImplicitInputs(h,d){h.addFieldOffset(12,d,0)}static createImplicitInputsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startImplicitInputsVector(h,d){h.startVector(4,d,4)}static endNode(h){return h.endObject()}static createNode(h,d,v,_,A,I,R,P,$,M,B,F,q,H){return y.startNode(h),y.addName(h,d),y.addDocString(h,v),y.addDomain(h,_),y.addSinceVersion(h,A),y.addIndex(h,I),y.addOpType(h,R),y.addType(h,P),y.addExecutionProviderType(h,$),y.addInputs(h,M),y.addOutputs(h,B),y.addAttributes(h,F),y.addInputArgCounts(h,q),y.addImplicitInputs(h,H),y.endNode(h)}}g.Node=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsValueInfo(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsValueInfo(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}name(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,h):null}docString(h){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,h):null}type(h){let d=this.bb.__offset(this.bb_pos,8);return d?(h||new f.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startValueInfo(h){h.startObject(3)}static addName(h,d){h.addFieldOffset(0,d,0)}static addDocString(h,d){h.addFieldOffset(1,d,0)}static addType(h,d){h.addFieldOffset(2,d,0)}static endValueInfo(h){return h.endObject()}static createValueInfo(h,d,v,_){return y.startValueInfo(h),y.addName(h,d),y.addDocString(h,v),y.addType(h,_),y.endValueInfo(h)}}g.ValueInfo=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsTypeInfo(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsTypeInfo(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}denotation(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,h):null}valueType(){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.readUint8(this.bb_pos+h):f.experimental.fbs.TypeInfoValue.NONE}value(h){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__union(h,this.bb_pos+d):null}static startTypeInfo(h){h.startObject(3)}static addDenotation(h,d){h.addFieldOffset(0,d,0)}static addValueType(h,d){h.addFieldInt8(1,d,f.experimental.fbs.TypeInfoValue.NONE)}static addValue(h,d){h.addFieldOffset(2,d,0)}static endTypeInfo(h){return h.endObject()}static createTypeInfo(h,d,v,_){return y.startTypeInfo(h),y.addDenotation(h,d),y.addValueType(h,v),y.addValue(h,_),y.endTypeInfo(h)}}g.TypeInfo=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsOperatorSetId(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsOperatorSetId(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}domain(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,h):null}version(){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.readInt64(this.bb_pos+h):this.bb.createLong(0,0)}static startOperatorSetId(h){h.startObject(2)}static addDomain(h,d){h.addFieldOffset(0,d,0)}static addVersion(h,d){h.addFieldInt64(1,d,h.createLong(0,0))}static endOperatorSetId(h){return h.endObject()}static createOperatorSetId(h,d,v){return y.startOperatorSetId(h),y.addDomain(h,d),y.addVersion(h,v),y.endOperatorSetId(h)}}g.OperatorSetId=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsTensor(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsTensor(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}name(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,h):null}docString(h){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,h):null}dims(h){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readInt64(this.bb.__vector(this.bb_pos+d)+8*h):this.bb.createLong(0,0)}dimsLength(){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.__vector_len(this.bb_pos+h):0}dataType(){let h=this.bb.__offset(this.bb_pos,10);return h?this.bb.readInt32(this.bb_pos+h):f.experimental.fbs.TensorDataType.UNDEFINED}rawData(h){let d=this.bb.__offset(this.bb_pos,12);return d?this.bb.readUint8(this.bb.__vector(this.bb_pos+d)+h):0}rawDataLength(){let h=this.bb.__offset(this.bb_pos,12);return h?this.bb.__vector_len(this.bb_pos+h):0}rawDataArray(){let h=this.bb.__offset(this.bb_pos,12);return h?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+h),this.bb.__vector_len(this.bb_pos+h)):null}stringData(h,d){let v=this.bb.__offset(this.bb_pos,14);return v?this.bb.__string(this.bb.__vector(this.bb_pos+v)+4*h,d):null}stringDataLength(){let h=this.bb.__offset(this.bb_pos,14);return h?this.bb.__vector_len(this.bb_pos+h):0}static startTensor(h){h.startObject(6)}static addName(h,d){h.addFieldOffset(0,d,0)}static addDocString(h,d){h.addFieldOffset(1,d,0)}static addDims(h,d){h.addFieldOffset(2,d,0)}static createDimsVector(h,d){h.startVector(8,d.length,8);for(let v=d.length-1;v>=0;v--)h.addInt64(d[v]);return h.endVector()}static startDimsVector(h,d){h.startVector(8,d,8)}static addDataType(h,d){h.addFieldInt32(3,d,f.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(h,d){h.addFieldOffset(4,d,0)}static createRawDataVector(h,d){h.startVector(1,d.length,1);for(let v=d.length-1;v>=0;v--)h.addInt8(d[v]);return h.endVector()}static startRawDataVector(h,d){h.startVector(1,d,1)}static addStringData(h,d){h.addFieldOffset(5,d,0)}static createStringDataVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startStringDataVector(h,d){h.startVector(4,d,4)}static endTensor(h){return h.endObject()}static createTensor(h,d,v,_,A,I,R){return y.startTensor(h),y.addName(h,d),y.addDocString(h,v),y.addDims(h,_),y.addDataType(h,A),y.addRawData(h,I),y.addStringData(h,R),y.endTensor(h)}}g.Tensor=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsSparseTensor(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsSparseTensor(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}values(h){let d=this.bb.__offset(this.bb_pos,4);return d?(h||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}indices(h){let d=this.bb.__offset(this.bb_pos,6);return d?(h||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}dims(h){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.readInt64(this.bb.__vector(this.bb_pos+d)+8*h):this.bb.createLong(0,0)}dimsLength(){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.__vector_len(this.bb_pos+h):0}static startSparseTensor(h){h.startObject(3)}static addValues(h,d){h.addFieldOffset(0,d,0)}static addIndices(h,d){h.addFieldOffset(1,d,0)}static addDims(h,d){h.addFieldOffset(2,d,0)}static createDimsVector(h,d){h.startVector(8,d.length,8);for(let v=d.length-1;v>=0;v--)h.addInt64(d[v]);return h.endVector()}static startDimsVector(h,d){h.startVector(8,d,8)}static endSparseTensor(h){return h.endObject()}static createSparseTensor(h,d,v,_){return y.startSparseTensor(h),y.addValues(h,d),y.addIndices(h,v),y.addDims(h,_),y.endSparseTensor(h)}}g.SparseTensor=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsAttribute(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsAttribute(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}name(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,h):null}docString(h){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.__string(this.bb_pos+d,h):null}type(){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.readInt32(this.bb_pos+h):f.experimental.fbs.AttributeType.UNDEFINED}f(){let h=this.bb.__offset(this.bb_pos,10);return h?this.bb.readFloat32(this.bb_pos+h):0}i(){let h=this.bb.__offset(this.bb_pos,12);return h?this.bb.readInt64(this.bb_pos+h):this.bb.createLong(0,0)}s(h){let d=this.bb.__offset(this.bb_pos,14);return d?this.bb.__string(this.bb_pos+d,h):null}t(h){let d=this.bb.__offset(this.bb_pos,16);return d?(h||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}g(h){let d=this.bb.__offset(this.bb_pos,18);return d?(h||new f.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}floats(h){let d=this.bb.__offset(this.bb_pos,20);return d?this.bb.readFloat32(this.bb.__vector(this.bb_pos+d)+4*h):0}floatsLength(){let h=this.bb.__offset(this.bb_pos,20);return h?this.bb.__vector_len(this.bb_pos+h):0}floatsArray(){let h=this.bb.__offset(this.bb_pos,20);return h?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+h),this.bb.__vector_len(this.bb_pos+h)):null}ints(h){let d=this.bb.__offset(this.bb_pos,22);return d?this.bb.readInt64(this.bb.__vector(this.bb_pos+d)+8*h):this.bb.createLong(0,0)}intsLength(){let h=this.bb.__offset(this.bb_pos,22);return h?this.bb.__vector_len(this.bb_pos+h):0}strings(h,d){let v=this.bb.__offset(this.bb_pos,24);return v?this.bb.__string(this.bb.__vector(this.bb_pos+v)+4*h,d):null}stringsLength(){let h=this.bb.__offset(this.bb_pos,24);return h?this.bb.__vector_len(this.bb_pos+h):0}tensors(h,d){let v=this.bb.__offset(this.bb_pos,26);return v?(d||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}tensorsLength(){let h=this.bb.__offset(this.bb_pos,26);return h?this.bb.__vector_len(this.bb_pos+h):0}graphs(h,d){let v=this.bb.__offset(this.bb_pos,28);return v?(d||new f.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}graphsLength(){let h=this.bb.__offset(this.bb_pos,28);return h?this.bb.__vector_len(this.bb_pos+h):0}static startAttribute(h){h.startObject(13)}static addName(h,d){h.addFieldOffset(0,d,0)}static addDocString(h,d){h.addFieldOffset(1,d,0)}static addType(h,d){h.addFieldInt32(2,d,f.experimental.fbs.AttributeType.UNDEFINED)}static addF(h,d){h.addFieldFloat32(3,d,0)}static addI(h,d){h.addFieldInt64(4,d,h.createLong(0,0))}static addS(h,d){h.addFieldOffset(5,d,0)}static addT(h,d){h.addFieldOffset(6,d,0)}static addG(h,d){h.addFieldOffset(7,d,0)}static addFloats(h,d){h.addFieldOffset(8,d,0)}static createFloatsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addFloat32(d[v]);return h.endVector()}static startFloatsVector(h,d){h.startVector(4,d,4)}static addInts(h,d){h.addFieldOffset(9,d,0)}static createIntsVector(h,d){h.startVector(8,d.length,8);for(let v=d.length-1;v>=0;v--)h.addInt64(d[v]);return h.endVector()}static startIntsVector(h,d){h.startVector(8,d,8)}static addStrings(h,d){h.addFieldOffset(10,d,0)}static createStringsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startStringsVector(h,d){h.startVector(4,d,4)}static addTensors(h,d){h.addFieldOffset(11,d,0)}static createTensorsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startTensorsVector(h,d){h.startVector(4,d,4)}static addGraphs(h,d){h.addFieldOffset(12,d,0)}static createGraphsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startGraphsVector(h,d){h.startVector(4,d,4)}static endAttribute(h){return h.endObject()}static createAttribute(h,d,v,_,A,I,R,P,$,M,B,F,q,H){return y.startAttribute(h),y.addName(h,d),y.addDocString(h,v),y.addType(h,_),y.addF(h,A),y.addI(h,I),y.addS(h,R),y.addT(h,P),y.addG(h,$),y.addFloats(h,M),y.addInts(h,B),y.addStrings(h,F),y.addTensors(h,q),y.addGraphs(h,H),y.endAttribute(h)}}g.Attribute=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsGraph(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsGraph(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}initializers(h,d){let v=this.bb.__offset(this.bb_pos,4);return v?(d||new f.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}initializersLength(){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__vector_len(this.bb_pos+h):0}nodeArgs(h,d){let v=this.bb.__offset(this.bb_pos,6);return v?(d||new f.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}nodeArgsLength(){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__vector_len(this.bb_pos+h):0}nodes(h,d){let v=this.bb.__offset(this.bb_pos,8);return v?(d||new f.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}nodesLength(){let h=this.bb.__offset(this.bb_pos,8);return h?this.bb.__vector_len(this.bb_pos+h):0}maxNodeIndex(){let h=this.bb.__offset(this.bb_pos,10);return h?this.bb.readUint32(this.bb_pos+h):0}nodeEdges(h,d){let v=this.bb.__offset(this.bb_pos,12);return v?(d||new f.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}nodeEdgesLength(){let h=this.bb.__offset(this.bb_pos,12);return h?this.bb.__vector_len(this.bb_pos+h):0}inputs(h,d){let v=this.bb.__offset(this.bb_pos,14);return v?this.bb.__string(this.bb.__vector(this.bb_pos+v)+4*h,d):null}inputsLength(){let h=this.bb.__offset(this.bb_pos,14);return h?this.bb.__vector_len(this.bb_pos+h):0}outputs(h,d){let v=this.bb.__offset(this.bb_pos,16);return v?this.bb.__string(this.bb.__vector(this.bb_pos+v)+4*h,d):null}outputsLength(){let h=this.bb.__offset(this.bb_pos,16);return h?this.bb.__vector_len(this.bb_pos+h):0}sparseInitializers(h,d){let v=this.bb.__offset(this.bb_pos,18);return v?(d||new f.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}sparseInitializersLength(){let h=this.bb.__offset(this.bb_pos,18);return h?this.bb.__vector_len(this.bb_pos+h):0}static startGraph(h){h.startObject(8)}static addInitializers(h,d){h.addFieldOffset(0,d,0)}static createInitializersVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startInitializersVector(h,d){h.startVector(4,d,4)}static addNodeArgs(h,d){h.addFieldOffset(1,d,0)}static createNodeArgsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startNodeArgsVector(h,d){h.startVector(4,d,4)}static addNodes(h,d){h.addFieldOffset(2,d,0)}static createNodesVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startNodesVector(h,d){h.startVector(4,d,4)}static addMaxNodeIndex(h,d){h.addFieldInt32(3,d,0)}static addNodeEdges(h,d){h.addFieldOffset(4,d,0)}static createNodeEdgesVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startNodeEdgesVector(h,d){h.startVector(4,d,4)}static addInputs(h,d){h.addFieldOffset(5,d,0)}static createInputsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startInputsVector(h,d){h.startVector(4,d,4)}static addOutputs(h,d){h.addFieldOffset(6,d,0)}static createOutputsVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startOutputsVector(h,d){h.startVector(4,d,4)}static addSparseInitializers(h,d){h.addFieldOffset(7,d,0)}static createSparseInitializersVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startSparseInitializersVector(h,d){h.startVector(4,d,4)}static endGraph(h){return h.endObject()}static createGraph(h,d,v,_,A,I,R,P,$){return y.startGraph(h),y.addInitializers(h,d),y.addNodeArgs(h,v),y.addNodes(h,_),y.addMaxNodeIndex(h,A),y.addNodeEdges(h,I),y.addInputs(h,R),y.addOutputs(h,P),y.addSparseInitializers(h,$),y.endGraph(h)}}g.Graph=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsModel(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsModel(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}irVersion(){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.readInt64(this.bb_pos+h):this.bb.createLong(0,0)}opsetImport(h,d){let v=this.bb.__offset(this.bb_pos,6);return v?(d||new f.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}opsetImportLength(){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__vector_len(this.bb_pos+h):0}producerName(h){let d=this.bb.__offset(this.bb_pos,8);return d?this.bb.__string(this.bb_pos+d,h):null}producerVersion(h){let d=this.bb.__offset(this.bb_pos,10);return d?this.bb.__string(this.bb_pos+d,h):null}domain(h){let d=this.bb.__offset(this.bb_pos,12);return d?this.bb.__string(this.bb_pos+d,h):null}modelVersion(){let h=this.bb.__offset(this.bb_pos,14);return h?this.bb.readInt64(this.bb_pos+h):this.bb.createLong(0,0)}docString(h){let d=this.bb.__offset(this.bb_pos,16);return d?this.bb.__string(this.bb_pos+d,h):null}graph(h){let d=this.bb.__offset(this.bb_pos,18);return d?(h||new f.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}graphDocString(h){let d=this.bb.__offset(this.bb_pos,20);return d?this.bb.__string(this.bb_pos+d,h):null}static startModel(h){h.startObject(9)}static addIrVersion(h,d){h.addFieldInt64(0,d,h.createLong(0,0))}static addOpsetImport(h,d){h.addFieldOffset(1,d,0)}static createOpsetImportVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startOpsetImportVector(h,d){h.startVector(4,d,4)}static addProducerName(h,d){h.addFieldOffset(2,d,0)}static addProducerVersion(h,d){h.addFieldOffset(3,d,0)}static addDomain(h,d){h.addFieldOffset(4,d,0)}static addModelVersion(h,d){h.addFieldInt64(5,d,h.createLong(0,0))}static addDocString(h,d){h.addFieldOffset(6,d,0)}static addGraph(h,d){h.addFieldOffset(7,d,0)}static addGraphDocString(h,d){h.addFieldOffset(8,d,0)}static endModel(h){return h.endObject()}static createModel(h,d,v,_,A,I,R,P,$,M){return y.startModel(h),y.addIrVersion(h,d),y.addOpsetImport(h,v),y.addProducerName(h,_),y.addProducerVersion(h,A),y.addDomain(h,I),y.addModelVersion(h,R),y.addDocString(h,P),y.addGraph(h,$),y.addGraphDocString(h,M),y.endModel(h)}}g.Model=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsKernelCreateInfos(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsKernelCreateInfos(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}nodeIndices(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.readUint32(this.bb.__vector(this.bb_pos+d)+4*h):0}nodeIndicesLength(){let h=this.bb.__offset(this.bb_pos,4);return h?this.bb.__vector_len(this.bb_pos+h):0}nodeIndicesArray(){let h=this.bb.__offset(this.bb_pos,4);return h?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+h),this.bb.__vector_len(this.bb_pos+h)):null}kernelDefHashes(h){let d=this.bb.__offset(this.bb_pos,6);return d?this.bb.readUint64(this.bb.__vector(this.bb_pos+d)+8*h):this.bb.createLong(0,0)}kernelDefHashesLength(){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__vector_len(this.bb_pos+h):0}static startKernelCreateInfos(h){h.startObject(2)}static addNodeIndices(h,d){h.addFieldOffset(0,d,0)}static createNodeIndicesVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addInt32(d[v]);return h.endVector()}static startNodeIndicesVector(h,d){h.startVector(4,d,4)}static addKernelDefHashes(h,d){h.addFieldOffset(1,d,0)}static createKernelDefHashesVector(h,d){h.startVector(8,d.length,8);for(let v=d.length-1;v>=0;v--)h.addInt64(d[v]);return h.endVector()}static startKernelDefHashesVector(h,d){h.startVector(8,d,8)}static endKernelCreateInfos(h){return h.endObject()}static createKernelCreateInfos(h,d,v){return y.startKernelCreateInfos(h),y.addNodeIndices(h,d),y.addKernelDefHashes(h,v),y.endKernelCreateInfos(h)}}g.KernelCreateInfos=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsSubGraphSessionState(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsSubGraphSessionState(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}graphId(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,h):null}sessionState(h){let d=this.bb.__offset(this.bb_pos,6);return d?(h||new f.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startSubGraphSessionState(h){h.startObject(2)}static addGraphId(h,d){h.addFieldOffset(0,d,0)}static addSessionState(h,d){h.addFieldOffset(1,d,0)}static endSubGraphSessionState(h){let d=h.endObject();return h.requiredField(d,4),d}static createSubGraphSessionState(h,d,v){return y.startSubGraphSessionState(h),y.addGraphId(h,d),y.addSessionState(h,v),y.endSubGraphSessionState(h)}}g.SubGraphSessionState=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsSessionState(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsSessionState(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}kernels(h){let d=this.bb.__offset(this.bb_pos,4);return d?(h||new f.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}subGraphSessionStates(h,d){let v=this.bb.__offset(this.bb_pos,6);return v?(d||new f.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+v)+4*h),this.bb):null}subGraphSessionStatesLength(){let h=this.bb.__offset(this.bb_pos,6);return h?this.bb.__vector_len(this.bb_pos+h):0}static startSessionState(h){h.startObject(2)}static addKernels(h,d){h.addFieldOffset(0,d,0)}static addSubGraphSessionStates(h,d){h.addFieldOffset(1,d,0)}static createSubGraphSessionStatesVector(h,d){h.startVector(4,d.length,4);for(let v=d.length-1;v>=0;v--)h.addOffset(d[v]);return h.endVector()}static startSubGraphSessionStatesVector(h,d){h.startVector(4,d,4)}static endSessionState(h){return h.endObject()}static createSessionState(h,d,v){return y.startSessionState(h),y.addKernels(h,d),y.addSubGraphSessionStates(h,v),y.endSessionState(h)}}g.SessionState=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(f){(function(p){(function(g){class y{constructor(){this.bb=null,this.bb_pos=0}__init(h,d){return this.bb_pos=h,this.bb=d,this}static getRootAsInferenceSession(h,d){return(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static getSizePrefixedRootAsInferenceSession(h,d){return h.setPosition(h.position()+s.flatbuffers.SIZE_PREFIX_LENGTH),(d||new y).__init(h.readInt32(h.position())+h.position(),h)}static bufferHasIdentifier(h){return h.__has_identifier("ORTM")}ortVersion(h){let d=this.bb.__offset(this.bb_pos,4);return d?this.bb.__string(this.bb_pos+d,h):null}model(h){let d=this.bb.__offset(this.bb_pos,6);return d?(h||new f.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}sessionState(h){let d=this.bb.__offset(this.bb_pos,8);return d?(h||new f.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+d),this.bb):null}static startInferenceSession(h){h.startObject(3)}static addOrtVersion(h,d){h.addFieldOffset(0,d,0)}static addModel(h,d){h.addFieldOffset(1,d,0)}static addSessionState(h,d){h.addFieldOffset(2,d,0)}static endInferenceSession(h){return h.endObject()}static finishInferenceSessionBuffer(h,d){h.finish(d,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(h,d){h.finish(d,"ORTM",!0)}static createInferenceSession(h,d,v,_){return y.startInferenceSession(h),y.addOrtVersion(h,d),y.addModel(h,v),y.addSessionState(h,_),y.endInferenceSession(h)}}g.InferenceSession=y})(p.fbs||(p.fbs={}))})(f.experimental||(f.experimental={}))}(n.onnxruntime||(n.onnxruntime={}))},7448:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OnnxjsSessionHandler=void 0;const s=a(1670),l=a(9162);n.OnnxjsSessionHandler=class{constructor(c){this.session=c,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(c,f,p){const g=new Map;for(const h in c)if(Object.hasOwnProperty.call(c,h)){const d=c[h];g.set(h,new l.Tensor(d.dims,d.type,void 0,void 0,d.data))}const y=await this.session.run(g),b={};return y.forEach((h,d)=>{b[d]=new s.Tensor(h.type,h.data,h.dims)}),b}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Session=void 0;const s=a(7067),l=a(1296),c=a(7091),f=a(1036),p=a(6231),g=a(2644);n.Session=class{constructor(y={}){this._initialized=!1,this.backendHint=y.backendHint,this.profiler=p.Profiler.create(y.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(y,b,h){await this.profiler.event("session","Session.loadModel",async()=>{const d=await(0,c.resolveBackend)(this.backendHint);if(this.sessionHandler=d.createSessionHandler(this.context),this._model=new g.Model,typeof y=="string"){const v=y.endsWith(".ort");if(typeof fetch>"u"){const _=await(0,l.promisify)(s.readFile)(y);this.initialize(_,v)}else{const _=await fetch(y),A=await _.arrayBuffer();this.initialize(new Uint8Array(A),v)}}else if(ArrayBuffer.isView(y))this.initialize(y);else{const v=new Uint8Array(y,b||0,h||y.byteLength);this.initialize(v)}})}initialize(y,b){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const h=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(y,h,b),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new f.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(y){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const b=this.normalizeAndValidateInputs(y),h=await this._executionPlan.execute(this.sessionHandler,b);return this.createOutput(h)})}normalizeAndValidateInputs(y){const b=this._model.graph.getInputNames();if(Array.isArray(y)){if(y.length!==b.length)throw new Error(`incorrect input array length: expected ${b.length} but got ${y.length}`)}else{if(y.size!==b.length)throw new Error(`incorrect input map size: expected ${b.length} but got ${y.size}`);const h=new Array(y.size);let d=0;for(let v=0;v<b.length;++v){const _=y.get(b[v]);if(!_)throw new Error(`missing input tensor for: '${name}'`);h[d++]=_}y=h}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,y,!1);else{const h=this._model.graph.getInputIndices(),d=this._model.graph.getValues(),v=new Array(h.length);for(let _=0;_<h.length;++_){const A=d[h[_]];v[_]=A.type.shape.dims,this.context.graphInputTypes.push(A.type.tensorType),this.context.graphInputDims.push(y[_].dims)}this.validateInputTensorDims(v,y,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,y),y}validateInputTensorTypes(y,b){for(let h=0;h<b.length;h++){const d=y[h],v=b[h].type;if(d!==v)throw new Error(`input tensor[${h}] check failed: expected type '${d}' but got ${v}`)}}validateInputTensorDims(y,b,h){for(let d=0;d<b.length;d++){const v=y[d],_=b[d].dims;if(!this.compareTensorDims(v,_,h))throw new Error(`input tensor[${d}] check failed: expected shape '[${v.join(",")}]' but got [${_.join(",")}]`)}}compareTensorDims(y,b,h){if(y.length!==b.length)return!1;for(let d=0;d<y.length;++d)if(y[d]!==b[d]&&(!h||y[d]!==0))return!1;return!0}createOutput(y){const b=this._model.graph.getOutputNames();if(y.length!==b.length)throw new Error("expected number of outputs do not match number of generated outputs");const h=new Map;for(let d=0;d<b.length;++d)h.set(b[d],y[d]);return h}initializeOps(y){const b=y.getNodes();this._ops=new Array(b.length);for(let h=0;h<b.length;h++)this._ops[h]=this.sessionHandler.resolve(b[h],this._model.opsets,y)}}},9162:function(i,n,a){var s=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(n,"__esModule",{value:!0}),n.Tensor=void 0;const l=a(3442),c=s(a(3720)),f=a(1446),p=a(9395),g=a(2517);var y=p.onnxruntime.experimental.fbs;class b{get data(){if(this.cache===void 0){const I=this.dataProvider(this.dataId);if(I.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=I}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(I){return this.data[g.ShapeUtil.indicesToOffset(I,this.strides)]}set(I,R){this.data[g.ShapeUtil.indicesToOffset(I,this.strides)]=R}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=g.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(I,R,P,$,M,B=l.Guid.create()){this.dims=I,this.type=R,this.dataProvider=P,this.asyncDataProvider=$,this.cache=M,this.dataId=B,this.size=g.ShapeUtil.validateDimsAndCalcSize(I);const F=this.size,q=P===void 0&&$===void 0&&M===void 0;if(M!==void 0&&M.length!==F)throw new RangeError("Input dims doesn't match data length.");if(R==="string"){if(!(M===void 0||Array.isArray(M)&&M.every(H=>typeof H=="string")))throw new TypeError("cache should be a string array");q&&(this.cache=new Array(F))}else{if(M!==void 0){const H=d(R);if(!(M instanceof H))throw new TypeError(`cache should be type ${H.name}`)}if(q){const H=new ArrayBuffer(F*function(z){switch(z){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${z}`)}}(R));this.cache=function(z,L){return new(d(L))(z)}(H,R)}}}static fromProto(I){if(!I)throw new Error("cannot construct Value from an empty tensor");const R=g.ProtoUtil.tensorDataTypeFromProto(I.dataType),P=g.ProtoUtil.tensorDimsFromProto(I.dims),$=new b(P,R);if(R==="string")I.stringData.forEach((M,B)=>{$.data[B]=(0,g.decodeUtf8String)(M)});else if(I.rawData&&typeof I.rawData.byteLength=="number"&&I.rawData.byteLength>0){const M=$.data,B=new DataView(I.rawData.buffer,I.rawData.byteOffset,I.rawData.byteLength),F=h(I.dataType),q=I.rawData.byteLength/F;if(I.rawData.byteLength%F!=0)throw new Error("invalid buffer length");if(M.length!==q)throw new Error("buffer length mismatch");for(let H=0;H<q;H++){const z=_(B,I.dataType,H*F);M[H]=z}}else{let M;switch(I.dataType){case f.onnx.TensorProto.DataType.FLOAT:M=I.floatData;break;case f.onnx.TensorProto.DataType.INT32:case f.onnx.TensorProto.DataType.INT16:case f.onnx.TensorProto.DataType.UINT16:case f.onnx.TensorProto.DataType.INT8:case f.onnx.TensorProto.DataType.UINT8:case f.onnx.TensorProto.DataType.BOOL:M=I.int32Data;break;case f.onnx.TensorProto.DataType.INT64:M=I.int64Data;break;case f.onnx.TensorProto.DataType.DOUBLE:M=I.doubleData;break;case f.onnx.TensorProto.DataType.UINT32:case f.onnx.TensorProto.DataType.UINT64:M=I.uint64Data;break;default:throw new Error("unspecific error")}if(M==null)throw new Error("failed to populate data from a tensorproto value");const B=$.data;if(B.length!==M.length)throw new Error("array length mismatch");for(let F=0;F<M.length;F++){const q=M[F];c.default.isLong(q)?B[F]=v(q,I.dataType):B[F]=q}}return $}static fromData(I,R,P){return new b(R,P,void 0,void 0,I)}static fromOrtTensor(I){if(!I)throw new Error("cannot construct Value from an empty tensor");const R=g.ProtoUtil.tensorDimsFromORTFormat(I),P=g.ProtoUtil.tensorDataTypeFromProto(I.dataType()),$=new b(R,P);if(P==="string")for(let M=0;M<I.stringDataLength();M++)$.data[M]=I.stringData(M);else if(I.rawDataArray()&&typeof I.rawDataLength()=="number"&&I.rawDataLength()>0){const M=$.data,B=new DataView(I.rawDataArray().buffer,I.rawDataArray().byteOffset,I.rawDataLength()),F=h(I.dataType()),q=I.rawDataLength()/F;if(I.rawDataLength()%F!=0)throw new Error("invalid buffer length");if(M.length!==q)throw new Error("buffer length mismatch");for(let H=0;H<q;H++){const z=_(B,I.dataType(),H*F);M[H]=z}}return $}}function h(A){switch(A){case f.onnx.TensorProto.DataType.UINT8:case f.onnx.TensorProto.DataType.INT8:case f.onnx.TensorProto.DataType.BOOL:return 1;case f.onnx.TensorProto.DataType.UINT16:case f.onnx.TensorProto.DataType.INT16:return 2;case f.onnx.TensorProto.DataType.FLOAT:case f.onnx.TensorProto.DataType.INT32:case f.onnx.TensorProto.DataType.UINT32:return 4;case f.onnx.TensorProto.DataType.INT64:case f.onnx.TensorProto.DataType.DOUBLE:case f.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${f.onnx.TensorProto.DataType[A]}`)}}function d(A){switch(A){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function v(A,I){if(I===f.onnx.TensorProto.DataType.INT64||I===y.TensorDataType.INT64){if(A.greaterThanOrEqual(2147483648)||A.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(I!==f.onnx.TensorProto.DataType.UINT32&&I!==y.TensorDataType.UINT32&&I!==f.onnx.TensorProto.DataType.UINT64&&I!==y.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${f.onnx.TensorProto.DataType[I]}`);if(A.greaterThanOrEqual(4294967296)||A.lessThan(0))throw new TypeError("uint64 is not supported")}return A.toNumber()}function _(A,I,R){switch(I){case f.onnx.TensorProto.DataType.BOOL:case f.onnx.TensorProto.DataType.UINT8:return A.getUint8(R);case f.onnx.TensorProto.DataType.INT8:return A.getInt8(R);case f.onnx.TensorProto.DataType.UINT16:return A.getUint16(R,!0);case f.onnx.TensorProto.DataType.INT16:return A.getInt16(R,!0);case f.onnx.TensorProto.DataType.FLOAT:return A.getFloat32(R,!0);case f.onnx.TensorProto.DataType.INT32:return A.getInt32(R,!0);case f.onnx.TensorProto.DataType.UINT32:return A.getUint32(R,!0);case f.onnx.TensorProto.DataType.INT64:return v(c.default.fromBits(A.getUint32(R,!0),A.getUint32(R+4,!0),!1),I);case f.onnx.TensorProto.DataType.DOUBLE:return A.getFloat64(R,!0);case f.onnx.TensorProto.DataType.UINT64:return v(c.default.fromBits(A.getUint32(R,!0),A.getUint32(R+4,!0),!0),I);default:throw new Error(`cannot read from DataView for type ${f.onnx.TensorProto.DataType[I]}`)}}n.Tensor=b},2517:function(i,n,a){var s=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeUtf8String=n.MAX_CLIP=n.MIN_CLIP=n.PoolConvUtil=n.ReduceUtil=n.SplitUtil=n.MathUtil=n.ShapeUtil=n.LongUtil=n.ProtoUtil=n.GemmUtil=n.arrayCopyHelper=n.BroadcastUtil=n.MatMulUtil=n.ArrayUtil=n.assert=n.checkInputsShape=void 0;const l=a(5686),c=s(a(3720)),f=a(1446),p=a(9162);n.checkInputsShape=function(I,...R){if(!I||I.length!==R.length)return!1;for(let P=0;P<I.length;P++)if(!I[P].dims||I[P].dims.length!==R[P])return!1;return!0},n.assert=function(I,R){if(!I)throw new Error(typeof R=="string"?R:R())},n.ArrayUtil=class{static arraysEqual(I,R){if(I.length!==R.length)return!1;for(let P=0;P<I.length;P++)if(I[P]!==R[P])return!1;return!0}};class g{static preprocessInputShapes(R,P){return[R.length===1?[1,R[0]]:R,P.length===1?[P[0],1]:P]}static postprocessOutputShape(R,P,$){P===1&&R.splice(R.length-2,1),$===1&&R.pop()}static calcMatMulShape(R,P){return R[1]!==P[0]?void 0:[R[0],P[1]]}}n.MatMulUtil=g;class y{static calcShape(R,P,$=!1){const M=R.length,B=P.length;if(M===0)return P;if(B===0)return R;const F=Math.max(R.length,P.length),q=new Array(F);if($){if(M<2||B<2)return;const H=g.calcMatMulShape([R[M-2],R[M-1]],[P[B-2],P[B-1]]);if(H===void 0)return;[q[F-2],q[F-1]]=H}for(let H=$?3:1;H<=F;H++){const z=M-H<0?1:R[M-H],L=B-H<0?1:P[B-H];if(z!==L&&z>1&&L>1)return;q[F-H]=Math.max(z,L)}return q}static index(R,P){const $=new Array(P.length);return y.fillIndex(R,P,$),$}static fillIndex(R,P,$){const M=R.length-P.length;for(let B=0;B<P.length;B++)$[B]=R[M+B]%P[B]}static calc(R,P,$,M,B){const F=y.calcShape(R.dims,P.dims);if(F){if(M&&!d.areEqual(F,R.dims))return;const q=d.size(F),H=M?R:new p.Tensor(F,B||R.type);if(F.length===0)H.set([],$(R.get([]),P.get([])));else{const z=new Array(F.length),L=new Array(R.dims.length),ee=new Array(P.dims.length);let Z,V=0,X=0,Q=!1,G=!1;R.dims.length===0&&(V=R.get([]),Q=!0),P.dims.length===0&&(X=P.get([]),G=!0);for(let te=0;te<q;te++){Z=te;for(let ue=F.length-1;ue>=0;ue--)z[ue]=Z%F[ue],Z=Math.floor(Z/F[ue]);Q||(y.fillIndex(z,R.dims,L),V=R.get(L)),G||(y.fillIndex(z,P.dims,ee),X=P.get(ee)),H.set(z,$(V,X))}}return H}}static isValidBroadcast(R,P){const $=R.length,M=P.length;if($>M)return!1;for(let B=1;B<=$;B++)if(R[$-B]!==1&&R[$-B]!==P[M-B])return!1;return!0}static getBroadcastDims(R,P){const $=R.length,M=[];for(let B=0;B<$;B++){const F=$-1-B,q=R[F]||1;(P[P.length-1-B]||1)>1&&q===1&&M.unshift(F)}return M}}n.BroadcastUtil=y,n.arrayCopyHelper=function(I,R,P,$,M){if($<0||$>=R.length)throw new Error("sourceIndex out of bounds");if(P<0||P>=I.length)throw new Error("targetIndex out of bounds");if($+M>R.length)throw new Error("source indices to be copied are outside bounds");if(P+M>I.length)throw new Error("target array is too small to hold result");for(let B=0;B<M;B++)I[P+B]=R[$+B]},n.GemmUtil=class{static getShapeOfGemmResult(I,R,P,$,M){if(I.length!==2||P.length!==2)throw new Error("shape need to be of size 2");let B,F,q;R?(B=I[1],F=I[0]):(B=I[0],F=I[1]);let H=-1;if($?(q=P[0],H=1):(q=P[1],H=0),P[H]!==F)throw new Error("dimension mismatch");if(B<=0||q<=0||F<=0)throw new Error("invalid shape specified");if(M&&!y.isValidBroadcast(M,[B,q]))throw new Error("gemm: invalid bias shape for broadcast");return[B,q,F]}};class b{static tensorDataTypeFromProto(R){switch(R){case f.onnx.TensorProto.DataType.INT8:return"int8";case f.onnx.TensorProto.DataType.UINT8:return"uint8";case f.onnx.TensorProto.DataType.BOOL:return"bool";case f.onnx.TensorProto.DataType.INT16:return"int16";case f.onnx.TensorProto.DataType.UINT16:return"uint16";case f.onnx.TensorProto.DataType.INT32:return"int32";case f.onnx.TensorProto.DataType.UINT32:return"uint32";case f.onnx.TensorProto.DataType.FLOAT:return"float32";case f.onnx.TensorProto.DataType.DOUBLE:return"float64";case f.onnx.TensorProto.DataType.STRING:return"string";case f.onnx.TensorProto.DataType.INT64:return"int32";case f.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${f.onnx.TensorProto.DataType[R]}`)}}static tensorDataTypeStringToEnum(R){switch(R){case"int8":return f.onnx.TensorProto.DataType.INT8;case"uint8":return f.onnx.TensorProto.DataType.UINT8;case"bool":return f.onnx.TensorProto.DataType.BOOL;case"int16":return f.onnx.TensorProto.DataType.INT16;case"uint16":return f.onnx.TensorProto.DataType.UINT16;case"int32":return f.onnx.TensorProto.DataType.INT32;case"uint32":return f.onnx.TensorProto.DataType.UINT32;case"float32":return f.onnx.TensorProto.DataType.FLOAT;case"float64":return f.onnx.TensorProto.DataType.DOUBLE;case"string":return f.onnx.TensorProto.DataType.STRING;case"int64":return f.onnx.TensorProto.DataType.INT64;case"uint64":return f.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${R}`)}}static tensorDimsFromProto(R){return R.map(P=>c.default.isLong(P)?P.toNumber():P)}static tensorValueTypeFromProto(R){return{tensorType:b.tensorDataTypeFromProto(R.elemType),shape:{dims:b.tensorDimsFromProto(R.shape.dim.map(P=>P.dimValue))}}}static tensorDimsFromORTFormat(R){const P=[];for(let $=0;$<R.dimsLength();$++)P.push(h.longToNumber(R.dims($)));return P}static tensorAttributesFromORTFormat(R){const P=[];for(let $=0;$<R.attributesLength();$++)P.push(R.attributes($));return P}}n.ProtoUtil=b;class h{static longToNumber(R,P){return c.default.isLong(R)?R.toNumber():R instanceof l.flatbuffers.Long?c.default.fromValue({low:R.low,high:R.high,unsigned:P!=null&&P}).toNumber():R}static isLong(R){return c.default.isLong(R)||R instanceof l.flatbuffers.Long}}n.LongUtil=h;class d{static size(R){return d.getSizeFromDimensionRange(R,0,R.length)}static sizeFromDimension(R,P){if(P<0||P>R.length)throw new Error(`invalid dimension of ${P} for sizeFromDimension as Tensor has ${R.length} dimensions.`);return d.getSizeFromDimensionRange(R,P,R.length)}static sizeToDimension(R,P){if(P<0||P>R.length)throw new Error(`invalid dimension of ${P} for sizeToDimension as Tensor has ${R.length} dimensions.`);return d.getSizeFromDimensionRange(R,0,P)}static getSizeFromDimensionRange(R,P,$){let M=1;for(let B=P;B<$;B++){if(R[B]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");M*=R[B]}return M}static computeStrides(R){const P=R.length;if(P===0)return[];if(P===1)return[1];const $=new Array(P);$[P-1]=1,$[P-2]=R[P-1];for(let M=P-3;M>=0;--M)$[M]=$[M+1]*R[M+1];return $}static transpose(R){return R.slice().reverse()}static indicesToOffset(R,P,$){$===void 0&&($=R.length);let M=0;for(let B=0;B<$;++B)M+=P[B]*R[B];return M}static offsetToIndices(R,P){const $=P.length;if($===0)return[];if($===1)return[R*P[0]];const M=new Array(P.length);for(let B=0;B<M.length-1;++B)M[B]=Math.floor(R/P[B]),R-=M[B]*P[B];return M[M.length-1]=R,M}static normalizeAxis(R,P){if(R<-P&&R>=P)throw new Error("unsupported axis for this operation.");return R<0?R+P:R}static normalizeAxes(R,P){return R.map($=>this.normalizeAxis($,P))}static incrementIndex(R,P,$){if(P.length===0||R.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if($===void 0)$=P.length;else if($<=0||$>P.length)throw new Error("Incorrect axis to increment on");for(let M=$-1;M>=0&&(R[M]++,!(R[M]<P[M]));--M)R[M]=0}static calculateReshapedDims(R,P){if(P.length===0){if(R.length===0||d.size(R)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const $=P.length,M=new Array($);let B=-1,F=1;for(let H=0;H<$;H++){if(P[H]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(P[H]===-1){if(B!==-1)throw new Error("at most one dimension in shape hints can be -1");B=H}else{if(P[H]===0){if(H>=R.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");M[H]=R[H]}else M[H]=P[H];F*=M[H]}}const q=d.size(R);if(B!==-1){if(q%F!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${R}] Output shape: [${P}]`);M[B]=q/F}else if(F!==q)throw new Error("reshapedDims and originalDims don't have matching sizes");return M}static sortBasedOnPerm(R,P){return P?P.map($=>R[$]):R.slice().reverse()}static padShape(R,P){const $=R.length;return R.map((M,B)=>M+P[B]+P[B+$])}static areEqual(R,P){return R.length===P.length&&R.every(($,M)=>$===P[M])}static validateDimsAndCalcSize(R){if(R.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let P=1;for(const $ of R){if(!Number.isInteger($))throw new TypeError(`Invalid shape: ${$} is not an integer`);if($<0||$>2147483647)throw new TypeError(`Invalid shape: length ${$} is not allowed`);P*=$}return P}static flattenShape(R,P){P<0&&(P+=R.length);const $=R.reduce((B,F)=>B*F,1),M=R.slice(P).reduce((B,F)=>B*F,1);return[$/M,M]}static squeezeShape(R,P){const $=new Array;P=d.normalizeAxes(P,R.length);for(let M=0;M<R.length;M++){const B=P.indexOf(M)>=0;if(B&&R[M]!==1)throw new Error("squeeze an axis of size different than 1");(P.length===0&&R[M]>1||P.length>0&&!B)&&$.push(R[M])}return $}static unsqueezeShape(R,P){const $=new Array(R.length+P.length);$.fill(0);for(let B=0;B<P.length;B++){const F=d.normalizeAxis(P[B],$.length);if(F>=$.length)throw new Error("'axes' has an out of range axis");if($[F]!==0)throw new Error("'axes' has a duplicate axis");$[F]=1}let M=0;for(let B=0;B<$.length;B++)$[B]===0&&($[B]=R[M++]);if(M!==R.length)throw new Error("the unsqueezed dimension could not be established");return $}}n.ShapeUtil=d,n.MathUtil=class{static sqr(I,R,P,$,M){if($<0||$>=R.length)throw new Error("sourceIndex out of bounds");if(P<0||P>=I.length)throw new Error("targetIndex out of bounds");if($+M>R.length)throw new Error("source indices to be copied are outside bounds");if(P+M>I.length)throw new Error("target array is too small to hold result");for(let B=0;B<M;B++)I[P+B]+=Math.pow(R[$+B],2)}static axpy(I,R,P,$,M,B){if($<0||$>=R.length)throw new Error("sourceIndex out of bounds");if(P<0||P>=I.length)throw new Error("targetIndex out of bounds");if($+M>R.length)throw new Error("source indices to be copied are outside bounds");if(P+M>I.length)throw new Error("target array is too small to hold result");for(let F=0;F<M;F++)I[P+F]+=B*R[$+F]}static powx(I,R,P,$,M,B){if($<0||$>=R.length)throw new Error("sourceIndex out of bounds");if(P<0||P>=I.length)throw new Error("targetIndex out of bounds");if($+M>R.length)throw new Error("source indices to be copied are outside bounds");if(P+M>I.length)throw new Error("target array is too small to hold result");for(let F=0;F<M;F++)I[P+F]=Math.pow(R[$+F],B)}static mul(I,R,P,$,M){if($<0||$>=R.length)throw new Error("sourceIndex out of bounds");if(P<0||P>=I.length)throw new Error("targetIndex out of bounds");if($+M>R.length)throw new Error("source indices to be copied are outside bounds");if(P+M>I.length)throw new Error("target array is too small to hold result");for(let B=0;B<M;B++)I[P+B]=R[$+B]*I[P+B]}};class v{static splitShape(R,P,$,M){if($.length===0){if(!M)throw new Error("need to know number of outputs when the 'split' attribute is not specified");v.determineSplit(R[P],M,$)}const B=[],F=[0];for(let q=0;q<$.length;++q){q!==0&&F.push(F[q-1]+$[q-1]);const H=R.slice();H[P]=$[q],B.push(H)}return[B,F]}static determineSplit(R,P,$){if(R%P!=0)throw new Error("cannot split tensor to equal sized parts");for(let M=0;M<P;++M)$.push(R/P)}}n.SplitUtil=v;class _{static calcReduce(R,P,$,M,B){const F=R.dims.slice(0);P.length===0&&F.forEach((V,X)=>P.push(X));const q=_.calcReduceShape(F,P,!0),H=d.size(q),z=new p.Tensor(q,R.type),L=d.computeStrides(q),ee=d.computeStrides(F),Z=new Array(F.length);for(let V=0;V<H;V++){const X=d.offsetToIndices(V,L);y.fillIndex(X,F,Z),z.set(X,_.calcReduceByAxis(R.numberData,P,F,0,d.indicesToOffset(Z,ee),M,B))}return $?z:new p.Tensor(_.calcReduceShape(F,P,$),z.type,void 0,void 0,z.data,z.dataId)}static calcReduceByAxis(R,P,$,M,B,F,q){let H=0;if(M>=P.length)return F(R[B]);const z=P[M],L=z>=$.length?1:d.size($.slice(z+1));for(let ee=0;ee<$[z];ee++)H=ee===0?_.calcReduceByAxis(R,P,$,M+1,B,F,q):q(H,_.calcReduceByAxis(R,P,$,M+1,B,F,q)),B+=L;return H}static calcReduceShape(R,P,$){const M=R.slice();for(let B=0;B<P.length;B++)M[P[B]]=$?1:0;return M.filter(B=>B!==0)}}n.ReduceUtil=_;class A{static adjustPoolAttributes(R,P,$,M,B,F){if(!R&&$.length!==P.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(R)for(let q=0;q<P.length-2;q++)q>=$.length?$.push(P[q+2]):$[q]=P[q+2];for(let q=0;q<$.length;q++)if(q<M.length){if(M[q]<0)throw new Error("strides should be greater than or equal to 1")}else M.push(1);for(let q=0;q<$.length;q++)if(q<B.length){if(B[q]<0)throw new Error("dilations should be greater than or equal to 1")}else B.push(1);for(let q=0;q<2*$.length;q++)if(q<F.length){if(F[q]<0)throw new Error("pad should be greater than or equal to 1")}else F.push(0);for(let q=0;q<$.length;q++){if($[q]<=0)throw new Error("kernel shapes need to be greater than 0");if(F[q]>=$[q]||F[q+$.length]>=$[q])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(R,P,$,M,B,F){if(F){if(B.length!==2*(R.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(P.length!==R.length-2)throw new Error("length of strides should be the length of data dimensions");if(M.length!==R.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let q=0;q<R.length-2;q++)A.adjustPadAndReturnShape(R[q+2],P[q],$[q],M[q],B,q,q+R.length-2,F)}}static computePoolOutputShape(R,P,$,M,B,F,q){if(P.length<=0)throw new Error("input shape must be of size greater than 0");const H=[P[0],P[1]];return A.computeShapeHelper(R,P,H,$,M,B,F,q),H}static computeConvOutputShape(R,P,$,M,B,F,q){if(R.length<=0||P.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const H=[R[0],P[0]];return A.computeShapeHelper(!1,R,H,$,M,B,F,q),H}static computeShapeHelper(R,P,$,M,B,F,q,H){if(R)for(let z=0;z<P.length-2;z++)$.push(1);else for(let z=0;z<P.length-2;z++)$.push(A.adjustPadAndReturnShape(P[z+2],M[z],B[z],F[z],q,z,z+P.length-2,H))}static adjustPadAndReturnShape(R,P,$,M,B,F,q,H){const z=$*(M-1)+1;if(!H||H==="NOTSET")return Math.floor((R+B[F]+B[q]-z)/P+1);switch(H){case"VALID":return B[F]=0,B[q]=0,Math.floor((R-z)/P+1);case"SAME_LOWER":case"SAME_UPPER":if($!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const L=((R+P-1)/P-1)*P+M-R;return B[F]=Math.floor(H==="SAME_LOWER"?(L+1)/2:L/2),B[q]=L-B[F],Math.floor((R+L-M)/P+1)}default:throw new Error("Unsupported AutoPad type")}}}n.PoolConvUtil=A,n.MIN_CLIP=-34028234663852886e22,n.MAX_CLIP=34028234663852886e22,n.decodeUtf8String=function(I){return new TextDecoder().decode(I)}},7967:(i,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.iterateExtraOptions=void 0,n.iterateExtraOptions=(a,s,l,c)=>{if(typeof a=="object"&&a!==null){if(l.has(a))throw new Error("Circular reference in options");l.add(a)}Object.entries(a).forEach(([f,p])=>{const g=s?s+f:f;if(typeof p=="object")(0,n.iterateExtraOptions)(p,g+".",l,c);else if(typeof p=="string"||typeof p=="number")c(g,p.toString());else{if(typeof p!="boolean")throw new Error("Can't handle extra config type: "+typeof p);c(g,p?"1":"0")}})}},2157:function(i,n,a){var s,l=this&&this.__createBinding||(Object.create?function(L,ee,Z,V){V===void 0&&(V=Z);var X=Object.getOwnPropertyDescriptor(ee,Z);X&&!("get"in X?!ee.__esModule:X.writable||X.configurable)||(X={enumerable:!0,get:function(){return ee[Z]}}),Object.defineProperty(L,V,X)}:function(L,ee,Z,V){V===void 0&&(V=Z),L[V]=ee[Z]}),c=this&&this.__setModuleDefault||(Object.create?function(L,ee){Object.defineProperty(L,"default",{enumerable:!0,value:ee})}:function(L,ee){L.default=ee}),f=this&&this.__importStar||function(L){if(L&&L.__esModule)return L;var ee={};if(L!=null)for(var Z in L)Z!=="default"&&Object.prototype.hasOwnProperty.call(L,Z)&&l(ee,L,Z);return c(ee,L),ee};Object.defineProperty(n,"__esModule",{value:!0}),n.endProfiling=n.run=n.releaseSession=n.createSession=n.createSessionFinalize=n.createSessionAllocate=n.initOrt=n.initWasm=void 0;const p=a(1670),g=f(a(349)),y=a(6361),b=()=>!!p.env.wasm.proxy&&typeof document<"u";let h,d,v,_=!1,A=!1,I=!1;const R=[],P=[],$=[],M=[],B=[],F=[],q=()=>{if(_||!A||I||!h)throw new Error("worker not ready")},H=L=>{switch(L.data.type){case"init-wasm":_=!1,L.data.err?(I=!0,d[1](L.data.err)):(A=!0,d[0]());break;case"init-ort":L.data.err?v[1](L.data.err):v[0]();break;case"create_allocate":L.data.err?R.shift()[1](L.data.err):R.shift()[0](L.data.out);break;case"create_finalize":L.data.err?P.shift()[1](L.data.err):P.shift()[0](L.data.out);break;case"create":L.data.err?$.shift()[1](L.data.err):$.shift()[0](L.data.out);break;case"release":L.data.err?M.shift()[1](L.data.err):M.shift()[0]();break;case"run":L.data.err?B.shift()[1](L.data.err):B.shift()[0](L.data.out);break;case"end-profiling":L.data.err?F.shift()[1](L.data.err):F.shift()[0]()}},z=typeof document<"u"?(s=document==null?void 0:document.currentScript)===null||s===void 0?void 0:s.src:void 0;n.initWasm=async()=>{if(b()){if(A)return;if(_)throw new Error("multiple calls to 'initWasm()' detected.");if(I)throw new Error("previous call to 'initWasm()' failed.");return _=!0,p.env.wasm.wasmPaths===void 0&&z&&z.indexOf("blob:")!==0&&(p.env.wasm.wasmPaths=z.substr(0,+z.lastIndexOf("/")+1)),new Promise((L,ee)=>{h==null||h.terminate(),h=a(9710).Z(),h.onmessage=H,d=[L,ee];const Z={type:"init-wasm",in:p.env.wasm};h.postMessage(Z)})}return(0,y.initializeWebAssembly)(p.env.wasm)},n.initOrt=async(L,ee)=>{if(b())return q(),new Promise((Z,V)=>{v=[Z,V];const X={type:"init-ort",in:{numThreads:L,loggingLevel:ee}};h.postMessage(X)});g.initOrt(L,ee)},n.createSessionAllocate=async L=>b()?(q(),new Promise((ee,Z)=>{R.push([ee,Z]);const V={type:"create_allocate",in:{model:L}};h.postMessage(V,[L.buffer])})):g.createSessionAllocate(L),n.createSessionFinalize=async(L,ee)=>b()?(q(),new Promise((Z,V)=>{P.push([Z,V]);const X={type:"create_finalize",in:{modeldata:L,options:ee}};h.postMessage(X)})):g.createSessionFinalize(L,ee),n.createSession=async(L,ee)=>b()?(q(),new Promise((Z,V)=>{$.push([Z,V]);const X={type:"create",in:{model:L,options:ee}};h.postMessage(X,[L.buffer])})):g.createSession(L,ee),n.releaseSession=async L=>{if(b())return q(),new Promise((ee,Z)=>{M.push([ee,Z]);const V={type:"release",in:L};h.postMessage(V)});g.releaseSession(L)},n.run=async(L,ee,Z,V,X)=>b()?(q(),new Promise((Q,G)=>{B.push([Q,G]);const te={type:"run",in:{sessionId:L,inputIndices:ee,inputs:Z,outputIndices:V,options:X}};h.postMessage(te,g.extractTransferableBuffers(Z))})):g.run(L,ee,Z,V,X),n.endProfiling=async L=>{if(b())return q(),new Promise((ee,Z)=>{F.push([ee,Z]);const V={type:"end-profiling",in:L};h.postMessage(V)});g.endProfiling(L)}},586:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.setRunOptions=void 0;const s=a(7967),l=a(4983),c=a(6361);n.setRunOptions=f=>{const p=(0,c.getInstance)();let g=0;const y=[],b=f||{};try{if((f==null?void 0:f.logSeverityLevel)===void 0)b.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if((f==null?void 0:f.logVerbosityLevel)===void 0)b.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);(f==null?void 0:f.terminate)===void 0&&(b.terminate=!1);let h=0;if((f==null?void 0:f.tag)!==void 0&&(h=(0,l.allocWasmString)(f.tag,y)),g=p._OrtCreateRunOptions(b.logSeverityLevel,b.logVerbosityLevel,!!b.terminate,h),g===0)throw new Error("Can't create run options");return(f==null?void 0:f.extra)!==void 0&&(0,s.iterateExtraOptions)(f.extra,"",new WeakSet,(d,v)=>{const _=(0,l.allocWasmString)(d,y),A=(0,l.allocWasmString)(v,y);if(p._OrtAddRunConfigEntry(g,_,A)!==0)throw new Error(`Can't set a run config entry: ${d} - ${v}`)}),[g,y]}catch(h){throw g!==0&&p._OrtReleaseRunOptions(g),y.forEach(p._free),h}}},2306:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OnnxruntimeWebAssemblySessionHandler=void 0;const s=a(2806),l=a(1670),c=a(2850),f=a(2157);let p;n.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(g){const y=await fetch(g),b=await y.arrayBuffer();return(0,f.createSessionAllocate)(new Uint8Array(b))}async loadModel(g,y){if(p||(await(0,f.initOrt)(l.env.wasm.numThreads,(b=>{switch(b){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${b}`)}})(l.env.logLevel)),p=!0),typeof g=="string")if(typeof fetch>"u"){const b=await(0,c.promisify)(s.readFile)(g);[this.sessionId,this.inputNames,this.outputNames]=await(0,f.createSession)(b,y)}else{const b=await this.createSessionAllocate(g);[this.sessionId,this.inputNames,this.outputNames]=await(0,f.createSessionFinalize)(b,y)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,f.createSession)(g,y)}async dispose(){return(0,f.releaseSession)(this.sessionId)}async run(g,y,b){const h=[],d=[];Object.entries(g).forEach(I=>{const R=I[0],P=I[1],$=this.inputNames.indexOf(R);if($===-1)throw new Error(`invalid input '${R}'`);h.push(P),d.push($)});const v=[];Object.entries(y).forEach(I=>{const R=I[0],P=this.outputNames.indexOf(R);if(P===-1)throw new Error(`invalid output '${R}'`);v.push(P)});const _=await(0,f.run)(this.sessionId,d,h.map(I=>[I.type,I.dims,I.data]),v,b),A={};for(let I=0;I<_.length;I++)A[this.outputNames[v[I]]]=new l.Tensor(_[I][0],_[I][2],_[I][1]);return A}startProfiling(){}endProfiling(){(0,f.endProfiling)(this.sessionId)}}},4919:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.setSessionOptions=void 0;const s=a(7967),l=a(4983),c=a(6361);n.setSessionOptions=f=>{const p=(0,c.getInstance)();let g=0;const y=[],b=f||{};(h=>{h.extra||(h.extra={}),h.extra.session||(h.extra.session={});const d=h.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1")})(b);try{(f==null?void 0:f.graphOptimizationLevel)===void 0&&(b.graphOptimizationLevel="all");const h=(_=>{switch(_){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${_}`)}})(b.graphOptimizationLevel);(f==null?void 0:f.enableCpuMemArena)===void 0&&(b.enableCpuMemArena=!0),(f==null?void 0:f.enableMemPattern)===void 0&&(b.enableMemPattern=!0),(f==null?void 0:f.executionMode)===void 0&&(b.executionMode="sequential");const d=(_=>{switch(_){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${_}`)}})(b.executionMode);let v=0;if((f==null?void 0:f.logId)!==void 0&&(v=(0,l.allocWasmString)(f.logId,y)),(f==null?void 0:f.logSeverityLevel)===void 0)b.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if((f==null?void 0:f.logVerbosityLevel)===void 0)b.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);if((f==null?void 0:f.enableProfiling)===void 0&&(b.enableProfiling=!1),g=p._OrtCreateSessionOptions(h,!!b.enableCpuMemArena,!!b.enableMemPattern,d,!!b.enableProfiling,0,v,b.logSeverityLevel,b.logVerbosityLevel),g===0)throw new Error("Can't create session options");return f!=null&&f.executionProviders&&((_,A,I)=>{for(const R of A){let P=typeof R=="string"?R:R.name;switch(P){case"xnnpack":P="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${P}`)}const $=(0,l.allocWasmString)(P,I);if((0,c.getInstance)()._OrtAppendExecutionProvider(_,$)!==0)throw new Error(`Can't append execution provider: ${P}`)}})(g,f.executionProviders,y),(f==null?void 0:f.extra)!==void 0&&(0,s.iterateExtraOptions)(f.extra,"",new WeakSet,(_,A)=>{const I=(0,l.allocWasmString)(_,y),R=(0,l.allocWasmString)(A,y);if(p._OrtAddSessionConfigEntry(g,I,R)!==0)throw new Error(`Can't set a session config entry: ${_} - ${A}`)}),[g,y]}catch(h){throw g!==0&&p._OrtReleaseSessionOptions(g),y.forEach(p._free),h}}},4983:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.allocWasmString=void 0;const s=a(6361);n.allocWasmString=(l,c)=>{const f=(0,s.getInstance)(),p=f.lengthBytesUTF8(l)+1,g=f._malloc(p);return f.stringToUTF8(l,g,p),c.push(g),g}},349:(i,n,a)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.extractTransferableBuffers=n.endProfiling=n.run=n.releaseSession=n.createSession=n.createSessionFinalize=n.createSessionAllocate=n.initOrt=void 0;const s=a(586),l=a(4919),c=a(4983),f=a(6361);n.initOrt=(h,d)=>{const v=(0,f.getInstance)()._OrtInit(h,d);if(v!==0)throw new Error(`Can't initialize onnxruntime. error code = ${v}`)};const p=new Map;n.createSessionAllocate=h=>{const d=(0,f.getInstance)(),v=d._malloc(h.byteLength);return d.HEAPU8.set(h,v),[v,h.byteLength]},n.createSessionFinalize=(h,d)=>{const v=(0,f.getInstance)();let _=0,A=0,I=[];try{if([A,I]=(0,l.setSessionOptions)(d),_=v._OrtCreateSession(h[0],h[1],A),_===0)throw new Error("Can't create a session")}finally{v._free(h[0]),v._OrtReleaseSessionOptions(A),I.forEach(v._free)}const R=v._OrtGetInputCount(_),P=v._OrtGetOutputCount(_),$=[],M=[],B=[],F=[];for(let q=0;q<R;q++){const H=v._OrtGetInputName(_,q);if(H===0)throw new Error("Can't get an input name");M.push(H),$.push(v.UTF8ToString(H))}for(let q=0;q<P;q++){const H=v._OrtGetOutputName(_,q);if(H===0)throw new Error("Can't get an output name");F.push(H),B.push(v.UTF8ToString(H))}return p.set(_,[_,M,F]),[_,$,B]},n.createSession=(h,d)=>{const v=(0,n.createSessionAllocate)(h);return(0,n.createSessionFinalize)(v,d)},n.releaseSession=h=>{const d=(0,f.getInstance)(),v=p.get(h);if(!v)throw new Error("invalid session id");const _=v[0],A=v[1],I=v[2];A.forEach(d._OrtFree),I.forEach(d._OrtFree),d._OrtReleaseSession(_),p.delete(h)};const g=h=>{switch(h){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${h}`)}},y=h=>{switch(h){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${h}`)}},b=h=>{switch(h){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${h}`)}};n.run=(h,d,v,_,A)=>{const I=(0,f.getInstance)(),R=p.get(h);if(!R)throw new Error("invalid session id");const P=R[0],$=R[1],M=R[2],B=d.length,F=_.length;let q=0,H=[];const z=[],L=[];try{[q,H]=(0,s.setRunOptions)(A);for(let G=0;G<B;G++){const te=v[G][0],ue=v[G][1],fe=v[G][2];let K,de;if(Array.isArray(fe)){de=4*fe.length,K=I._malloc(de),L.push(K);let Ne=K/4;for(let Ie=0;Ie<fe.length;Ie++){if(typeof fe[Ie]!="string")throw new TypeError(`tensor data at index ${Ie} is not a string`);I.HEAPU32[Ne++]=(0,c.allocWasmString)(fe[Ie],L)}}else de=fe.byteLength,K=I._malloc(de),L.push(K),I.HEAPU8.set(new Uint8Array(fe.buffer,fe.byteOffset,de),K);const we=I.stackSave(),oe=I.stackAlloc(4*ue.length);try{let Ne=oe/4;ue.forEach(Le=>I.HEAP32[Ne++]=Le);const Ie=I._OrtCreateTensor(g(te),K,de,oe,ue.length);if(Ie===0)throw new Error("Can't create a tensor");z.push(Ie)}finally{I.stackRestore(we)}}const ee=I.stackSave(),Z=I.stackAlloc(4*B),V=I.stackAlloc(4*B),X=I.stackAlloc(4*F),Q=I.stackAlloc(4*F);try{let G=Z/4,te=V/4,ue=X/4,fe=Q/4;for(let we=0;we<B;we++)I.HEAPU32[G++]=z[we],I.HEAPU32[te++]=$[d[we]];for(let we=0;we<F;we++)I.HEAPU32[ue++]=0,I.HEAPU32[fe++]=M[_[we]];let K=I._OrtRun(P,V,Z,B,Q,F,X,q);const de=[];if(K===0)for(let we=0;we<F;we++){const oe=I.HEAPU32[X/4+we],Ne=I.stackSave(),Ie=I.stackAlloc(16);let Le,ut=0;try{if(K=I._OrtGetTensorData(oe,Ie,Ie+4,Ie+8,Ie+12),K!==0)throw new Error(`Can't access output tensor data. error code = ${K}`);let mt=Ie/4;const vt=I.HEAPU32[mt++];ut=I.HEAPU32[mt++];const it=I.HEAPU32[mt++],pt=I.HEAPU32[mt++],xt=[];for(let _t=0;_t<pt;_t++)xt.push(I.HEAPU32[it/4+_t]);I._OrtFree(it);const kt=xt.length===0?1:xt.reduce((_t,Nt)=>_t*Nt);if(Le=y(vt),Le==="string"){const _t=[];let Nt=ut/4;for(let Vt=0;Vt<kt;Vt++){const Mt=I.HEAPU32[Nt++],$t=Vt===kt-1?void 0:I.HEAPU32[Nt]-Mt;_t.push(I.UTF8ToString(Mt,$t))}de.push([Le,xt,_t])}else{const _t=new(b(Le))(kt);new Uint8Array(_t.buffer,_t.byteOffset,_t.byteLength).set(I.HEAPU8.subarray(ut,ut+_t.byteLength)),de.push([Le,xt,_t])}}finally{I.stackRestore(Ne),Le==="string"&&ut&&I._free(ut),I._OrtReleaseTensor(oe)}}if(K===0)return de;throw new Error(`failed to call OrtRun(). error code = ${K}.`)}finally{I.stackRestore(ee)}}finally{z.forEach(I._OrtReleaseTensor),L.forEach(I._free),I._OrtReleaseRunOptions(q),H.forEach(I._free)}},n.endProfiling=h=>{const d=(0,f.getInstance)(),v=p.get(h);if(!v)throw new Error("invalid session id");const _=v[0],A=d._OrtEndProfiling(_);if(A===0)throw new Error("Can't get an profile file name");d._OrtFree(A)},n.extractTransferableBuffers=h=>{const d=[];for(const v of h){const _=v[2];!Array.isArray(_)&&_.buffer&&d.push(_.buffer)}return d}},6361:function(i,n,a){var s=this&&this.__createBinding||(Object.create?function(A,I,R,P){P===void 0&&(P=R);var $=Object.getOwnPropertyDescriptor(I,R);$&&!("get"in $?!I.__esModule:$.writable||$.configurable)||($={enumerable:!0,get:function(){return I[R]}}),Object.defineProperty(A,P,$)}:function(A,I,R,P){P===void 0&&(P=R),A[P]=I[R]}),l=this&&this.__setModuleDefault||(Object.create?function(A,I){Object.defineProperty(A,"default",{enumerable:!0,value:I})}:function(A,I){A.default=I}),c=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var I={};if(A!=null)for(var R in A)R!=="default"&&Object.prototype.hasOwnProperty.call(A,R)&&s(I,A,R);return l(I,A),I},f=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(n,"__esModule",{value:!0}),n.dispose=n.getInstance=n.initializeWebAssembly=void 0;const p=c(a(6449)),g=f(a(932)),y=a(3474);let b,h=!1,d=!1,v=!1;const _=(A,I)=>I?A?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":A?"ort-wasm-simd.wasm":"ort-wasm.wasm";n.initializeWebAssembly=async A=>{if(h)return Promise.resolve();if(d)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(v)throw new Error("previous call to 'initializeWebAssembly()' failed.");d=!0;const I=A.initTimeout,R=A.numThreads,P=A.simd,$=R>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),M=P&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),B=typeof A.wasmPaths=="string"?A.wasmPaths:void 0,F=_(!1,$),q=_(M,$),H=typeof A.wasmPaths=="object"?A.wasmPaths[q]:void 0;let z=!1;const L=[];if(I>0&&L.push(new Promise(ee=>{setTimeout(()=>{z=!0,ee()},I)})),L.push(new Promise((ee,Z)=>{const V=$?y:g.default,X={locateFile:(Q,G)=>$&&Q.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([a(4154)],{type:"text/javascript"})):Q===F?H??(B??G)+q:G+Q};if($)if(typeof Blob>"u")X.mainScriptUrlOrBlob=p.join("/","ort-wasm-threaded.js");else{const Q=`var ortWasmThreaded=(function(){var _scriptDir;return ${V.toString()}})();`;X.mainScriptUrlOrBlob=new Blob([Q],{type:"text/javascript"})}V(X).then(Q=>{d=!1,h=!0,b=Q,ee()},Q=>{d=!1,v=!0,Z(Q)})})),await Promise.race(L),z)throw new Error(`WebAssembly backend initializing failed due to timeout: ${I}ms`)},n.getInstance=()=>{if(h&&b)return b;throw new Error("WebAssembly is not initialized yet.")},n.dispose=()=>{var A;!h||d||v||(d=!0,(A=b.PThread)===null||A===void 0||A.terminateAllThreads(),b=void 0,d=!1,h=!1,v=!0)}},9710:(i,n,a)=>{a.d(n,{Z:()=>c});var s=a(477),l=a.n(s);function c(){return l()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:i=>{i.exports=function(n,a,s,l){var c=self||window;try{try{var f;try{f=new c.Blob([n])}catch{(f=new(c.BlobBuilder||c.WebKitBlobBuilder||c.MozBlobBuilder||c.MSBlobBuilder)).append(n),f=f.getBlob()}var p=c.URL||c.webkitURL,g=p.createObjectURL(f),y=new c[a](g,s);return p.revokeObjectURL(g),y}catch{return new c[a]("data:application/javascript,".concat(encodeURIComponent(n)),s)}}catch{if(!l)throw Error("Inline worker is not supported");return new c[a](l,s)}}},4154:i=>{i.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:i=>{i.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(i,n,a)=>{a.r(n),a.d(n,{flatbuffers:()=>s});var s={};s.Offset,s.Table,s.SIZEOF_SHORT=2,s.SIZEOF_INT=4,s.FILE_IDENTIFIER_LENGTH=4,s.SIZE_PREFIX_LENGTH=4,s.Encoding={UTF8_BYTES:1,UTF16_STRING:2},s.int32=new Int32Array(2),s.float32=new Float32Array(s.int32.buffer),s.float64=new Float64Array(s.int32.buffer),s.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,s.Long=function(l,c){this.low=0|l,this.high=0|c},s.Long.create=function(l,c){return l==0&&c==0?s.Long.ZERO:new s.Long(l,c)},s.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},s.Long.prototype.equals=function(l){return this.low==l.low&&this.high==l.high},s.Long.ZERO=new s.Long(0,0),s.Builder=function(l){if(l)c=l;else var c=1024;this.bb=s.ByteBuffer.allocate(c),this.space=c,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},s.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},s.Builder.prototype.forceDefaults=function(l){this.force_defaults=l},s.Builder.prototype.dataBuffer=function(){return this.bb},s.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},s.Builder.prototype.prep=function(l,c){l>this.minalign&&(this.minalign=l);for(var f=1+~(this.bb.capacity()-this.space+c)&l-1;this.space<f+l+c;){var p=this.bb.capacity();this.bb=s.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-p}this.pad(f)},s.Builder.prototype.pad=function(l){for(var c=0;c<l;c++)this.bb.writeInt8(--this.space,0)},s.Builder.prototype.writeInt8=function(l){this.bb.writeInt8(this.space-=1,l)},s.Builder.prototype.writeInt16=function(l){this.bb.writeInt16(this.space-=2,l)},s.Builder.prototype.writeInt32=function(l){this.bb.writeInt32(this.space-=4,l)},s.Builder.prototype.writeInt64=function(l){this.bb.writeInt64(this.space-=8,l)},s.Builder.prototype.writeFloat32=function(l){this.bb.writeFloat32(this.space-=4,l)},s.Builder.prototype.writeFloat64=function(l){this.bb.writeFloat64(this.space-=8,l)},s.Builder.prototype.addInt8=function(l){this.prep(1,0),this.writeInt8(l)},s.Builder.prototype.addInt16=function(l){this.prep(2,0),this.writeInt16(l)},s.Builder.prototype.addInt32=function(l){this.prep(4,0),this.writeInt32(l)},s.Builder.prototype.addInt64=function(l){this.prep(8,0),this.writeInt64(l)},s.Builder.prototype.addFloat32=function(l){this.prep(4,0),this.writeFloat32(l)},s.Builder.prototype.addFloat64=function(l){this.prep(8,0),this.writeFloat64(l)},s.Builder.prototype.addFieldInt8=function(l,c,f){(this.force_defaults||c!=f)&&(this.addInt8(c),this.slot(l))},s.Builder.prototype.addFieldInt16=function(l,c,f){(this.force_defaults||c!=f)&&(this.addInt16(c),this.slot(l))},s.Builder.prototype.addFieldInt32=function(l,c,f){(this.force_defaults||c!=f)&&(this.addInt32(c),this.slot(l))},s.Builder.prototype.addFieldInt64=function(l,c,f){!this.force_defaults&&c.equals(f)||(this.addInt64(c),this.slot(l))},s.Builder.prototype.addFieldFloat32=function(l,c,f){(this.force_defaults||c!=f)&&(this.addFloat32(c),this.slot(l))},s.Builder.prototype.addFieldFloat64=function(l,c,f){(this.force_defaults||c!=f)&&(this.addFloat64(c),this.slot(l))},s.Builder.prototype.addFieldOffset=function(l,c,f){(this.force_defaults||c!=f)&&(this.addOffset(c),this.slot(l))},s.Builder.prototype.addFieldStruct=function(l,c,f){c!=f&&(this.nested(c),this.slot(l))},s.Builder.prototype.nested=function(l){if(l!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},s.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},s.Builder.prototype.slot=function(l){this.vtable[l]=this.offset()},s.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},s.Builder.growByteBuffer=function(l){var c=l.capacity();if(3221225472&c)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var f=c<<1,p=s.ByteBuffer.allocate(f);return p.setPosition(f-c),p.bytes().set(l.bytes(),f-c),p},s.Builder.prototype.addOffset=function(l){this.prep(s.SIZEOF_INT,0),this.writeInt32(this.offset()-l+s.SIZEOF_INT)},s.Builder.prototype.startObject=function(l){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=l;for(var c=0;c<l;c++)this.vtable[c]=0;this.isNested=!0,this.object_start=this.offset()},s.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var l=this.offset(),c=this.vtable_in_use-1;c>=0&&this.vtable[c]==0;c--);for(var f=c+1;c>=0;c--)this.addInt16(this.vtable[c]!=0?l-this.vtable[c]:0);this.addInt16(l-this.object_start);var p=(f+2)*s.SIZEOF_SHORT;this.addInt16(p);var g=0,y=this.space;e:for(c=0;c<this.vtables.length;c++){var b=this.bb.capacity()-this.vtables[c];if(p==this.bb.readInt16(b)){for(var h=s.SIZEOF_SHORT;h<p;h+=s.SIZEOF_SHORT)if(this.bb.readInt16(y+h)!=this.bb.readInt16(b+h))continue e;g=this.vtables[c];break}}return g?(this.space=this.bb.capacity()-l,this.bb.writeInt32(this.space,g-l)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-l,this.offset()-l)),this.isNested=!1,l},s.Builder.prototype.finish=function(l,c,f){var p=f?s.SIZE_PREFIX_LENGTH:0;if(c){var g=c;if(this.prep(this.minalign,s.SIZEOF_INT+s.FILE_IDENTIFIER_LENGTH+p),g.length!=s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+s.FILE_IDENTIFIER_LENGTH);for(var y=s.FILE_IDENTIFIER_LENGTH-1;y>=0;y--)this.writeInt8(g.charCodeAt(y))}this.prep(this.minalign,s.SIZEOF_INT+p),this.addOffset(l),p&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},s.Builder.prototype.finishSizePrefixed=function(l,c){this.finish(l,c,!0)},s.Builder.prototype.requiredField=function(l,c){var f=this.bb.capacity()-l,p=f-this.bb.readInt32(f);if(this.bb.readInt16(p+c)==0)throw new Error("FlatBuffers: field "+c+" must be set")},s.Builder.prototype.startVector=function(l,c,f){this.notNested(),this.vector_num_elems=c,this.prep(s.SIZEOF_INT,l*c),this.prep(f,l*c)},s.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},s.Builder.prototype.createString=function(l){if(l instanceof Uint8Array)var c=l;else{c=[];for(var f=0;f<l.length;){var p,g=l.charCodeAt(f++);(p=g<55296||g>=56320?g:(g<<10)+l.charCodeAt(f++)+-56613888)<128?c.push(p):(p<2048?c.push(p>>6&31|192):(p<65536?c.push(p>>12&15|224):c.push(p>>18&7|240,p>>12&63|128),c.push(p>>6&63|128)),c.push(63&p|128))}}this.addInt8(0),this.startVector(1,c.length,1),this.bb.setPosition(this.space-=c.length),f=0;for(var y=this.space,b=this.bb.bytes();f<c.length;f++)b[y++]=c[f];return this.endVector()},s.Builder.prototype.createLong=function(l,c){return s.Long.create(l,c)},s.ByteBuffer=function(l){this.bytes_=l,this.position_=0},s.ByteBuffer.allocate=function(l){return new s.ByteBuffer(new Uint8Array(l))},s.ByteBuffer.prototype.clear=function(){this.position_=0},s.ByteBuffer.prototype.bytes=function(){return this.bytes_},s.ByteBuffer.prototype.position=function(){return this.position_},s.ByteBuffer.prototype.setPosition=function(l){this.position_=l},s.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},s.ByteBuffer.prototype.readInt8=function(l){return this.readUint8(l)<<24>>24},s.ByteBuffer.prototype.readUint8=function(l){return this.bytes_[l]},s.ByteBuffer.prototype.readInt16=function(l){return this.readUint16(l)<<16>>16},s.ByteBuffer.prototype.readUint16=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8},s.ByteBuffer.prototype.readInt32=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8|this.bytes_[l+2]<<16|this.bytes_[l+3]<<24},s.ByteBuffer.prototype.readUint32=function(l){return this.readInt32(l)>>>0},s.ByteBuffer.prototype.readInt64=function(l){return new s.Long(this.readInt32(l),this.readInt32(l+4))},s.ByteBuffer.prototype.readUint64=function(l){return new s.Long(this.readUint32(l),this.readUint32(l+4))},s.ByteBuffer.prototype.readFloat32=function(l){return s.int32[0]=this.readInt32(l),s.float32[0]},s.ByteBuffer.prototype.readFloat64=function(l){return s.int32[s.isLittleEndian?0:1]=this.readInt32(l),s.int32[s.isLittleEndian?1:0]=this.readInt32(l+4),s.float64[0]},s.ByteBuffer.prototype.writeInt8=function(l,c){this.bytes_[l]=c},s.ByteBuffer.prototype.writeUint8=function(l,c){this.bytes_[l]=c},s.ByteBuffer.prototype.writeInt16=function(l,c){this.bytes_[l]=c,this.bytes_[l+1]=c>>8},s.ByteBuffer.prototype.writeUint16=function(l,c){this.bytes_[l]=c,this.bytes_[l+1]=c>>8},s.ByteBuffer.prototype.writeInt32=function(l,c){this.bytes_[l]=c,this.bytes_[l+1]=c>>8,this.bytes_[l+2]=c>>16,this.bytes_[l+3]=c>>24},s.ByteBuffer.prototype.writeUint32=function(l,c){this.bytes_[l]=c,this.bytes_[l+1]=c>>8,this.bytes_[l+2]=c>>16,this.bytes_[l+3]=c>>24},s.ByteBuffer.prototype.writeInt64=function(l,c){this.writeInt32(l,c.low),this.writeInt32(l+4,c.high)},s.ByteBuffer.prototype.writeUint64=function(l,c){this.writeUint32(l,c.low),this.writeUint32(l+4,c.high)},s.ByteBuffer.prototype.writeFloat32=function(l,c){s.float32[0]=c,this.writeInt32(l,s.int32[0])},s.ByteBuffer.prototype.writeFloat64=function(l,c){s.float64[0]=c,this.writeInt32(l,s.int32[s.isLittleEndian?0:1]),this.writeInt32(l+4,s.int32[s.isLittleEndian?1:0])},s.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+s.SIZEOF_INT+s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var l="",c=0;c<s.FILE_IDENTIFIER_LENGTH;c++)l+=String.fromCharCode(this.readInt8(this.position_+s.SIZEOF_INT+c));return l},s.ByteBuffer.prototype.__offset=function(l,c){var f=l-this.readInt32(l);return c<this.readInt16(f)?this.readInt16(f+c):0},s.ByteBuffer.prototype.__union=function(l,c){return l.bb_pos=c+this.readInt32(c),l.bb=this,l},s.ByteBuffer.prototype.__string=function(l,c){l+=this.readInt32(l);var f=this.readInt32(l),p="",g=0;if(l+=s.SIZEOF_INT,c===s.Encoding.UTF8_BYTES)return this.bytes_.subarray(l,l+f);for(;g<f;){var y,b=this.readUint8(l+g++);if(b<192)y=b;else{var h=this.readUint8(l+g++);if(b<224)y=(31&b)<<6|63&h;else{var d=this.readUint8(l+g++);y=b<240?(15&b)<<12|(63&h)<<6|63&d:(7&b)<<18|(63&h)<<12|(63&d)<<6|63&this.readUint8(l+g++)}}y<65536?p+=String.fromCharCode(y):(y-=65536,p+=String.fromCharCode(55296+(y>>10),56320+(1023&y)))}return p},s.ByteBuffer.prototype.__indirect=function(l){return l+this.readInt32(l)},s.ByteBuffer.prototype.__vector=function(l){return l+this.readInt32(l)+s.SIZEOF_INT},s.ByteBuffer.prototype.__vector_len=function(l){return this.readInt32(l+this.readInt32(l))},s.ByteBuffer.prototype.__has_identifier=function(l){if(l.length!=s.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+s.FILE_IDENTIFIER_LENGTH);for(var c=0;c<s.FILE_IDENTIFIER_LENGTH;c++)if(l.charCodeAt(c)!=this.readInt8(this.position_+s.SIZEOF_INT+c))return!1;return!0},s.ByteBuffer.prototype.createLong=function(l,c){return s.Long.create(l,c)}}},__webpack_module_cache__={};function __webpack_require__(i){var n=__webpack_module_cache__[i];if(n!==void 0)return n.exports;var a=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.n=i=>{var n=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(i,n)=>{for(var a in n)__webpack_require__.o(n,a)&&!__webpack_require__.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:n[a]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(i,n)=>Object.prototype.hasOwnProperty.call(i,n),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})())}(ortWeb_min)),ortWeb_min.exports}var assetPath={},hasRequiredAssetPath;function requireAssetPath(){if(hasRequiredAssetPath)return assetPath;hasRequiredAssetPath=1,Object.defineProperty(assetPath,"__esModule",{value:!0}),assetPath.baseAssetPath=void 0;const i=typeof window<"u"&&typeof window.document<"u"?window.document.currentScript:null;let n="/";return i&&(n=i.src.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")),assetPath.baseAssetPath=n,assetPath}var defaultModelFetcher={},hasRequiredDefaultModelFetcher;function requireDefaultModelFetcher(){if(hasRequiredDefaultModelFetcher)return defaultModelFetcher;hasRequiredDefaultModelFetcher=1,Object.defineProperty(defaultModelFetcher,"__esModule",{value:!0}),defaultModelFetcher.defaultModelFetcher=void 0;const i=n=>fetch(n).then(a=>a.arrayBuffer());return defaultModelFetcher.defaultModelFetcher=i,defaultModelFetcher}var frameProcessor={},logging={},hasRequiredLogging;function requireLogging(){return hasRequiredLogging||(hasRequiredLogging=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.log=i.LOG_PREFIX=void 0,i.LOG_PREFIX="[VAD]";const n=["error","debug","warn"];function a(l){return(...c)=>{console[l](i.LOG_PREFIX,...c)}}const s=n.reduce((l,c)=>(l[c]=a(c),l),{});i.log=s}(logging)),logging}var messages={},hasRequiredMessages;function requireMessages(){if(hasRequiredMessages)return messages;hasRequiredMessages=1,Object.defineProperty(messages,"__esModule",{value:!0}),messages.Message=void 0;var i;return function(n){n.AudioFrame="AUDIO_FRAME",n.SpeechStart="SPEECH_START",n.VADMisfire="VAD_MISFIRE",n.SpeechEnd="SPEECH_END",n.SpeechStop="SPEECH_STOP"}(i||(messages.Message=i={})),messages}var hasRequiredFrameProcessor;function requireFrameProcessor(){if(hasRequiredFrameProcessor)return frameProcessor;hasRequiredFrameProcessor=1,Object.defineProperty(frameProcessor,"__esModule",{value:!0}),frameProcessor.FrameProcessor=frameProcessor.validateOptions=frameProcessor.defaultV5FrameProcessorOptions=frameProcessor.defaultLegacyFrameProcessorOptions=void 0;const i=requireLogging(),n=requireMessages(),a=[512,1024,1536];frameProcessor.defaultLegacyFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3,submitUserSpeechOnPause:!1},frameProcessor.defaultV5FrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:3,redemptionFrames:24,frameSamples:512,minSpeechFrames:9,submitUserSpeechOnPause:!1};function s(f){a.includes(f.frameSamples)||i.log.warn("You are using an unusual frame size"),(f.positiveSpeechThreshold<0||f.positiveSpeechThreshold>1)&&i.log.error("positiveSpeechThreshold should be a number between 0 and 1"),(f.negativeSpeechThreshold<0||f.negativeSpeechThreshold>f.positiveSpeechThreshold)&&i.log.error("negativeSpeechThreshold should be between 0 and positiveSpeechThreshold"),f.preSpeechPadFrames<0&&i.log.error("preSpeechPadFrames should be positive"),f.redemptionFrames<0&&i.log.error("redemptionFrames should be positive")}frameProcessor.validateOptions=s;const l=f=>{const p=f.reduce((y,b)=>(y.push(y.at(-1)+b.length),y),[0]),g=new Float32Array(p.at(-1));return f.forEach((y,b)=>{const h=p[b];g.set(y,h)}),g};class c{constructor(p,g,y){this.modelProcessFunc=p,this.modelResetFunc=g,this.options=y,this.speaking=!1,this.redemptionCounter=0,this.active=!1,this.reset=()=>{this.speaking=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0},this.pause=()=>(this.active=!1,this.options.submitUserSpeechOnPause?this.endSegment():(this.reset(),{})),this.resume=()=>{this.active=!0},this.endSegment=()=>{const b=this.audioBuffer;this.audioBuffer=[];const h=this.speaking;this.reset();const d=b.reduce((v,_)=>v+ +_.isSpeech,0);if(h)if(d>=this.options.minSpeechFrames){const v=l(b.map(_=>_.frame));return{msg:n.Message.SpeechEnd,audio:v}}else return{msg:n.Message.VADMisfire};return{}},this.process=async b=>{if(!this.active)return{};const h=await this.modelProcessFunc(b);if(this.audioBuffer.push({frame:b,isSpeech:h.isSpeech>=this.options.positiveSpeechThreshold}),h.isSpeech>=this.options.positiveSpeechThreshold&&this.redemptionCounter&&(this.redemptionCounter=0),h.isSpeech>=this.options.positiveSpeechThreshold&&!this.speaking)return this.speaking=!0,{probs:h,msg:n.Message.SpeechStart,frame:b};if(h.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speaking=!1;const d=this.audioBuffer;if(this.audioBuffer=[],d.reduce((v,_)=>v+ +_.isSpeech,0)>=this.options.minSpeechFrames){const v=l(d.map(_=>_.frame));return{probs:h,msg:n.Message.SpeechEnd,audio:v,frame:b}}else return{probs:h,msg:n.Message.VADMisfire,frame:b}}if(!this.speaking)for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();return{probs:h,frame:b}},this.audioBuffer=[],this.reset()}}return frameProcessor.FrameProcessor=c,frameProcessor}var nonRealTimeVad={},models={},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,Object.defineProperty(common,"__esModule",{value:!0})),common}var legacy={},hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var i;Object.defineProperty(legacy,"__esModule",{value:!0}),legacy.SileroLegacy=void 0;const n=requireLogging();class a{constructor(l,c,f,p,g){this.ortInstance=l,this._session=c,this._h=f,this._c=p,this._sr=g,this.reset_state=()=>{const y=Array(128).fill(0);this._h=new this.ortInstance.Tensor("float32",y,[2,1,64]),this._c=new this.ortInstance.Tensor("float32",y,[2,1,64])},this.process=async y=>{var b;const h={input:new this.ortInstance.Tensor("float32",y,[1,y.length]),h:this._h,c:this._c,sr:this._sr},d=await this._session.run(h);this._h=d.hn,this._c=d.cn;const[v]=(b=d.output)==null?void 0:b.data;return{notSpeech:1-v,isSpeech:v}}}}return legacy.SileroLegacy=a,i=a,a.new=async(s,l)=>{n.log.debug("initializing vad");const c=await l(),f=await s.InferenceSession.create(c),p=new s.Tensor("int64",[16000n]),g=Array(2*64).fill(0),y=new s.Tensor("float32",g,[2,1,64]),b=new s.Tensor("float32",g,[2,1,64]);return n.log.debug("vad is initialized"),new i(s,f,y,b,p)},legacy}var v5={},hasRequiredV5;function requireV5(){if(hasRequiredV5)return v5;hasRequiredV5=1;var i;Object.defineProperty(v5,"__esModule",{value:!0}),v5.SileroV5=void 0;const n=requireLogging();function a(l){const c=Array(256).fill(0);return new l.Tensor("float32",c,[2,1,128])}class s{constructor(c,f,p,g){this._session=c,this._state=f,this._sr=p,this.ortInstance=g,this.reset_state=()=>{this._state=a(this.ortInstance)},this.process=async y=>{var b;const h={input:new this.ortInstance.Tensor("float32",y,[1,y.length]),state:this._state,sr:this._sr},d=await this._session.run(h);this._state=d.stateN;const[v]=(b=d.output)==null?void 0:b.data;return{notSpeech:1-v,isSpeech:v}}}}return v5.SileroV5=s,i=s,s.new=async(l,c)=>{n.log.debug("Loading VAD...");const f=await c(),p=await l.InferenceSession.create(f),g=new l.Tensor("int64",[16000n]),y=a(l);return n.log.debug("...finished loading VAD"),new i(p,y,g,l)},v5}var hasRequiredModels;function requireModels(){return hasRequiredModels||(hasRequiredModels=1,function(i){var n=models.__createBinding||(Object.create?function(c,f,p,g){g===void 0&&(g=p);var y=Object.getOwnPropertyDescriptor(f,p);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(c,g,y)}:function(c,f,p,g){g===void 0&&(g=p),c[g]=f[p]}),a=models.__exportStar||function(c,f){for(var p in c)p!=="default"&&!Object.prototype.hasOwnProperty.call(f,p)&&n(f,c,p)};Object.defineProperty(i,"__esModule",{value:!0}),i.SileroV5=i.SileroLegacy=void 0,a(requireCommon(),i);var s=requireLegacy();Object.defineProperty(i,"SileroLegacy",{enumerable:!0,get:function(){return s.SileroLegacy}});var l=requireV5();Object.defineProperty(i,"SileroV5",{enumerable:!0,get:function(){return l.SileroV5}})}(models)),models}var resampler={},hasRequiredResampler;function requireResampler(){if(hasRequiredResampler)return resampler;hasRequiredResampler=1,Object.defineProperty(resampler,"__esModule",{value:!0}),resampler.Resampler=void 0;const i=requireLogging();class n{constructor(s){this.options=s,this.process=l=>{const c=[];for(const f of l)for(this.inputBuffer.push(f);this.hasEnoughDataForFrame();){const p=this.generateOutputFrame();c.push(p)}return c},this.stream=async function*(l){for(const c of l)for(this.inputBuffer.push(c);this.hasEnoughDataForFrame();)yield this.generateOutputFrame()},s.nativeSampleRate<16e3&&i.log.error("nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate"),this.inputBuffer=[]}hasEnoughDataForFrame(){return this.inputBuffer.length*this.options.targetSampleRate/this.options.nativeSampleRate>=this.options.targetFrameSize}generateOutputFrame(){const s=new Float32Array(this.options.targetFrameSize);let l=0,c=0;for(;l<this.options.targetFrameSize;){let f=0,p=0;for(;c<Math.min(this.inputBuffer.length,(l+1)*this.options.nativeSampleRate/this.options.targetSampleRate);){const g=this.inputBuffer[c];g!==void 0&&(f+=g,p++),c++}s[l]=f/p,l++}return this.inputBuffer=this.inputBuffer.slice(c),s}}return resampler.Resampler=n,resampler}var hasRequiredNonRealTimeVad;function requireNonRealTimeVad(){return hasRequiredNonRealTimeVad||(hasRequiredNonRealTimeVad=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.PlatformAgnosticNonRealTimeVAD=i.defaultNonRealTimeVADOptions=void 0;const n=requireFrameProcessor(),a=requireMessages(),s=requireModels(),l=requireResampler();i.defaultNonRealTimeVADOptions={...n.defaultLegacyFrameProcessorOptions,ortConfig:void 0};class c{static async _new(p,g,y={}){const b={...i.defaultNonRealTimeVADOptions,...y};b.ortConfig!==void 0&&b.ortConfig(g);const h=new this(p,g,b);return await h.init(),h}constructor(p,g,y){this.modelFetcher=p,this.ort=g,this.options=y,this.init=async()=>{const b=await s.SileroLegacy.new(this.ort,this.modelFetcher);this.frameProcessor=new n.FrameProcessor(b.process,b.reset_state,{frameSamples:this.options.frameSamples,positiveSpeechThreshold:this.options.positiveSpeechThreshold,negativeSpeechThreshold:this.options.negativeSpeechThreshold,redemptionFrames:this.options.redemptionFrames,preSpeechPadFrames:this.options.preSpeechPadFrames,minSpeechFrames:this.options.minSpeechFrames,submitUserSpeechOnPause:this.options.submitUserSpeechOnPause}),this.frameProcessor.resume()},this.run=async function*(b,h){const d={nativeSampleRate:h,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples},v=new l.Resampler(d);let _=0,A=0,I=0;for await(const $ of v.stream(b)){const{msg:M,audio:B}=await this.frameProcessor.process($);switch(M){case a.Message.SpeechStart:_=I*this.options.frameSamples/16;break;case a.Message.SpeechEnd:A=(I+1)*this.options.frameSamples/16,yield{audio:B,start:_,end:A};break}I++}const{msg:R,audio:P}=this.frameProcessor.endSegment();R==a.Message.SpeechEnd&&(yield{audio:P,start:_,end:I*this.options.frameSamples/16})},(0,n.validateOptions)(y)}}i.PlatformAgnosticNonRealTimeVAD=c}(nonRealTimeVad)),nonRealTimeVad}var utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1,Object.defineProperty(utils,"__esModule",{value:!0}),utils.audioFileToArray=utils.encodeWAV=utils.arrayBufferToBase64=utils.minFramesForTargetMS=void 0;function i(p,g,y=16e3){return Math.ceil(p*y/1e3/g)}utils.minFramesForTargetMS=i;function n(p){const g=new Uint8Array(p),y=g.byteLength,b=new Array(y);for(var h=0;h<y;h++){const d=g[h];if(d===void 0)break;b[h]=String.fromCharCode(d)}return btoa(b.join(""))}utils.arrayBufferToBase64=n;function a(p,g=3,y=16e3,b=1,h=32){var d=h/8,v=b*d,_=new ArrayBuffer(44+p.length*d),A=new DataView(_);return c(A,0,"RIFF"),A.setUint32(4,36+p.length*d,!0),c(A,8,"WAVE"),c(A,12,"fmt "),A.setUint32(16,16,!0),A.setUint16(20,g,!0),A.setUint16(22,b,!0),A.setUint32(24,y,!0),A.setUint32(28,y*v,!0),A.setUint16(32,v,!0),A.setUint16(34,h,!0),c(A,36,"data"),A.setUint32(40,p.length*d,!0),g===1?l(A,44,p):s(A,44,p),_}utils.encodeWAV=a;function s(p,g,y){for(var b=0;b<y.length;b++,g+=4)p.setFloat32(g,y[b],!0)}function l(p,g,y){for(var b=0;b<y.length;b++,g+=2){var h=Math.max(-1,Math.min(1,y[b]));p.setInt16(g,h<0?h*32768:h*32767,!0)}}function c(p,g,y){for(var b=0;b<y.length;b++)p.setUint8(g+b,y.charCodeAt(b))}async function f(p){const g=new OfflineAudioContext(1,1,44100),y=new FileReader;let b=null;if(await new Promise(v=>{y.addEventListener("loadend",_=>{const A=y.result;g.decodeAudioData(A,I=>{b=I,g.startRendering().then(R=>{console.log("Rendering completed successfully"),v()}).catch(R=>{console.error(`Rendering failed: ${R}`)})},I=>{console.log(`Error with decoding audio data: ${I}`)})}),y.readAsArrayBuffer(p)}),b===null)throw Error("some shit");let h=b,d=new Float32Array(h.length);for(let v=0;v<h.length;v++)for(let _=0;_<h.numberOfChannels;_++)d[v]+=h.getChannelData(_)[v];return{audio:d,sampleRate:h.sampleRate}}return utils.audioFileToArray=f,utils}var realTimeVad={},hasRequiredRealTimeVad;function requireRealTimeVad(){return hasRequiredRealTimeVad||(hasRequiredRealTimeVad=1,function(i){var n=realTimeVad.__createBinding||(Object.create?function(R,P,$,M){M===void 0&&(M=$);var B=Object.getOwnPropertyDescriptor(P,$);(!B||("get"in B?!P.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return P[$]}}),Object.defineProperty(R,M,B)}:function(R,P,$,M){M===void 0&&(M=$),R[M]=P[$]}),a=realTimeVad.__setModuleDefault||(Object.create?function(R,P){Object.defineProperty(R,"default",{enumerable:!0,value:P})}:function(R,P){R.default=P}),s=realTimeVad.__importStar||function(R){if(R&&R.__esModule)return R;var P={};if(R!=null)for(var $ in R)$!=="default"&&Object.prototype.hasOwnProperty.call(R,$)&&n(P,R,$);return a(P,R),P};Object.defineProperty(i,"__esModule",{value:!0}),i.AudioNodeVAD=i.MicVAD=i.getDefaultRealTimeVADOptions=i.ort=i.DEFAULT_MODEL=void 0;const l=s(requireOrtWeb_min()),c=requireDefaultModelFetcher(),f=requireFrameProcessor(),p=requireLogging(),g=requireMessages(),y=requireModels(),b=requireResampler();i.DEFAULT_MODEL="legacy",i.ort=l;const h="vad.worklet.bundle.min.js",d="silero_vad_v5.onnx",v="silero_vad_legacy.onnx",_=R=>({...R==="v5"?f.defaultV5FrameProcessorOptions:f.defaultLegacyFrameProcessorOptions,onFrameProcessed:P=>{},onVADMisfire:()=>{p.log.debug("VAD misfire")},onSpeechStart:()=>{p.log.debug("Detected speech start")},onSpeechEnd:()=>{p.log.debug("Detected speech end")},baseAssetPath:"https://cdn.jsdelivr.net/npm/@ricky0123/vad-web@0.0.22/dist/",onnxWASMBasePath:"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.14.0/dist/",stream:void 0,ortConfig:void 0,model:i.DEFAULT_MODEL,workletOptions:{}});i.getDefaultRealTimeVADOptions=_;class A{static async new(P={}){const $={...(0,i.getDefaultRealTimeVADOptions)(P.model??i.DEFAULT_MODEL),...P};(0,f.validateOptions)($);let M;$.stream===void 0?M=await navigator.mediaDevices.getUserMedia({audio:{...$.additionalAudioConstraints,channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):M=$.stream;const B=new AudioContext,F=new MediaStreamAudioSourceNode(B,{mediaStream:M}),q=await I.new(B,$);return q.receive(F),new A($,B,M,q,F)}constructor(P,$,M,B,F,q=!1){this.options=P,this.audioContext=$,this.stream=M,this.audioNodeVAD=B,this.sourceNode=F,this.listening=q,this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},this.destroy=()=>{this.listening&&this.pause(),this.options.stream===void 0&&this.stream.getTracks().forEach(H=>H.stop()),this.sourceNode.disconnect(),this.audioNodeVAD.destroy(),this.audioContext.close()}}}i.MicVAD=A;class I{static async new(P,$={}){const M={...(0,i.getDefaultRealTimeVADOptions)($.model??i.DEFAULT_MODEL),...$};(0,f.validateOptions)(M),i.ort.env.wasm.wasmPaths=M.onnxWASMBasePath,M.ortConfig!==void 0&&M.ortConfig(i.ort);const B=M.model==="v5"?d:v,F=M.baseAssetPath+B,q=M.model==="v5"?y.SileroV5.new:y.SileroLegacy.new;let H;try{H=await q(i.ort,()=>(0,c.defaultModelFetcher)(F))}catch(ee){throw console.error(`Encountered an error while loading model file ${F}`),ee}const z=new f.FrameProcessor(H.process,H.reset_state,{frameSamples:M.frameSamples,positiveSpeechThreshold:M.positiveSpeechThreshold,negativeSpeechThreshold:M.negativeSpeechThreshold,redemptionFrames:M.redemptionFrames,preSpeechPadFrames:M.preSpeechPadFrames,minSpeechFrames:M.minSpeechFrames,submitUserSpeechOnPause:M.submitUserSpeechOnPause}),L=new I(P,M,z);return await L.setupAudioNode(),L}constructor(P,$,M){this.ctx=P,this.options=$,this.bufferIndex=0,this.pause=()=>{const B=this.frameProcessor.pause();this.handleFrameProcessorEvent(B)},this.start=()=>{this.frameProcessor.resume()},this.receive=B=>{B.connect(this.audioNode)},this.processFrame=async B=>{const F=await this.frameProcessor.process(B);this.handleFrameProcessorEvent(F)},this.handleFrameProcessorEvent=B=>{switch(B.probs!==void 0&&this.options.onFrameProcessed(B.probs,B.frame),B.msg){case g.Message.SpeechStart:this.options.onSpeechStart();break;case g.Message.VADMisfire:this.options.onVADMisfire();break;case g.Message.SpeechEnd:this.options.onSpeechEnd(B.audio);break}},this.destroy=()=>{var B;this.audioNode instanceof AudioWorkletNode&&this.audioNode.port.postMessage({message:g.Message.SpeechStop}),this.audioNode.disconnect(),(B=this.gainNode)==null||B.disconnect()},this.frameProcessor=M}async setupAudioNode(){if("audioWorklet"in this.ctx&&typeof AudioWorkletNode=="function")try{const M=this.options.baseAssetPath+h;await this.ctx.audioWorklet.addModule(M);const B=this.options.workletOptions??{};B.processorOptions={...B.processorOptions??{},frameSamples:this.options.frameSamples},this.audioNode=new AudioWorkletNode(this.ctx,"vad-helper-worklet",B),this.audioNode.port.onmessage=async F=>{var q;switch((q=F.data)==null?void 0:q.message){case g.Message.AudioFrame:let H=F.data.data;H instanceof ArrayBuffer||(H=new ArrayBuffer(F.data.data.byteLength),new Uint8Array(H).set(new Uint8Array(F.data.data)));const z=new Float32Array(H);await this.processFrame(z);break}};return}catch(M){console.log("AudioWorklet setup failed, falling back to ScriptProcessor",M)}this.resampler=new b.Resampler({nativeSampleRate:this.ctx.sampleRate,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples??480});const P=4096;this.audioNode=this.ctx.createScriptProcessor(P,1,1),this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=0;let $=!1;this.audioNode.onaudioprocess=async M=>{if(!$){$=!0;try{const B=M.inputBuffer.getChannelData(0);if(M.outputBuffer.getChannelData(0).fill(0),this.resampler){const F=this.resampler.process(B);for(const q of F)await this.processFrame(q)}}catch(B){console.error("Error processing audio:",B)}finally{$=!1}}},this.audioNode.connect(this.gainNode),this.gainNode.connect(this.ctx.destination)}}i.AudioNodeVAD=I}(realTimeVad)),realTimeVad}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(i){var n=dist.__createBinding||(Object.create?function(v,_,A,I){I===void 0&&(I=A);var R=Object.getOwnPropertyDescriptor(_,A);(!R||("get"in R?!_.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return _[A]}}),Object.defineProperty(v,I,R)}:function(v,_,A,I){I===void 0&&(I=A),v[I]=_[A]}),a=dist.__setModuleDefault||(Object.create?function(v,_){Object.defineProperty(v,"default",{enumerable:!0,value:_})}:function(v,_){v.default=_}),s=dist.__importStar||function(v){if(v&&v.__esModule)return v;var _={};if(v!=null)for(var A in v)A!=="default"&&Object.prototype.hasOwnProperty.call(v,A)&&n(_,v,A);return a(_,v),_};Object.defineProperty(i,"__esModule",{value:!0}),i.NonRealTimeVAD=i.Message=i.FrameProcessor=i.getDefaultRealTimeVADOptions=i.MicVAD=i.DEFAULT_MODEL=i.AudioNodeVAD=i.utils=i.defaultNonRealTimeVADOptions=void 0;const l=s(requireOrtWeb_min()),c=requireAssetPath(),f=requireDefaultModelFetcher(),p=requireFrameProcessor();Object.defineProperty(i,"FrameProcessor",{enumerable:!0,get:function(){return p.FrameProcessor}});const g=requireMessages();Object.defineProperty(i,"Message",{enumerable:!0,get:function(){return g.Message}});const y=requireNonRealTimeVad(),b=requireUtils();i.defaultNonRealTimeVADOptions={modelURL:c.baseAssetPath+"silero_vad_legacy.onnx",modelFetcher:f.defaultModelFetcher};class h extends y.PlatformAgnosticNonRealTimeVAD{static async new(_={}){const{modelURL:A,modelFetcher:I}={...i.defaultNonRealTimeVADOptions,..._};return await this._new(()=>I(A),l,_)}}i.NonRealTimeVAD=h,i.utils={audioFileToArray:b.audioFileToArray,minFramesForTargetMS:b.minFramesForTargetMS,arrayBufferToBase64:b.arrayBufferToBase64,encodeWAV:b.encodeWAV};var d=requireRealTimeVad();Object.defineProperty(i,"AudioNodeVAD",{enumerable:!0,get:function(){return d.AudioNodeVAD}}),Object.defineProperty(i,"DEFAULT_MODEL",{enumerable:!0,get:function(){return d.DEFAULT_MODEL}}),Object.defineProperty(i,"MicVAD",{enumerable:!0,get:function(){return d.MicVAD}}),Object.defineProperty(i,"getDefaultRealTimeVADOptions",{enumerable:!0,get:function(){return d.getDefaultRealTimeVADOptions}})}(dist)),dist}var distExports=requireDist();const startVad=async({onSpeechStart:i,onSpeechEnd:n,options:a={}}={})=>{const{audioContext:s,source:l,stream:c}=await getMicrophoneInput(),{positiveSpeechThreshold:f=.9,...p}=a;return(await distExports.MicVAD.new({stream:c,positiveSpeechThreshold:f,ortConfig:g=>{console.log("startVad: ortConfig",g),g.env.wasm.numThreads=1},onSpeechStart:()=>{i==null||i()},onSpeechEnd:async g=>{const y=distExports.utils.encodeWAV(g);n==null||n(y)},...p})).start(),{audioContext:s,source:l,stream:c}},useMicAudio=i=>{const[n,a]=React.useState({analyserNode:void 0});return reactExports.useEffect(()=>{i&&!n.analyserNode&&getMicAudio().then(({analyserNode:s})=>{a(l=>({...l,analyserNode:s}))})},[i]),n.analyserNode},Vads={startVad,getMicAudio,getMicrophoneInput,useMicAudio};var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:c}}return reactJsxRuntime_production.Fragment=n,reactJsxRuntime_production.jsx=a,reactJsxRuntime_production.jsxs=a,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}requireJsxRuntime();var meyda_min$1={exports:{}},meyda_min=meyda_min$1.exports,hasRequiredMeyda_min;function requireMeyda_min(){return hasRequiredMeyda_min||(hasRequiredMeyda_min=1,function(i,n){(function(a,s){i.exports=s()})(meyda_min,function(){function a(V,X,Q){for(var G,te=0,ue=X.length;te<ue;te++)!G&&te in X||(G||(G=Array.prototype.slice.call(X,0,te)),G[te]=X[te]);return V.concat(G||Array.prototype.slice.call(X))}var s=Object.freeze({__proto__:null,blackman:function(V){for(var X=new Float32Array(V),Q=2*Math.PI/(V-1),G=2*Q,te=0;te<V/2;te++)X[te]=.42-.5*Math.cos(te*Q)+.08*Math.cos(te*G);for(te=Math.ceil(V/2);te>0;te--)X[V-te]=X[te-1];return X},hamming:function(V){for(var X=new Float32Array(V),Q=0;Q<V;Q++)X[Q]=.54-.46*Math.cos(2*Math.PI*(Q/V-1));return X},hanning:function(V){for(var X=new Float32Array(V),Q=0;Q<V;Q++)X[Q]=.5-.5*Math.cos(2*Math.PI*Q/(V-1));return X},sine:function(V){for(var X=Math.PI/(V-1),Q=new Float32Array(V),G=0;G<V;G++)Q[G]=Math.sin(X*G);return Q}}),l={};function c(V){for(;V%2==0&&V>1;)V/=2;return V===1}function f(V,X){if(X!=="rect"){if(X!==""&&X||(X="hanning"),l[X]||(l[X]={}),!l[X][V.length])try{l[X][V.length]=s[X](V.length)}catch{throw new Error("Invalid windowing function")}V=function(Q,G){for(var te=[],ue=0;ue<Math.min(Q.length,G.length);ue++)te[ue]=Q[ue]*G[ue];return te}(V,l[X][V.length])}return V}function p(V,X,Q){for(var G=new Float32Array(V),te=0;te<G.length;te++)G[te]=te*X/Q,G[te]=13*Math.atan(G[te]/1315.8)+3.5*Math.atan(Math.pow(G[te]/7518,2));return G}function g(V){return Float32Array.from(V)}function y(V){return 1125*Math.log(1+V/700)}function b(V,X,Q){for(var G,te=new Float32Array(V+2),ue=new Float32Array(V+2),fe=X/2,K=y(0),de=(y(fe)-K)/(V+1),we=new Array(V+2),oe=0;oe<te.length;oe++)te[oe]=oe*de,ue[oe]=(G=te[oe],700*(Math.exp(G/1125)-1)),we[oe]=Math.floor((Q+1)*ue[oe]/X);for(var Ne=new Array(V),Ie=0;Ie<Ne.length;Ie++){for(Ne[Ie]=new Array(Q/2+1).fill(0),oe=we[Ie];oe<we[Ie+1];oe++)Ne[Ie][oe]=(oe-we[Ie])/(we[Ie+1]-we[Ie]);for(oe=we[Ie+1];oe<we[Ie+2];oe++)Ne[Ie][oe]=(we[Ie+2]-oe)/(we[Ie+2]-we[Ie+1])}return Ne}function h(V,X,Q,G,te,ue,fe){G===void 0&&(G=5),te===void 0&&(te=2),ue===void 0&&(ue=!0),fe===void 0&&(fe=440);var K=Math.floor(Q/2)+1,de=new Array(Q).fill(0).map(function(it,pt){return V*function(xt,kt){return Math.log2(16*xt/kt)}(X*pt/Q,fe)});de[0]=de[1]-1.5*V;var we,oe,Ne,Ie=de.slice(1).map(function(it,pt){return Math.max(it-de[pt])},1).concat([1]),Le=Math.round(V/2),ut=new Array(V).fill(0).map(function(it,pt){return de.map(function(xt){return(10*V+Le+xt-pt)%V-Le})}),mt=ut.map(function(it,pt){return it.map(function(xt,kt){return Math.exp(-.5*Math.pow(2*ut[pt][kt]/Ie[kt],2))})});if(oe=(we=mt)[0].map(function(){return 0}),Ne=we.reduce(function(it,pt){return pt.forEach(function(xt,kt){it[kt]+=Math.pow(xt,2)}),it},oe).map(Math.sqrt),mt=we.map(function(it,pt){return it.map(function(xt,kt){return xt/(Ne[kt]||1)})}),te){var vt=de.map(function(it){return Math.exp(-.5*Math.pow((it/V-G)/te,2))});mt=mt.map(function(it){return it.map(function(pt,xt){return pt*vt[xt]})})}return ue&&(mt=a(a([],mt.slice(3),!0),mt.slice(0,3))),mt.map(function(it){return it.slice(0,K)})}function d(V,X){for(var Q=0,G=0,te=0;te<X.length;te++)Q+=Math.pow(te,V)*Math.abs(X[te]),G+=X[te];return Q/G}function v(V){var X=V.ampSpectrum,Q=V.barkScale,G=V.numberOfBarkBands,te=G===void 0?24:G;if(typeof X!="object"||typeof Q!="object")throw new TypeError;var ue=te,fe=new Float32Array(ue),K=0,de=X,we=new Int32Array(ue+1);we[0]=0;for(var oe=Q[de.length-1]/ue,Ne=1,Ie=0;Ie<de.length;Ie++)for(;Q[Ie]>oe;)we[Ne++]=Ie,oe=Ne*Q[de.length-1]/ue;for(we[ue]=de.length-1,Ie=0;Ie<ue;Ie++){for(var Le=0,ut=we[Ie];ut<we[Ie+1];ut++)Le+=de[ut];fe[Ie]=Math.pow(Le,.23)}for(Ie=0;Ie<fe.length;Ie++)K+=fe[Ie];return{specific:fe,total:K}}function _(V){var X=V.ampSpectrum;if(typeof X!="object")throw new TypeError;for(var Q=new Float32Array(X.length),G=0;G<Q.length;G++)Q[G]=Math.pow(X[G],2);return Q}function A(V){var X=V.ampSpectrum,Q=V.melFilterBank,G=V.bufferSize;if(typeof X!="object")throw new TypeError("Valid ampSpectrum is required to generate melBands");if(typeof Q!="object")throw new TypeError("Valid melFilterBank is required to generate melBands");for(var te=_({ampSpectrum:X}),ue=Q.length,fe=Array(ue),K=new Float32Array(ue),de=0;de<K.length;de++){fe[de]=new Float32Array(G/2),K[de]=0;for(var we=0;we<G/2;we++)fe[de][we]=Q[de][we]*te[we],K[de]+=fe[de][we];K[de]=Math.log(K[de]+1)}return Array.prototype.slice.call(K)}function I(V){return V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}var R=null,P=I(function(V,X){var Q=V.length;return X=X||2,R&&R[Q]||function(G){(R=R||{})[G]=new Array(G*G);for(var te=Math.PI/G,ue=0;ue<G;ue++)for(var fe=0;fe<G;fe++)R[G][fe+ue*G]=Math.cos(te*(fe+.5)*ue)}(Q),V.map(function(){return 0}).map(function(G,te){return X*V.reduce(function(ue,fe,K,de){return ue+fe*R[Q][K+te*Q]},0)})}),$=Object.freeze({__proto__:null,amplitudeSpectrum:function(V){return V.ampSpectrum},buffer:function(V){return V.signal},chroma:function(V){var X=V.ampSpectrum,Q=V.chromaFilterBank;if(typeof X!="object")throw new TypeError("Valid ampSpectrum is required to generate chroma");if(typeof Q!="object")throw new TypeError("Valid chromaFilterBank is required to generate chroma");var G=Q.map(function(ue,fe){return X.reduce(function(K,de,we){return K+de*ue[we]},0)}),te=Math.max.apply(Math,G);return te?G.map(function(ue){return ue/te}):G},complexSpectrum:function(V){return V.complexSpectrum},energy:function(V){var X=V.signal;if(typeof X!="object")throw new TypeError;for(var Q=0,G=0;G<X.length;G++)Q+=Math.pow(Math.abs(X[G]),2);return Q},loudness:v,melBands:A,mfcc:function(V){var X=V.ampSpectrum,Q=V.melFilterBank,G=V.numberOfMFCCCoefficients,te=V.bufferSize,ue=Math.min(40,Math.max(1,G||13));if(Q.length<ue)throw new Error("Insufficient filter bank for requested number of coefficients");var fe=A({ampSpectrum:X,melFilterBank:Q,bufferSize:te});return P(fe).slice(0,ue)},perceptualSharpness:function(V){for(var X=v({ampSpectrum:V.ampSpectrum,barkScale:V.barkScale}),Q=X.specific,G=0,te=0;te<Q.length;te++)G+=te<15?(te+1)*Q[te+1]:.066*Math.exp(.171*(te+1));return G*=.11/X.total},perceptualSpread:function(V){for(var X=v({ampSpectrum:V.ampSpectrum,barkScale:V.barkScale}),Q=0,G=0;G<X.specific.length;G++)X.specific[G]>Q&&(Q=X.specific[G]);return Math.pow((X.total-Q)/X.total,2)},powerSpectrum:_,rms:function(V){var X=V.signal;if(typeof X!="object")throw new TypeError;for(var Q=0,G=0;G<X.length;G++)Q+=Math.pow(X[G],2);return Q/=X.length,Q=Math.sqrt(Q)},spectralCentroid:function(V){var X=V.ampSpectrum;if(typeof X!="object")throw new TypeError;return d(1,X)},spectralCrest:function(V){var X=V.ampSpectrum;if(typeof X!="object")throw new TypeError;var Q=0,G=-1/0;return X.forEach(function(te){Q+=Math.pow(te,2),G=te>G?te:G}),Q/=X.length,Q=Math.sqrt(Q),G/Q},spectralFlatness:function(V){var X=V.ampSpectrum;if(typeof X!="object")throw new TypeError;for(var Q=0,G=0,te=0;te<X.length;te++)Q+=Math.log(X[te]),G+=X[te];return Math.exp(Q/X.length)*X.length/G},spectralFlux:function(V){var X=V.signal,Q=V.previousSignal,G=V.bufferSize;if(typeof X!="object"||typeof Q!="object")throw new TypeError;for(var te=0,ue=-G/2;ue<X.length/2-1;ue++)x=Math.abs(X[ue])-Math.abs(Q[ue]),te+=(x+Math.abs(x))/2;return te},spectralKurtosis:function(V){var X=V.ampSpectrum;if(typeof X!="object")throw new TypeError;var Q=X,G=d(1,Q),te=d(2,Q),ue=d(3,Q),fe=d(4,Q);return(-3*Math.pow(G,4)+6*G*te-4*G*ue+fe)/Math.pow(Math.sqrt(te-Math.pow(G,2)),4)},spectralRolloff:function(V){var X=V.ampSpectrum,Q=V.sampleRate;if(typeof X!="object")throw new TypeError;for(var G=X,te=Q/(2*(G.length-1)),ue=0,fe=0;fe<G.length;fe++)ue+=G[fe];for(var K=.99*ue,de=G.length-1;ue>K&&de>=0;)ue-=G[de],--de;return(de+1)*te},spectralSkewness:function(V){var X=V.ampSpectrum;if(typeof X!="object")throw new TypeError;var Q=d(1,X),G=d(2,X),te=d(3,X);return(2*Math.pow(Q,3)-3*Q*G+te)/Math.pow(Math.sqrt(G-Math.pow(Q,2)),3)},spectralSlope:function(V){var X=V.ampSpectrum,Q=V.sampleRate,G=V.bufferSize;if(typeof X!="object")throw new TypeError;for(var te=0,ue=0,fe=new Float32Array(X.length),K=0,de=0,we=0;we<X.length;we++){te+=X[we];var oe=we*Q/G;fe[we]=oe,K+=oe*oe,ue+=oe,de+=oe*X[we]}return(X.length*de-ue*te)/(te*(K-Math.pow(ue,2)))},spectralSpread:function(V){var X=V.ampSpectrum;if(typeof X!="object")throw new TypeError;return Math.sqrt(d(2,X)-Math.pow(d(1,X),2))},zcr:function(V){var X=V.signal;if(typeof X!="object")throw new TypeError;for(var Q=0,G=1;G<X.length;G++)(X[G-1]>=0&&X[G]<0||X[G-1]<0&&X[G]>=0)&&Q++;return Q}});function M(V){if(Array.isArray(V)){for(var X=0,Q=Array(V.length);X<V.length;X++)Q[X]=V[X];return Q}return Array.from(V)}var B={},F={},q={bitReverseArray:function(V){if(B[V]===void 0){for(var X=(V-1).toString(2).length,Q="0".repeat(X),G={},te=0;te<V;te++){var ue=te.toString(2);ue=Q.substr(ue.length)+ue,ue=[].concat(M(ue)).reverse().join(""),G[te]=parseInt(ue,2)}B[V]=G}return B[V]},multiply:function(V,X){return{real:V.real*X.real-V.imag*X.imag,imag:V.real*X.imag+V.imag*X.real}},add:function(V,X){return{real:V.real+X.real,imag:V.imag+X.imag}},subtract:function(V,X){return{real:V.real-X.real,imag:V.imag-X.imag}},euler:function(V,X){var Q=-2*Math.PI*V/X;return{real:Math.cos(Q),imag:Math.sin(Q)}},conj:function(V){return V.imag*=-1,V},constructComplexArray:function(V){var X={};X.real=V.real===void 0?V.slice():V.real.slice();var Q=X.real.length;return F[Q]===void 0&&(F[Q]=Array.apply(null,Array(Q)).map(Number.prototype.valueOf,0)),X.imag=F[Q].slice(),X}},H=function(V){var X={};V.real===void 0||V.imag===void 0?X=q.constructComplexArray(V):(X.real=V.real.slice(),X.imag=V.imag.slice());var Q=X.real.length,G=Math.log2(Q);if(Math.round(G)!=G)throw new Error("Input size must be a power of 2.");if(X.real.length!=X.imag.length)throw new Error("Real and imaginary components must have the same length.");for(var te=q.bitReverseArray(Q),ue={real:[],imag:[]},fe=0;fe<Q;fe++)ue.real[te[fe]]=X.real[fe],ue.imag[te[fe]]=X.imag[fe];for(var K=0;K<Q;K++)X.real[K]=ue.real[K],X.imag[K]=ue.imag[K];for(var de=1;de<=G;de++)for(var we=Math.pow(2,de),oe=0;oe<we/2;oe++)for(var Ne=q.euler(oe,we),Ie=0;Ie<Q/we;Ie++){var Le=we*Ie+oe,ut=we*Ie+oe+we/2,mt={real:X.real[Le],imag:X.imag[Le]},vt={real:X.real[ut],imag:X.imag[ut]},it=q.multiply(Ne,vt),pt=q.subtract(mt,it);X.real[ut]=pt.real,X.imag[ut]=pt.imag;var xt=q.add(it,mt);X.real[Le]=xt.real,X.imag[Le]=xt.imag}return X},z=H,L=function(){function V(X,Q){var G=this;if(this._m=Q,!X.audioContext)throw this._m.errors.noAC;if(X.bufferSize&&!c(X.bufferSize))throw this._m._errors.notPow2;if(!X.source)throw this._m._errors.noSource;this._m.audioContext=X.audioContext,this._m.bufferSize=X.bufferSize||this._m.bufferSize||256,this._m.hopSize=X.hopSize||this._m.hopSize||this._m.bufferSize,this._m.sampleRate=X.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=X.callback,this._m.windowingFunction=X.windowingFunction||"hanning",this._m.featureExtractors=$,this._m.EXTRACTION_STARTED=X.startImmediately||!1,this._m.channel=typeof X.channel=="number"?X.channel:0,this._m.inputs=X.inputs||1,this._m.outputs=X.outputs||1,this._m.numberOfMFCCCoefficients=X.numberOfMFCCCoefficients||this._m.numberOfMFCCCoefficients||13,this._m.numberOfBarkBands=X.numberOfBarkBands||this._m.numberOfBarkBands||24,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,this._m.inputs,this._m.outputs),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=X.featureExtractors||[],this._m.barkScale=p(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=b(Math.max(this._m.melBands,this._m.numberOfMFCCCoefficients),this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this._m.frame=null,this._m.previousFrame=null,this.setSource(X.source),this._m.spn.onaudioprocess=function(te){var ue;G._m.inputData!==null&&(G._m.previousInputData=G._m.inputData),G._m.inputData=te.inputBuffer.getChannelData(G._m.channel),G._m.previousInputData?((ue=new Float32Array(G._m.previousInputData.length+G._m.inputData.length-G._m.hopSize)).set(G._m.previousInputData.slice(G._m.hopSize)),ue.set(G._m.inputData,G._m.previousInputData.length-G._m.hopSize)):ue=G._m.inputData;var fe=function(K,de,we){if(K.length<de)throw new Error("Buffer is too short for frame length");if(we<1)throw new Error("Hop length cannot be less that 1");if(de<1)throw new Error("Frame length cannot be less that 1");var oe=1+Math.floor((K.length-de)/we);return new Array(oe).fill(0).map(function(Ne,Ie){return K.slice(Ie*we,Ie*we+de)})}(ue,G._m.bufferSize,G._m.hopSize);fe.forEach(function(K){G._m.frame=K;var de=G._m.extract(G._m._featuresToExtract,G._m.frame,G._m.previousFrame);typeof G._m.callback=="function"&&G._m.EXTRACTION_STARTED&&G._m.callback(de),G._m.previousFrame=G._m.frame})}}return V.prototype.start=function(X){this._m._featuresToExtract=X||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0},V.prototype.stop=function(){this._m.EXTRACTION_STARTED=!1},V.prototype.setSource=function(X){this._m.source&&this._m.source.disconnect(this._m.spn),this._m.source=X,this._m.source.connect(this._m.spn)},V.prototype.setChannel=function(X){X<=this._m.inputs?this._m.channel=X:console.error("Channel ".concat(X," does not exist. Make sure you've provided a value for 'inputs' that is greater than ").concat(X," when instantiating the MeydaAnalyzer"))},V.prototype.get=function(X){return this._m.inputData?this._m.extract(X||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null},V}(),ee={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,chromaBands:12,callback:null,windowingFunction:"hanning",featureExtractors:$,EXTRACTION_STARTED:!1,numberOfMFCCCoefficients:13,numberOfBarkBands:24,_featuresToExtract:[],windowing:f,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(V){return new L(V,Object.assign({},ee))},listAvailableFeatureExtractors:function(){return Object.keys(this.featureExtractors)},extract:function(V,X,Q){var G=this;if(!X)throw this._errors.invalidInput;if(typeof X!="object")throw this._errors.invalidInput;if(!V)throw this._errors.featureUndef;if(!c(X.length))throw this._errors.notPow2;this.barkScale!==void 0&&this.barkScale.length==this.bufferSize||(this.barkScale=p(this.bufferSize,this.sampleRate,this.bufferSize)),this.melFilterBank!==void 0&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=b(Math.max(this.melBands,this.numberOfMFCCCoefficients),this.sampleRate,this.bufferSize)),this.chromaFilterBank!==void 0&&this.chromaFilterBank.length==this.chromaBands||(this.chromaFilterBank=h(this.chromaBands,this.sampleRate,this.bufferSize)),"buffer"in X&&X.buffer===void 0?this.signal=g(X):this.signal=X;var te=Z(X,this.windowingFunction,this.bufferSize);if(this.signal=te.windowedSignal,this.complexSpectrum=te.complexSpectrum,this.ampSpectrum=te.ampSpectrum,Q){var ue=Z(Q,this.windowingFunction,this.bufferSize);this.previousSignal=ue.windowedSignal,this.previousComplexSpectrum=ue.complexSpectrum,this.previousAmpSpectrum=ue.ampSpectrum}var fe=function(K){return G.featureExtractors[K]({ampSpectrum:G.ampSpectrum,chromaFilterBank:G.chromaFilterBank,complexSpectrum:G.complexSpectrum,signal:G.signal,bufferSize:G.bufferSize,sampleRate:G.sampleRate,barkScale:G.barkScale,melFilterBank:G.melFilterBank,previousSignal:G.previousSignal,previousAmpSpectrum:G.previousAmpSpectrum,previousComplexSpectrum:G.previousComplexSpectrum,numberOfMFCCCoefficients:G.numberOfMFCCCoefficients,numberOfBarkBands:G.numberOfBarkBands})};if(typeof V=="object")return V.reduce(function(K,de){var we;return Object.assign({},K,((we={})[de]=fe(de),we))},{});if(typeof V=="string")return fe(V);throw this._errors.invalidFeatureFmt}},Z=function(V,X,Q){var G={};V.buffer===void 0?G.signal=g(V):G.signal=V,G.windowedSignal=f(G.signal,X),G.complexSpectrum=z(G.windowedSignal),G.ampSpectrum=new Float32Array(Q/2);for(var te=0;te<Q/2;te++)G.ampSpectrum[te]=Math.sqrt(Math.pow(G.complexSpectrum.real[te],2)+Math.pow(G.complexSpectrum.imag[te],2));return G};return typeof window<"u"&&(window.Meyda=ee),ee})}(meyda_min$1)),meyda_min$1.exports}requireMeyda_min();const textUpdater=i=>{useAppState.getState().setAiTextOutput(i)},TextContainer=styled$1("div")(({theme:i})=>({backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",padding:i.spacing(2),margin:i.spacing(2),borderRadius:i.shape.borderRadius,maxWidth:"80%",fontSize:"1.2rem",textAlign:"center",overflow:"hidden"}));React.forwardRef((i,n)=>{const[a,s]=reactExports.useState(!0),{aiTextOutput:l}=useAppState();return jsxRuntimeExports.jsx(CSSTransition,{in:a,timeout:1e3,classNames:"fade",unmountOnExit:!0,children:jsxRuntimeExports.jsx(TextContainer,{children:l})})});const MicrophoneButton=()=>{const i=reactExports.useRef(null),[n,a]=reactExports.useState(null),[s,l]=reactExports.useState(null),c=async()=>{try{const{audioContext:f,source:p,stream:g}=await Vads.startVad({onSpeechStart:()=>{textUpdater("...")},onSpeechEnd:async b=>{console.log("Speech ended",b);const h=await Connections.getConnection(),d=await h.request({subject:"asr.transcribe",request:{body:{audio:b,word_timestamps:!0,output:"json"}}});if(console.log("out",d),typeof d!="string"){console.log("transcription",d.text);const v=d.text.trim().split(" ").map(A=>A.toLocaleLowerCase());console.log("words",v);const _=["hey","house,"];if(textUpdater(d.text),v.length>2&&v[0]===_[0]&&v[1]===_[1]){const A=v.slice(2);console.log("cleanWords",A),h.requestMany({subject:"textgen.generate",onResponse:I=>{console.log("response",I),textUpdater(I.text||"")},request:{body:{model:"google/gemini-flash-1.5",prompt:A.join(" "),stream:!0}}})}}}}),y=f.createAnalyser();y.fftSize=256,p.connect(y),a(f),l(y)}catch(f){console.error("Error accessing microphone:",f)}};return reactExports.useEffect(()=>{if(!s||!i.current)return;const f=i.current,p=f.getContext("2d"),g=s.frequencyBinCount,y=new Uint8Array(g),b=()=>{if(!p||!s)return;s.getByteTimeDomainData(y),p.fillStyle="black",p.fillRect(0,0,f.width,f.height),p.lineWidth=2,p.strokeStyle="lime",p.beginPath();const h=f.width*1/g;let d=0;for(let v=0;v<g;v++){const A=y[v]/128*f.height/2;v===0?p.moveTo(d,A):p.lineTo(d,A),d+=h}p.lineTo(f.width,f.height/2),p.stroke(),requestAnimationFrame(b)};b()},[s]),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Button,{variant:"contained",onClick:c,children:"Enable Microphone"}),s&&jsxRuntimeExports.jsx(Box,{mt:2,children:jsxRuntimeExports.jsx("canvas",{ref:i,style:{width:"100%",maxWidth:"300px",height:"100px",background:"#000"}})})]})},HorizontalMenu=({actions:i})=>jsxRuntimeExports.jsx(Box,{component:"nav",sx:{padding:2,backgroundColor:"background.paper",boxShadow:1},children:jsxRuntimeExports.jsx(Stack,{direction:"row",spacing:2,children:Object.entries(i).map(([n,a])=>jsxRuntimeExports.jsx(Button,{onClick:a,variant:"text",sx:{color:"text.primary"},children:n},n))})}),SectionMenu=({onAction:i})=>{const n=Object.fromEntries(Objects.keys(SCREENS).map(a=>[a,()=>{useAppState.getState().setUrlHash(a),i==null||i(a)}]));return jsxRuntimeExports.jsx(HorizontalMenu,{actions:n})},ButtonContainer=styled$1(Box)(({theme:i})=>({display:"flex",flexWrap:"wrap",gap:i.spacing(1),overflow:"hidden"})),TopMenu=()=>{const[i,n]=reactExports.useState(!1),a=()=>{n(!i)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!i&&jsxRuntimeExports.jsx(IconButton,{edge:"start",color:"inherit","aria-label":"menu",onClick:a,children:jsxRuntimeExports.jsx(MenuIcon,{})}),jsxRuntimeExports.jsx(Slide,{in:i,direction:"down",children:jsxRuntimeExports.jsxs(AppBar,{position:"fixed",color:"primary",sx:{top:0,left:0,right:0},children:[jsxRuntimeExports.jsx(SectionMenu,{onAction:()=>n(!1)}),jsxRuntimeExports.jsx(Toolbar,{children:jsxRuntimeExports.jsxs(ButtonContainer,{children:[jsxRuntimeExports.jsx(Button,{onClick:()=>play(),children:"Play"}),jsxRuntimeExports.jsx(ConfigButton,{}),jsxRuntimeExports.jsx(FullscreenButton,{}),jsxRuntimeExports.jsx(MicrophoneButton,{}),jsxRuntimeExports.jsx(CameraButton,{}),jsxRuntimeExports.jsx(QRCodeScanner,{onScan:s=>{Idbs.update(AppConfig,"config",l=>({...l,authToken:s}))}}),jsxRuntimeExports.jsx(QRCodeHandler,{})]})}),jsxRuntimeExports.jsx(IconButton,{edge:"start",color:"inherit","aria-label":"cancel",onClick:a,children:jsxRuntimeExports.jsx(CancelIcon,{})})]})})]})},App=()=>{const i=useScreen(),n=i?SCREENS[i]:jsxRuntimeExports.jsx(RoomScreen,{});return reactExports.useEffect(()=>{Idbs.get(AppConfig,"config").then(s=>{useAppState.getState().setUserDaimonId(s==null?void 0:s.userDaimonId)});const a=s=>{s.key==="Escape"&&onEscape()};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[]),jsxRuntimeExports.jsxs(ThemeProvider,{theme:darkTheme,children:[jsxRuntimeExports.jsx(CssBaseline,{}),globalStyles,jsxRuntimeExports.jsxs(ErrorBoundary,{children:[jsxRuntimeExports.jsx(Box$1,{sx:{position:"absolute",top:0,left:0,width:"100%",zIndex:20},children:jsxRuntimeExports.jsx(TopMenu,{})}),n]})]})};(()=>{try{window.addEventListener("unhandledrejection",async i=>{console.log(await Errors.errorToTextAsync(i.reason))}),ReactDOM$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}))}catch(i){console.error(i)}})()});export default Ih();
